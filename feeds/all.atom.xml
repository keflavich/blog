<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom"><title>Adam Ginsburg's blog</title><link href="https://keflavich.github.io/blog/" rel="alternate"></link><link href="https://keflavich.github.io/blog/feeds/all.atom.xml" rel="self"></link><id>https://keflavich.github.io/blog/</id><updated>2025-03-15T00:00:00-06:00</updated><entry><title>Pushing to a pull request</title><link href="https://keflavich.github.io/blog/pushing-to-a-pull-request.html" rel="alternate"></link><published>2025-03-15T00:00:00-06:00</published><updated>2025-03-15T00:00:00-06:00</updated><author><name>Adam Ginsburg (Adam.G.Ginsburg@gmail.com)</name></author><id>tag:keflavich.github.io,2025-03-15:/blog/pushing-to-a-pull-request.html</id><summary type="html">&lt;p&gt;A very common workflow in open source development is for someone to open a pull request onto your (or the upstream) repository from their fork, and then if &amp;quot;Maintainers are allowed to edit this pull request.&amp;quot; is checked, you want to edit their PR.&lt;/p&gt;
&lt;p&gt;This is a pain in the …&lt;/p&gt;</summary><content type="html">&lt;p&gt;A very common workflow in open source development is for someone to open a pull request onto your (or the upstream) repository from their fork, and then if &amp;quot;Maintainers are allowed to edit this pull request.&amp;quot; is checked, you want to edit their PR.&lt;/p&gt;
&lt;p&gt;This is a pain in the ass if you try to use any documented command line tools.  Github docs tell you how to check out the PR, but not how to push it back - all of the online docs I found, and both chatGPT and Claude, require that you add the PR's fork as a remote.   That's stupid.&lt;/p&gt;
&lt;p&gt;The better way is:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;git&lt;span class="w"&gt; &lt;/span&gt;fetch&lt;span class="w"&gt; &lt;/span&gt;origin&lt;span class="w"&gt; &lt;/span&gt;pull/&amp;lt;PULL_REQUEST_NUMBER&amp;gt;/head:&amp;lt;LOCAL_BRANCH_NAME&amp;gt;
&lt;span class="c1"&gt;# ... make edits ...&lt;/span&gt;
git&lt;span class="w"&gt; &lt;/span&gt;commit&lt;span class="w"&gt; &lt;/span&gt;-am&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;I edited the PR&amp;#39;&lt;/span&gt;
git&lt;span class="w"&gt; &lt;/span&gt;push&lt;span class="w"&gt; &lt;/span&gt;git@github.com:&amp;lt;contributor-name&amp;gt;/&amp;lt;repo-name&amp;gt;.git&lt;span class="w"&gt; &lt;/span&gt;&amp;lt;LOCAL_BRANCH_NAME&amp;gt;:&amp;lt;REMOTE_BRANCH_NAME&amp;gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;so, for example, we tried this on my CV from &lt;tt class="docutils literal"&gt;alissapajer&lt;/tt&gt;:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;git&lt;span class="w"&gt; &lt;/span&gt;fetch&lt;span class="w"&gt; &lt;/span&gt;origin&lt;span class="w"&gt; &lt;/span&gt;pull/1/head:alissapajer-patch-1
git&lt;span class="w"&gt; &lt;/span&gt;checkout&lt;span class="w"&gt; &lt;/span&gt;alissapajer-patch-1
git&lt;span class="w"&gt; &lt;/span&gt;commit&lt;span class="w"&gt; &lt;/span&gt;-am&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;blah&amp;#39;&lt;/span&gt;
git&lt;span class="w"&gt; &lt;/span&gt;push&lt;span class="w"&gt; &lt;/span&gt;git@github.com:alissapajer/keflavich-cv.git&lt;span class="w"&gt; &lt;/span&gt;HEAD:alissapajer-patch-1
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;(&lt;cite&gt;HEAD&lt;/cite&gt; works here b/c I was still on that branch)&lt;/p&gt;
&lt;p&gt;It would also work, and be more explicit, to use the remote name:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;git&lt;span class="w"&gt; &lt;/span&gt;fetch&lt;span class="w"&gt; &lt;/span&gt;git@github.com:alissapajer/keflavich-cv.git&lt;span class="w"&gt; &lt;/span&gt;alissapajer-patch-1
&lt;/pre&gt;&lt;/div&gt;
</content><category term="misc"></category><category term="github"></category></entry><entry><title>Editing metadata in measurement sets</title><link href="https://keflavich.github.io/blog/editing-metadata-in-measurement-sets.html" rel="alternate"></link><published>2023-08-11T15:34:00-06:00</published><updated>2023-08-11T15:34:00-06:00</updated><author><name>Adam Ginsburg (Adam.G.Ginsburg@gmail.com)</name></author><id>tag:keflavich.github.io,2023-08-11:/blog/editing-metadata-in-measurement-sets.html</id><summary type="html">&lt;p&gt;I needed to update the position of VLA phase calibrator &lt;a class="reference external" href="http://simbad.u-strasbg.fr/simbad/sim-id?Ident=%402384864&amp;amp;Name=QSO%20J1744-3116&amp;amp;submit=submit"&gt;J1744-3116&lt;/a&gt; in my measurement sets.  The VLA coordinate is:&lt;/p&gt;
&lt;blockquote&gt;
&lt;tt class="docutils literal"&gt;17:33:02.705790 &lt;span class="pre"&gt;-13.04.49.54823&lt;/span&gt; J2000&lt;/tt&gt;&lt;/blockquote&gt;
&lt;p&gt;while the ALMA coordinate is&lt;/p&gt;
&lt;blockquote&gt;
&lt;tt class="docutils literal"&gt;17:44:23.578227 &lt;span class="pre"&gt;-31.16.36.29204&lt;/span&gt; ICRS&lt;/tt&gt;&lt;/blockquote&gt;
&lt;p&gt;and the SIMBAD coordinate is&lt;/p&gt;
&lt;blockquote&gt;
&lt;tt class="docutils literal"&gt;17 44 23 …&lt;/tt&gt;&lt;/blockquote&gt;</summary><content type="html">&lt;p&gt;I needed to update the position of VLA phase calibrator &lt;a class="reference external" href="http://simbad.u-strasbg.fr/simbad/sim-id?Ident=%402384864&amp;amp;Name=QSO%20J1744-3116&amp;amp;submit=submit"&gt;J1744-3116&lt;/a&gt; in my measurement sets.  The VLA coordinate is:&lt;/p&gt;
&lt;blockquote&gt;
&lt;tt class="docutils literal"&gt;17:33:02.705790 &lt;span class="pre"&gt;-13.04.49.54823&lt;/span&gt; J2000&lt;/tt&gt;&lt;/blockquote&gt;
&lt;p&gt;while the ALMA coordinate is&lt;/p&gt;
&lt;blockquote&gt;
&lt;tt class="docutils literal"&gt;17:44:23.578227 &lt;span class="pre"&gt;-31.16.36.29204&lt;/span&gt; ICRS&lt;/tt&gt;&lt;/blockquote&gt;
&lt;p&gt;and the SIMBAD coordinate is&lt;/p&gt;
&lt;blockquote&gt;
&lt;tt class="docutils literal"&gt;17 44 23.57824 &lt;span class="pre"&gt;-31&lt;/span&gt; 16 36.2943 ICRS&lt;/tt&gt;&lt;/blockquote&gt;
&lt;p&gt;These are separated by a significant amount:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="kn"&gt;from&lt;/span&gt; &lt;span class="nn"&gt;astropy&lt;/span&gt; &lt;span class="kn"&gt;import&lt;/span&gt; &lt;span class="n"&gt;units&lt;/span&gt; &lt;span class="k"&gt;as&lt;/span&gt; &lt;span class="n"&gt;u&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;coordinates&lt;/span&gt;
&lt;span class="kn"&gt;import&lt;/span&gt; &lt;span class="nn"&gt;numpy&lt;/span&gt; &lt;span class="k"&gt;as&lt;/span&gt; &lt;span class="nn"&gt;np&lt;/span&gt;

&lt;span class="n"&gt;vla_coord&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;coordinates&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;SkyCoord&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;17:33:02.705790 -13:04:49.54823&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;unit&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;u&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;h&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;u&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;deg&lt;/span&gt;&lt;span class="p"&gt;),&lt;/span&gt; &lt;span class="n"&gt;frame&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;fk5&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="n"&gt;alma_coord&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;coordinates&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;SkyCoord&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;17:44:23.578227 -31:16:36.29204&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;unit&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;u&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;h&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;u&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;deg&lt;/span&gt;&lt;span class="p"&gt;),&lt;/span&gt; &lt;span class="n"&gt;frame&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;icrs&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="n"&gt;simbad_coord&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;coordinates&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;SkyCoord&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;17 44 23.57824 -31 16 36.2943&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;unit&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;u&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;h&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;u&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;deg&lt;/span&gt;&lt;span class="p"&gt;),&lt;/span&gt; &lt;span class="n"&gt;frame&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;icrs&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;

&lt;span class="n"&gt;alma_coord&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;separation&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;vla_coord&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;to&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;u&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;arcsec&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="c1"&gt;# &amp;lt;Angle 0.28848595 arcsec&amp;gt;&lt;/span&gt;

&lt;span class="n"&gt;simbad_coord&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;separation&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;vla_coord&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;to&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;u&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;arcsec&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="c1"&gt;# &amp;lt;Angle 0.29071513 arcsec&amp;gt;&lt;/span&gt;

&lt;span class="n"&gt;simbad_coord&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;separation&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;alma_coord&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;to&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;u&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;arcsec&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="c1"&gt;# &amp;lt;Angle 0.00226614 arcsec&amp;gt;&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;This is caused by a typo in the VLA calibrator catalog (Lorant Sjouwerman, private communication).&lt;/p&gt;
&lt;p&gt;To fix it:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="n"&gt;tb&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;open&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;22A-020.sb41257746.eb41788351.59700.31502699074/22A-020.sb41257746.eb41788351.59700.31502699074.ms/FIELD&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;

&lt;span class="c1"&gt;# get the existing PHASE_DIR.  Shape is [coordinates, ?, sourceID]&lt;/span&gt;
&lt;span class="n"&gt;phasedir&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;tb&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;getcol&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;PHASE_DIR&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="c1"&gt;# figure out which row contains the to-be-modified source&lt;/span&gt;
&lt;span class="n"&gt;rownr&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;np&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;argmax&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;tb&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;getcol&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;NAME&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="o"&gt;==&lt;/span&gt; &lt;span class="s1"&gt;&amp;#39;J1744-3116&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="c1"&gt;# modify the phasedir.  CASA expects coordinates to be wrapped at 180 deg&lt;/span&gt;
&lt;span class="n"&gt;phasedir&lt;/span&gt;&lt;span class="p"&gt;[:,&lt;/span&gt; &lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;rownr&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;simbad_coord&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;fk5&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;ra&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;wrap_at&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="mi"&gt;180&lt;/span&gt;&lt;span class="o"&gt;*&lt;/span&gt;&lt;span class="n"&gt;u&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;deg&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;rad&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;simbad_coord&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;fk5&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;dec&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;rad&lt;/span&gt;

&lt;span class="kn"&gt;import&lt;/span&gt; &lt;span class="nn"&gt;shutil&lt;/span&gt;
&lt;span class="n"&gt;shutil&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;copytree&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;22A-020.sb41257746.eb41788351.59700.31502699074/22A-020.sb41257746.eb41788351.59700.31502699074.ms/FIELD&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s1"&gt;&amp;#39;22A-020.sb41257746.eb41788351.59700.31502699074/22A-020.sb41257746.eb41788351.59700.31502699074.ms/FIELD.backup&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="n"&gt;tb&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;open&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;22A-020.sb41257746.eb41788351.59700.31502699074/22A-020.sb41257746.eb41788351.59700.31502699074.ms/FIELD&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;nomodify&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="kc"&gt;False&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="n"&gt;tb&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;putcol&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;columnname&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;PHASE_DIR&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;value&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="n"&gt;phasedir&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="n"&gt;tb&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;flush&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;
&lt;span class="n"&gt;tb&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;close&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Put all together:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="kn"&gt;from&lt;/span&gt; &lt;span class="nn"&gt;astropy&lt;/span&gt; &lt;span class="kn"&gt;import&lt;/span&gt; &lt;span class="n"&gt;units&lt;/span&gt; &lt;span class="k"&gt;as&lt;/span&gt; &lt;span class="n"&gt;u&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;coordinates&lt;/span&gt;
&lt;span class="kn"&gt;import&lt;/span&gt; &lt;span class="nn"&gt;numpy&lt;/span&gt; &lt;span class="k"&gt;as&lt;/span&gt; &lt;span class="nn"&gt;np&lt;/span&gt;

&lt;span class="n"&gt;simbad_coord&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;coordinates&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;SkyCoord&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;17 44 23.57824 -31 16 36.2943&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;unit&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;u&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;h&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;u&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;deg&lt;/span&gt;&lt;span class="p"&gt;),&lt;/span&gt; &lt;span class="n"&gt;frame&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;icrs&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;

&lt;span class="kn"&gt;import&lt;/span&gt; &lt;span class="nn"&gt;glob&lt;/span&gt;&lt;span class="o"&gt;,&lt;/span&gt; &lt;span class="nn"&gt;shutil&lt;/span&gt;
&lt;span class="k"&gt;for&lt;/span&gt; &lt;span class="n"&gt;vis&lt;/span&gt; &lt;span class="ow"&gt;in&lt;/span&gt; &lt;span class="n"&gt;glob&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;glob&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;*/*.ms&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;):&lt;/span&gt;
    &lt;span class="n"&gt;shutil&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;copytree&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;vis&lt;/span&gt;&lt;span class="o"&gt;+&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;/FIELD&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;vis&lt;/span&gt;&lt;span class="o"&gt;+&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;/FIELD.backup&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
    &lt;span class="n"&gt;tb&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;open&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;vis&lt;/span&gt;&lt;span class="o"&gt;+&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;/FIELD&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
    &lt;span class="n"&gt;phasedir&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;tb&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;getcol&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;PHASE_DIR&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
    &lt;span class="n"&gt;rownr&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;np&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;argmax&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;tb&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;getcol&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;NAME&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="o"&gt;==&lt;/span&gt; &lt;span class="s1"&gt;&amp;#39;J1744-3116&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
    &lt;span class="k"&gt;assert&lt;/span&gt; &lt;span class="n"&gt;rownr&lt;/span&gt; &lt;span class="o"&gt;!=&lt;/span&gt; &lt;span class="mi"&gt;0&lt;/span&gt;
    &lt;span class="n"&gt;phasedir&lt;/span&gt;&lt;span class="p"&gt;[:,&lt;/span&gt; &lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;rownr&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;simbad_coord&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;fk5&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;ra&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;wrap_at&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="mi"&gt;180&lt;/span&gt;&lt;span class="o"&gt;*&lt;/span&gt;&lt;span class="n"&gt;u&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;deg&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;rad&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;simbad_coord&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;fk5&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;dec&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;rad&lt;/span&gt;
    &lt;span class="n"&gt;tb&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;open&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;vis&lt;/span&gt;&lt;span class="o"&gt;+&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;/FIELD&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;nomodify&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="kc"&gt;False&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
    &lt;span class="n"&gt;tb&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;putcol&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;columnname&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;PHASE_DIR&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;value&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="n"&gt;phasedir&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
    &lt;span class="n"&gt;tb&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;flush&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;
    &lt;span class="n"&gt;tb&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;close&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
</content><category term="misc"></category><category term="casa"></category></entry><entry><title>CASA MPI debugging cont'd</title><link href="https://keflavich.github.io/blog/casa-mpi-debugging-contd.html" rel="alternate"></link><published>2022-05-06T09:08:00-06:00</published><updated>2022-05-06T09:08:00-06:00</updated><author><name>Adam Ginsburg (Adam.G.Ginsburg@gmail.com)</name></author><id>tag:keflavich.github.io,2022-05-06:/blog/casa-mpi-debugging-contd.html</id><summary type="html">&lt;p&gt;I continue to try to get MPI to run to completion.&lt;/p&gt;
&lt;p&gt;Using casa-6.5.0-9-py3.8, the latest error on the W51 B3 mosaic (biggest in ALMA-IMF, approximately):
2022-05-03 06:36:06     SEVERE  MPICommandServer::command_request_handler_service::CubeMajorCycleAlgorithm::task::MPIServer-2 (file src/code/synthesis/ImagerObjects/CubeMajorCycleAlgorithm.cc, line 137 …&lt;/p&gt;</summary><content type="html">&lt;p&gt;I continue to try to get MPI to run to completion.&lt;/p&gt;
&lt;p&gt;Using casa-6.5.0-9-py3.8, the latest error on the W51 B3 mosaic (biggest in ALMA-IMF, approximately):
2022-05-03 06:36:06     SEVERE  MPICommandServer::command_request_handler_service::CubeMajorCycleAlgorithm::task::MPIServer-2 (file src/code/synthesis/ImagerObjects/CubeMajorCycleAlgorithm.cc, line 137)      Exception (std): ArrayBase::validateConformance shape [3] differs from [4]&lt;/p&gt;
&lt;p&gt;This leads to a lot of frozen nodes:
2022-05-03 19:29:17     SEVERE  MPIMonitorClient::monitor_status_service::MPIMonitorClient::monitor_status_service::casa        Ping status response from server 1 not received in the last 420s. Setting its status to 'timeout'&lt;/p&gt;
&lt;p&gt;This happens during the MakePSF stage.&lt;/p&gt;
&lt;p&gt;On G333.60 B6, which is smaller, the first exception I see is:
2022-05-05 17:31:47     SEVERE  MPIMonitorClient::monitor_status_service::MPIMonitorClient::monitor_status_service::casa        Ping status response from server 4 not received in the last 85s. Setting its status to 'timeout'
but... it looks like the clean actually finished!&lt;/p&gt;
&lt;p&gt;This is an odd one that happened during a major cycle, I think:&lt;/p&gt;
&lt;p&gt;2022-05-13 17:47:25     WARN    MPICommandServer::command_request_handler_service::SynthesisImagerVi2::CubeMajorCycle::MPIServer-19 (file src/code/synthesis/ImagerObjects/CubeMajorCycleAlgorithm.cc, line 336)        Exception for chan range [144, 151] ---   Setting masked pixels to zero for input startmodel : Er
ror (Resource deadlock avoided) when acquiring lock on /blue/adamginsburg/adamginsburg/almaimf/workdir/G328.25_B6_spw4_12M_spw4.contcube.model/table.lock&lt;/p&gt;
&lt;p&gt;This one resulted in the residual and image being identical past some point in the spectrum, i.e., it gave up partway through writing to disk.  There was NO CASA error!  Just a miserable segfault&lt;/p&gt;
&lt;p&gt;[c0711a-s25:60411] &lt;strong&gt;* Process received signal *&lt;/strong&gt;
[c0711a-s25:60411] Signal: Segmentation fault (11)
[c0711a-s25:60411] Signal code: Address not mapped (1)
[c0711a-s25:60411] Failing at address: 0x2d867e04f000&lt;/p&gt;
</content><category term="misc"></category><category term="CASA"></category></entry><entry><title>CO2 Monitoring at Conferences: Update in 2022</title><link href="https://keflavich.github.io/blog/co2-monitoring-at-conferences-update-in-2022.html" rel="alternate"></link><published>2022-05-01T09:15:00-06:00</published><updated>2022-05-01T09:15:00-06:00</updated><author><name>Adam Ginsburg (Adam.G.Ginsburg@gmail.com)</name></author><id>tag:keflavich.github.io,2022-05-01:/blog/co2-monitoring-at-conferences-update-in-2022.html</id><summary type="html">&lt;p&gt;I started monitoring CO2 levels at conferences a couple years back, and now
that we're having in-person conferences again, I'm doing more monitoring.&lt;/p&gt;
&lt;p&gt;The last I attended was &lt;a class="reference external" href="https://www2.mpia-hd.mpg.de/homes/stein/EPoS/2022/epos2022.php"&gt;EPOS 2022&lt;/a&gt;, which is
probably my favorite recurring conference because of its venue, size, and schedule.
There is time to talk to …&lt;/p&gt;</summary><content type="html">&lt;p&gt;I started monitoring CO2 levels at conferences a couple years back, and now
that we're having in-person conferences again, I'm doing more monitoring.&lt;/p&gt;
&lt;p&gt;The last I attended was &lt;a class="reference external" href="https://www2.mpia-hd.mpg.de/homes/stein/EPoS/2022/epos2022.php"&gt;EPOS 2022&lt;/a&gt;, which is
probably my favorite recurring conference because of its venue, size, and schedule.
There is time to talk to everyone you want to about all topics.&lt;/p&gt;
&lt;p&gt;I gave a &lt;a class="reference external" href="https://keflavich.github.io/talks/EPOS_2022.html"&gt;talk&lt;/a&gt; on the
small disks in Orion.&lt;/p&gt;
&lt;p&gt;The monitoring results are here:&lt;/p&gt;
&lt;img alt="" src="https://keflavich.github.io/blog/images/EPOS2022.png" style="width: 600px;" /&gt;
&lt;p&gt;I missed day 1 because I forgot the USB cable in my room, then I had some
electrical connection problems day 2 (the USB-C port on my computer is...
finnicky).  But besides that, you can see clear trends on day 1 and part of
day 2 where the CO2 was rapidly rising to uncomfortable levels.&lt;/p&gt;
&lt;p&gt;The blue zones are the scheduled breaks.  During the breaks, the room was
almost totally empty and we usually opened the doors and windows.&lt;/p&gt;
&lt;p&gt;I shared the day 2 data with the conference organizers and they then
prioritized opening the windows.  There was one period I think we opted
not to because it started snowing for a few minutes.&lt;/p&gt;
&lt;p&gt;On the last day, I'm not sure why the CO2 didn't go down during the break - it
may be that windows were open only one one side of the room, so there was only
diffusion, not flow.&lt;/p&gt;
</content><category term="misc"></category><category term="CO2"></category><category term="conferences"></category></entry><entry><title>ALMA Cycle 9 corrupted zip fix</title><link href="https://keflavich.github.io/blog/alma-cycle-9-corrupted-zip-fix.html" rel="alternate"></link><published>2022-04-14T09:18:00-06:00</published><updated>2022-04-14T09:18:00-06:00</updated><author><name>Adam Ginsburg (Adam.G.Ginsburg@gmail.com)</name></author><id>tag:keflavich.github.io,2022-04-14:/blog/alma-cycle-9-corrupted-zip-fix.html</id><summary type="html">&lt;p&gt;If you encounter a bug like this:&lt;/p&gt;
&lt;img alt="" src="https://keflavich.github.io/blog/images/ALMAC9ZipBug.png" style="width: 600px;" /&gt;
&lt;p&gt;&amp;quot;XML (syntax or validity) error&amp;quot; because you hit issue &lt;a class="reference external" href="https://almascience.eso.org/documents-and-tools/cycle9/known-issues"&gt;C1_032&lt;/a&gt;,
the fix is really easy:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="kn"&gt;import&lt;/span&gt; &lt;span class="nn"&gt;zipfile&lt;/span&gt;
&lt;span class="kn"&gt;import&lt;/span&gt; &lt;span class="nn"&gt;os&lt;/span&gt;

&lt;span class="c1"&gt;# not strictly necessary, but important if you want to avoid filling your directory with files&lt;/span&gt;
&lt;span class="n"&gt;os&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;mkdir&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;recovery&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="n"&gt;os&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;chdir&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;recovery&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;

&lt;span class="c1"&gt;# replace with …&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;</summary><content type="html">&lt;p&gt;If you encounter a bug like this:&lt;/p&gt;
&lt;img alt="" src="https://keflavich.github.io/blog/images/ALMAC9ZipBug.png" style="width: 600px;" /&gt;
&lt;p&gt;&amp;quot;XML (syntax or validity) error&amp;quot; because you hit issue &lt;a class="reference external" href="https://almascience.eso.org/documents-and-tools/cycle9/known-issues"&gt;C1_032&lt;/a&gt;,
the fix is really easy:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="kn"&gt;import&lt;/span&gt; &lt;span class="nn"&gt;zipfile&lt;/span&gt;
&lt;span class="kn"&gt;import&lt;/span&gt; &lt;span class="nn"&gt;os&lt;/span&gt;

&lt;span class="c1"&gt;# not strictly necessary, but important if you want to avoid filling your directory with files&lt;/span&gt;
&lt;span class="n"&gt;os&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;mkdir&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;recovery&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="n"&gt;os&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;chdir&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;recovery&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;

&lt;span class="c1"&gt;# replace with your AOT file name&lt;/span&gt;
&lt;span class="k"&gt;with&lt;/span&gt; &lt;span class="n"&gt;zipfile&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;ZipFile&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;../corrupted.aot&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s1"&gt;&amp;#39;r&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="k"&gt;as&lt;/span&gt; &lt;span class="n"&gt;aot&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
    &lt;span class="c1"&gt;# this will extract all the files into the current directory&lt;/span&gt;
    &lt;span class="n"&gt;aot&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;extractall&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;
    &lt;span class="n"&gt;files&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;aot&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;filelist&lt;/span&gt;

&lt;span class="k"&gt;with&lt;/span&gt; &lt;span class="n"&gt;zipfile&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;ZipFile&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;../recovered.aot&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s1"&gt;&amp;#39;w&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="k"&gt;as&lt;/span&gt; &lt;span class="n"&gt;aot&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
    &lt;span class="k"&gt;for&lt;/span&gt; &lt;span class="n"&gt;fh&lt;/span&gt; &lt;span class="ow"&gt;in&lt;/span&gt; &lt;span class="n"&gt;files&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
        &lt;span class="n"&gt;aot&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;write&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;fh&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;filename&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;At least, this worked on the one case where I got bitten.&lt;/p&gt;
&lt;p&gt;This fix is based on &lt;a class="reference external" href="https://github.com/low-sky/alma_proposal_tools"&gt;Erik Rosolowsky's ALMA proposal tools&lt;/a&gt;&lt;/p&gt;
</content><category term="misc"></category><category term="alma"></category><category term="proposals"></category></entry><entry><title>Hacking plotms to let pipeline run</title><link href="https://keflavich.github.io/blog/hacking-plotms-to-let-pipeline-run.html" rel="alternate"></link><published>2022-04-11T08:02:00-06:00</published><updated>2022-04-11T08:02:00-06:00</updated><author><name>Adam Ginsburg (Adam.G.Ginsburg@gmail.com)</name></author><id>tag:keflavich.github.io,2022-04-11:/blog/hacking-plotms-to-let-pipeline-run.html</id><summary type="html">&lt;p&gt;For the ACES project, I'm re-running the ALMA pipeline using MPI.&lt;/p&gt;
&lt;p&gt;However, this results in all runs crashing with the following error:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;2022-04-06 04:22:43 INFO: Executing plotms(vis=&amp;#39;uid___A002_Xf512ae_X2626.ms&amp;#39;, xaxis=&amp;#39;azimuth&amp;#39;, yaxis=&amp;#39;elevation&amp;#39;, spw=&amp;#39;25:0~0,27:0~0,29:0~0,31 …&lt;/pre&gt;&lt;/div&gt;</summary><content type="html">&lt;p&gt;For the ACES project, I'm re-running the ALMA pipeline using MPI.&lt;/p&gt;
&lt;p&gt;However, this results in all runs crashing with the following error:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;2022-04-06 04:22:43 INFO: Executing plotms(vis=&amp;#39;uid___A002_Xf512ae_X2626.ms&amp;#39;, xaxis=&amp;#39;azimuth&amp;#39;, yaxis=&amp;#39;elevation&amp;#39;, spw=&amp;#39;25:0~0,27:0~0,29:0~0,31:0~0,33:0~0,35:0~0&amp;#39;, antenna=&amp;#39;0&amp;amp;&amp;amp;*&amp;#39;, avgchannel=&amp;#39;9000&amp;#39;, avgtime=&amp;#39;10&amp;#39;, coloraxis=&amp;#39;field&amp;#39;, customflaggedsymbol=True, flaggedsymbolshape=&amp;#39;autoscaling&amp;#39;, title=&amp;#39;Elevation vs Azimuth for uid___A002_Xf512ae_X2626.ms&amp;#39;, plotfile=&amp;#39;azel.png&amp;#39;, showgui=False, clearplots=True)
fuse: failed to exec fusermount: No such file or directory

Cannot mount AppImage, please check your FUSE setup.
You might still be able to extract the contents of this AppImage
if you run it with the --appimage-extract option.
See https://github.com/AppImage/AppImageKit/wiki/FUSE
for more information
open dir error: No such file or directory
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;This fails even if I set the global APPIMAGE_EXTRACT_AND_RUN as &lt;a class="reference external" href="https://docs.appimage.org/user-guide/troubleshooting/fuse.html#extract-and-run-type-2-appimages"&gt;directed&lt;/a&gt;
on the appimage.org docs.&lt;/p&gt;
&lt;p&gt;This indicates that the appimage is older than the environmental variable.&lt;/p&gt;
&lt;p&gt;Running the full command &amp;quot;works&amp;quot;:
&lt;tt class="docutils literal"&gt;&lt;span class="pre"&gt;/orange/adamginsburg/casa/casa-6.2.1-7-pipeline-2021.2.0.128/lib/py/lib/python3.6/site-packages/casaplotms/__bin__/casaplotms-x86_64.AppImage&lt;/span&gt; &lt;span class="pre"&gt;--appimage-extract&lt;/span&gt;&lt;/tt&gt;
but &lt;tt class="docutils literal"&gt;&lt;span class="pre"&gt;--appimage-extract-and-run&lt;/span&gt;&lt;/tt&gt; gives &lt;tt class="docutils literal"&gt;&lt;span class="pre"&gt;--appimage-extract-and-run&lt;/span&gt; is not yet implemented in version &lt;span class="pre"&gt;continuous-1-g6f3138f&lt;/span&gt;&lt;/tt&gt;&lt;/p&gt;
&lt;p&gt;So to run plotms, we need to use the &lt;tt class="docutils literal"&gt;AppRun&lt;/tt&gt; executable in the extracted &lt;tt class="docutils literal"&gt;&lt;span class="pre"&gt;squashfs-root&lt;/span&gt;&lt;/tt&gt; directory.&lt;/p&gt;
&lt;p&gt;My original hack was to just tell plotms not to run at all, which I accomplished by editing the
&lt;tt class="docutils literal"&gt;plotmstool.py&lt;/tt&gt; file (&lt;tt class="docutils literal"&gt;&lt;span class="pre"&gt;lib/py/lib/python3.6/site-packages/casaplotms/private/plotmstool.py&lt;/span&gt;&lt;/tt&gt;) to
just skip the &lt;tt class="docutils literal"&gt;__launch&lt;/tt&gt; command:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="k"&gt;def&lt;/span&gt; &lt;span class="nf"&gt;__launch&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt; &lt;span class="n"&gt;uri&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="kc"&gt;None&lt;/span&gt; &lt;span class="p"&gt;):&lt;/span&gt;
    &lt;span class="k"&gt;return&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;However, in writing this post, I've changed to instead modifying the &lt;tt class="docutils literal"&gt;app_path&lt;/tt&gt; to this:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="n"&gt;app_path&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="s2"&gt;&amp;quot;/tmp/casaplotms/squashfs-root/AppRun&amp;quot;&lt;/span&gt;
&lt;span class="k"&gt;if&lt;/span&gt; &lt;span class="ow"&gt;not&lt;/span&gt; &lt;span class="n"&gt;__os&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;path&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;exists&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;app_path&lt;/span&gt;&lt;span class="p"&gt;):&lt;/span&gt;
    &lt;span class="nb"&gt;print&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="sa"&gt;f&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;Did not find extracted path &lt;/span&gt;&lt;span class="si"&gt;{&lt;/span&gt;&lt;span class="n"&gt;app_path&lt;/span&gt;&lt;span class="si"&gt;}&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
    &lt;span class="n"&gt;app_path&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;__os&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;path&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;join&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt; &lt;span class="n"&gt;__os&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;path&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;abspath&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt; &lt;span class="n"&gt;__os&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;path&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;join&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;__os&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;path&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;dirname&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="vm"&gt;__file__&lt;/span&gt;&lt;span class="p"&gt;),&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;..&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="p"&gt;),&lt;/span&gt; &lt;span class="s1"&gt;&amp;#39;__bin__/casaplotms-x86_64.AppImage&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;I haven't tried it but I'm slightly hopeful.&lt;/p&gt;
</content><category term="misc"></category><category term="casa"></category></entry><entry><title>Astronomical Software Development &amp; Career</title><link href="https://keflavich.github.io/blog/astronomical-software-development-career.html" rel="alternate"></link><published>2022-03-19T13:04:00-06:00</published><updated>2022-03-19T13:04:00-06:00</updated><author><name>Adam Ginsburg (Adam.G.Ginsburg@gmail.com)</name></author><id>tag:keflavich.github.io,2022-03-19:/blog/astronomical-software-development-career.html</id><summary type="html">&lt;p&gt;I recently visited the &lt;a class="reference external" href="https://www.astro.umd.edu/"&gt;University of Maryland&lt;/a&gt;
to give a &lt;a class="reference external" href="https://www.astro.umd.edu/events/colloquia/colloquium/cal.0316.html"&gt;colloquium&lt;/a&gt;
(&lt;a class="reference external" href="https://keflavich.github.io/talks/colloquium_Mar2022_UMD.html"&gt;slides here&lt;/a&gt;).
This was my first in-person colloquium as faculty because of COVID.&lt;/p&gt;
&lt;p&gt;I had a great meeting with the grad students over lunch, and they asked several good
questions.  I've thought over some of them a little more …&lt;/p&gt;</summary><content type="html">&lt;p&gt;I recently visited the &lt;a class="reference external" href="https://www.astro.umd.edu/"&gt;University of Maryland&lt;/a&gt;
to give a &lt;a class="reference external" href="https://www.astro.umd.edu/events/colloquia/colloquium/cal.0316.html"&gt;colloquium&lt;/a&gt;
(&lt;a class="reference external" href="https://keflavich.github.io/talks/colloquium_Mar2022_UMD.html"&gt;slides here&lt;/a&gt;).
This was my first in-person colloquium as faculty because of COVID.&lt;/p&gt;
&lt;p&gt;I had a great meeting with the grad students over lunch, and they asked several good
questions.  I've thought over some of them a little more and wanted to fill out my answers.
I'll paraphrase two questions:&lt;/p&gt;
&lt;p&gt;&amp;quot;How do you balance coding work with other research work?&amp;quot;&lt;/p&gt;
&lt;p&gt;My answer was essentially, &amp;quot;All of my coding work is research work - I don't write
code that doesn't contribute to my research.&amp;quot;  That is broadly true, but not exclusively
so, and there are some exceptions.&lt;/p&gt;
&lt;p&gt;All of the coding work I have done has been either to enable my research, support
someone else's research, enable my research career, or (in theory) make my life easier.&lt;/p&gt;
&lt;p&gt;The research stuff is mostly obvious - my work on and with data reduction software
(see all the CASA-tagged blog posts here, all development on radio-astro-tools, etc),
pyspeckit, and most of astroquery.  On the astroquery side, a lot of my research work
wasn't directly going to papers, but was instead to dig through the archives to see
if data were available, or if I needed to obtain new data.  It was then useful
for supporting observing proposal writing.&lt;/p&gt;
&lt;p&gt;The &amp;quot;enable my research career&amp;quot; component included a lot of side-work on things
that aren't directly research, but are research-adjacent.  These projects
included building tools to deploy my papers to github (which was a bit
obsoleted by overleaf), automatically &lt;a class="reference external" href="https://github.com/keflavich/cv/blob/master/update_journals.py"&gt;updating reference lists&lt;/a&gt; (it turns
out I often cite 5-10 arXiv papers in an article, but by publication time, I
need to update them to official journal article citations), assemble lists of
coauthors, &lt;a class="reference external" href="https://github.com/keflavich/cv/blob/master/add_citations.py"&gt;add citation counts to the CV&lt;/a&gt;, writing this
blog, etc.&lt;/p&gt;
&lt;p&gt;The exceptions are some of the 'pure service' coding.  This necessarily had to
be the lowest priority most of the time, but this is still career-motivated.
Some of the contributions I've made to astropy &amp;amp; other open-source projects are
just to improve their code bases, either with bugfixes, added features, or
things to improve robustness.  Most of my contributions were directly motivated
by need, of course - either there was something basic missing, or I was the
expert in that particular subtopic.  A good example is the &lt;a class="reference external" href="https://docs.astropy.org/en/stable/api/astropy.units.brightness_temperature.html"&gt;J-to-K equivalency&lt;/a&gt;;
it wasn't directly research-motivated, but was something I found myself needing
in day-to-day work.&lt;/p&gt;
&lt;p&gt;The 'pure service' coding also entails maintaining projects.  There is still a
selfish motivation here: if the code is maintained (if other people are using
iti and finding bugs), it is more likely to be functional when I need it next.
But, most of this work isn't triggered by my own needs, but by others.
The astropy Moore grant now funds some of this work, which helps ensure that
I'm motivated to continue the maintenance - but I was doing a lot of this work
as a postdoc long before I could be directly paid for it.&lt;/p&gt;
&lt;p&gt;&amp;quot;How do you avoid being typecast as a coder?&amp;quot;&lt;/p&gt;
&lt;p&gt;This question came from students who got to be known in their research
collaborations as &amp;quot;good at coding&amp;quot;.  My answer was basically, &amp;quot;learn to say
no&amp;quot;, but there's more nuance to add.&lt;/p&gt;
&lt;p&gt;First, there are some solid career paths to follow by being the science coder
in a group.  Many observatory jobs, for example, would prioritize this coding
experience.  There are a lot of positions in observatory jobs at places
like STSCI, NRAO, NOAO, etc. that value this sort of skill over many others.
So if you want to pursue one of these paths, or an industry path, because
you &amp;lt;i&amp;gt; enjoy &amp;lt;/i&amp;gt; the coding, then great!  Do it!&lt;/p&gt;
&lt;p&gt;If you really enjoy the coding, you'll get to do a lot more of it in a job
focused on software development than in an R1 research job.&lt;/p&gt;
&lt;p&gt;That said, if you are interested in pursuing an R1 faculty job, you need to
strike a more careful balance.  It's fine if you're the coder in the group -
that can land you a coauthorship on a lot of papers, which is a good thing!
However, first and foremost, you need to publish your own (first-author)
papers, which means prioritizing your work over collaborative work.  Ideally,
you'd just do both - that's what's expected of faculty members (faculty members
can't choose to prioritize teaching or research, really - they have to do well
at both, which often means just putting in more hours).  But if you're faced
with the choice, a few first-author papers are more important than many
co-author papers.&lt;/p&gt;
&lt;p&gt;The way I struck the balance was to focus entirely on research papers during my
grad school career, but still do a lot of software support work on the side - I
put in more time, but it was all stuff that was useful both for me and for
collaborators.  Later, in my second postdoc, I started publishing code-only
papers; I would advise grad students to do this sooner, though.  Since AAS
journals now accept code papers, if you want coding to be a big part of your
research portfolio, it's a good idea to have a refereed paper on a piece of
software.  Note that some of the most highly-cited papers in astronomy are code
papers, like the DAOPHOT, SEXTRACTOR, and astropy papers.&lt;/p&gt;
&lt;p&gt;Last bit of advice closing this out: Avoid GUI development.  That way lays madness.&lt;/p&gt;
</content><category term="misc"></category><category term="career"></category><category term="colloquium"></category></entry><entry><title>My blog is now deployed with gh-actions</title><link href="https://keflavich.github.io/blog/my-blog-is-now-deployed-with-gh-actions.html" rel="alternate"></link><published>2022-02-23T20:21:00-07:00</published><updated>2022-02-23T20:21:00-07:00</updated><author><name>Adam Ginsburg (Adam.G.Ginsburg@gmail.com)</name></author><id>tag:keflavich.github.io,2022-02-23:/blog/my-blog-is-now-deployed-with-gh-actions.html</id><content type="html">&lt;p&gt;This is mostly a test post to prove it.&lt;/p&gt;
&lt;p&gt;I'm now using this gh-deployment script:
&lt;a class="reference external" href="https://github.com/keflavich/gh-pages-pelican-action"&gt;https://github.com/keflavich/gh-pages-pelican-action&lt;/a&gt; (forked from &lt;a class="reference external" href="https://github.com/nelsonjchen/gh-pages-pelican-action"&gt;https://github.com/nelsonjchen/gh-pages-pelican-action&lt;/a&gt;)
in conjunction with gh-actions.&lt;/p&gt;
</content><category term="misc"></category><category term="blog deployment"></category></entry><entry><title>CASA MPI Errors continued in early 2022</title><link href="https://keflavich.github.io/blog/casa-mpi-errors-continued-in-early-2022.html" rel="alternate"></link><published>2022-01-23T07:54:00-07:00</published><updated>2022-01-23T07:54:00-07:00</updated><author><name>Adam Ginsburg (Adam.G.Ginsburg@gmail.com)</name></author><id>tag:keflavich.github.io,2022-01-23:/blog/casa-mpi-errors-continued-in-early-2022.html</id><summary type="html">&lt;p&gt;Running 7m+12m combination, the following errors show up:&lt;/p&gt;
&lt;pre class="code literal-block"&gt;
Exception: Error in making PSF : Invalid Table operation: Rows cannot be removed from table /blue/adamginsburg/adamginsburg/almaimf/workdir/G333.60_spw5_12M_B6/IMAGING_WEIGHT_1390794_230801956263_230804885819_bwtaper_0_interp_1; its storage managers do not support it
&lt;/pre&gt;
&lt;p&gt;This …&lt;/p&gt;</summary><content type="html">&lt;p&gt;Running 7m+12m combination, the following errors show up:&lt;/p&gt;
&lt;pre class="code literal-block"&gt;
Exception: Error in making PSF : Invalid Table operation: Rows cannot be removed from table /blue/adamginsburg/adamginsburg/almaimf/workdir/G333.60_spw5_12M_B6/IMAGING_WEIGHT_1390794_230801956263_230804885819_bwtaper_0_interp_1; its storage managers do not support it
&lt;/pre&gt;
&lt;p&gt;This turns up several times repeatedly:&lt;/p&gt;
&lt;pre class="code literal-block"&gt;
G333.60_B6_fullcube_7M12M_5_15827045.log:2022-01-21 18:05:38  WARN    MPICommandServer::command_request_handler_service::SynthesisImagerVi2::CubeMajorCycle::MPIServer-25 (file src/code/synthesis/ImagerObjects/CubeMajorCycleAlgorithm.cc, line 336)      Exception for chan range [496, 499] ---   Error in making PSF : Interpolate1D::operator() data has repeated x values
G333.60_B6_fullcube_7M12M_5_15868985.log:2022-01-22 00:01:20  WARN    MPICommandServer::command_request_handler_service::SynthesisImagerVi2::CubeMajorCycle::MPIServer-19 (file src/code/synthesis/ImagerObjects/CubeMajorCycleAlgorithm.cc, line 336)      Exception for chan range [496, 499] ---   Error in making PSF : Invalid Table operation: Rows cannot be removed from table /blue/adamginsburg/adamginsburg/almaimf/workdir/G333.60_spw5_12M_B6/IMAGING_WEIGHT_1390794_230801956263_230804885819_bwtaper_0_interp_1; its storage managers do not support it
G333.60_B6_fullcube_7M12M_5_15891690.log:2022-01-22 14:37:39  WARN    MPICommandServer::command_request_handler_service::SynthesisImagerVi2::CubeMajorCycle::MPIServer-23 (file src/code/synthesis/ImagerObjects/CubeMajorCycleAlgorithm.cc, line 336)      Exception for chan range [496, 499] ---   Error in making PSF : Invalid Table operation: Rows cannot be removed from table /blue/adamginsburg/adamginsburg/almaimf/workdir/G333.60_spw5_12M_B6/IMAGING_WEIGHT_1390794_230801956263_230804885819_bwtaper_0_interp_1; its storage managers do not support it
G333.60_B6_fullcube_7M12M_5_15914880.log:2022-01-23 02:21:24  WARN    MPICommandServer::command_request_handler_service::SynthesisImagerVi2::CubeMajorCycle::MPIServer-25 (file src/code/synthesis/ImagerObjects/CubeMajorCycleAlgorithm.cc, line 336)      Exception for chan range [496, 499] ---   Error in making PSF : Invalid Table operation: Rows cannot be removed from table /blue/adamginsburg/adamginsburg/almaimf/workdir/G333.60_spw5_12M_B6/IMAGING_WEIGHT_1390794_230801956263_230804885819_bwtaper_0_interp_1; its storage managers do not support it
&lt;/pre&gt;
&lt;p&gt;Looks like it's always the same few channels failing.&lt;/p&gt;
&lt;p&gt;Errors like this one:&lt;/p&gt;
&lt;pre class="code literal-block"&gt;
WARN    MPICommandServer::command_request_handler_service::SynthesisImagerVi2::CubeMajorCycle::MPIServer-17 (file src/
code/synthesis/ImagerObjects/CubeMajorCycleAlgorithm.cc, line 336)        Exception for chan range [1152, 1153] ---   Programmer error: sumwt disk image is non existant
&lt;/pre&gt;
&lt;p&gt;are probably cauased by deleting the .sumwt file in the middle of a tclean run -
so that is genuine &amp;quot;user error&amp;quot; (I was deleting the sumwt, psf, and weight
files occasionally b/c they are the 'leftovers' when a tclean run fails for
bad reasons)&lt;/p&gt;
&lt;p&gt;There are some others that don't have obvious explanations:&lt;/p&gt;
&lt;pre class="code literal-block"&gt;
casa_log_line_G010.62_B3_fullcube_7M12M_1_2022-01-21_08_17_16.log:2022-01-21 15:29:42   WARN    MPICommandServer::command_request_handler_service::SynthesisImagerVi2::CubeMajorCycle::MPIServer-15 (file src/ code/synthesis/ImagerObjects/CubeMajorCycleAlgorithm.cc, line 336)        Exception for chan range [534, 535] ---   FilebufIO::readBlock - incorrect number of bytes read for file /blue/adamginsburg/adamgins burg/almaimf/workdir/G010.62_B3_spw1_7M12M_spw1.sumwt/table.f0
casa_log_line_G010.62_B3_fullcube_7M12M_1_2022-01-21_08_17_16.log:2022-01-21 17:07:41   WARN    MPICommandServer::command_request_handler_service::SynthesisImagerVi2::CubeMajorCycle::MPIServer-31 (file src/ code/synthesis/ImagerObjects/CubeMajorCycleAlgorithm.cc, line 336)        Exception for chan range [1596, 1597] ---   FilebufIO::readBlock - incorrect number of bytes read for file /blue/adamginsburg/adamgi nsburg/almaimf/workdir/G010.62_B3_spw1_7M12M_spw1.sumwt/table.f0
&lt;/pre&gt;
&lt;p&gt;and this:&lt;/p&gt;
&lt;pre class="code literal-block"&gt;
casa_log_line_G333.60_B6_fullcube_7M12M_5_2022-01-21_08_17_16.log:2022-01-21 18:05:38   WARN    MPICommandServer::command_request_handler_service::SynthesisImagerVi2::CubeMajorCycle::MPIServer-25 (file src/code/synthesis/ImagerObjects/CubeMajorCycleAlgorithm.cc, line 336)        Exception for chan range [496, 499] ---   Error in making PSF : Interpolate1D::operator() data has repeated x values
&lt;/pre&gt;
&lt;p&gt;This is an old one that remains unsolved:&lt;/p&gt;
&lt;pre class="code literal-block"&gt;
casa_log_line_G338.93_B3_fullcube_7M12M_1_2022-01-22_20_25_52.log:2022-01-23 04:59:57   WARN    MPICommandServer::command_request_handler_service::SynthesisImagerVi2::CubeMajorCycle::MPIServer-8 (file src/code/synthesis/ImagerObjects/CubeMajorCycleAlgorithm.cc, line 336) Exception for chan range [2049, 2049] ---   Error in making PSF : A nasty Visbuffer2 error occured...wait
&lt;/pre&gt;
&lt;p&gt;Got this real nice one after the .image was created:&lt;/p&gt;
&lt;pre class="code literal-block"&gt;
*** Error in `/blue/adamginsburg/adamginsburg/casa/casa-6.4.3-4/lib/py/bin/python3': malloc(): smallbin double linked list corrupted: 0x00002af7a40d8000 ***
======= Backtrace: =========
/lib64/libc.so.6(+0x7f804)[0x2af73aa03804]
/lib64/libc.so.6(+0x82f40)[0x2af73aa06f40]
/lib64/libc.so.6(__libc_malloc+0x4c)[0x2af73aa09b1c]
/apps/compilers/gcc/9.3.0/lib64/libstdc++.so.6(_Znwm+0x15)[0x2af751076395]
&lt;/pre&gt;
&lt;p&gt;That happened in the middle of major cycle 1, so the data were probably fine, but I'm just going to restart it&lt;/p&gt;
</content><category term="misc"></category><category term="CASA"></category></entry><entry><title>CASA Errors encountered while imaging LB data</title><link href="https://keflavich.github.io/blog/casa-errors-encountered-while-imaging-lb-data.html" rel="alternate"></link><published>2021-12-08T09:37:00-07:00</published><updated>2021-12-08T09:37:00-07:00</updated><author><name>Adam Ginsburg (Adam.G.Ginsburg@gmail.com)</name></author><id>tag:keflavich.github.io,2021-12-08:/blog/casa-errors-encountered-while-imaging-lb-data.html</id><summary type="html">&lt;p&gt;I'm trying to reduce some new data from ALMA's longest baselines (C10, B6).&lt;/p&gt;
&lt;p&gt;There are several exciting errors:&lt;/p&gt;
&lt;ol class="arabic simple"&gt;
&lt;li&gt;The lines were all flagged out.  Thankfully, there is a &lt;tt class="docutils literal"&gt;calibrated_final.ms.backup&lt;/tt&gt;
file that does not have the lines flagged out.  &lt;tt class="docutils literal"&gt;flagmanager&lt;/tt&gt; was unable to restore
the flags.  The flagging …&lt;/li&gt;&lt;/ol&gt;</summary><content type="html">&lt;p&gt;I'm trying to reduce some new data from ALMA's longest baselines (C10, B6).&lt;/p&gt;
&lt;p&gt;There are several exciting errors:&lt;/p&gt;
&lt;ol class="arabic simple"&gt;
&lt;li&gt;The lines were all flagged out.  Thankfully, there is a &lt;tt class="docutils literal"&gt;calibrated_final.ms.backup&lt;/tt&gt;
file that does not have the lines flagged out.  &lt;tt class="docutils literal"&gt;flagmanager&lt;/tt&gt; was unable to restore
the flags.  The flagging comes from the manual flagging done by the QA2 reducer,
which was used to make the continuum image.  That's fine, but the unflagging step
didn't work.  The uvcontsub data, as a result, contain no line data.  ?????&lt;/li&gt;
&lt;li&gt;I can't image the full cube because of errors like this:&lt;/li&gt;
&lt;/ol&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="mi"&gt;2021&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="mi"&gt;12&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="mi"&gt;08&lt;/span&gt; &lt;span class="mi"&gt;08&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="mi"&gt;07&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="mi"&gt;34&lt;/span&gt;     &lt;span class="n"&gt;INFO&lt;/span&gt;    &lt;span class="n"&gt;SynthesisImagerVi2&lt;/span&gt;&lt;span class="p"&gt;::&lt;/span&gt;&lt;span class="n"&gt;defineImage&lt;/span&gt;         &lt;span class="n"&gt;Shape&lt;/span&gt; &lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="mi"&gt;9600&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mi"&gt;9600&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mi"&gt;1920&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt;&lt;span class="n"&gt;Spectral&lt;/span&gt; &lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="mf"&gt;2.31563e+11&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt; &lt;span class="n"&gt;at&lt;/span&gt; &lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt; &lt;span class="k"&gt;with&lt;/span&gt; &lt;span class="n"&gt;increment&lt;/span&gt; &lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="mi"&gt;976510&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt;
&lt;span class="mi"&gt;2021&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="mi"&gt;12&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="mi"&gt;08&lt;/span&gt; &lt;span class="mi"&gt;08&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="mi"&gt;07&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="mi"&gt;34&lt;/span&gt;     &lt;span class="n"&gt;INFO&lt;/span&gt;    &lt;span class="n"&gt;SynthesisImagerVi2&lt;/span&gt;&lt;span class="p"&gt;::&lt;/span&gt;&lt;span class="n"&gt;defineImage&lt;/span&gt;         &lt;span class="n"&gt;Set&lt;/span&gt; &lt;span class="n"&gt;Gridding&lt;/span&gt; &lt;span class="n"&gt;options&lt;/span&gt; &lt;span class="k"&gt;for&lt;/span&gt; &lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="n"&gt;S255IR&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;SMA1_sci&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;spw1&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;cube&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;I&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;manual&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt; &lt;span class="k"&gt;with&lt;/span&gt; &lt;span class="n"&gt;ftmachine&lt;/span&gt; &lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="n"&gt;gridft&lt;/span&gt;
&lt;span class="mi"&gt;2021&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="mi"&gt;12&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="mi"&gt;08&lt;/span&gt; &lt;span class="mi"&gt;08&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="mi"&gt;07&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="mi"&gt;34&lt;/span&gt;     &lt;span class="n"&gt;INFO&lt;/span&gt;    &lt;span class="n"&gt;SynthesisImagerVi2&lt;/span&gt;&lt;span class="p"&gt;::&lt;/span&gt;&lt;span class="n"&gt;nSubCubeFitInMemory&lt;/span&gt; &lt;span class="n"&gt;Required&lt;/span&gt; &lt;span class="n"&gt;memory&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="mf"&gt;5.468e+05&lt;/span&gt; &lt;span class="n"&gt;GB&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt; &lt;span class="n"&gt;Available&lt;/span&gt; &lt;span class="n"&gt;mem&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="mf"&gt;166.3&lt;/span&gt; &lt;span class="n"&gt;GB&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;rc&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;mem&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt; &lt;span class="n"&gt;fraction&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="mi"&gt;70&lt;/span&gt;&lt;span class="o"&gt;%&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;memory&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="o"&gt;=&amp;gt;&lt;/span&gt; &lt;span class="n"&gt;Subcubes&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="mf"&gt;1920.&lt;/span&gt; &lt;span class="n"&gt;Processes&lt;/span&gt; &lt;span class="n"&gt;on&lt;/span&gt; &lt;span class="n"&gt;node&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="mf"&gt;64.&lt;/span&gt;
&lt;span class="mi"&gt;2021&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="mi"&gt;12&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="mi"&gt;08&lt;/span&gt; &lt;span class="mi"&gt;08&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="mi"&gt;07&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="mi"&gt;34&lt;/span&gt;     &lt;span class="n"&gt;INFO&lt;/span&gt;    &lt;span class="n"&gt;SynthesisImagerVi2&lt;/span&gt;&lt;span class="p"&gt;::&lt;/span&gt;&lt;span class="n"&gt;weight&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;    &lt;span class="n"&gt;Set&lt;/span&gt; &lt;span class="n"&gt;imaging&lt;/span&gt; &lt;span class="n"&gt;weights&lt;/span&gt; &lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="n"&gt;Briggs&lt;/span&gt; &lt;span class="n"&gt;weighting&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="n"&gt;sidelobes&lt;/span&gt; &lt;span class="n"&gt;will&lt;/span&gt; &lt;span class="n"&gt;be&lt;/span&gt; &lt;span class="n"&gt;suppressed&lt;/span&gt; &lt;span class="n"&gt;over&lt;/span&gt; &lt;span class="n"&gt;full&lt;/span&gt; &lt;span class="n"&gt;image&lt;/span&gt;
&lt;span class="mi"&gt;2021&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="mi"&gt;12&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="mi"&gt;08&lt;/span&gt; &lt;span class="mi"&gt;08&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="mi"&gt;07&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="mi"&gt;34&lt;/span&gt;     &lt;span class="n"&gt;INFO&lt;/span&gt;    &lt;span class="n"&gt;SynthesisImagerVi2&lt;/span&gt;&lt;span class="p"&gt;::&lt;/span&gt;&lt;span class="n"&gt;weight&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;    &lt;span class="n"&gt;Doing&lt;/span&gt; &lt;span class="n"&gt;spectral&lt;/span&gt; &lt;span class="n"&gt;cube&lt;/span&gt; &lt;span class="n"&gt;Briggs&lt;/span&gt; &lt;span class="n"&gt;weighting&lt;/span&gt; &lt;span class="n"&gt;formula&lt;/span&gt; &lt;span class="o"&gt;--&lt;/span&gt;  &lt;span class="n"&gt;norm&lt;/span&gt;
&lt;span class="mi"&gt;2021&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="mi"&gt;12&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="mi"&gt;08&lt;/span&gt; &lt;span class="mi"&gt;08&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="mi"&gt;07&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="mi"&gt;34&lt;/span&gt;     &lt;span class="n"&gt;INFO&lt;/span&gt;    &lt;span class="n"&gt;task_tclean&lt;/span&gt;&lt;span class="p"&gt;::&lt;/span&gt;&lt;span class="n"&gt;SynthesisDeconvolver&lt;/span&gt;&lt;span class="p"&gt;::&lt;/span&gt;&lt;span class="n"&gt;setupDeconvolution&lt;/span&gt;   &lt;span class="n"&gt;Set&lt;/span&gt; &lt;span class="n"&gt;Deconvolution&lt;/span&gt; &lt;span class="n"&gt;Options&lt;/span&gt; &lt;span class="k"&gt;for&lt;/span&gt; &lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="n"&gt;S255IR&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;SMA1_sci&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;spw1&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;cube&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;I&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;manual&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt; &lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="n"&gt;hogbom&lt;/span&gt;
&lt;span class="mi"&gt;2021&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="mi"&gt;12&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="mi"&gt;08&lt;/span&gt; &lt;span class="mi"&gt;08&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="mi"&gt;07&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="mi"&gt;34&lt;/span&gt;     &lt;span class="n"&gt;WARN&lt;/span&gt;    &lt;span class="n"&gt;tclean&lt;/span&gt;&lt;span class="p"&gt;::::&lt;/span&gt;&lt;span class="n"&gt;casa&lt;/span&gt;  &lt;span class="n"&gt;Memory&lt;/span&gt; &lt;span class="n"&gt;available&lt;/span&gt; &lt;span class="mi"&gt;187904819&lt;/span&gt; &lt;span class="n"&gt;kB&lt;/span&gt; &lt;span class="ow"&gt;is&lt;/span&gt; &lt;span class="n"&gt;very&lt;/span&gt; &lt;span class="n"&gt;close&lt;/span&gt; &lt;span class="n"&gt;to&lt;/span&gt; &lt;span class="n"&gt;amount&lt;/span&gt; &lt;span class="n"&gt;of&lt;/span&gt; &lt;span class="n"&gt;required&lt;/span&gt; &lt;span class="n"&gt;memory&lt;/span&gt; &lt;span class="mi"&gt;3982754512&lt;/span&gt; &lt;span class="n"&gt;kB&lt;/span&gt;
&lt;span class="mi"&gt;2021&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="mi"&gt;12&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="mi"&gt;08&lt;/span&gt; &lt;span class="mi"&gt;08&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="mi"&gt;07&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="mi"&gt;34&lt;/span&gt;     &lt;span class="n"&gt;INFO&lt;/span&gt;    &lt;span class="n"&gt;task_tclean&lt;/span&gt;&lt;span class="p"&gt;::&lt;/span&gt;&lt;span class="n"&gt;SynthesisImager&lt;/span&gt;&lt;span class="p"&gt;::&lt;/span&gt;&lt;span class="n"&gt;makePSF&lt;/span&gt;   &lt;span class="o"&gt;-----------------------------------------------------------&lt;/span&gt; &lt;span class="n"&gt;Make&lt;/span&gt; &lt;span class="n"&gt;PSF&lt;/span&gt; &lt;span class="o"&gt;---------------------------------------------&lt;/span&gt;
&lt;span class="mi"&gt;2021&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="mi"&gt;12&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="mi"&gt;08&lt;/span&gt; &lt;span class="mi"&gt;08&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="mi"&gt;07&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="mi"&gt;34&lt;/span&gt;     &lt;span class="n"&gt;INFO&lt;/span&gt;    &lt;span class="n"&gt;task_tclean&lt;/span&gt;&lt;span class="p"&gt;::&lt;/span&gt;&lt;span class="n"&gt;SynthesisImagerVi2&lt;/span&gt;&lt;span class="p"&gt;::&lt;/span&gt;&lt;span class="n"&gt;nSubCubeFitInMemory&lt;/span&gt;    &lt;span class="n"&gt;Required&lt;/span&gt; &lt;span class="n"&gt;memory&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="mf"&gt;5.468e+05&lt;/span&gt; &lt;span class="n"&gt;GB&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt; &lt;span class="n"&gt;Available&lt;/span&gt; &lt;span class="n"&gt;mem&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="mf"&gt;166.3&lt;/span&gt; &lt;span class="n"&gt;GB&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;rc&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;mem&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt; &lt;span class="n"&gt;fraction&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="mi"&gt;70&lt;/span&gt;&lt;span class="o"&gt;%&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;memory&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="o"&gt;=&amp;gt;&lt;/span&gt; &lt;span class="n"&gt;Subcubes&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="mf"&gt;1920.&lt;/span&gt; &lt;span class="n"&gt;Processes&lt;/span&gt; &lt;span class="n"&gt;on&lt;/span&gt; &lt;span class="n"&gt;node&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="mf"&gt;64.&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Well, there's no error there, but the PSF maker can't handle making even a
single frame.  It had no trouble making a 9600x9600 MTMFS image for the
continuum, though, so it's pretty unclear to me why the cube is getting
OOM-killed.  My best guess is that the 64 processes are too much for CASA to
handle, and I need to run with fewer to &amp;quot;trick&amp;quot; it into not using up that much
memory at once.   Maybe I just need to make the PSFs in serial mode.  I don't
want to wait around to make the cubes, let alone clean them, in serial mode.&lt;/p&gt;
&lt;ol class="arabic simple" start="3"&gt;
&lt;li&gt;Parallel failed with this:&lt;/li&gt;
&lt;/ol&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="mi"&gt;2021&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="mi"&gt;12&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="mi"&gt;08&lt;/span&gt; &lt;span class="mi"&gt;14&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="mi"&gt;26&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="mi"&gt;19&lt;/span&gt;     &lt;span class="n"&gt;INFO&lt;/span&gt;    &lt;span class="n"&gt;tclean&lt;/span&gt;&lt;span class="p"&gt;::::&lt;/span&gt;&lt;span class="n"&gt;casa&lt;/span&gt;  &lt;span class="c1"&gt;##########################################&lt;/span&gt;
&lt;span class="mi"&gt;2021&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="mi"&gt;12&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="mi"&gt;08&lt;/span&gt; &lt;span class="mi"&gt;14&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="mi"&gt;26&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="mi"&gt;19&lt;/span&gt;     &lt;span class="n"&gt;INFO&lt;/span&gt;    &lt;span class="n"&gt;tclean&lt;/span&gt;&lt;span class="p"&gt;::::&lt;/span&gt;&lt;span class="n"&gt;casa&lt;/span&gt;  &lt;span class="c1"&gt;##### Begin Task: tclean             #####&lt;/span&gt;
&lt;span class="mi"&gt;2021&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="mi"&gt;12&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="mi"&gt;08&lt;/span&gt; &lt;span class="mi"&gt;14&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="mi"&gt;26&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="mi"&gt;19&lt;/span&gt;     &lt;span class="n"&gt;INFO&lt;/span&gt;    &lt;span class="n"&gt;tclean&lt;/span&gt;&lt;span class="p"&gt;::::&lt;/span&gt;&lt;span class="n"&gt;casa&lt;/span&gt;  &lt;span class="n"&gt;tclean&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt; &lt;span class="n"&gt;vis&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;calibrated_final.ms&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;selectdata&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="kc"&gt;True&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;field&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;S255IR-SMA1&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;spw&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;1&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;timerange&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;uvrange&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;antenna&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;scan&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;observation&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;intent&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;datacolumn&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;corrected&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;imagename&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;S255IR-SMA1_sci.spw1.cube.I.zoom.manual&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;imsize&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="mi"&gt;500&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mi"&gt;500&lt;/span&gt;&lt;span class="p"&gt;],&lt;/span&gt; &lt;span class="n"&gt;cell&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;0.0042arcsec&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;phasecenter&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;stokes&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;I&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;projection&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;SIN&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;startmodel&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;specmode&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;cube&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;reffreq&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;nchan&lt;/span&gt;&lt;span class="o"&gt;=-&lt;/span&gt;&lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;start&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;width&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;outframe&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;lsrk&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;veltype&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;radio&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;restfreq&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="p"&gt;[],&lt;/span&gt; &lt;span class="n"&gt;interpolation&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;linear&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;perchanweightdensity&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="kc"&gt;True&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;gridder&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;standard&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;facets&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;psfphasecenter&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;wprojplanes&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;vptable&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;mosweight&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="kc"&gt;True&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;aterm&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="kc"&gt;True&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;psterm&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="kc"&gt;False&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;wbawp&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="kc"&gt;True&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;conjbeams&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="kc"&gt;False&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;cfcache&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;usepointing&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="kc"&gt;False&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;computepastep&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="mf"&gt;360.0&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;rotatepastep&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="mf"&gt;360.0&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;pointingoffsetsigdev&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="p"&gt;[],&lt;/span&gt; &lt;span class="n"&gt;pblimit&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="mf"&gt;0.2&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;normtype&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;flatnoise&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;deconvolver&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;hogbom&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;scales&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="p"&gt;[],&lt;/span&gt; &lt;span class="n"&gt;nterms&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="mi"&gt;2&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;smallscalebias&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="mf"&gt;0.0&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;restoration&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="kc"&gt;True&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;restoringbeam&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="p"&gt;[],&lt;/span&gt; &lt;span class="n"&gt;pbcor&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="kc"&gt;True&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;outlierfile&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;weighting&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;briggs&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;robust&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="mf"&gt;0.0&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;noise&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;1.0Jy&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;npixels&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;uvtaper&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="p"&gt;[],&lt;/span&gt; &lt;span class="n"&gt;niter&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="mi"&gt;10000&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;gain&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="mf"&gt;0.1&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;threshold&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;10mJy&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;nsigma&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="mf"&gt;0.0&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;cycleniter&lt;/span&gt;&lt;span class="o"&gt;=-&lt;/span&gt;&lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;cyclefactor&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="mf"&gt;1.0&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;minpsffraction&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="mf"&gt;0.05&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;maxpsffraction&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="mf"&gt;0.8&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;interactive&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="kc"&gt;False&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;usemask&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;user&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;mask&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;pbmask&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="mf"&gt;0.0&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;sidelobethreshold&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="mf"&gt;3.0&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;noisethreshold&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="mf"&gt;5.0&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;lownoisethreshold&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="mf"&gt;1.5&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;negativethreshold&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="mf"&gt;0.0&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;smoothfactor&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="mf"&gt;1.0&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;minbeamfrac&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="mf"&gt;0.3&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;cutthreshold&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="mf"&gt;0.01&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;growiterations&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="mi"&gt;75&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;dogrowprune&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="kc"&gt;True&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;minpercentchange&lt;/span&gt;&lt;span class="o"&gt;=-&lt;/span&gt;&lt;span class="mf"&gt;1.0&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;verbose&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="kc"&gt;False&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;fastnoise&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="kc"&gt;True&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;restart&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="kc"&gt;True&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;savemodel&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;none&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;calcres&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="kc"&gt;True&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;calcpsf&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="kc"&gt;True&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;psfcutoff&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="mf"&gt;0.35&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;parallel&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="kc"&gt;True&lt;/span&gt; &lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="mi"&gt;2021&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="mi"&gt;12&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="mi"&gt;08&lt;/span&gt; &lt;span class="mi"&gt;14&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="mi"&gt;26&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="mi"&gt;19&lt;/span&gt;     &lt;span class="n"&gt;INFO&lt;/span&gt;    &lt;span class="n"&gt;tclean&lt;/span&gt;&lt;span class="p"&gt;::::&lt;/span&gt;&lt;span class="n"&gt;casa&lt;/span&gt;  &lt;span class="n"&gt;Verifying&lt;/span&gt; &lt;span class="n"&gt;Input&lt;/span&gt; &lt;span class="n"&gt;Parameters&lt;/span&gt;
&lt;span class="mi"&gt;2021&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="mi"&gt;12&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="mi"&gt;08&lt;/span&gt; &lt;span class="mi"&gt;14&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="mi"&gt;26&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="mi"&gt;19&lt;/span&gt;     &lt;span class="n"&gt;INFO&lt;/span&gt;    &lt;span class="n"&gt;SynthesisImagerVi2&lt;/span&gt;&lt;span class="p"&gt;::&lt;/span&gt;&lt;span class="n"&gt;selectData&lt;/span&gt;  &lt;span class="n"&gt;MS&lt;/span&gt; &lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="n"&gt;calibrated_final&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;ms&lt;/span&gt; &lt;span class="o"&gt;|&lt;/span&gt; &lt;span class="n"&gt;Selecting&lt;/span&gt; &lt;span class="n"&gt;on&lt;/span&gt; &lt;span class="n"&gt;fields&lt;/span&gt; &lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="n"&gt;S255IR&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;SMA1&lt;/span&gt; &lt;span class="o"&gt;|&lt;/span&gt; &lt;span class="n"&gt;Selecting&lt;/span&gt; &lt;span class="n"&gt;on&lt;/span&gt; &lt;span class="n"&gt;spw&lt;/span&gt; &lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="mi"&gt;1&lt;/span&gt; &lt;span class="o"&gt;|&lt;/span&gt; &lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="n"&gt;Opened&lt;/span&gt; &lt;span class="ow"&gt;in&lt;/span&gt; &lt;span class="n"&gt;readonly&lt;/span&gt; &lt;span class="n"&gt;mode&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt;
&lt;span class="mi"&gt;2021&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="mi"&gt;12&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="mi"&gt;08&lt;/span&gt; &lt;span class="mi"&gt;14&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="mi"&gt;26&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="mi"&gt;19&lt;/span&gt;     &lt;span class="n"&gt;INFO&lt;/span&gt;    &lt;span class="n"&gt;SynthesisImagerVi2&lt;/span&gt;&lt;span class="p"&gt;::&lt;/span&gt;&lt;span class="n"&gt;selectData&lt;/span&gt;    &lt;span class="n"&gt;NRows&lt;/span&gt; &lt;span class="n"&gt;selected&lt;/span&gt; &lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="mi"&gt;0&lt;/span&gt;
&lt;span class="mi"&gt;2021&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="mi"&gt;12&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="mi"&gt;08&lt;/span&gt; &lt;span class="mi"&gt;14&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="mi"&gt;26&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="mi"&gt;19&lt;/span&gt;     &lt;span class="n"&gt;SEVERE&lt;/span&gt;  &lt;span class="n"&gt;tclean&lt;/span&gt;&lt;span class="p"&gt;::::&lt;/span&gt;&lt;span class="n"&gt;casa&lt;/span&gt;  &lt;span class="n"&gt;Task&lt;/span&gt; &lt;span class="n"&gt;tclean&lt;/span&gt; &lt;span class="n"&gt;raised&lt;/span&gt; &lt;span class="n"&gt;an&lt;/span&gt; &lt;span class="n"&gt;exception&lt;/span&gt; &lt;span class="n"&gt;of&lt;/span&gt; &lt;span class="k"&gt;class&lt;/span&gt; &lt;span class="nc"&gt;RuntimeError&lt;/span&gt; &lt;span class="k"&gt;with&lt;/span&gt; &lt;span class="n"&gt;the&lt;/span&gt; &lt;span class="n"&gt;following&lt;/span&gt; &lt;span class="n"&gt;message&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="n"&gt;Parallel&lt;/span&gt; &lt;span class="n"&gt;transport&lt;/span&gt; &lt;span class="n"&gt;layer&lt;/span&gt; &lt;span class="ow"&gt;not&lt;/span&gt; &lt;span class="n"&gt;initialized&lt;/span&gt;
&lt;span class="mi"&gt;2021&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="mi"&gt;12&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="mi"&gt;08&lt;/span&gt; &lt;span class="mi"&gt;14&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="mi"&gt;26&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="mi"&gt;19&lt;/span&gt;     &lt;span class="n"&gt;INFO&lt;/span&gt;    &lt;span class="n"&gt;tclean&lt;/span&gt;&lt;span class="p"&gt;::::&lt;/span&gt;&lt;span class="n"&gt;casa&lt;/span&gt;  &lt;span class="n"&gt;Task&lt;/span&gt; &lt;span class="n"&gt;tclean&lt;/span&gt; &lt;span class="n"&gt;complete&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt; &lt;span class="n"&gt;Start&lt;/span&gt; &lt;span class="n"&gt;time&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="mi"&gt;2021&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="mi"&gt;12&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="mi"&gt;08&lt;/span&gt; &lt;span class="mi"&gt;09&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="mi"&gt;26&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="mf"&gt;19.103483&lt;/span&gt; &lt;span class="n"&gt;End&lt;/span&gt; &lt;span class="n"&gt;time&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="mi"&gt;2021&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="mi"&gt;12&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="mi"&gt;08&lt;/span&gt; &lt;span class="mi"&gt;09&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="mi"&gt;26&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="mf"&gt;19.314353&lt;/span&gt;
&lt;span class="mi"&gt;2021&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="mi"&gt;12&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="mi"&gt;08&lt;/span&gt; &lt;span class="mi"&gt;14&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="mi"&gt;26&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="mi"&gt;19&lt;/span&gt;     &lt;span class="n"&gt;INFO&lt;/span&gt;    &lt;span class="n"&gt;tclean&lt;/span&gt;&lt;span class="p"&gt;::::&lt;/span&gt;&lt;span class="n"&gt;casa&lt;/span&gt;  &lt;span class="c1"&gt;##### End Task: tclean               #####&lt;/span&gt;
&lt;span class="mi"&gt;2021&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="mi"&gt;12&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="mi"&gt;08&lt;/span&gt; &lt;span class="mi"&gt;14&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="mi"&gt;26&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="mi"&gt;19&lt;/span&gt;     &lt;span class="n"&gt;INFO&lt;/span&gt;    &lt;span class="n"&gt;tclean&lt;/span&gt;&lt;span class="p"&gt;::::&lt;/span&gt;&lt;span class="n"&gt;casa&lt;/span&gt;  &lt;span class="c1"&gt;##########################################&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;I'm guessing this is a bad error message and the real error is that the data
selection failed.  Probably when I copied over the &lt;tt class="docutils literal"&gt;continuum_final.ms.backup&lt;/tt&gt;
file, it uses the original numbering (spw 25, 27, etc.) instead of the new
numbering.  I guess the renumbering is cased by &lt;tt class="docutils literal"&gt;uvcontsub&lt;/tt&gt;, which I'm now
skipping because it may have broken my data and because I'd rather image the
continuum.  That proved correct; the error message above just means that I
selected a nonexistent SPW.&lt;/p&gt;
&lt;div class="section" id="flagged-out-lines"&gt;
&lt;h2&gt;Flagged Out Lines&lt;/h2&gt;
&lt;p&gt;After re-copying over the calibrated MS and confirming that &lt;cite&gt;no&lt;/cite&gt; lines were flagged out,
I re-imaged... and the lines are again missing.&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="c1"&gt;# show the flags graphically&lt;/span&gt;
&lt;span class="n"&gt;flagdata&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;vis&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;calibrated_final.ms&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;mode&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;summary&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;spwchan&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="kc"&gt;True&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;display&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;both&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;img alt="Flag data plot showing evidence of the flagged-out lines" src="https://keflavich.github.io/blog/images/flagdataplot.png" style="width: 600px;" /&gt;
&lt;p&gt;The flags are coming from tclean, which makes no sense.&lt;/p&gt;
&lt;p&gt;There are messages like these:&lt;/p&gt;
&lt;pre class="literal-block"&gt;
2021-12-08 15:27:19     WARN    MPICommandServer::command_request_handler_service::SIImageStore::getPSFGaussian::MPIServer-51 (file src/code/synthesis/ImagerObjects/SIImageStore.cc, line 2037)        PSF is blank for[C9:P0] [C10:P0] [C11:P0] [C12:P0] [C13:P0] [C14:P0] [C15:P0] [C16:P0] [C17:P0] [C23:P0] [C24:P0] [C25:P0] [C26:P0]
&lt;/pre&gt;
&lt;p&gt;scattered throughout the PSF making.&lt;/p&gt;
&lt;p&gt;The PSF spectrum ends up like this:&lt;/p&gt;
&lt;img alt="PSF vs frequency showing flagged out channels" src="https://keflavich.github.io/blog/images/PSF_vs_Frq.png" style="width: 600px;" /&gt;
&lt;p&gt;Channels are totally flagged out.  But in the data, they are not:&lt;/p&gt;
&lt;img alt="The data not flagged out" src="https://keflavich.github.io/blog/images/notflagged_data.png" style="width: 600px;" /&gt;
&lt;p&gt;Running the &lt;tt class="docutils literal"&gt;tclean&lt;/tt&gt; without parallel, i.e. with &lt;tt class="docutils literal"&gt;parallel=False&lt;/tt&gt;, resulted
in a smooth, unbroken PSF.&lt;/p&gt;
&lt;p&gt;So, if we dig back into what happened in the parallel tclean....&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="mi"&gt;2021&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="mi"&gt;12&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="mi"&gt;08&lt;/span&gt; &lt;span class="mi"&gt;15&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="mi"&gt;26&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="mi"&gt;12&lt;/span&gt;     &lt;span class="n"&gt;INFO&lt;/span&gt;    &lt;span class="n"&gt;SynthesisImagerVi2&lt;/span&gt;&lt;span class="p"&gt;::&lt;/span&gt;&lt;span class="n"&gt;selectData&lt;/span&gt;    &lt;span class="n"&gt;NRows&lt;/span&gt; &lt;span class="n"&gt;selected&lt;/span&gt; &lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="mi"&gt;848700&lt;/span&gt;
&lt;span class="mi"&gt;2021&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="mi"&gt;12&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="mi"&gt;08&lt;/span&gt; &lt;span class="mi"&gt;15&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="mi"&gt;26&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="mi"&gt;15&lt;/span&gt;     &lt;span class="n"&gt;INFO&lt;/span&gt;    &lt;span class="n"&gt;SynthesisImagerVi2&lt;/span&gt;&lt;span class="p"&gt;::&lt;/span&gt;&lt;span class="n"&gt;defineImage&lt;/span&gt;         &lt;span class="n"&gt;Define&lt;/span&gt; &lt;span class="n"&gt;image&lt;/span&gt; &lt;span class="n"&gt;coordinates&lt;/span&gt; &lt;span class="k"&gt;for&lt;/span&gt; &lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="n"&gt;S255IR&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;SMA1_sci&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;spw0&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;cube&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;I&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;zoom&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;manual&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt; &lt;span class="p"&gt;:&lt;/span&gt;
&lt;span class="mi"&gt;2021&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="mi"&gt;12&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="mi"&gt;08&lt;/span&gt; &lt;span class="mi"&gt;15&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="mi"&gt;26&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="mi"&gt;16&lt;/span&gt;     &lt;span class="n"&gt;INFO&lt;/span&gt;    &lt;span class="n"&gt;MSTransformRegridder&lt;/span&gt;&lt;span class="p"&gt;::&lt;/span&gt;&lt;span class="n"&gt;calcChanFreqs&lt;/span&gt;      &lt;span class="n"&gt;phaseCenter&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;Direction: [-0.0535075, 0.949606, 0.308847]&amp;#39;&lt;/span&gt;  &lt;span class="n"&gt;Channels&lt;/span&gt; &lt;span class="n"&gt;equidistant&lt;/span&gt; &lt;span class="ow"&gt;in&lt;/span&gt; &lt;span class="n"&gt;freq&lt;/span&gt;
&lt;span class="mi"&gt;2021&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="mi"&gt;12&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="mi"&gt;08&lt;/span&gt; &lt;span class="mi"&gt;15&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="mi"&gt;26&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="mi"&gt;16&lt;/span&gt;     &lt;span class="n"&gt;INFO&lt;/span&gt;    &lt;span class="n"&gt;MSTransformRegridder&lt;/span&gt;&lt;span class="p"&gt;::&lt;/span&gt;&lt;span class="n"&gt;calcChanFreqs&lt;/span&gt;&lt;span class="o"&gt;+&lt;/span&gt;     &lt;span class="n"&gt;Central&lt;/span&gt; &lt;span class="n"&gt;frequency&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="ow"&gt;in&lt;/span&gt; &lt;span class="n"&gt;output&lt;/span&gt; &lt;span class="n"&gt;frame&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="mf"&gt;2.345e+11&lt;/span&gt; &lt;span class="n"&gt;Hz&lt;/span&gt;
&lt;span class="mi"&gt;2021&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="mi"&gt;12&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="mi"&gt;08&lt;/span&gt; &lt;span class="mi"&gt;15&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="mi"&gt;26&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="mi"&gt;16&lt;/span&gt;     &lt;span class="n"&gt;INFO&lt;/span&gt;    &lt;span class="n"&gt;MSTransformRegridder&lt;/span&gt;&lt;span class="p"&gt;::&lt;/span&gt;&lt;span class="n"&gt;calcChanFreqs&lt;/span&gt;&lt;span class="o"&gt;+&lt;/span&gt;     &lt;span class="n"&gt;Width&lt;/span&gt; &lt;span class="n"&gt;of&lt;/span&gt; &lt;span class="n"&gt;central&lt;/span&gt; &lt;span class="n"&gt;channel&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="ow"&gt;in&lt;/span&gt; &lt;span class="n"&gt;output&lt;/span&gt; &lt;span class="n"&gt;frame&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="mi"&gt;976510&lt;/span&gt; &lt;span class="n"&gt;Hz&lt;/span&gt;
&lt;span class="mi"&gt;2021&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="mi"&gt;12&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="mi"&gt;08&lt;/span&gt; &lt;span class="mi"&gt;15&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="mi"&gt;26&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="mi"&gt;16&lt;/span&gt;     &lt;span class="n"&gt;INFO&lt;/span&gt;    &lt;span class="n"&gt;MSTransformRegridder&lt;/span&gt;&lt;span class="p"&gt;::&lt;/span&gt;&lt;span class="n"&gt;calcChanFreqs&lt;/span&gt;&lt;span class="o"&gt;+&lt;/span&gt;     &lt;span class="n"&gt;Number&lt;/span&gt; &lt;span class="n"&gt;of&lt;/span&gt; &lt;span class="n"&gt;channels&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="mi"&gt;1920&lt;/span&gt;
&lt;span class="mi"&gt;2021&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="mi"&gt;12&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="mi"&gt;08&lt;/span&gt; &lt;span class="mi"&gt;15&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="mi"&gt;26&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="mi"&gt;16&lt;/span&gt;     &lt;span class="n"&gt;INFO&lt;/span&gt;    &lt;span class="n"&gt;MSTransformRegridder&lt;/span&gt;&lt;span class="p"&gt;::&lt;/span&gt;&lt;span class="n"&gt;calcChanFreqs&lt;/span&gt;&lt;span class="o"&gt;+&lt;/span&gt;     &lt;span class="n"&gt;Total&lt;/span&gt; &lt;span class="n"&gt;width&lt;/span&gt; &lt;span class="n"&gt;of&lt;/span&gt; &lt;span class="n"&gt;SPW&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="ow"&gt;in&lt;/span&gt; &lt;span class="n"&gt;output&lt;/span&gt; &lt;span class="n"&gt;frame&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="mf"&gt;1.8749e+09&lt;/span&gt; &lt;span class="n"&gt;Hz&lt;/span&gt;
&lt;span class="mi"&gt;2021&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="mi"&gt;12&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="mi"&gt;08&lt;/span&gt; &lt;span class="mi"&gt;15&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="mi"&gt;26&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="mi"&gt;16&lt;/span&gt;     &lt;span class="n"&gt;INFO&lt;/span&gt;    &lt;span class="n"&gt;MSTransformRegridder&lt;/span&gt;&lt;span class="p"&gt;::&lt;/span&gt;&lt;span class="n"&gt;calcChanFreqs&lt;/span&gt;&lt;span class="o"&gt;+&lt;/span&gt;     &lt;span class="n"&gt;Lower&lt;/span&gt; &lt;span class="n"&gt;edge&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="mf"&gt;2.33563e+11&lt;/span&gt; &lt;span class="n"&gt;Hz&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;upper&lt;/span&gt; &lt;span class="n"&gt;edge&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="mf"&gt;2.35437e+11&lt;/span&gt; &lt;span class="n"&gt;Hz&lt;/span&gt;
&lt;span class="mi"&gt;2021&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="mi"&gt;12&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="mi"&gt;08&lt;/span&gt; &lt;span class="mi"&gt;15&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="mi"&gt;26&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="mi"&gt;16&lt;/span&gt;     &lt;span class="n"&gt;INFO&lt;/span&gt;    &lt;span class="n"&gt;SynthesisImagerVi2&lt;/span&gt;&lt;span class="p"&gt;::&lt;/span&gt;&lt;span class="n"&gt;defineImage&lt;/span&gt;         &lt;span class="n"&gt;Impars&lt;/span&gt; &lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="n"&gt;start&lt;/span&gt;
&lt;span class="mi"&gt;2021&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="mi"&gt;12&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="mi"&gt;08&lt;/span&gt; &lt;span class="mi"&gt;15&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="mi"&gt;26&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="mi"&gt;16&lt;/span&gt;     &lt;span class="n"&gt;INFO&lt;/span&gt;    &lt;span class="n"&gt;SynthesisImagerVi2&lt;/span&gt;&lt;span class="p"&gt;::&lt;/span&gt;&lt;span class="n"&gt;defineImage&lt;/span&gt;         &lt;span class="n"&gt;Shape&lt;/span&gt; &lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="mi"&gt;500&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mi"&gt;500&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mi"&gt;1920&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt;&lt;span class="n"&gt;Spectral&lt;/span&gt; &lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="mf"&gt;2.33563e+11&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt; &lt;span class="n"&gt;at&lt;/span&gt; &lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt; &lt;span class="k"&gt;with&lt;/span&gt; &lt;span class="n"&gt;increment&lt;/span&gt; &lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="mi"&gt;976510&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt;
&lt;span class="mi"&gt;2021&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="mi"&gt;12&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="mi"&gt;08&lt;/span&gt; &lt;span class="mi"&gt;15&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="mi"&gt;26&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="mi"&gt;16&lt;/span&gt;     &lt;span class="n"&gt;INFO&lt;/span&gt;    &lt;span class="n"&gt;SynthesisImagerVi2&lt;/span&gt;&lt;span class="p"&gt;::&lt;/span&gt;&lt;span class="n"&gt;defineImage&lt;/span&gt;         &lt;span class="n"&gt;Set&lt;/span&gt; &lt;span class="n"&gt;Gridding&lt;/span&gt; &lt;span class="n"&gt;options&lt;/span&gt; &lt;span class="k"&gt;for&lt;/span&gt; &lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="n"&gt;S255IR&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;SMA1_sci&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;spw0&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;cube&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;I&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;zoom&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;manual&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt; &lt;span class="k"&gt;with&lt;/span&gt; &lt;span class="n"&gt;ftmachine&lt;/span&gt; &lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="n"&gt;gridft&lt;/span&gt;
&lt;span class="mi"&gt;2021&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="mi"&gt;12&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="mi"&gt;08&lt;/span&gt; &lt;span class="mi"&gt;15&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="mi"&gt;26&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="mi"&gt;16&lt;/span&gt;     &lt;span class="n"&gt;INFO&lt;/span&gt;    &lt;span class="n"&gt;SynthesisImagerVi2&lt;/span&gt;&lt;span class="p"&gt;::&lt;/span&gt;&lt;span class="n"&gt;nSubCubeFitInMemory&lt;/span&gt; &lt;span class="n"&gt;Required&lt;/span&gt; &lt;span class="n"&gt;memory&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="mi"&gt;1483&lt;/span&gt; &lt;span class="n"&gt;GB&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt; &lt;span class="n"&gt;Available&lt;/span&gt; &lt;span class="n"&gt;mem&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="mf"&gt;173.6&lt;/span&gt; &lt;span class="n"&gt;GB&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;rc&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;mem&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt; &lt;span class="n"&gt;fraction&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="mi"&gt;70&lt;/span&gt;&lt;span class="o"&gt;%&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;memory&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="o"&gt;=&amp;gt;&lt;/span&gt; &lt;span class="n"&gt;Subcubes&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="mf"&gt;9.&lt;/span&gt; &lt;span class="n"&gt;Processes&lt;/span&gt; &lt;span class="n"&gt;on&lt;/span&gt; &lt;span class="n"&gt;node&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="mf"&gt;64.&lt;/span&gt;
&lt;span class="mi"&gt;2021&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="mi"&gt;12&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="mi"&gt;08&lt;/span&gt; &lt;span class="mi"&gt;15&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="mi"&gt;26&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="mi"&gt;16&lt;/span&gt;     &lt;span class="n"&gt;INFO&lt;/span&gt;    &lt;span class="n"&gt;SynthesisImagerVi2&lt;/span&gt;&lt;span class="p"&gt;::&lt;/span&gt;&lt;span class="n"&gt;weight&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;    &lt;span class="n"&gt;Set&lt;/span&gt; &lt;span class="n"&gt;imaging&lt;/span&gt; &lt;span class="n"&gt;weights&lt;/span&gt; &lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="n"&gt;Briggs&lt;/span&gt; &lt;span class="n"&gt;weighting&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="n"&gt;sidelobes&lt;/span&gt; &lt;span class="n"&gt;will&lt;/span&gt; &lt;span class="n"&gt;be&lt;/span&gt; &lt;span class="n"&gt;suppressed&lt;/span&gt; &lt;span class="n"&gt;over&lt;/span&gt; &lt;span class="n"&gt;full&lt;/span&gt; &lt;span class="n"&gt;image&lt;/span&gt;
&lt;span class="mi"&gt;2021&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="mi"&gt;12&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="mi"&gt;08&lt;/span&gt; &lt;span class="mi"&gt;15&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="mi"&gt;26&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="mi"&gt;16&lt;/span&gt;     &lt;span class="n"&gt;INFO&lt;/span&gt;    &lt;span class="n"&gt;SynthesisImagerVi2&lt;/span&gt;&lt;span class="p"&gt;::&lt;/span&gt;&lt;span class="n"&gt;weight&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;    &lt;span class="n"&gt;Doing&lt;/span&gt; &lt;span class="n"&gt;spectral&lt;/span&gt; &lt;span class="n"&gt;cube&lt;/span&gt; &lt;span class="n"&gt;Briggs&lt;/span&gt; &lt;span class="n"&gt;weighting&lt;/span&gt; &lt;span class="n"&gt;formula&lt;/span&gt; &lt;span class="o"&gt;--&lt;/span&gt;  &lt;span class="n"&gt;norm&lt;/span&gt;
&lt;span class="mi"&gt;2021&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="mi"&gt;12&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="mi"&gt;08&lt;/span&gt; &lt;span class="mi"&gt;15&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="mi"&gt;26&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="mi"&gt;16&lt;/span&gt;     &lt;span class="n"&gt;INFO&lt;/span&gt;    &lt;span class="n"&gt;task_tclean&lt;/span&gt;&lt;span class="p"&gt;::&lt;/span&gt;&lt;span class="n"&gt;SynthesisDeconvolver&lt;/span&gt;&lt;span class="p"&gt;::&lt;/span&gt;&lt;span class="n"&gt;setupDeconvolution&lt;/span&gt;   &lt;span class="n"&gt;Set&lt;/span&gt; &lt;span class="n"&gt;Deconvolution&lt;/span&gt; &lt;span class="n"&gt;Options&lt;/span&gt; &lt;span class="k"&gt;for&lt;/span&gt; &lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="n"&gt;S255IR&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;SMA1_sci&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;spw0&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;cube&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;I&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;zoom&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;manual&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt; &lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="n"&gt;hogbom&lt;/span&gt;
&lt;span class="mi"&gt;2021&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="mi"&gt;12&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="mi"&gt;08&lt;/span&gt; &lt;span class="mi"&gt;15&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="mi"&gt;26&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="mi"&gt;17&lt;/span&gt;     &lt;span class="n"&gt;INFO&lt;/span&gt;    &lt;span class="n"&gt;task_tclean&lt;/span&gt;&lt;span class="p"&gt;::&lt;/span&gt;&lt;span class="n"&gt;SynthesisImager&lt;/span&gt;&lt;span class="p"&gt;::&lt;/span&gt;&lt;span class="n"&gt;makePSF&lt;/span&gt;   &lt;span class="o"&gt;-----------------------------------------------------------&lt;/span&gt; &lt;span class="n"&gt;Make&lt;/span&gt; &lt;span class="n"&gt;PSF&lt;/span&gt; &lt;span class="o"&gt;---------------------------------------------&lt;/span&gt;

&lt;span class="o"&gt;...&lt;/span&gt; &lt;span class="n"&gt;a&lt;/span&gt; &lt;span class="n"&gt;bunch&lt;/span&gt; &lt;span class="n"&gt;of&lt;/span&gt; &lt;span class="n"&gt;stuff&lt;/span&gt; &lt;span class="o"&gt;...&lt;/span&gt;

&lt;span class="mi"&gt;2021&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="mi"&gt;12&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="mi"&gt;08&lt;/span&gt; &lt;span class="mi"&gt;15&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="mi"&gt;27&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="mi"&gt;11&lt;/span&gt;     &lt;span class="n"&gt;INFO&lt;/span&gt;    &lt;span class="n"&gt;MPICommandServer&lt;/span&gt;&lt;span class="p"&gt;::&lt;/span&gt;&lt;span class="n"&gt;command_request_handler_service&lt;/span&gt;&lt;span class="p"&gt;::&lt;/span&gt;&lt;span class="n"&gt;SynthesisImagerVi2&lt;/span&gt;&lt;span class="p"&gt;::&lt;/span&gt;&lt;span class="n"&gt;makePrimaryBeam&lt;/span&gt;&lt;span class="p"&gt;::&lt;/span&gt;&lt;span class="n"&gt;MPIServer&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="mi"&gt;54&lt;/span&gt;    &lt;span class="n"&gt;vi2&lt;/span&gt; &lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="n"&gt;Evaluating&lt;/span&gt; &lt;span class="n"&gt;Primary&lt;/span&gt; &lt;span class="n"&gt;Beam&lt;/span&gt; &lt;span class="n"&gt;model&lt;/span&gt; &lt;span class="n"&gt;onto&lt;/span&gt; &lt;span class="n"&gt;image&lt;/span&gt; &lt;span class="n"&gt;grid&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;s&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="mi"&gt;2021&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="mi"&gt;12&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="mi"&gt;08&lt;/span&gt; &lt;span class="mi"&gt;15&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="mi"&gt;27&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="mi"&gt;12&lt;/span&gt;     &lt;span class="n"&gt;INFO&lt;/span&gt;    &lt;span class="n"&gt;MPICommandServer&lt;/span&gt;&lt;span class="p"&gt;::&lt;/span&gt;&lt;span class="n"&gt;command_request_handler_service&lt;/span&gt;&lt;span class="p"&gt;::&lt;/span&gt;&lt;span class="n"&gt;SynthesisImagerVi2&lt;/span&gt;&lt;span class="p"&gt;::&lt;/span&gt;&lt;span class="n"&gt;makePrimaryBeam&lt;/span&gt;&lt;span class="p"&gt;::&lt;/span&gt;&lt;span class="n"&gt;MPIServer&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="mi"&gt;38&lt;/span&gt;    &lt;span class="n"&gt;vi2&lt;/span&gt; &lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="n"&gt;Evaluating&lt;/span&gt; &lt;span class="n"&gt;Primary&lt;/span&gt; &lt;span class="n"&gt;Beam&lt;/span&gt; &lt;span class="n"&gt;model&lt;/span&gt; &lt;span class="n"&gt;onto&lt;/span&gt; &lt;span class="n"&gt;image&lt;/span&gt; &lt;span class="n"&gt;grid&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;s&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="mi"&gt;2021&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="mi"&gt;12&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="mi"&gt;08&lt;/span&gt; &lt;span class="mi"&gt;15&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="mi"&gt;27&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="mi"&gt;13&lt;/span&gt;     &lt;span class="n"&gt;INFO&lt;/span&gt;    &lt;span class="n"&gt;MPICommandServer&lt;/span&gt;&lt;span class="p"&gt;::&lt;/span&gt;&lt;span class="n"&gt;command_request_handler_service&lt;/span&gt;&lt;span class="p"&gt;::&lt;/span&gt;&lt;span class="n"&gt;SIImageStore&lt;/span&gt;&lt;span class="p"&gt;::&lt;/span&gt;&lt;span class="n"&gt;calcSensitivity&lt;/span&gt;&lt;span class="p"&gt;::&lt;/span&gt;&lt;span class="n"&gt;MPIServer&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="mi"&gt;54&lt;/span&gt;  &lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="n"&gt;S255IR&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;SMA1_sci&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;spw0&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;cube&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;I&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;zoom&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;manual&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt; &lt;span class="n"&gt;Theoretical&lt;/span&gt; &lt;span class="n"&gt;sensitivity&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;Jy&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="n"&gt;bm&lt;/span&gt;&lt;span class="p"&gt;):&lt;/span&gt;&lt;span class="n"&gt;c0&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="n"&gt;none&lt;/span&gt; &lt;span class="n"&gt;c1&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="n"&gt;none&lt;/span&gt; &lt;span class="n"&gt;c2&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="n"&gt;none&lt;/span&gt; &lt;span class="n"&gt;c3&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="n"&gt;none&lt;/span&gt; &lt;span class="n"&gt;c4&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="n"&gt;none&lt;/span&gt; &lt;span class="n"&gt;c5&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="n"&gt;none&lt;/span&gt; &lt;span class="n"&gt;c6&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="n"&gt;none&lt;/span&gt; &lt;span class="n"&gt;c7&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="n"&gt;none&lt;/span&gt; &lt;span class="n"&gt;c8&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="n"&gt;none&lt;/span&gt; &lt;span class="n"&gt;c9&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="n"&gt;none&lt;/span&gt; &lt;span class="n"&gt;c10&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="n"&gt;none&lt;/span&gt; &lt;span class="n"&gt;c11&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="n"&gt;none&lt;/span&gt; &lt;span class="n"&gt;c12&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="n"&gt;none&lt;/span&gt; &lt;span class="n"&gt;c13&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="mf"&gt;0.00121258&lt;/span&gt; &lt;span class="n"&gt;c14&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="mf"&gt;0.00121257&lt;/span&gt; &lt;span class="n"&gt;c15&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="mf"&gt;0.00121255&lt;/span&gt; &lt;span class="n"&gt;c16&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="n"&gt;none&lt;/span&gt; &lt;span class="n"&gt;c17&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="n"&gt;none&lt;/span&gt; &lt;span class="n"&gt;c18&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="n"&gt;none&lt;/span&gt; &lt;span class="n"&gt;c19&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="n"&gt;none&lt;/span&gt; &lt;span class="n"&gt;c20&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="n"&gt;none&lt;/span&gt; &lt;span class="n"&gt;c21&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="n"&gt;none&lt;/span&gt; &lt;span class="n"&gt;c22&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="n"&gt;none&lt;/span&gt; &lt;span class="n"&gt;c23&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="n"&gt;none&lt;/span&gt; &lt;span class="n"&gt;c24&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="n"&gt;none&lt;/span&gt; &lt;span class="n"&gt;c25&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="n"&gt;none&lt;/span&gt; &lt;span class="n"&gt;c26&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="mf"&gt;0.00121253&lt;/span&gt; &lt;span class="n"&gt;c27&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="mf"&gt;0.00121253&lt;/span&gt; &lt;span class="n"&gt;c28&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="mf"&gt;0.00121252&lt;/span&gt; &lt;span class="n"&gt;c29&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="mf"&gt;0.00121251&lt;/span&gt;
&lt;span class="mi"&gt;2021&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="mi"&gt;12&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="mi"&gt;08&lt;/span&gt; &lt;span class="mi"&gt;15&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="mi"&gt;27&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="mi"&gt;13&lt;/span&gt;     &lt;span class="n"&gt;WARN&lt;/span&gt;    &lt;span class="n"&gt;MPICommandServer&lt;/span&gt;&lt;span class="p"&gt;::&lt;/span&gt;&lt;span class="n"&gt;command_request_handler_service&lt;/span&gt;&lt;span class="p"&gt;::&lt;/span&gt;&lt;span class="n"&gt;SIImageStore&lt;/span&gt;&lt;span class="p"&gt;::&lt;/span&gt;&lt;span class="n"&gt;getPSFGaussian&lt;/span&gt;&lt;span class="p"&gt;::&lt;/span&gt;&lt;span class="n"&gt;MPIServer&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="mi"&gt;54&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;file&lt;/span&gt; &lt;span class="n"&gt;src&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="n"&gt;code&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="n"&gt;synthesis&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="n"&gt;ImagerObjects&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="n"&gt;SIImageStore&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;cc&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;line&lt;/span&gt; &lt;span class="mi"&gt;2037&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;        &lt;span class="n"&gt;PSF&lt;/span&gt; &lt;span class="ow"&gt;is&lt;/span&gt; &lt;span class="n"&gt;blank&lt;/span&gt; &lt;span class="k"&gt;for&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="n"&gt;C0&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="n"&gt;P0&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt; &lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="n"&gt;C1&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="n"&gt;P0&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt; &lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="n"&gt;C2&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="n"&gt;P0&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt; &lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="n"&gt;C3&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="n"&gt;P0&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt; &lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="n"&gt;C4&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="n"&gt;P0&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt; &lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="n"&gt;C5&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="n"&gt;P0&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt; &lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="n"&gt;C6&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="n"&gt;P0&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt; &lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="n"&gt;C7&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="n"&gt;P0&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt; &lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="n"&gt;C8&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="n"&gt;P0&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt; &lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="n"&gt;C9&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="n"&gt;P0&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt; &lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="n"&gt;C10&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="n"&gt;P0&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt; &lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="n"&gt;C11&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="n"&gt;P0&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt; &lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="n"&gt;C12&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="n"&gt;P0&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt; &lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="n"&gt;C16&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="n"&gt;P0&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt; &lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="n"&gt;C17&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="n"&gt;P0&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt; &lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="n"&gt;C18&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="n"&gt;P0&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt; &lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="n"&gt;C19&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="n"&gt;P0&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt; &lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="n"&gt;C20&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="n"&gt;P0&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt; &lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="n"&gt;C21&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="n"&gt;P0&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt; &lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="n"&gt;C22&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="n"&gt;P0&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt; &lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="n"&gt;C23&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="n"&gt;P0&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt; &lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="n"&gt;C24&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="n"&gt;P0&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt; &lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="n"&gt;C25&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="n"&gt;P0&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt;
&lt;span class="mi"&gt;2021&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="mi"&gt;12&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="mi"&gt;08&lt;/span&gt; &lt;span class="mi"&gt;15&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="mi"&gt;27&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="mi"&gt;13&lt;/span&gt;     &lt;span class="n"&gt;INFO&lt;/span&gt;    &lt;span class="n"&gt;MPICommandServer&lt;/span&gt;&lt;span class="p"&gt;::&lt;/span&gt;&lt;span class="n"&gt;command_request_handler_service&lt;/span&gt;&lt;span class="p"&gt;::&lt;/span&gt;&lt;span class="n"&gt;SIImageStore&lt;/span&gt;&lt;span class="p"&gt;::&lt;/span&gt;&lt;span class="n"&gt;getPSFGaussian&lt;/span&gt;&lt;span class="p"&gt;::&lt;/span&gt;&lt;span class="n"&gt;MPIServer&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="mi"&gt;54&lt;/span&gt;   &lt;span class="n"&gt;Time&lt;/span&gt; &lt;span class="n"&gt;to&lt;/span&gt; &lt;span class="n"&gt;fit&lt;/span&gt; &lt;span class="n"&gt;Gaussian&lt;/span&gt; &lt;span class="n"&gt;to&lt;/span&gt; &lt;span class="n"&gt;PSF&lt;/span&gt; &lt;span class="mf"&gt;0.12&lt;/span&gt;
&lt;span class="mi"&gt;2021&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="mi"&gt;12&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="mi"&gt;08&lt;/span&gt; &lt;span class="mi"&gt;15&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="mi"&gt;27&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="mi"&gt;13&lt;/span&gt;     &lt;span class="n"&gt;INFO&lt;/span&gt;    &lt;span class="n"&gt;MPICommandServer&lt;/span&gt;&lt;span class="p"&gt;::&lt;/span&gt;&lt;span class="n"&gt;command_request_handler_service&lt;/span&gt;&lt;span class="p"&gt;::&lt;/span&gt;&lt;span class="n"&gt;SIImageStore&lt;/span&gt;&lt;span class="p"&gt;::&lt;/span&gt;&lt;span class="n"&gt;printBeamSet&lt;/span&gt;&lt;span class="p"&gt;::&lt;/span&gt;&lt;span class="n"&gt;MPIServer&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="mi"&gt;54&lt;/span&gt;     &lt;span class="n"&gt;Restoring&lt;/span&gt; &lt;span class="n"&gt;Beams&lt;/span&gt;
&lt;span class="mi"&gt;2021&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="mi"&gt;12&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="mi"&gt;08&lt;/span&gt; &lt;span class="mi"&gt;15&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="mi"&gt;27&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="mi"&gt;13&lt;/span&gt;     &lt;span class="n"&gt;INFO&lt;/span&gt;    &lt;span class="n"&gt;MPICommandServer&lt;/span&gt;&lt;span class="p"&gt;::&lt;/span&gt;&lt;span class="n"&gt;command_request_handler_service&lt;/span&gt;&lt;span class="p"&gt;::&lt;/span&gt;&lt;span class="n"&gt;SIImageStore&lt;/span&gt;&lt;span class="p"&gt;::&lt;/span&gt;&lt;span class="n"&gt;printBeamSet&lt;/span&gt;&lt;span class="p"&gt;::&lt;/span&gt;&lt;span class="n"&gt;MPIServer&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="mi"&gt;54&lt;/span&gt; &lt;span class="o"&gt;+&lt;/span&gt;   &lt;span class="n"&gt;Pol&lt;/span&gt;   &lt;span class="n"&gt;Type&lt;/span&gt; &lt;span class="n"&gt;Chan&lt;/span&gt;         &lt;span class="n"&gt;Freq&lt;/span&gt;     &lt;span class="n"&gt;Vel&lt;/span&gt;
&lt;span class="mi"&gt;2021&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="mi"&gt;12&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="mi"&gt;08&lt;/span&gt; &lt;span class="mi"&gt;15&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="mi"&gt;27&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="mi"&gt;13&lt;/span&gt;     &lt;span class="n"&gt;INFO&lt;/span&gt;    &lt;span class="n"&gt;MPICommandServer&lt;/span&gt;&lt;span class="p"&gt;::&lt;/span&gt;&lt;span class="n"&gt;command_request_handler_service&lt;/span&gt;&lt;span class="p"&gt;::&lt;/span&gt;&lt;span class="n"&gt;SIImageStore&lt;/span&gt;&lt;span class="p"&gt;::&lt;/span&gt;&lt;span class="n"&gt;printBeamSet&lt;/span&gt;&lt;span class="p"&gt;::&lt;/span&gt;&lt;span class="n"&gt;MPIServer&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="mi"&gt;54&lt;/span&gt; &lt;span class="o"&gt;+&lt;/span&gt;     &lt;span class="n"&gt;I&lt;/span&gt;    &lt;span class="n"&gt;Max&lt;/span&gt;    &lt;span class="mi"&gt;0&lt;/span&gt; &lt;span class="mf"&gt;2.351450e+11&lt;/span&gt; &lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="mf"&gt;824.59&lt;/span&gt;    &lt;span class="mf"&gt;0.0254&lt;/span&gt; &lt;span class="n"&gt;arcsec&lt;/span&gt; &lt;span class="n"&gt;x&lt;/span&gt;    &lt;span class="mf"&gt;0.0197&lt;/span&gt; &lt;span class="n"&gt;arcsec&lt;/span&gt; &lt;span class="n"&gt;pa&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="mf"&gt;6.8506&lt;/span&gt; &lt;span class="n"&gt;deg&lt;/span&gt;
&lt;span class="mi"&gt;2021&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="mi"&gt;12&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="mi"&gt;08&lt;/span&gt; &lt;span class="mi"&gt;15&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="mi"&gt;27&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="mi"&gt;13&lt;/span&gt;     &lt;span class="n"&gt;INFO&lt;/span&gt;    &lt;span class="n"&gt;MPICommandServer&lt;/span&gt;&lt;span class="p"&gt;::&lt;/span&gt;&lt;span class="n"&gt;command_request_handler_service&lt;/span&gt;&lt;span class="p"&gt;::&lt;/span&gt;&lt;span class="n"&gt;SIImageStore&lt;/span&gt;&lt;span class="p"&gt;::&lt;/span&gt;&lt;span class="n"&gt;printBeamSet&lt;/span&gt;&lt;span class="p"&gt;::&lt;/span&gt;&lt;span class="n"&gt;MPIServer&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="mi"&gt;54&lt;/span&gt; &lt;span class="o"&gt;+&lt;/span&gt;     &lt;span class="n"&gt;I&lt;/span&gt;    &lt;span class="n"&gt;Min&lt;/span&gt;    &lt;span class="mi"&gt;1&lt;/span&gt; &lt;span class="mf"&gt;2.351460e+11&lt;/span&gt; &lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="mf"&gt;825.84&lt;/span&gt;    &lt;span class="mf"&gt;0.0000&lt;/span&gt; &lt;span class="n"&gt;arcsec&lt;/span&gt; &lt;span class="n"&gt;x&lt;/span&gt;    &lt;span class="mf"&gt;0.0000&lt;/span&gt; &lt;span class="n"&gt;arcsec&lt;/span&gt; &lt;span class="n"&gt;pa&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;  &lt;span class="mf"&gt;0.0000&lt;/span&gt; &lt;span class="n"&gt;deg&lt;/span&gt;
&lt;span class="mi"&gt;2021&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="mi"&gt;12&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="mi"&gt;08&lt;/span&gt; &lt;span class="mi"&gt;15&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="mi"&gt;27&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="mi"&gt;13&lt;/span&gt;     &lt;span class="n"&gt;INFO&lt;/span&gt;    &lt;span class="n"&gt;MPICommandServer&lt;/span&gt;&lt;span class="p"&gt;::&lt;/span&gt;&lt;span class="n"&gt;command_request_handler_service&lt;/span&gt;&lt;span class="p"&gt;::&lt;/span&gt;&lt;span class="n"&gt;SIImageStore&lt;/span&gt;&lt;span class="p"&gt;::&lt;/span&gt;&lt;span class="n"&gt;printBeamSet&lt;/span&gt;&lt;span class="p"&gt;::&lt;/span&gt;&lt;span class="n"&gt;MPIServer&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="mi"&gt;54&lt;/span&gt; &lt;span class="o"&gt;+&lt;/span&gt;     &lt;span class="n"&gt;I&lt;/span&gt; &lt;span class="n"&gt;Median&lt;/span&gt;    &lt;span class="mi"&gt;9&lt;/span&gt; &lt;span class="mf"&gt;2.351538e+11&lt;/span&gt; &lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="mf"&gt;835.82&lt;/span&gt;    &lt;span class="mf"&gt;0.0254&lt;/span&gt; &lt;span class="n"&gt;arcsec&lt;/span&gt; &lt;span class="n"&gt;x&lt;/span&gt;    &lt;span class="mf"&gt;0.0197&lt;/span&gt; &lt;span class="n"&gt;arcsec&lt;/span&gt; &lt;span class="n"&gt;pa&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="mf"&gt;6.8506&lt;/span&gt; &lt;span class="n"&gt;deg&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;These blank psfs are &lt;cite&gt;wrong&lt;/cite&gt;, there are no flagged data in this data set (no flagged channels).
Something about the parallel version of clean is reading the data wrong.&lt;/p&gt;
&lt;div class="section" id="solution"&gt;
&lt;h3&gt;Solution&lt;/h3&gt;
&lt;p&gt;I finally solved this by manually unflagging the channels.  Thanks to Brian
Svoboda for helping with the antenna selection syntax.&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="n"&gt;flagdata&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;linevis&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;spw&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="nb"&gt;str&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;orig_spw&lt;/span&gt;&lt;span class="p"&gt;),&lt;/span&gt; &lt;span class="n"&gt;antenna&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;*&amp;amp;*&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;mode&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;unflag&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;I don't understand why flagdata was showing the channels as being unflagged,
as they were clearly flagged in all data sets (original &amp;amp; backup).
I don't understand _when_ they were flagged, either, as it seems they were
flagged even before continuum imaging was done.&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;
</content><category term="misc"></category><category term="CASA"></category><category term="data reduction"></category></entry><entry><title>CASA reading incorrect number of bytes w/MPI</title><link href="https://keflavich.github.io/blog/casa-reading-incorrect-number-of-bytes-wmpi.html" rel="alternate"></link><published>2021-12-02T08:15:00-07:00</published><updated>2021-12-02T08:15:00-07:00</updated><author><name>Adam Ginsburg (Adam.G.Ginsburg@gmail.com)</name></author><id>tag:keflavich.github.io,2021-12-02:/blog/casa-reading-incorrect-number-of-bytes-wmpi.html</id><summary type="html">&lt;p&gt;Running big MPI runs again, I encounter errors like these one:&lt;/p&gt;
&lt;pre class="literal-block"&gt;
2021-12-02 07:02:26      WARN    MPICommandServer::command_request_handler_service::SynthesisImagerVi2::CubeMajorCycle::MPIServer-25 (file src/code/synthesis/ImagerObjects/CubeMajorCycleAlgorithm.cc, line 336)        Exception for chan range [1434, 1445] ---   FilebufIO::readBlock - incorr
ect number of bytes read for file /blue …&lt;/pre&gt;</summary><content type="html">&lt;p&gt;Running big MPI runs again, I encounter errors like these one:&lt;/p&gt;
&lt;pre class="literal-block"&gt;
2021-12-02 07:02:26      WARN    MPICommandServer::command_request_handler_service::SynthesisImagerVi2::CubeMajorCycle::MPIServer-25 (file src/code/synthesis/ImagerObjects/CubeMajorCycleAlgorithm.cc, line 336)        Exception for chan range [1434, 1445] ---   FilebufIO::readBlock - incorr
ect number of bytes read for file /blue/adamginsburg/adamginsburg/almaimf/workdir/G327.29_B6_spw7_12M_spw7.sumwt/table.f0
##################################
#############################
Exception: FilebufIO::readBlock - incorrect number of bytes read for file /blue/adamginsburg/adamginsburg/almaimf/workdir/G327.29_B6_spw7_12M_spw7.sumwt/table.f0


2021-12-02 06:03:53        WARN    MPICommandServer::command_request_handler_service::SynthesisImagerVi2::CubeMajorCycle::MPIServer-13 (file src/code/synthesis/ImagerObjects/CubeMajorCycleAlgorithm.cc, line 336)        Exception for chan range [550, 560] ---   FilebufIO::readBlock - incorrect number
 of bytes read for file /blue/adamginsburg/adamginsburg/almaimf/workdir/G327.29_B6_spw4_12M_spw4.sumwt/table.f0
##################################
#############################
Exception: FilebufIO::readBlock - incorrect number of bytes read for file /blue/adamginsburg/adamginsburg/almaimf/workdir/G327.29_B6_spw4_12M_spw4.sumwt/table.f0

2021-12-02 04:57:21 WARN    MPICommandServer::command_request_handler_service::SynthesisImagerVi2::CubeMajorCycle::MPIServer-9 (file src/code/synthesis/ImagerObjects/CubeMajorCycleAlgorithm.cc, line 336) Exception for chan range [1563, 1574] ---   FilebufIO::readBlock
- incorrect number of bytes read for file /blue/adamginsburg/adamginsburg/almaimf/workdir/G327.29_B6_spw0_12M_spw0.sumwt/table.f0
##################################
#############################
Exception: FilebufIO::readBlock - incorrect number of bytes read for file /blue/adamginsburg/adamginsburg/almaimf/workdir/G327.29_B6_spw0_12M_spw0.sumwt/table.f0
&lt;/pre&gt;
&lt;p&gt;This is only quasi-repeatable.  For spw4, it happened after the 8th Major Cycle
the first time, then the 6th Major Cycle the second time.  By repeating the
cleans over and over, I was able to eventually get the results to converge.
It looks like these crashes are sporadic but don't affect the data.&lt;/p&gt;
</content><category term="misc"></category><category term="casa"></category></entry><entry><title>CASA table locking with MPI</title><link href="https://keflavich.github.io/blog/casa-table-locking-with-mpi.html" rel="alternate"></link><published>2021-11-11T15:53:00-07:00</published><updated>2021-11-11T15:53:00-07:00</updated><author><name>Adam Ginsburg (Adam.G.Ginsburg@gmail.com)</name></author><id>tag:keflavich.github.io,2021-11-11:/blog/casa-table-locking-with-mpi.html</id><summary type="html">&lt;p&gt;A bunch of CASA MPI runs have race conditioned themselves into a corner, apparently:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="mi"&gt;2021&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="mi"&gt;11&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="mi"&gt;07&lt;/span&gt; &lt;span class="mi"&gt;23&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="mi"&gt;33&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="mi"&gt;10&lt;/span&gt;     &lt;span class="n"&gt;WARN&lt;/span&gt;    &lt;span class="n"&gt;MPICommandServer&lt;/span&gt;&lt;span class="p"&gt;::&lt;/span&gt;&lt;span class="n"&gt;command_request_handler_service&lt;/span&gt;&lt;span class="p"&gt;::&lt;/span&gt;&lt;span class="n"&gt;SynthesisImagerVi2&lt;/span&gt;&lt;span class="p"&gt;::&lt;/span&gt;&lt;span class="n"&gt;CubeMajorCycle&lt;/span&gt;&lt;span class="p"&gt;::&lt;/span&gt;&lt;span class="n"&gt;MPIServer&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="mi"&gt;5&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;file&lt;/span&gt; &lt;span class="n"&gt;src&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="n"&gt;code&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="n"&gt;synthesis&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="n"&gt;ImagerObjects&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="n"&gt;CubeMajorCycleAlgorithm&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;cc&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;line&lt;/span&gt; &lt;span class="mi"&gt;336&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="ne"&gt;Exception&lt;/span&gt; &lt;span class="k"&gt;for&lt;/span&gt; &lt;span class="n"&gt;chan&lt;/span&gt; &lt;span class="nb"&gt;range&lt;/span&gt; &lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="mi"&gt;104&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mi"&gt;129&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt; &lt;span class="o"&gt;---&lt;/span&gt;   &lt;span class="n"&gt;Setting&lt;/span&gt; &lt;span class="n"&gt;masked&lt;/span&gt; &lt;span class="n"&gt;pixels&lt;/span&gt; &lt;span class="n"&gt;to&lt;/span&gt; &lt;span class="n"&gt;zero …&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;</summary><content type="html">&lt;p&gt;A bunch of CASA MPI runs have race conditioned themselves into a corner, apparently:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="mi"&gt;2021&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="mi"&gt;11&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="mi"&gt;07&lt;/span&gt; &lt;span class="mi"&gt;23&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="mi"&gt;33&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="mi"&gt;10&lt;/span&gt;     &lt;span class="n"&gt;WARN&lt;/span&gt;    &lt;span class="n"&gt;MPICommandServer&lt;/span&gt;&lt;span class="p"&gt;::&lt;/span&gt;&lt;span class="n"&gt;command_request_handler_service&lt;/span&gt;&lt;span class="p"&gt;::&lt;/span&gt;&lt;span class="n"&gt;SynthesisImagerVi2&lt;/span&gt;&lt;span class="p"&gt;::&lt;/span&gt;&lt;span class="n"&gt;CubeMajorCycle&lt;/span&gt;&lt;span class="p"&gt;::&lt;/span&gt;&lt;span class="n"&gt;MPIServer&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="mi"&gt;5&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;file&lt;/span&gt; &lt;span class="n"&gt;src&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="n"&gt;code&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="n"&gt;synthesis&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="n"&gt;ImagerObjects&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="n"&gt;CubeMajorCycleAlgorithm&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;cc&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;line&lt;/span&gt; &lt;span class="mi"&gt;336&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="ne"&gt;Exception&lt;/span&gt; &lt;span class="k"&gt;for&lt;/span&gt; &lt;span class="n"&gt;chan&lt;/span&gt; &lt;span class="nb"&gt;range&lt;/span&gt; &lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="mi"&gt;104&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mi"&gt;129&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt; &lt;span class="o"&gt;---&lt;/span&gt;   &lt;span class="n"&gt;Setting&lt;/span&gt; &lt;span class="n"&gt;masked&lt;/span&gt; &lt;span class="n"&gt;pixels&lt;/span&gt; &lt;span class="n"&gt;to&lt;/span&gt; &lt;span class="n"&gt;zero&lt;/span&gt; &lt;span class="k"&gt;for&lt;/span&gt; &lt;span class="nb"&gt;input&lt;/span&gt; &lt;span class="n"&gt;startmodel&lt;/span&gt; &lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="n"&gt;Error&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;Resource&lt;/span&gt; &lt;span class="n"&gt;deadlock&lt;/span&gt; &lt;span class="n"&gt;avoided&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="n"&gt;when&lt;/span&gt; &lt;span class="n"&gt;acquiring&lt;/span&gt; &lt;span class="n"&gt;lock&lt;/span&gt; &lt;span class="n"&gt;on&lt;/span&gt; &lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="n"&gt;blue&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="n"&gt;adamginsburg&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="n"&gt;adamginsburg&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="n"&gt;almaimf&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="n"&gt;workdir&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="n"&gt;G351&lt;/span&gt;&lt;span class="mf"&gt;.77&lt;/span&gt;&lt;span class="n"&gt;_B6_spw1_12M_sio&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;contcube&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;model&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="n"&gt;table&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;lock&lt;/span&gt;
&lt;span class="c1"&gt;##################################&lt;/span&gt;
&lt;span class="c1"&gt;#############################&lt;/span&gt;
&lt;span class="ne"&gt;Exception&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="n"&gt;Setting&lt;/span&gt; &lt;span class="n"&gt;masked&lt;/span&gt; &lt;span class="n"&gt;pixels&lt;/span&gt; &lt;span class="n"&gt;to&lt;/span&gt; &lt;span class="n"&gt;zero&lt;/span&gt; &lt;span class="k"&gt;for&lt;/span&gt; &lt;span class="nb"&gt;input&lt;/span&gt; &lt;span class="n"&gt;startmodel&lt;/span&gt; &lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="n"&gt;Error&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;Resource&lt;/span&gt; &lt;span class="n"&gt;deadlock&lt;/span&gt; &lt;span class="n"&gt;avoided&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="n"&gt;when&lt;/span&gt; &lt;span class="n"&gt;acquiring&lt;/span&gt; &lt;span class="n"&gt;lock&lt;/span&gt; &lt;span class="n"&gt;on&lt;/span&gt; &lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="n"&gt;blue&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="n"&gt;adamginsburg&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="n"&gt;adamginsburg&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="n"&gt;almaimf&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="n"&gt;workdir&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="n"&gt;G351&lt;/span&gt;&lt;span class="mf"&gt;.77&lt;/span&gt;&lt;span class="n"&gt;_B6_spw1_12M_sio&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;contcube&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;model&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="n"&gt;table&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;lock&lt;/span&gt;
&lt;span class="mi"&gt;2021&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="mi"&gt;11&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="mi"&gt;07&lt;/span&gt; &lt;span class="mi"&gt;23&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="mi"&gt;33&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="mi"&gt;10&lt;/span&gt;     &lt;span class="n"&gt;WARN&lt;/span&gt;    &lt;span class="n"&gt;MPICommandServer&lt;/span&gt;&lt;span class="p"&gt;::&lt;/span&gt;&lt;span class="n"&gt;command_request_handler_service&lt;/span&gt;&lt;span class="p"&gt;::&lt;/span&gt;&lt;span class="n"&gt;SynthesisImagerVi2&lt;/span&gt;&lt;span class="p"&gt;::&lt;/span&gt;&lt;span class="n"&gt;CubeMajorCycle&lt;/span&gt;&lt;span class="p"&gt;::&lt;/span&gt;&lt;span class="n"&gt;MPIServer&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="mi"&gt;10&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;file&lt;/span&gt; &lt;span class="n"&gt;src&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="n"&gt;code&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="n"&gt;synthesis&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="n"&gt;ImagerObjects&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="n"&gt;CubeMajorCycleAlgorithm&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;cc&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;line&lt;/span&gt; &lt;span class="mi"&gt;336&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;        &lt;span class="ne"&gt;Exception&lt;/span&gt; &lt;span class="k"&gt;for&lt;/span&gt; &lt;span class="n"&gt;chan&lt;/span&gt; &lt;span class="nb"&gt;range&lt;/span&gt; &lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="mi"&gt;234&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mi"&gt;258&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt; &lt;span class="o"&gt;---&lt;/span&gt;   &lt;span class="n"&gt;Setting&lt;/span&gt; &lt;span class="n"&gt;masked&lt;/span&gt; &lt;span class="n"&gt;pixels&lt;/span&gt; &lt;span class="n"&gt;to&lt;/span&gt; &lt;span class="n"&gt;zero&lt;/span&gt; &lt;span class="k"&gt;for&lt;/span&gt; &lt;span class="nb"&gt;input&lt;/span&gt; &lt;span class="n"&gt;startmodel&lt;/span&gt; &lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="n"&gt;Error&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;Resource&lt;/span&gt; &lt;span class="n"&gt;deadlock&lt;/span&gt; &lt;span class="n"&gt;avoided&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="n"&gt;when&lt;/span&gt; &lt;span class="n"&gt;acquiring&lt;/span&gt; &lt;span class="n"&gt;lock&lt;/span&gt; &lt;span class="n"&gt;on&lt;/span&gt; &lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="n"&gt;blue&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="n"&gt;adamginsburg&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="n"&gt;adamginsburg&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="n"&gt;almaimf&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="n"&gt;workdir&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="n"&gt;G351&lt;/span&gt;&lt;span class="mf"&gt;.77&lt;/span&gt;&lt;span class="n"&gt;_B6_spw1_12M_sio&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;contcube&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;model&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="n"&gt;table&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;lock&lt;/span&gt;
&lt;span class="c1"&gt;##################################&lt;/span&gt;
&lt;span class="c1"&gt;#############################&lt;/span&gt;
&lt;span class="ne"&gt;Exception&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="n"&gt;Setting&lt;/span&gt; &lt;span class="n"&gt;masked&lt;/span&gt; &lt;span class="n"&gt;pixels&lt;/span&gt; &lt;span class="n"&gt;to&lt;/span&gt; &lt;span class="n"&gt;zero&lt;/span&gt; &lt;span class="k"&gt;for&lt;/span&gt; &lt;span class="nb"&gt;input&lt;/span&gt; &lt;span class="n"&gt;startmodel&lt;/span&gt; &lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="n"&gt;Error&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;Resource&lt;/span&gt; &lt;span class="n"&gt;deadlock&lt;/span&gt; &lt;span class="n"&gt;avoided&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="n"&gt;when&lt;/span&gt; &lt;span class="n"&gt;acquiring&lt;/span&gt; &lt;span class="n"&gt;lock&lt;/span&gt; &lt;span class="n"&gt;on&lt;/span&gt; &lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="n"&gt;blue&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="n"&gt;adamginsburg&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="n"&gt;adamginsburg&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="n"&gt;almaimf&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="n"&gt;workdir&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="n"&gt;G351&lt;/span&gt;&lt;span class="mf"&gt;.77&lt;/span&gt;&lt;span class="n"&gt;_B6_spw1_12M_sio&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;contcube&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;model&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="n"&gt;table&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;lock&lt;/span&gt;
&lt;span class="mi"&gt;2021&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="mi"&gt;11&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="mi"&gt;07&lt;/span&gt; &lt;span class="mi"&gt;23&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="mi"&gt;33&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="mi"&gt;10&lt;/span&gt;     &lt;span class="n"&gt;WARN&lt;/span&gt;    &lt;span class="n"&gt;MPICommandServer&lt;/span&gt;&lt;span class="p"&gt;::&lt;/span&gt;&lt;span class="n"&gt;command_request_handler_service&lt;/span&gt;&lt;span class="p"&gt;::&lt;/span&gt;&lt;span class="n"&gt;SynthesisImagerVi2&lt;/span&gt;&lt;span class="p"&gt;::&lt;/span&gt;&lt;span class="n"&gt;CubeMajorCycle&lt;/span&gt;&lt;span class="p"&gt;::&lt;/span&gt;&lt;span class="n"&gt;MPIServer&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="mi"&gt;9&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;file&lt;/span&gt; &lt;span class="n"&gt;src&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="n"&gt;code&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="n"&gt;synthesis&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="n"&gt;ImagerObjects&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="n"&gt;CubeMajorCycleAlgorithm&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;cc&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;line&lt;/span&gt; &lt;span class="mi"&gt;336&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="ne"&gt;Exception&lt;/span&gt; &lt;span class="k"&gt;for&lt;/span&gt; &lt;span class="n"&gt;chan&lt;/span&gt; &lt;span class="nb"&gt;range&lt;/span&gt; &lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="mi"&gt;208&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mi"&gt;233&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt; &lt;span class="o"&gt;---&lt;/span&gt;   &lt;span class="n"&gt;Setting&lt;/span&gt; &lt;span class="n"&gt;masked&lt;/span&gt; &lt;span class="n"&gt;pixels&lt;/span&gt; &lt;span class="n"&gt;to&lt;/span&gt; &lt;span class="n"&gt;zero&lt;/span&gt; &lt;span class="k"&gt;for&lt;/span&gt; &lt;span class="nb"&gt;input&lt;/span&gt; &lt;span class="n"&gt;startmodel&lt;/span&gt; &lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="n"&gt;Error&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;Resource&lt;/span&gt; &lt;span class="n"&gt;deadlock&lt;/span&gt; &lt;span class="n"&gt;avoided&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="n"&gt;when&lt;/span&gt; &lt;span class="n"&gt;acquiring&lt;/span&gt; &lt;span class="n"&gt;lock&lt;/span&gt; &lt;span class="n"&gt;on&lt;/span&gt; &lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="n"&gt;blue&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="n"&gt;adamginsburg&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="n"&gt;adamginsburg&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="n"&gt;almaimf&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="n"&gt;workdir&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="n"&gt;G351&lt;/span&gt;&lt;span class="mf"&gt;.77&lt;/span&gt;&lt;span class="n"&gt;_B6_spw1_12M_sio&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;contcube&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;model&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="n"&gt;table&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;lock&lt;/span&gt;
&lt;span class="c1"&gt;##################################&lt;/span&gt;
&lt;span class="c1"&gt;#############################&lt;/span&gt;
&lt;span class="ne"&gt;Exception&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="n"&gt;Setting&lt;/span&gt; &lt;span class="n"&gt;masked&lt;/span&gt; &lt;span class="n"&gt;pixels&lt;/span&gt; &lt;span class="n"&gt;to&lt;/span&gt; &lt;span class="n"&gt;zero&lt;/span&gt; &lt;span class="k"&gt;for&lt;/span&gt; &lt;span class="nb"&gt;input&lt;/span&gt; &lt;span class="n"&gt;startmodel&lt;/span&gt; &lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="n"&gt;Error&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;Resource&lt;/span&gt; &lt;span class="n"&gt;deadlock&lt;/span&gt; &lt;span class="n"&gt;avoided&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="n"&gt;when&lt;/span&gt; &lt;span class="n"&gt;acquiring&lt;/span&gt; &lt;span class="n"&gt;lock&lt;/span&gt; &lt;span class="n"&gt;on&lt;/span&gt; &lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="n"&gt;blue&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="n"&gt;adamginsburg&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="n"&gt;adamginsburg&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="n"&gt;almaimf&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="n"&gt;workdir&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="n"&gt;G351&lt;/span&gt;&lt;span class="mf"&gt;.77&lt;/span&gt;&lt;span class="n"&gt;_B6_spw1_12M_sio&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;contcube&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;model&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="n"&gt;table&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;lock&lt;/span&gt;
&lt;span class="mi"&gt;2021&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="mi"&gt;11&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="mi"&gt;07&lt;/span&gt; &lt;span class="mi"&gt;23&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="mi"&gt;33&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="mi"&gt;10&lt;/span&gt;     &lt;span class="n"&gt;WARN&lt;/span&gt;    &lt;span class="n"&gt;MPICommandServer&lt;/span&gt;&lt;span class="p"&gt;::&lt;/span&gt;&lt;span class="n"&gt;command_request_handler_service&lt;/span&gt;&lt;span class="p"&gt;::&lt;/span&gt;&lt;span class="n"&gt;SynthesisImagerVi2&lt;/span&gt;&lt;span class="p"&gt;::&lt;/span&gt;&lt;span class="n"&gt;CubeMajorCycle&lt;/span&gt;&lt;span class="p"&gt;::&lt;/span&gt;&lt;span class="n"&gt;MPIServer&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="mi"&gt;2&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;file&lt;/span&gt; &lt;span class="n"&gt;src&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="n"&gt;code&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="n"&gt;synthesis&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="n"&gt;ImagerObjects&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="n"&gt;CubeMajorCycleAlgorithm&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;cc&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;line&lt;/span&gt; &lt;span class="mi"&gt;336&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="ne"&gt;Exception&lt;/span&gt; &lt;span class="k"&gt;for&lt;/span&gt; &lt;span class="n"&gt;chan&lt;/span&gt; &lt;span class="nb"&gt;range&lt;/span&gt; &lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="mi"&gt;26&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mi"&gt;51&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt; &lt;span class="o"&gt;---&lt;/span&gt;   &lt;span class="n"&gt;Setting&lt;/span&gt; &lt;span class="n"&gt;masked&lt;/span&gt; &lt;span class="n"&gt;pixels&lt;/span&gt; &lt;span class="n"&gt;to&lt;/span&gt; &lt;span class="n"&gt;zero&lt;/span&gt; &lt;span class="k"&gt;for&lt;/span&gt; &lt;span class="nb"&gt;input&lt;/span&gt; &lt;span class="n"&gt;startmodel&lt;/span&gt; &lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="n"&gt;Error&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;Resource&lt;/span&gt; &lt;span class="n"&gt;deadlock&lt;/span&gt; &lt;span class="n"&gt;avoided&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="n"&gt;when&lt;/span&gt; &lt;span class="n"&gt;acquiring&lt;/span&gt; &lt;span class="n"&gt;lock&lt;/span&gt; &lt;span class="n"&gt;on&lt;/span&gt; &lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="n"&gt;blue&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="n"&gt;adamginsburg&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="n"&gt;adamginsburg&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="n"&gt;almaimf&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="n"&gt;workdir&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="n"&gt;G351&lt;/span&gt;&lt;span class="mf"&gt;.77&lt;/span&gt;&lt;span class="n"&gt;_B6_spw1_12M_sio&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;contcube&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;model&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="n"&gt;table&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;lock&lt;/span&gt;
&lt;span class="c1"&gt;##################################&lt;/span&gt;
&lt;span class="c1"&gt;#############################&lt;/span&gt;
&lt;span class="ne"&gt;Exception&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="n"&gt;Setting&lt;/span&gt; &lt;span class="n"&gt;masked&lt;/span&gt; &lt;span class="n"&gt;pixels&lt;/span&gt; &lt;span class="n"&gt;to&lt;/span&gt; &lt;span class="n"&gt;zero&lt;/span&gt; &lt;span class="k"&gt;for&lt;/span&gt; &lt;span class="nb"&gt;input&lt;/span&gt; &lt;span class="n"&gt;startmodel&lt;/span&gt; &lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="n"&gt;Error&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;Resource&lt;/span&gt; &lt;span class="n"&gt;deadlock&lt;/span&gt; &lt;span class="n"&gt;avoided&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="n"&gt;when&lt;/span&gt; &lt;span class="n"&gt;acquiring&lt;/span&gt; &lt;span class="n"&gt;lock&lt;/span&gt; &lt;span class="n"&gt;on&lt;/span&gt; &lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="n"&gt;blue&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="n"&gt;adamginsburg&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="n"&gt;adamginsburg&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="n"&gt;almaimf&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="n"&gt;workdir&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="n"&gt;G351&lt;/span&gt;&lt;span class="mf"&gt;.77&lt;/span&gt;&lt;span class="n"&gt;_B6_spw1_12M_sio&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;contcube&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;model&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="n"&gt;table&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;lock&lt;/span&gt;
&lt;span class="mi"&gt;2021&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="mi"&gt;11&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="mi"&gt;07&lt;/span&gt; &lt;span class="mi"&gt;23&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="mi"&gt;33&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="mi"&gt;10&lt;/span&gt;     &lt;span class="n"&gt;WARN&lt;/span&gt;    &lt;span class="n"&gt;MPICommandServer&lt;/span&gt;&lt;span class="p"&gt;::&lt;/span&gt;&lt;span class="n"&gt;command_request_handler_service&lt;/span&gt;&lt;span class="p"&gt;::&lt;/span&gt;&lt;span class="n"&gt;SynthesisImagerVi2&lt;/span&gt;&lt;span class="p"&gt;::&lt;/span&gt;&lt;span class="n"&gt;CubeMajorCycle&lt;/span&gt;&lt;span class="p"&gt;::&lt;/span&gt;&lt;span class="n"&gt;MPIServer&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="mi"&gt;15&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;file&lt;/span&gt; &lt;span class="n"&gt;src&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="n"&gt;code&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="n"&gt;synthesis&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="n"&gt;ImagerObjects&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="n"&gt;CubeMajorCycleAlgorithm&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;cc&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;line&lt;/span&gt; &lt;span class="mi"&gt;336&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;        &lt;span class="ne"&gt;Exception&lt;/span&gt; &lt;span class="k"&gt;for&lt;/span&gt; &lt;span class="n"&gt;chan&lt;/span&gt; &lt;span class="nb"&gt;range&lt;/span&gt; &lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="mi"&gt;359&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mi"&gt;383&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt; &lt;span class="o"&gt;---&lt;/span&gt;   &lt;span class="n"&gt;Setting&lt;/span&gt; &lt;span class="n"&gt;masked&lt;/span&gt; &lt;span class="n"&gt;pixels&lt;/span&gt; &lt;span class="n"&gt;to&lt;/span&gt; &lt;span class="n"&gt;zero&lt;/span&gt; &lt;span class="k"&gt;for&lt;/span&gt; &lt;span class="nb"&gt;input&lt;/span&gt; &lt;span class="n"&gt;startmodel&lt;/span&gt; &lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="n"&gt;Error&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;Resource&lt;/span&gt; &lt;span class="n"&gt;deadlock&lt;/span&gt; &lt;span class="n"&gt;avoided&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="n"&gt;when&lt;/span&gt; &lt;span class="n"&gt;acquiring&lt;/span&gt; &lt;span class="n"&gt;lock&lt;/span&gt; &lt;span class="n"&gt;on&lt;/span&gt; &lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="n"&gt;blue&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="n"&gt;adamginsburg&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="n"&gt;adamginsburg&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="n"&gt;almaimf&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="n"&gt;workdir&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="n"&gt;G351&lt;/span&gt;&lt;span class="mf"&gt;.77&lt;/span&gt;&lt;span class="n"&gt;_B6_spw1_12M_sio&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;contcube&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;model&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="n"&gt;table&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;lock&lt;/span&gt;
&lt;span class="c1"&gt;##################################&lt;/span&gt;
&lt;span class="c1"&gt;#############################&lt;/span&gt;
&lt;span class="ne"&gt;Exception&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="n"&gt;Setting&lt;/span&gt; &lt;span class="n"&gt;masked&lt;/span&gt; &lt;span class="n"&gt;pixels&lt;/span&gt; &lt;span class="n"&gt;to&lt;/span&gt; &lt;span class="n"&gt;zero&lt;/span&gt; &lt;span class="k"&gt;for&lt;/span&gt; &lt;span class="nb"&gt;input&lt;/span&gt; &lt;span class="n"&gt;startmodel&lt;/span&gt; &lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="n"&gt;Error&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;Resource&lt;/span&gt; &lt;span class="n"&gt;deadlock&lt;/span&gt; &lt;span class="n"&gt;avoided&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="n"&gt;when&lt;/span&gt; &lt;span class="n"&gt;acquiring&lt;/span&gt; &lt;span class="n"&gt;lock&lt;/span&gt; &lt;span class="n"&gt;on&lt;/span&gt; &lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="n"&gt;blue&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="n"&gt;adamginsburg&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="n"&gt;adamginsburg&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="n"&gt;almaimf&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="n"&gt;workdir&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="n"&gt;G351&lt;/span&gt;&lt;span class="mf"&gt;.77&lt;/span&gt;&lt;span class="n"&gt;_B6_spw1_12M_sio&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;contcube&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;model&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="n"&gt;table&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;lock&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;This shows up in ~10 runs that I started around the same time, but I don't usually see it.&lt;/p&gt;
&lt;p&gt;This looks like a serious bug having to do with using a startmodel: there is a line earlier copying the startmodel to the model:&lt;/p&gt;
&lt;pre class="literal-block"&gt;
2021-11-07 23:27:44     INFO    SIImageStore::setModelImageOne  Copying input model /blue/adamginsburg/adamginsburg/almaimf/workdir//G351.77_B6_spw1_12M_sio.contcube.model to /blue/adamginsburg/adamginsburg/almaimf/workdir/G351.77_B6_spw1_12M_sio.model
&lt;/pre&gt;
&lt;p&gt;but MPI seems to have gotten mixed up and is sill trying to write to the contcube.model&lt;/p&gt;
</content><category term="misc"></category><category term="casa"></category></entry><entry><title>CASA doesn't like VaryingResolutionSpectralCubes</title><link href="https://keflavich.github.io/blog/casa-doesnt-like-varyingresolutionspectralcubes.html" rel="alternate"></link><published>2021-11-09T19:53:00-07:00</published><updated>2021-11-09T19:53:00-07:00</updated><author><name>Adam Ginsburg (Adam.G.Ginsburg@gmail.com)</name></author><id>tag:keflavich.github.io,2021-11-09:/blog/casa-doesnt-like-varyingresolutionspectralcubes.html</id><summary type="html">&lt;p&gt;I get this from trying to run &lt;tt class="docutils literal"&gt;makemask&lt;/tt&gt;:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt; &lt;span class="n"&gt;makemask&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;mode&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;copy&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;
         &lt;span class="n"&gt;inpimage&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="n"&gt;lineimagename&lt;/span&gt;&lt;span class="o"&gt;+&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;.image&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;
         &lt;span class="n"&gt;inpmask&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="n"&gt;lineimagename&lt;/span&gt;&lt;span class="o"&gt;+&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;.image:mask0&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;
         &lt;span class="n"&gt;output&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="n"&gt;lineimagename&lt;/span&gt;&lt;span class="o"&gt;+&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;.mask&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;

 &lt;span class="mi"&gt;2021&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="mi"&gt;11&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="mi"&gt;09&lt;/span&gt; &lt;span class="mi"&gt;02&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="mi"&gt;27&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="mi"&gt;10&lt;/span&gt;     &lt;span class="n"&gt;INFO&lt;/span&gt;    &lt;span class="n"&gt;makemask&lt;/span&gt;&lt;span class="p"&gt;::::&lt;/span&gt;&lt;span class="n"&gt;casa&lt;/span&gt;        &lt;span class="c1"&gt;##########################################&lt;/span&gt;
 &lt;span class="mi"&gt;2021&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="mi"&gt;11&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="mi"&gt;09&lt;/span&gt; &lt;span class="mi"&gt;02&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="mi"&gt;27&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="mi"&gt;10&lt;/span&gt;     &lt;span class="n"&gt;INFO&lt;/span&gt;    &lt;span class="n"&gt;makemask&lt;/span&gt;&lt;span class="p"&gt;::::&lt;/span&gt;&lt;span class="n"&gt;casa&lt;/span&gt;        &lt;span class="c1"&gt;##### Begin Task: makemask           #####&lt;/span&gt;
 &lt;span class="mi"&gt;2021&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="mi"&gt;11&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="mi"&gt;09&lt;/span&gt; &lt;span class="mi"&gt;02&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="mi"&gt;27&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="mi"&gt;10&lt;/span&gt;     &lt;span class="n"&gt;INFO&lt;/span&gt;    &lt;span class="n"&gt;makemask …&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;</summary><content type="html">&lt;p&gt;I get this from trying to run &lt;tt class="docutils literal"&gt;makemask&lt;/tt&gt;:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt; &lt;span class="n"&gt;makemask&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;mode&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;copy&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;
         &lt;span class="n"&gt;inpimage&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="n"&gt;lineimagename&lt;/span&gt;&lt;span class="o"&gt;+&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;.image&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;
         &lt;span class="n"&gt;inpmask&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="n"&gt;lineimagename&lt;/span&gt;&lt;span class="o"&gt;+&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;.image:mask0&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;
         &lt;span class="n"&gt;output&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="n"&gt;lineimagename&lt;/span&gt;&lt;span class="o"&gt;+&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;.mask&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;

 &lt;span class="mi"&gt;2021&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="mi"&gt;11&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="mi"&gt;09&lt;/span&gt; &lt;span class="mi"&gt;02&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="mi"&gt;27&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="mi"&gt;10&lt;/span&gt;     &lt;span class="n"&gt;INFO&lt;/span&gt;    &lt;span class="n"&gt;makemask&lt;/span&gt;&lt;span class="p"&gt;::::&lt;/span&gt;&lt;span class="n"&gt;casa&lt;/span&gt;        &lt;span class="c1"&gt;##########################################&lt;/span&gt;
 &lt;span class="mi"&gt;2021&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="mi"&gt;11&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="mi"&gt;09&lt;/span&gt; &lt;span class="mi"&gt;02&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="mi"&gt;27&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="mi"&gt;10&lt;/span&gt;     &lt;span class="n"&gt;INFO&lt;/span&gt;    &lt;span class="n"&gt;makemask&lt;/span&gt;&lt;span class="p"&gt;::::&lt;/span&gt;&lt;span class="n"&gt;casa&lt;/span&gt;        &lt;span class="c1"&gt;##### Begin Task: makemask           #####&lt;/span&gt;
 &lt;span class="mi"&gt;2021&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="mi"&gt;11&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="mi"&gt;09&lt;/span&gt; &lt;span class="mi"&gt;02&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="mi"&gt;27&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="mi"&gt;10&lt;/span&gt;     &lt;span class="n"&gt;INFO&lt;/span&gt;    &lt;span class="n"&gt;makemask&lt;/span&gt;&lt;span class="p"&gt;::::&lt;/span&gt;&lt;span class="n"&gt;casa&lt;/span&gt;        &lt;span class="n"&gt;makemask&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt; &lt;span class="n"&gt;mode&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;copy&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;inpimage&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;/blue/adamginsburg/adamginsburg/almaimf/workdir/G353.41_B6_spw5_12M_spw5.image&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;inpmask&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;/blue/adamginsburg/adamginsburg/almaimf/workdir/G353.41_B6_spw5_12M_spw5.image:mask0&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;output&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;/blue/adamginsburg/adamginsburg/almaimf/workdir/G353.41_B6_spw5_12M_spw5.mask&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;overwrite&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="kc"&gt;False&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;inpfreqs&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="p"&gt;[],&lt;/span&gt; &lt;span class="n"&gt;outfreqs&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="p"&gt;[]&lt;/span&gt; &lt;span class="p"&gt;)&lt;/span&gt;
 &lt;span class="mi"&gt;2021&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="mi"&gt;11&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="mi"&gt;09&lt;/span&gt; &lt;span class="mi"&gt;02&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="mi"&gt;27&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="mi"&gt;11&lt;/span&gt;     &lt;span class="n"&gt;INFO&lt;/span&gt;    &lt;span class="n"&gt;makemask&lt;/span&gt;&lt;span class="p"&gt;::&lt;/span&gt;&lt;span class="n"&gt;ImageFactory&lt;/span&gt;&lt;span class="p"&gt;::&lt;/span&gt;&lt;span class="n"&gt;createImage&lt;/span&gt;     &lt;span class="n"&gt;Created&lt;/span&gt; &lt;span class="n"&gt;Paged&lt;/span&gt; &lt;span class="n"&gt;image&lt;/span&gt; &lt;span class="s1"&gt;&amp;#39;__tmp_outputmask_22199&amp;#39;&lt;/span&gt; &lt;span class="n"&gt;of&lt;/span&gt; &lt;span class="n"&gt;shape&lt;/span&gt; &lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="mi"&gt;1080&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mi"&gt;900&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mi"&gt;480&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt; &lt;span class="k"&gt;with&lt;/span&gt; &lt;span class="nb"&gt;float&lt;/span&gt; &lt;span class="n"&gt;valued&lt;/span&gt; &lt;span class="n"&gt;pixels&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;
 &lt;span class="mi"&gt;2021&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="mi"&gt;11&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="mi"&gt;09&lt;/span&gt; &lt;span class="mi"&gt;02&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="mi"&gt;27&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="mi"&gt;11&lt;/span&gt;     &lt;span class="n"&gt;INFO&lt;/span&gt;    &lt;span class="n"&gt;makemask&lt;/span&gt;&lt;span class="p"&gt;::::&lt;/span&gt;&lt;span class="n"&gt;casa&lt;/span&gt;        &lt;span class="n"&gt;Summing&lt;/span&gt; &lt;span class="nb"&gt;all&lt;/span&gt; &lt;span class="n"&gt;T&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="n"&gt;F&lt;/span&gt; &lt;span class="n"&gt;mask&lt;/span&gt; &lt;span class="ow"&gt;in&lt;/span&gt; &lt;span class="n"&gt;inpmask&lt;/span&gt; &lt;span class="ow"&gt;and&lt;/span&gt; &lt;span class="n"&gt;normalized&lt;/span&gt; &lt;span class="n"&gt;to&lt;/span&gt; &lt;span class="mi"&gt;1&lt;/span&gt; &lt;span class="k"&gt;for&lt;/span&gt; &lt;span class="n"&gt;mask&lt;/span&gt;
 &lt;span class="mi"&gt;2021&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="mi"&gt;11&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="mi"&gt;09&lt;/span&gt; &lt;span class="mi"&gt;02&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="mi"&gt;27&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="mi"&gt;51&lt;/span&gt;     &lt;span class="n"&gt;SEVERE&lt;/span&gt;  &lt;span class="n"&gt;image&lt;/span&gt;&lt;span class="p"&gt;::&lt;/span&gt;&lt;span class="n"&gt;regrid&lt;/span&gt;   &lt;span class="ne"&gt;Exception&lt;/span&gt; &lt;span class="n"&gt;Reported&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="ne"&gt;Exception&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="n"&gt;An&lt;/span&gt; &lt;span class="n"&gt;image&lt;/span&gt; &lt;span class="k"&gt;with&lt;/span&gt; &lt;span class="n"&gt;multiple&lt;/span&gt; &lt;span class="n"&gt;beams&lt;/span&gt; &lt;span class="n"&gt;cannot&lt;/span&gt; &lt;span class="n"&gt;be&lt;/span&gt; &lt;span class="n"&gt;regridded&lt;/span&gt; &lt;span class="n"&gt;along&lt;/span&gt; &lt;span class="n"&gt;the&lt;/span&gt; &lt;span class="n"&gt;spectral&lt;/span&gt; &lt;span class="n"&gt;axis&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt; &lt;span class="n"&gt;You&lt;/span&gt; &lt;span class="n"&gt;may&lt;/span&gt; &lt;span class="n"&gt;wish&lt;/span&gt; &lt;span class="n"&gt;to&lt;/span&gt; &lt;span class="n"&gt;convolve&lt;/span&gt; &lt;span class="nb"&gt;all&lt;/span&gt; &lt;span class="n"&gt;channels&lt;/span&gt; &lt;span class="n"&gt;to&lt;/span&gt; &lt;span class="n"&gt;a&lt;/span&gt; &lt;span class="n"&gt;common&lt;/span&gt; &lt;span class="n"&gt;resolution&lt;/span&gt; &lt;span class="ow"&gt;and&lt;/span&gt; &lt;span class="n"&gt;retry&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;
 &lt;span class="mi"&gt;2021&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="mi"&gt;11&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="mi"&gt;09&lt;/span&gt; &lt;span class="mi"&gt;02&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="mi"&gt;27&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="mi"&gt;51&lt;/span&gt;     &lt;span class="n"&gt;SEVERE&lt;/span&gt;  &lt;span class="n"&gt;image&lt;/span&gt;&lt;span class="p"&gt;::&lt;/span&gt;&lt;span class="n"&gt;regrid&lt;/span&gt;&lt;span class="o"&gt;+&lt;/span&gt;  &lt;span class="o"&gt;...&lt;/span&gt; &lt;span class="n"&gt;thrown&lt;/span&gt; &lt;span class="n"&gt;by&lt;/span&gt; &lt;span class="n"&gt;std&lt;/span&gt;&lt;span class="p"&gt;::&lt;/span&gt;&lt;span class="n"&gt;shared_ptr&lt;/span&gt;&lt;span class="o"&gt;&amp;lt;&lt;/span&gt;&lt;span class="n"&gt;casa6core&lt;/span&gt;&lt;span class="p"&gt;::&lt;/span&gt;&lt;span class="n"&gt;ImageInterface&lt;/span&gt;&lt;span class="o"&gt;&amp;lt;&lt;/span&gt;&lt;span class="n"&gt;T&lt;/span&gt;&lt;span class="o"&gt;&amp;gt;&lt;/span&gt; &lt;span class="o"&gt;&amp;gt;&lt;/span&gt; &lt;span class="n"&gt;casa&lt;/span&gt;&lt;span class="p"&gt;::&lt;/span&gt;&lt;span class="n"&gt;ImageRegridder&lt;/span&gt;&lt;span class="o"&gt;&amp;lt;&lt;/span&gt;&lt;span class="n"&gt;T&lt;/span&gt;&lt;span class="o"&gt;&amp;gt;&lt;/span&gt;&lt;span class="p"&gt;::&lt;/span&gt;&lt;span class="n"&gt;regrid&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt; &lt;span class="n"&gt;const&lt;/span&gt; &lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="k"&gt;with&lt;/span&gt; &lt;span class="n"&gt;T&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="nb"&gt;float&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt; &lt;span class="n"&gt;at&lt;/span&gt; &lt;span class="n"&gt;File&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="n"&gt;src&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="n"&gt;code&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="n"&gt;imageanalysis&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="n"&gt;ImageAnalysis&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="n"&gt;ImageRegridder&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;tcc&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;line&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="mi"&gt;102&lt;/span&gt;
 &lt;span class="mi"&gt;2021&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="mi"&gt;11&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="mi"&gt;09&lt;/span&gt; &lt;span class="mi"&gt;02&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="mi"&gt;27&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="mi"&gt;52&lt;/span&gt;     &lt;span class="n"&gt;INFO&lt;/span&gt;            &lt;span class="n"&gt;deleted&lt;/span&gt; &lt;span class="n"&gt;table&lt;/span&gt; &lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="n"&gt;blue&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="n"&gt;adamginsburg&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="n"&gt;adamginsburg&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="n"&gt;almaimf&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="n"&gt;workdir&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="n"&gt;G353&lt;/span&gt;&lt;span class="mf"&gt;.41&lt;/span&gt;&lt;span class="n"&gt;_spw5_12M_B6&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="n"&gt;_tmp_copy___tmp_frominmask_22199&lt;/span&gt;
 &lt;span class="mi"&gt;2021&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="mi"&gt;11&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="mi"&gt;09&lt;/span&gt; &lt;span class="mi"&gt;02&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="mi"&gt;27&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="mi"&gt;56&lt;/span&gt;     &lt;span class="n"&gt;SEVERE&lt;/span&gt;  &lt;span class="n"&gt;image&lt;/span&gt;&lt;span class="p"&gt;::&lt;/span&gt;&lt;span class="n"&gt;calc&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;file&lt;/span&gt; &lt;span class="n"&gt;src&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="n"&gt;tools&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="n"&gt;image&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="n"&gt;image_cmpt&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;cc&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;line&lt;/span&gt; &lt;span class="mi"&gt;553&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;      &lt;span class="ne"&gt;Exception&lt;/span&gt; &lt;span class="n"&gt;Reported&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="n"&gt;ImageExprParse&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="s1"&gt;&amp;#39;__tmp_fromTFmask_22199&amp;#39;&lt;/span&gt; &lt;span class="ow"&gt;is&lt;/span&gt; &lt;span class="n"&gt;an&lt;/span&gt; &lt;span class="n"&gt;unknown&lt;/span&gt; &lt;span class="n"&gt;lattice&lt;/span&gt; &lt;span class="ow"&gt;or&lt;/span&gt; &lt;span class="n"&gt;image&lt;/span&gt; &lt;span class="ow"&gt;or&lt;/span&gt; &lt;span class="n"&gt;it&lt;/span&gt; &lt;span class="ow"&gt;is&lt;/span&gt; &lt;span class="n"&gt;an&lt;/span&gt; &lt;span class="n"&gt;unqualified&lt;/span&gt; &lt;span class="n"&gt;region&lt;/span&gt;
 &lt;span class="mi"&gt;2021&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="mi"&gt;11&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="mi"&gt;09&lt;/span&gt; &lt;span class="mi"&gt;02&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="mi"&gt;27&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="mi"&gt;56&lt;/span&gt;     &lt;span class="n"&gt;SEVERE&lt;/span&gt;  &lt;span class="n"&gt;image&lt;/span&gt;&lt;span class="p"&gt;::&lt;/span&gt;&lt;span class="n"&gt;calc&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;file&lt;/span&gt; &lt;span class="n"&gt;src&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="n"&gt;tools&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="n"&gt;image&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="n"&gt;image_cmpt&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;cc&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;line&lt;/span&gt; &lt;span class="mi"&gt;553&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;&lt;span class="o"&gt;+&lt;/span&gt;     &lt;span class="n"&gt;Scanned&lt;/span&gt; &lt;span class="n"&gt;so&lt;/span&gt; &lt;span class="n"&gt;far&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="n"&gt;iif&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;__tmp_fromTFmask_22199&amp;quot;&lt;/span&gt;
 &lt;span class="mi"&gt;2021&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="mi"&gt;11&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="mi"&gt;09&lt;/span&gt; &lt;span class="mi"&gt;02&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="mi"&gt;27&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="mi"&gt;56&lt;/span&gt;     &lt;span class="n"&gt;SEVERE&lt;/span&gt;  &lt;span class="n"&gt;makemask&lt;/span&gt;&lt;span class="p"&gt;::::&lt;/span&gt;&lt;span class="n"&gt;casa&lt;/span&gt;        &lt;span class="n"&gt;Task&lt;/span&gt; &lt;span class="n"&gt;makemask&lt;/span&gt; &lt;span class="n"&gt;raised&lt;/span&gt; &lt;span class="n"&gt;an&lt;/span&gt; &lt;span class="n"&gt;exception&lt;/span&gt; &lt;span class="n"&gt;of&lt;/span&gt; &lt;span class="k"&gt;class&lt;/span&gt; &lt;span class="nc"&gt;RuntimeError&lt;/span&gt; &lt;span class="k"&gt;with&lt;/span&gt; &lt;span class="n"&gt;the&lt;/span&gt; &lt;span class="n"&gt;following&lt;/span&gt; &lt;span class="n"&gt;message&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="o"&gt;***&lt;/span&gt; &lt;span class="n"&gt;Error&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="mi"&gt;2&lt;/span&gt;&lt;span class="p"&gt;),&lt;/span&gt; &lt;span class="ow"&gt;in&lt;/span&gt; &lt;span class="n"&gt;mode&lt;/span&gt; &lt;span class="n"&gt;copy&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="o"&gt;***&lt;/span&gt; &lt;span class="n"&gt;ImageExprParse&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="s1"&gt;&amp;#39;__tmp_fromTFmask_22199&amp;#39;&lt;/span&gt; &lt;span class="ow"&gt;is&lt;/span&gt; &lt;span class="n"&gt;an&lt;/span&gt; &lt;span class="n"&gt;unknown&lt;/span&gt; &lt;span class="n"&gt;lattice&lt;/span&gt; &lt;span class="ow"&gt;or&lt;/span&gt; &lt;span class="n"&gt;image&lt;/span&gt; &lt;span class="ow"&gt;or&lt;/span&gt; &lt;span class="n"&gt;it&lt;/span&gt; &lt;span class="ow"&gt;is&lt;/span&gt; &lt;span class="n"&gt;an&lt;/span&gt; &lt;span class="n"&gt;unqualified&lt;/span&gt; &lt;span class="n"&gt;region&lt;/span&gt;
 &lt;span class="mi"&gt;2021&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="mi"&gt;11&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="mi"&gt;09&lt;/span&gt; &lt;span class="mi"&gt;02&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="mi"&gt;27&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="mi"&gt;56&lt;/span&gt;     &lt;span class="n"&gt;SEVERE&lt;/span&gt;  &lt;span class="n"&gt;makemask&lt;/span&gt;&lt;span class="p"&gt;::::&lt;/span&gt;&lt;span class="n"&gt;casa&lt;/span&gt;&lt;span class="o"&gt;+&lt;/span&gt;       &lt;span class="n"&gt;Scanned&lt;/span&gt; &lt;span class="n"&gt;so&lt;/span&gt; &lt;span class="n"&gt;far&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="n"&gt;iif&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;__tmp_fromTFmask_22199&amp;quot;&lt;/span&gt;
 &lt;span class="mi"&gt;2021&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="mi"&gt;11&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="mi"&gt;09&lt;/span&gt; &lt;span class="mi"&gt;02&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="mi"&gt;27&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="mi"&gt;56&lt;/span&gt;     &lt;span class="n"&gt;INFO&lt;/span&gt;    &lt;span class="n"&gt;makemask&lt;/span&gt;&lt;span class="p"&gt;::::&lt;/span&gt;&lt;span class="n"&gt;casa&lt;/span&gt;        &lt;span class="n"&gt;Task&lt;/span&gt; &lt;span class="n"&gt;makemask&lt;/span&gt; &lt;span class="n"&gt;complete&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt; &lt;span class="n"&gt;Start&lt;/span&gt; &lt;span class="n"&gt;time&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="mi"&gt;2021&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="mi"&gt;11&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="mi"&gt;08&lt;/span&gt; &lt;span class="mi"&gt;21&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="mi"&gt;27&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="mf"&gt;09.614534&lt;/span&gt; &lt;span class="n"&gt;End&lt;/span&gt; &lt;span class="n"&gt;time&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="mi"&gt;2021&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="mi"&gt;11&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="mi"&gt;08&lt;/span&gt; &lt;span class="mi"&gt;21&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="mi"&gt;27&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="mf"&gt;56.399654&lt;/span&gt;
 &lt;span class="mi"&gt;2021&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="mi"&gt;11&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="mi"&gt;09&lt;/span&gt; &lt;span class="mi"&gt;02&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="mi"&gt;27&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="mi"&gt;56&lt;/span&gt;     &lt;span class="n"&gt;INFO&lt;/span&gt;    &lt;span class="n"&gt;makemask&lt;/span&gt;&lt;span class="p"&gt;::::&lt;/span&gt;&lt;span class="n"&gt;casa&lt;/span&gt;        &lt;span class="c1"&gt;##### End Task: makemask             #####&lt;/span&gt;
 &lt;span class="mi"&gt;2021&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="mi"&gt;11&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="mi"&gt;09&lt;/span&gt; &lt;span class="mi"&gt;02&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="mi"&gt;27&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="mi"&gt;56&lt;/span&gt;     &lt;span class="n"&gt;INFO&lt;/span&gt;    &lt;span class="n"&gt;makemask&lt;/span&gt;&lt;span class="p"&gt;::::&lt;/span&gt;&lt;span class="n"&gt;casa&lt;/span&gt;        &lt;span class="c1"&gt;##########################################&lt;/span&gt;


&lt;span class="mi"&gt;2021&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="mi"&gt;11&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="mi"&gt;09&lt;/span&gt; &lt;span class="mi"&gt;02&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="mi"&gt;27&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="mi"&gt;51&lt;/span&gt;     &lt;span class="n"&gt;SEVERE&lt;/span&gt;  &lt;span class="n"&gt;image&lt;/span&gt;&lt;span class="p"&gt;::&lt;/span&gt;&lt;span class="n"&gt;regrid&lt;/span&gt;   &lt;span class="ne"&gt;Exception&lt;/span&gt; &lt;span class="n"&gt;Reported&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="ne"&gt;Exception&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="n"&gt;An&lt;/span&gt; &lt;span class="n"&gt;image&lt;/span&gt; &lt;span class="k"&gt;with&lt;/span&gt; &lt;span class="n"&gt;multiple&lt;/span&gt; &lt;span class="n"&gt;beams&lt;/span&gt; &lt;span class="n"&gt;cannot&lt;/span&gt; &lt;span class="n"&gt;be&lt;/span&gt; &lt;span class="n"&gt;regridded&lt;/span&gt; &lt;span class="n"&gt;along&lt;/span&gt; &lt;span class="n"&gt;the&lt;/span&gt; &lt;span class="n"&gt;spectral&lt;/span&gt; &lt;span class="n"&gt;axis&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt; &lt;span class="n"&gt;You&lt;/span&gt; &lt;span class="n"&gt;may&lt;/span&gt; &lt;span class="n"&gt;wish&lt;/span&gt; &lt;span class="n"&gt;to&lt;/span&gt; &lt;span class="n"&gt;convolve&lt;/span&gt; &lt;span class="nb"&gt;all&lt;/span&gt; &lt;span class="n"&gt;channels&lt;/span&gt; &lt;span class="n"&gt;to&lt;/span&gt; &lt;span class="n"&gt;a&lt;/span&gt; &lt;span class="n"&gt;common&lt;/span&gt;
 &lt;span class="n"&gt;resolution&lt;/span&gt; &lt;span class="ow"&gt;and&lt;/span&gt; &lt;span class="n"&gt;retry&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;
&lt;span class="mi"&gt;2021&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="mi"&gt;11&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="mi"&gt;09&lt;/span&gt; &lt;span class="mi"&gt;02&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="mi"&gt;27&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="mi"&gt;51&lt;/span&gt;     &lt;span class="n"&gt;SEVERE&lt;/span&gt;  &lt;span class="n"&gt;image&lt;/span&gt;&lt;span class="p"&gt;::&lt;/span&gt;&lt;span class="n"&gt;regrid&lt;/span&gt;&lt;span class="o"&gt;+&lt;/span&gt;  &lt;span class="o"&gt;...&lt;/span&gt; &lt;span class="n"&gt;thrown&lt;/span&gt; &lt;span class="n"&gt;by&lt;/span&gt; &lt;span class="n"&gt;std&lt;/span&gt;&lt;span class="p"&gt;::&lt;/span&gt;&lt;span class="n"&gt;shared_ptr&lt;/span&gt;&lt;span class="o"&gt;&amp;lt;&lt;/span&gt;&lt;span class="n"&gt;casa6core&lt;/span&gt;&lt;span class="p"&gt;::&lt;/span&gt;&lt;span class="n"&gt;ImageInterface&lt;/span&gt;&lt;span class="o"&gt;&amp;lt;&lt;/span&gt;&lt;span class="n"&gt;T&lt;/span&gt;&lt;span class="o"&gt;&amp;gt;&lt;/span&gt; &lt;span class="o"&gt;&amp;gt;&lt;/span&gt; &lt;span class="n"&gt;casa&lt;/span&gt;&lt;span class="p"&gt;::&lt;/span&gt;&lt;span class="n"&gt;ImageRegridder&lt;/span&gt;&lt;span class="o"&gt;&amp;lt;&lt;/span&gt;&lt;span class="n"&gt;T&lt;/span&gt;&lt;span class="o"&gt;&amp;gt;&lt;/span&gt;&lt;span class="p"&gt;::&lt;/span&gt;&lt;span class="n"&gt;regrid&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt; &lt;span class="n"&gt;const&lt;/span&gt; &lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="k"&gt;with&lt;/span&gt; &lt;span class="n"&gt;T&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="nb"&gt;float&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt; &lt;span class="n"&gt;at&lt;/span&gt; &lt;span class="n"&gt;File&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="n"&gt;src&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="n"&gt;code&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="n"&gt;imageanalysis&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="n"&gt;Imag&lt;/span&gt;
&lt;span class="n"&gt;eAnalysis&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="n"&gt;ImageRegridder&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;tcc&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;line&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="mi"&gt;102&lt;/span&gt;
&lt;span class="mi"&gt;2021&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="mi"&gt;11&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="mi"&gt;09&lt;/span&gt; &lt;span class="mi"&gt;02&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="mi"&gt;27&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="mi"&gt;56&lt;/span&gt;     &lt;span class="n"&gt;SEVERE&lt;/span&gt;  &lt;span class="n"&gt;image&lt;/span&gt;&lt;span class="p"&gt;::&lt;/span&gt;&lt;span class="n"&gt;calc&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;file&lt;/span&gt; &lt;span class="n"&gt;src&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="n"&gt;tools&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="n"&gt;image&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="n"&gt;image_cmpt&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;cc&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;line&lt;/span&gt; &lt;span class="mi"&gt;553&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;      &lt;span class="ne"&gt;Exception&lt;/span&gt; &lt;span class="n"&gt;Reported&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="n"&gt;ImageExprParse&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="s1"&gt;&amp;#39;__tmp_fromTFmask_22199&amp;#39;&lt;/span&gt; &lt;span class="ow"&gt;is&lt;/span&gt; &lt;span class="n"&gt;an&lt;/span&gt; &lt;span class="n"&gt;unknown&lt;/span&gt; &lt;span class="n"&gt;lattice&lt;/span&gt; &lt;span class="ow"&gt;or&lt;/span&gt; &lt;span class="n"&gt;image&lt;/span&gt; &lt;span class="ow"&gt;or&lt;/span&gt; &lt;span class="n"&gt;it&lt;/span&gt; &lt;span class="ow"&gt;is&lt;/span&gt; &lt;span class="n"&gt;an&lt;/span&gt; &lt;span class="n"&gt;un&lt;/span&gt;
&lt;span class="n"&gt;qualified&lt;/span&gt; &lt;span class="n"&gt;region&lt;/span&gt;
&lt;span class="mi"&gt;2021&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="mi"&gt;11&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="mi"&gt;09&lt;/span&gt; &lt;span class="mi"&gt;02&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="mi"&gt;27&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="mi"&gt;56&lt;/span&gt;     &lt;span class="n"&gt;SEVERE&lt;/span&gt;  &lt;span class="n"&gt;image&lt;/span&gt;&lt;span class="p"&gt;::&lt;/span&gt;&lt;span class="n"&gt;calc&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;file&lt;/span&gt; &lt;span class="n"&gt;src&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="n"&gt;tools&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="n"&gt;image&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="n"&gt;image_cmpt&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;cc&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;line&lt;/span&gt; &lt;span class="mi"&gt;553&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;&lt;span class="o"&gt;+&lt;/span&gt;     &lt;span class="n"&gt;Scanned&lt;/span&gt; &lt;span class="n"&gt;so&lt;/span&gt; &lt;span class="n"&gt;far&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="n"&gt;iif&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;__tmp_fromTFmask_22199&amp;quot;&lt;/span&gt;
&lt;span class="mi"&gt;2021&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="mi"&gt;11&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="mi"&gt;09&lt;/span&gt; &lt;span class="mi"&gt;02&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="mi"&gt;27&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="mi"&gt;56&lt;/span&gt;     &lt;span class="n"&gt;SEVERE&lt;/span&gt;  &lt;span class="n"&gt;makemask&lt;/span&gt;&lt;span class="p"&gt;::::&lt;/span&gt;&lt;span class="n"&gt;casa&lt;/span&gt;        &lt;span class="n"&gt;Task&lt;/span&gt; &lt;span class="n"&gt;makemask&lt;/span&gt; &lt;span class="n"&gt;raised&lt;/span&gt; &lt;span class="n"&gt;an&lt;/span&gt; &lt;span class="n"&gt;exception&lt;/span&gt; &lt;span class="n"&gt;of&lt;/span&gt; &lt;span class="k"&gt;class&lt;/span&gt; &lt;span class="nc"&gt;RuntimeError&lt;/span&gt; &lt;span class="k"&gt;with&lt;/span&gt; &lt;span class="n"&gt;the&lt;/span&gt; &lt;span class="n"&gt;following&lt;/span&gt; &lt;span class="n"&gt;message&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="o"&gt;***&lt;/span&gt; &lt;span class="n"&gt;Error&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="mi"&gt;2&lt;/span&gt;&lt;span class="p"&gt;),&lt;/span&gt; &lt;span class="ow"&gt;in&lt;/span&gt; &lt;span class="n"&gt;mode&lt;/span&gt; &lt;span class="n"&gt;copy&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="o"&gt;***&lt;/span&gt; &lt;span class="n"&gt;ImageExprParse&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="s1"&gt;&amp;#39;__tmp_fromTF&lt;/span&gt;
&lt;span class="n"&gt;mask_22199&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39; is an unknown lattice or image or it is an unqualified region&lt;/span&gt;
&lt;span class="mi"&gt;2021&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="mi"&gt;11&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="mi"&gt;09&lt;/span&gt; &lt;span class="mi"&gt;02&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="mi"&gt;27&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="mi"&gt;56&lt;/span&gt;     &lt;span class="n"&gt;SEVERE&lt;/span&gt;  &lt;span class="n"&gt;makemask&lt;/span&gt;&lt;span class="p"&gt;::::&lt;/span&gt;&lt;span class="n"&gt;casa&lt;/span&gt;&lt;span class="o"&gt;+&lt;/span&gt;       &lt;span class="n"&gt;Scanned&lt;/span&gt; &lt;span class="n"&gt;so&lt;/span&gt; &lt;span class="n"&gt;far&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="n"&gt;iif&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;__tmp_fromTFmask_22199&amp;quot;&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;I'm pretty sure the complaint is caused by the top line: there are multiple
beams in the image.  This is _absurd_, though, because the &lt;cite&gt;makemask&lt;/cite&gt; command
should not care at all about beams, there is no spectral regridding happening.&lt;/p&gt;
&lt;p&gt;This might be new to CASA 6.4, not sure.&lt;/p&gt;
&lt;p&gt;EDIT 2021-11-11 15:51:
The workaround is easy and maybe better:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="n"&gt;ia&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;open&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;lineimagename&lt;/span&gt;&lt;span class="o"&gt;+&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;.image&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="n"&gt;shape&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;ia&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;shape&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;
&lt;span class="n"&gt;csys&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;ia&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;coordsys&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;torecord&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;
&lt;span class="n"&gt;ia&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;close&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;

&lt;span class="n"&gt;ia&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;fromshape&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;outfile&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="n"&gt;lineimagename&lt;/span&gt;&lt;span class="o"&gt;+&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;.mask&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;shape&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="n"&gt;shape&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;csys&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="n"&gt;csys&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="nb"&gt;type&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;f&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
</content><category term="misc"></category><category term="casa"></category><category term="bug"></category></entry><entry><title>Walkthrough of PSF characterization</title><link href="https://keflavich.github.io/blog/walkthrough-of-psf-characterization.html" rel="alternate"></link><published>2021-11-06T17:37:00-06:00</published><updated>2021-11-06T17:37:00-06:00</updated><author><name>Adam Ginsburg (Adam.G.Ginsburg@gmail.com)</name></author><id>tag:keflavich.github.io,2021-11-06:/blog/walkthrough-of-psf-characterization.html</id><summary type="html">&lt;p&gt;For ALMA-IMF, we want to characterize the PSF shapes and the recovered
beam sizes.&lt;/p&gt;
&lt;p&gt;We showed the beams and a few features of the PSFs, but they were only
described tersely in the paper. This document goes through what we did
in a little more detail&lt;/p&gt;
&lt;div class="section" id="front-matter-imports"&gt;
&lt;h2&gt;Front matter (imports)&lt;/h2&gt;
&lt;pre class="code python literal-block"&gt;
&lt;span class="o"&gt;%&lt;/span&gt;&lt;span class="n"&gt;matplotlib …&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;</summary><content type="html">&lt;p&gt;For ALMA-IMF, we want to characterize the PSF shapes and the recovered
beam sizes.&lt;/p&gt;
&lt;p&gt;We showed the beams and a few features of the PSFs, but they were only
described tersely in the paper. This document goes through what we did
in a little more detail&lt;/p&gt;
&lt;div class="section" id="front-matter-imports"&gt;
&lt;h2&gt;Front matter (imports)&lt;/h2&gt;
&lt;pre class="code python literal-block"&gt;
&lt;span class="o"&gt;%&lt;/span&gt;&lt;span class="n"&gt;matplotlib&lt;/span&gt; &lt;span class="n"&gt;inline&lt;/span&gt;&lt;span class="w"&gt;
&lt;/span&gt;&lt;span class="kn"&gt;import&lt;/span&gt; &lt;span class="nn"&gt;pylab&lt;/span&gt; &lt;span class="k"&gt;as&lt;/span&gt; &lt;span class="nn"&gt;pl&lt;/span&gt;&lt;span class="w"&gt;

&lt;/span&gt;&lt;span class="c1"&gt;# for display within notebook&lt;/span&gt;&lt;span class="w"&gt;
&lt;/span&gt;&lt;span class="n"&gt;pl&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;rcParams&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="s1"&gt;'figure.facecolor'&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="s1"&gt;'w'&lt;/span&gt;&lt;span class="w"&gt;

&lt;/span&gt;&lt;span class="kn"&gt;from&lt;/span&gt; &lt;span class="nn"&gt;spectral_cube&lt;/span&gt; &lt;span class="kn"&gt;import&lt;/span&gt; &lt;span class="n"&gt;SpectralCube&lt;/span&gt;&lt;span class="w"&gt;
&lt;/span&gt;&lt;span class="kn"&gt;from&lt;/span&gt; &lt;span class="nn"&gt;astropy&lt;/span&gt; &lt;span class="kn"&gt;import&lt;/span&gt; &lt;span class="n"&gt;units&lt;/span&gt; &lt;span class="k"&gt;as&lt;/span&gt; &lt;span class="n"&gt;u&lt;/span&gt;&lt;span class="w"&gt;

&lt;/span&gt;&lt;span class="c1"&gt;# Debuggy loading: this approach needed b/c the code isn't properly packaged&lt;/span&gt;&lt;span class="w"&gt;
&lt;/span&gt;&lt;span class="kn"&gt;import&lt;/span&gt; &lt;span class="nn"&gt;imp&lt;/span&gt;&lt;span class="w"&gt;
&lt;/span&gt;&lt;span class="kn"&gt;import&lt;/span&gt; &lt;span class="nn"&gt;sys&lt;/span&gt;&lt;span class="w"&gt;
&lt;/span&gt;&lt;span class="n"&gt;sys&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;path&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;append&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s1"&gt;'/orange/adamginsburg/ALMA_IMF/reduction/analysis'&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;&lt;span class="w"&gt;
&lt;/span&gt;&lt;span class="kn"&gt;import&lt;/span&gt; &lt;span class="nn"&gt;imstats&lt;/span&gt;&lt;span class="w"&gt;
&lt;/span&gt;&lt;span class="n"&gt;imp&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;reload&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;imstats&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;&lt;span class="w"&gt;
&lt;/span&gt;&lt;span class="kn"&gt;from&lt;/span&gt; &lt;span class="nn"&gt;imstats&lt;/span&gt; &lt;span class="kn"&gt;import&lt;/span&gt; &lt;span class="n"&gt;get_psf_secondpeak&lt;/span&gt;
&lt;/pre&gt;
&lt;/div&gt;
&lt;div class="section" id="n2h"&gt;
&lt;h2&gt;N2H+&lt;/h2&gt;
&lt;p&gt;I chose to do this only for an N&lt;span class="math"&gt;\(_2\)&lt;/span&gt;H+ example; the
N&lt;span class="math"&gt;\(_2\)&lt;/span&gt;H+ line cubes seem to have the worst-behaved beams in our
samples.&lt;/p&gt;
&lt;pre class="code python literal-block"&gt;
&lt;span class="n"&gt;basename&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="s1"&gt;'/orange/adamginsburg/ALMAIMF_Images/G327.29/B3/linecubes_12m/G327.29_B3_spw0_12M_n2hp'&lt;/span&gt;&lt;span class="w"&gt;
&lt;/span&gt;&lt;span class="n"&gt;img&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;SpectralCube&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;read&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="sa"&gt;f&lt;/span&gt;&lt;span class="s1"&gt;'&lt;/span&gt;&lt;span class="si"&gt;{&lt;/span&gt;&lt;span class="n"&gt;basename&lt;/span&gt;&lt;span class="si"&gt;}&lt;/span&gt;&lt;span class="s1"&gt;.image'&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;&lt;span class="w"&gt;
&lt;/span&gt;&lt;span class="n"&gt;psf&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;SpectralCube&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;read&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="sa"&gt;f&lt;/span&gt;&lt;span class="s1"&gt;'&lt;/span&gt;&lt;span class="si"&gt;{&lt;/span&gt;&lt;span class="n"&gt;basename&lt;/span&gt;&lt;span class="si"&gt;}&lt;/span&gt;&lt;span class="s1"&gt;.psf'&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="nb"&gt;format&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s1"&gt;'casa_image'&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;/pre&gt;
&lt;p&gt;The code &lt;tt class="docutils literal"&gt;get_psf_secondpeak&lt;/tt&gt; does all of the work, we’re just going
to talk about what gets plotted.&lt;/p&gt;
&lt;pre class="code python literal-block"&gt;
&lt;span class="n"&gt;psffn&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="sa"&gt;f&lt;/span&gt;&lt;span class="s1"&gt;'&lt;/span&gt;&lt;span class="si"&gt;{&lt;/span&gt;&lt;span class="n"&gt;basename&lt;/span&gt;&lt;span class="si"&gt;}&lt;/span&gt;&lt;span class="s1"&gt;.psf'&lt;/span&gt;&lt;span class="w"&gt;
&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;psf_secondpeak&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;psf_secondpeak_loc&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;psf_sidelobe1_fraction&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;epsilon&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;firstnull&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;r_sidelobe&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="w"&gt;
&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;rr&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;pixscale&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;cutout&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;beam&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;fullbeam&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;view&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;bmfit_residual&lt;/span&gt;&lt;span class="p"&gt;))&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; \
        &lt;span class="n"&gt;get_psf_secondpeak&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;psffn&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;show_image&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="kc"&gt;True&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;min_radial_extent&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="mf"&gt;2.5&lt;/span&gt;&lt;span class="o"&gt;*&lt;/span&gt;&lt;span class="n"&gt;u&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;arcsec&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="w"&gt;
&lt;/span&gt;                   &lt;span class="n"&gt;max_radial_extent&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="mi"&gt;5&lt;/span&gt;&lt;span class="o"&gt;*&lt;/span&gt;&lt;span class="n"&gt;u&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;arcsec&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="w"&gt;
&lt;/span&gt;                           &lt;span class="n"&gt;specslice&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="nb"&gt;slice&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="mi"&gt;50&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="mi"&gt;51&lt;/span&gt;&lt;span class="p"&gt;),&lt;/span&gt;&lt;span class="w"&gt;
&lt;/span&gt;                  &lt;span class="p"&gt;)&lt;/span&gt;
&lt;/pre&gt;
&lt;pre class="literal-block"&gt;
INFO: first_sidelobe_ind=44, first_min_ind = 43 [imstats]
&lt;/pre&gt;
&lt;img alt="" src="https://keflavich.github.io/blog/images/output_6_1.png" /&gt;
&lt;p&gt;The plot is showing:&lt;/p&gt;
&lt;ul class="simple"&gt;
&lt;li&gt;in red contours, the 10th, 50th, and 90th percentile of the Gaussian
synthesized beam&lt;/li&gt;
&lt;li&gt;in grayscale, the &lt;em&gt;residual&lt;/em&gt; of the dirty beam minus the synthesized
beam&lt;/li&gt;
&lt;li&gt;in green dashed (faint, outermost ellipse), the location of the first
sidelobe peak. The first sidelobe is defined as the first peak
outside of the first null.&lt;/li&gt;
&lt;li&gt;in blue dashed (inner ellipse), the location of the first null. This
may not be a true null: it is the first minimum of the radial profile&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Next, we show the radial profile. The radial profile is an &lt;em&gt;elliptical&lt;/em&gt;
profile, which is why the elliptical synthesized beam has a single
profile.&lt;/p&gt;
&lt;p&gt;The X-axis is calculated as:&lt;/p&gt;
&lt;div class="math"&gt;
\begin{equation*}
r = \left(C^2 (x \cos \theta + y \sin \theta)^2 + (x \sin \theta - y \cos \theta)^2\right)^{1/2}
\end{equation*}
&lt;/div&gt;
&lt;p&gt;where &lt;span class="math"&gt;\(C = \theta_{min} / \theta_{maj}\)&lt;/span&gt;. So the radial axis is
scaled to the major axis of the beam; the true beam is smaller along one
axis than shown in these plots.&lt;/p&gt;
&lt;pre class="code python literal-block"&gt;
&lt;span class="c1"&gt;# radial profile&lt;/span&gt;&lt;span class="w"&gt;
&lt;/span&gt;&lt;span class="n"&gt;pl&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;figure&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;figsize&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="mi"&gt;12&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="mi"&gt;6&lt;/span&gt;&lt;span class="p"&gt;))&lt;/span&gt;&lt;span class="w"&gt;
&lt;/span&gt;&lt;span class="n"&gt;ax2&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="n"&gt;pl&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;subplot&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="mi"&gt;2&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;&lt;span class="w"&gt;
&lt;/span&gt;&lt;span class="n"&gt;ax1&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="n"&gt;pl&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;subplot&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="mi"&gt;2&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="mi"&gt;2&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;&lt;span class="w"&gt;


&lt;/span&gt;&lt;span class="n"&gt;ax2&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;set_title&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s1"&gt;'G327 N2H+'&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;&lt;span class="w"&gt;
&lt;/span&gt;&lt;span class="n"&gt;rr_inds&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;rr&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;ravel&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;argsort&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;&lt;span class="w"&gt;
&lt;/span&gt;&lt;span class="n"&gt;sorted_synth&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;fullbeam&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;array&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;ravel&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="n"&gt;fullbeam&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;array&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;max&lt;/span&gt;&lt;span class="p"&gt;())[&lt;/span&gt;&lt;span class="n"&gt;rr_inds&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt;&lt;span class="w"&gt;
&lt;/span&gt;&lt;span class="n"&gt;pixscale&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;pixscale&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;to&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;u&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;arcsec&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;&lt;span class="w"&gt;
&lt;/span&gt;&lt;span class="n"&gt;ax2&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;plot&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;pixscale&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;value&lt;/span&gt;&lt;span class="o"&gt;*&lt;/span&gt;&lt;span class="n"&gt;rr&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;ravel&lt;/span&gt;&lt;span class="p"&gt;()[&lt;/span&gt;&lt;span class="n"&gt;rr_inds&lt;/span&gt;&lt;span class="p"&gt;],&lt;/span&gt; &lt;span class="n"&gt;sorted_synth&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s1"&gt;'-'&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;label&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s1"&gt;'Synth'&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;&lt;span class="w"&gt;
&lt;/span&gt;&lt;span class="n"&gt;ax2&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;plot&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;pixscale&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;value&lt;/span&gt;&lt;span class="o"&gt;*&lt;/span&gt;&lt;span class="n"&gt;rr&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;ravel&lt;/span&gt;&lt;span class="p"&gt;(),&lt;/span&gt;&lt;span class="w"&gt;
&lt;/span&gt;         &lt;span class="n"&gt;cutout&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;value&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;ravel&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="n"&gt;cutout&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;max&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;value&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s1"&gt;'.'&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;label&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s1"&gt;'Dirty'&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;alpha&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="mf"&gt;0.75&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;markersize&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="mi"&gt;2&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;&lt;span class="w"&gt;
&lt;/span&gt;&lt;span class="n"&gt;ax2&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;axvline&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;firstnull&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;value&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;linestyle&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s1"&gt;'--'&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;color&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s1"&gt;'b'&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;&lt;span class="w"&gt;
&lt;/span&gt;&lt;span class="n"&gt;ax2&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;set_xlim&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;firstnull&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;value&lt;/span&gt;&lt;span class="o"&gt;*&lt;/span&gt;&lt;span class="mi"&gt;2&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;&lt;span class="c1"&gt;# rr[view].max())&lt;/span&gt;&lt;span class="w"&gt;
&lt;/span&gt;&lt;span class="n"&gt;ax2&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;text&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;firstnull&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;value&lt;/span&gt;&lt;span class="o"&gt;*&lt;/span&gt;&lt;span class="mf"&gt;1.4&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mf"&gt;0.9&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="sa"&gt;f&lt;/span&gt;&lt;span class="s1"&gt;'$\epsilon=&lt;/span&gt;&lt;span class="si"&gt;{&lt;/span&gt;&lt;span class="n"&gt;epsilon&lt;/span&gt;&lt;span class="si"&gt;:&lt;/span&gt;&lt;span class="s1"&gt;0.2f&lt;/span&gt;&lt;span class="si"&gt;}&lt;/span&gt;&lt;span class="s1"&gt;$'&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;fontsize&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="mi"&gt;14&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;&lt;span class="w"&gt;
&lt;/span&gt;&lt;span class="n"&gt;ax2&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;text&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;firstnull&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;value&lt;/span&gt;&lt;span class="o"&gt;*&lt;/span&gt;&lt;span class="mf"&gt;1.4&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mf"&gt;0.85&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="sa"&gt;f&lt;/span&gt;&lt;span class="s1"&gt;'$&lt;/span&gt;&lt;span class="se"&gt;\\&lt;/span&gt;&lt;span class="s1"&gt;theta_&lt;/span&gt;&lt;span class="se"&gt;{{&lt;/span&gt;&lt;span class="s1"&gt;maj&lt;/span&gt;&lt;span class="se"&gt;}}&lt;/span&gt;&lt;span class="s1"&gt;=&lt;/span&gt;&lt;span class="si"&gt;{&lt;/span&gt;&lt;span class="n"&gt;beam&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;major&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;value&lt;/span&gt;&lt;span class="si"&gt;:&lt;/span&gt;&lt;span class="s1"&gt;0.2f&lt;/span&gt;&lt;span class="si"&gt;}&lt;/span&gt;&lt;span class="s1"&gt;$&amp;quot;'&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;fontsize&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="mi"&gt;14&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;&lt;span class="w"&gt;
&lt;/span&gt;&lt;span class="n"&gt;ax2&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;text&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;firstnull&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;value&lt;/span&gt;&lt;span class="o"&gt;*&lt;/span&gt;&lt;span class="mf"&gt;1.4&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mf"&gt;0.8&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="sa"&gt;f&lt;/span&gt;&lt;span class="s1"&gt;'$&lt;/span&gt;&lt;span class="se"&gt;\\&lt;/span&gt;&lt;span class="s1"&gt;theta_&lt;/span&gt;&lt;span class="se"&gt;{{&lt;/span&gt;&lt;span class="s1"&gt;min&lt;/span&gt;&lt;span class="se"&gt;}}&lt;/span&gt;&lt;span class="s1"&gt;=&lt;/span&gt;&lt;span class="si"&gt;{&lt;/span&gt;&lt;span class="n"&gt;beam&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;minor&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;value&lt;/span&gt;&lt;span class="si"&gt;:&lt;/span&gt;&lt;span class="s1"&gt;0.2f&lt;/span&gt;&lt;span class="si"&gt;}&lt;/span&gt;&lt;span class="s1"&gt;$&amp;quot;'&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;fontsize&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="mi"&gt;14&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;&lt;span class="w"&gt;

&lt;/span&gt;&lt;span class="n"&gt;ax2&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;axvline&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;psf_secondpeak_loc&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;linestyle&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s1"&gt;':'&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;color&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s1"&gt;'k'&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;&lt;span class="w"&gt;
&lt;/span&gt;&lt;span class="n"&gt;ax2&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;axvline&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;r_sidelobe&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;value&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;linestyle&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s1"&gt;':'&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;color&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s1"&gt;'g'&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;&lt;span class="w"&gt;

&lt;/span&gt;&lt;span class="n"&gt;ax2&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;plot&lt;/span&gt;&lt;span class="p"&gt;([&lt;/span&gt;&lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;beam&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;major&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;value&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="mi"&gt;2&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;beam&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;major&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;value&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="mi"&gt;2&lt;/span&gt;&lt;span class="p"&gt;],&lt;/span&gt;&lt;span class="w"&gt;
&lt;/span&gt;         &lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="mf"&gt;0.5&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mf"&gt;0.5&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="p"&gt;],&lt;/span&gt;&lt;span class="w"&gt;
&lt;/span&gt;         &lt;span class="n"&gt;color&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s1"&gt;'k'&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;alpha&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="mf"&gt;0.5&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;&lt;span class="w"&gt;


&lt;/span&gt;&lt;span class="n"&gt;ax1&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;set_title&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s1"&gt;'G327 N2H+'&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;&lt;span class="w"&gt;
&lt;/span&gt;&lt;span class="n"&gt;ax1&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;plot&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;pixscale&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;value&lt;/span&gt;&lt;span class="o"&gt;*&lt;/span&gt;&lt;span class="n"&gt;rr&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;ravel&lt;/span&gt;&lt;span class="p"&gt;()[&lt;/span&gt;&lt;span class="n"&gt;rr_inds&lt;/span&gt;&lt;span class="p"&gt;],&lt;/span&gt; &lt;span class="n"&gt;sorted_synth&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s1"&gt;'-'&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;label&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s1"&gt;'Synth'&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;&lt;span class="w"&gt;
&lt;/span&gt;&lt;span class="n"&gt;ax1&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;plot&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;pixscale&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;value&lt;/span&gt;&lt;span class="o"&gt;*&lt;/span&gt;&lt;span class="n"&gt;rr&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;ravel&lt;/span&gt;&lt;span class="p"&gt;(),&lt;/span&gt;&lt;span class="w"&gt;
&lt;/span&gt;         &lt;span class="n"&gt;cutout&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;value&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;ravel&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="n"&gt;cutout&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;max&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;value&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s1"&gt;'.'&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;label&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s1"&gt;'Dirty'&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;alpha&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="mf"&gt;0.75&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;markersize&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="mi"&gt;2&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;&lt;span class="w"&gt;
&lt;/span&gt;&lt;span class="n"&gt;ax1&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;axvline&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;firstnull&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;value&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;linestyle&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s1"&gt;'--'&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;color&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s1"&gt;'b'&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;&lt;span class="w"&gt;
&lt;/span&gt;&lt;span class="n"&gt;ax1&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;axvline&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;psf_secondpeak_loc&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;linestyle&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s1"&gt;':'&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;color&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s1"&gt;'k'&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;&lt;span class="w"&gt;
&lt;/span&gt;&lt;span class="n"&gt;ax1&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;axvline&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;r_sidelobe&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;value&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;linestyle&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s1"&gt;':'&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;color&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s1"&gt;'g'&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;&lt;span class="w"&gt;

&lt;/span&gt;&lt;span class="n"&gt;ax1&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;set_xlim&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;firstnull&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;value&lt;/span&gt;&lt;span class="o"&gt;*&lt;/span&gt;&lt;span class="mi"&gt;2&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;&lt;span class="c1"&gt;# rr[view].max())&lt;/span&gt;&lt;span class="w"&gt;
&lt;/span&gt;&lt;span class="n"&gt;ax1&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;set_ylim&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="mf"&gt;0.035&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mf"&gt;0.2&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;&lt;span class="w"&gt;

&lt;/span&gt;&lt;span class="n"&gt;ax1&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;set_xlabel&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;Radius along PSF (&lt;/span&gt;&lt;span class="se"&gt;\&amp;quot;&lt;/span&gt;&lt;span class="s2"&gt;)&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;&lt;span class="w"&gt;
&lt;/span&gt;&lt;span class="n"&gt;ax2&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;set_xlabel&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;Radius along PSF (&lt;/span&gt;&lt;span class="se"&gt;\&amp;quot;&lt;/span&gt;&lt;span class="s2"&gt;)&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;&lt;span class="w"&gt;
&lt;/span&gt;&lt;span class="n"&gt;ax1&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;set_ylabel&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;Normalized PSF profile&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;/pre&gt;
&lt;pre class="literal-block"&gt;
Text(0, 0.5, 'Normalized PSF profile')
&lt;/pre&gt;
&lt;img alt="" src="https://keflavich.github.io/blog/images/output_9_1.png" /&gt;
&lt;p&gt;The right plot is a vertical zoom-in of the left plot.&lt;/p&gt;
&lt;p&gt;The light blue line shows the synthesized beam.&lt;/p&gt;
&lt;p&gt;The orange dots are the individual pixel values from the dirty beam.&lt;/p&gt;
&lt;p&gt;The vertical dotted black line shows the peak of the residual - it’s not
used for anything, it just highlights where the “shelf” is most
prominent (and it is &lt;em&gt;very&lt;/em&gt; prominent in this example).&lt;/p&gt;
&lt;p&gt;The blue vertical dashed line shows the location of the first null.&lt;/p&gt;
&lt;p&gt;The green vertical dotted line shows the location of the first sidelobe.&lt;/p&gt;
&lt;p&gt;&lt;span class="math"&gt;\(\epsilon\)&lt;/span&gt; is the ratio of the integral of the synthesized beam to
the integral of the dirty beam out to the first null. It is the
correction factor to apply to the residuals (multiply the residuals by
this number) to convert the residuals from Jy/dirtybeam to
Jy/synthesizedbeam.&lt;/p&gt;
&lt;p&gt;&lt;span class="math"&gt;\(\theta_{min}\)&lt;/span&gt; and &lt;span class="math"&gt;\(\theta_{maj}\)&lt;/span&gt; are the FWHM widths of the
beam along the major and minor axes. The grey right-angle line is drawn
at &lt;span class="math"&gt;\(y=0.5\)&lt;/span&gt; out to &lt;span class="math"&gt;\(\theta = \theta_{maj}/2\)&lt;/span&gt; (the half-width
half-max)&lt;/p&gt;
&lt;/div&gt;
&lt;script type='text/javascript'&gt;if (!document.getElementById('mathjaxscript_pelican_#%@#$@#')) {
    var align = "center",
        indent = "0em",
        linebreak = "false";

    if (false) {
        align = (screen.width &lt; 768) ? "left" : align;
        indent = (screen.width &lt; 768) ? "0em" : indent;
        linebreak = (screen.width &lt; 768) ? 'true' : linebreak;
    }

    var mathjaxscript = document.createElement('script');
    mathjaxscript.id = 'mathjaxscript_pelican_#%@#$@#';
    mathjaxscript.type = 'text/javascript';
    mathjaxscript.src = 'https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.3/latest.js?config=TeX-AMS-MML_HTMLorMML';

    var configscript = document.createElement('script');
    configscript.type = 'text/x-mathjax-config';
    configscript[(window.opera ? "innerHTML" : "text")] =
        "MathJax.Hub.Config({" +
        "    config: ['MMLorHTML.js']," +
        "    TeX: { extensions: ['AMSmath.js','AMSsymbols.js','noErrors.js','noUndefined.js'], equationNumbers: { autoNumber: 'none' } }," +
        "    jax: ['input/TeX','input/MathML','output/HTML-CSS']," +
        "    extensions: ['tex2jax.js','mml2jax.js','MathMenu.js','MathZoom.js']," +
        "    displayAlign: '"+ align +"'," +
        "    displayIndent: '"+ indent +"'," +
        "    showMathMenu: true," +
        "    messageStyle: 'normal'," +
        "    tex2jax: { " +
        "        inlineMath: [ ['\\\\(','\\\\)'] ], " +
        "        displayMath: [ ['$$','$$'] ]," +
        "        processEscapes: true," +
        "        preview: 'TeX'," +
        "    }, " +
        "    'HTML-CSS': { " +
        "        availableFonts: ['STIX', 'TeX']," +
        "        preferredFont: 'STIX'," +
        "        styles: { '.MathJax_Display, .MathJax .mo, .MathJax .mi, .MathJax .mn': {color: 'inherit ! important'} }," +
        "        linebreaks: { automatic: "+ linebreak +", width: '90% container' }," +
        "    }, " +
        "}); " +
        "if ('default' !== 'default') {" +
            "MathJax.Hub.Register.StartupHook('HTML-CSS Jax Ready',function () {" +
                "var VARIANT = MathJax.OutputJax['HTML-CSS'].FONTDATA.VARIANT;" +
                "VARIANT['normal'].fonts.unshift('MathJax_default');" +
                "VARIANT['bold'].fonts.unshift('MathJax_default-bold');" +
                "VARIANT['italic'].fonts.unshift('MathJax_default-italic');" +
                "VARIANT['-tex-mathit'].fonts.unshift('MathJax_default-italic');" +
            "});" +
            "MathJax.Hub.Register.StartupHook('SVG Jax Ready',function () {" +
                "var VARIANT = MathJax.OutputJax.SVG.FONTDATA.VARIANT;" +
                "VARIANT['normal'].fonts.unshift('MathJax_default');" +
                "VARIANT['bold'].fonts.unshift('MathJax_default-bold');" +
                "VARIANT['italic'].fonts.unshift('MathJax_default-italic');" +
                "VARIANT['-tex-mathit'].fonts.unshift('MathJax_default-italic');" +
            "});" +
        "}";

    (document.body || document.getElementsByTagName('head')[0]).appendChild(configscript);
    (document.body || document.getElementsByTagName('head')[0]).appendChild(mathjaxscript);
}
&lt;/script&gt;</content><category term="misc"></category><category term="casa"></category><category term="psf"></category></entry><entry><title>CASA MPI problems</title><link href="https://keflavich.github.io/blog/casa-mpi-problems.html" rel="alternate"></link><published>2021-10-17T20:40:00-06:00</published><updated>2021-10-17T20:40:00-06:00</updated><author><name>Adam Ginsburg (Adam.G.Ginsburg@gmail.com)</name></author><id>tag:keflavich.github.io,2021-10-17:/blog/casa-mpi-problems.html</id><summary type="html">&lt;p&gt;There are several CASA MPI errors I encounter regularly.&lt;/p&gt;
&lt;pre class="code literal-block"&gt;
2021-10-17 15:56:06     SEVERE  task_tclean::SynthesisImagerVi2::runCubeGridding (file src/code/synthesis/ImagerObjects/SynthesisImagerVi2.cc, line 1579)       remainder rank 7 failed
master 1 init 1
2021-10-17 15:59:21     SEVERE  tclean::::casa  Task tclean raised an exception of class RuntimeError …&lt;/pre&gt;</summary><content type="html">&lt;p&gt;There are several CASA MPI errors I encounter regularly.&lt;/p&gt;
&lt;pre class="code literal-block"&gt;
2021-10-17 15:56:06     SEVERE  task_tclean::SynthesisImagerVi2::runCubeGridding (file src/code/synthesis/ImagerObjects/SynthesisImagerVi2.cc, line 1579)       remainder rank 7 failed
master 1 init 1
2021-10-17 15:59:21     SEVERE  tclean::::casa  Task tclean raised an exception of class RuntimeError with the following message: Error in making PSF : One or more  of the cube section failed in de/grid
ding. Return values for the sections: [1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1
, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1,
 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1,
1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1
, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1,
 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1,
1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 0, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1]

 Traceback (most recent call last):
   File &amp;quot;/blue/adamginsburg/adamginsburg/casa/casa-6.4.0-12/lib/py/lib/python3.6/site-packages/casashell/private/init_system.py&amp;quot;, line 238, in __evprop__
     exec(stmt)
   File &amp;quot;&amp;lt;string&amp;gt;&amp;quot;, line 1, in &amp;lt;module&amp;gt;
   File &amp;quot;/blue/adamginsburg/adamginsburg/casa/casa-6.4.0-12/lib/py/lib/python3.6/site-packages/casashell/private/init_system.py&amp;quot;, line 175, in execfile
     newglob = run_path( filename, init_globals=globals )
   File &amp;quot;/blue/adamginsburg/adamginsburg/casa/casa-6.4.0-12/lib/py/lib/python3.6/runpy.py&amp;quot;, line 263, in run_path
     pkg_name=pkg_name, script_name=fname)
   File &amp;quot;/blue/adamginsburg/adamginsburg/casa/casa-6.4.0-12/lib/py/lib/python3.6/runpy.py&amp;quot;, line 96, in _run_module_code
     mod_name, mod_spec, pkg_name, script_name)
   File &amp;quot;/blue/adamginsburg/adamginsburg/casa/casa-6.4.0-12/lib/py/lib/python3.6/runpy.py&amp;quot;, line 85, in _run_code
     exec(code, run_globals)
   File &amp;quot;/orange/adamginsburg/ALMA_IMF/reduction/reduction/line_imaging.py&amp;quot;, line 935, in &amp;lt;module&amp;gt;
     **impars
   File &amp;quot;/blue/adamginsburg/adamginsburg/casa/casa-6.4.0-12/lib/py/lib/python3.6/site-packages/casatasks/tclean.py&amp;quot;, line 1660, in __call__
     task_result = _tclean_t( _pc.document['vis'], _pc.document['selectdata'], _pc.document['field'], _pc.document['spw'], _pc.document['timerange'], _pc.document['uvrange'], _pc.document['antenna'], _pc.document['scan'], _pc.document['observation'], _pc.document['intent'], _pc.document['datacolumn'], _pc.document['imagename'], _pc.document['imsize'], _pc.document['cell'], _pc.document['phasecenter'], _pc.document['stokes'], _pc.document['projection'], _pc.document['startmodel'], _pc.document['specmode'], _pc.document['reffreq'], _pc.document['nchan'], _pc.document['start'], _pc.document['width'], _pc.document['outframe'], _pc.document['veltype'], _pc.document['restfreq'], _pc.document['interpolation'], _pc.document['perchanweightdensity'], _pc.document['gridder'], _pc.document['facets'], _pc.document['psfphasecenter'], _pc.document['wprojplanes'], _pc.document['vptable'], _pc.document['mosweight'], _pc.document['aterm'], _pc.document['psterm'], _pc.document['wbawp'], _pc.document['conjbeams'], _pc.document['cfcache'], _pc.document['usepointing'], _pc.document['computepastep'], _pc.document['rotatepastep'], _pc.document['pointingoffsetsigdev'], _pc.document['pblimit'], _pc.document['normtype'], _pc.document['deconvolver'], _pc.document['scales'], _pc.document['nterms'], _pc.document['smallscalebias'], _pc.document['restoration'], _pc.document['restoringbeam'], _pc.document['pbcor'], _pc.document['outlierfile'], _pc.document['weighting'], _pc.document['robust'], _pc.document['noise'], _pc.document['npixels'], _pc.document['uvtaper'], _pc.document['niter'], _pc.document['gain'], _pc.document['threshold'], _pc.document['nsigma'], _pc.document['cycleniter'], _pc.document['cyclefactor'], _pc.document['minpsffraction'], _pc.document['maxpsffraction'], _pc.document['interactive'], _pc.document['usemask'], _pc.document['mask'], _pc.document['pbmask'], _pc.document['sidelobethreshold'], _pc.document['noisethreshold'], _pc.document['lownoisethreshold'], _pc.document['negativethreshold'], _pc.document['smoothfactor'], _pc.document['minbeamfrac'], _pc.document['cutthreshold'], _pc.document['growiterations'], _pc.document['dogrowprune'], _pc.document['minpercentchange'], _pc.document['verbose'], _pc.document['fastnoise'], _pc.document['restart'], _pc.document['savemodel'], _pc.document['calcres'], _pc.document['calcpsf'], _pc.document['psfcutoff'], _pc.document['parallel'] )
   File &amp;quot;/blue/adamginsburg/adamginsburg/casa/casa-6.4.0-12/lib/py/lib/python3.6/site-packages/casatasks/private/task_tclean.py&amp;quot;, line 364, in tclean
     imager.makePSF()
   File &amp;quot;/blue/adamginsburg/adamginsburg/casa/casa-6.4.0-12/lib/py/lib/python3.6/site-packages/casatasks/private/imagerhelpers/imager_base.py&amp;quot;, line 344, in makePSF
     self.makePSFCore()
   File &amp;quot;/blue/adamginsburg/adamginsburg/casa/casa-6.4.0-12/lib/py/lib/python3.6/site-packages/casatasks/private/imagerhelpers/imager_base.py&amp;quot;, line 496, in makePSFCore
     self.SItool.makepsf()
   File &amp;quot;/blue/adamginsburg/adamginsburg/casa/casa-6.4.0-12/lib/py/lib/python3.6/site-packages/casatools/synthesisimager.py&amp;quot;, line 70, in makepsf
     return self._swigobj.makepsf()
   File &amp;quot;/blue/adamginsburg/adamginsburg/casa/casa-6.4.0-12/lib/py/lib/python3.6/site-packages/casatools/__casac__/synthesisimager.py&amp;quot;, line 322, in makepsf
     return _synthesisimager.synthesisimager_makepsf(self)
 RuntimeError: Error in making PSF : One or more  of the cube section failed in de/gridding. Return values for the sections: [1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 0, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1]
&lt;/pre&gt;
&lt;p&gt;That one appears to be caused by:&lt;/p&gt;
&lt;pre class="code literal-block"&gt;
2021-10-17 15:53:34     WARN    MPICommandServer::command_request_handler_service::SynthesisImagerVi2::CubeMajorCycle::MPIServer-7 (file src/code/synthesis/ImagerObjects/CubeMajorCycleAlgorithm.cc, line
 A) Exception for chan range [1921, 1924] ---   Error in making PSF : Interpolate1D::operator() data has repeated x values
##################################
#############################
Exception: Error in making PSF : Interpolate1D::operator() data has repeated x values
&lt;/pre&gt;
&lt;p&gt;This happened after a lot of apparently successful cleaning, as an .image was created.  However, the failure caused
CASA to exit.&lt;/p&gt;
&lt;p&gt;This tclean command:&lt;/p&gt;
&lt;pre class="code literal-block"&gt;
2021-10-17 15:19:43     INFO    tclean::::casa  tclean( vis='/blue/adamginsburg/adamginsburg/almaimf/workdir/G008.67_B3_spw2_12M.concat.ms', selectdata=True, field='G008.67', spw='', timerange='', uvrange='', antenna='', scan='', observation='', intent='', datacolumn='corrected', imagename='/blue/adamginsburg/adamginsburg/almaimf/workdir/G008.67_B3_spw2_12M_spw2', imsize=[2880, 2250], cell=['0.08arcsec', '0.08arcsec'], phasecenter='ICRS 271.5877979623041deg -21.620789662367244deg', stokes='I', projection='SIN', startmodel='', specmode='cube', reffreq='', nchan=-1, start='', width='', outframe='LSRK', veltype='radio', restfreq=[], interpolation='linear', perchanweightdensity=True, gridder='mosaic', facets=1, psfphasecenter='', wprojplanes=1, vptable='', mosweight=True, aterm=True, psterm=False, wbawp=True, conjbeams=False, cfcache='', usepointing=False, computepastep=360.0, rotatepastep=360.0, pointingoffsetsigdev=[], pblimit=0.05, normtype='flatnoise', deconvolver='multiscale', scales=[0, 4, 8, 16, 32], nterms=2, smallscalebias=0.5, restoration=True, restoringbeam='', pbcor=False, outlierfile='', weighting='briggsbwtaper', robust=0.0, noise='1.0Jy', npixels=0, uvtaper=[''], niter=5000000, gain=0.1, threshold='0.0168Jy', nsigma=0.0, cycleniter=-1, cyclefactor=2.0, minpsffraction=0.05, maxpsffraction=0.8, interactive=0, usemask='user', mask='', pbmask=0.1, sidelobethreshold=3.0, noisethreshold=5.0, lownoisethreshold=1.5, negativethreshold=0.0, smoothfactor=1.0, minbeamfrac=0.3, cutthreshold=0.01, growiterations=75, dogrowprune=True, minpercentchange=-1.0, verbose=False, fastnoise=True, restart=True, savemodel='none', calcres=False, calcpsf=True, psfcutoff=0.35, parallel=True )
&lt;/pre&gt;
&lt;p&gt;using concatenated data caused the failure.  It was run as an MPI job with 32 cores and 128 GB RAM.
The same issue recurred for the next MS (spw3), but not for spw0 or spw1 - yet, they're still running.&lt;/p&gt;
&lt;p&gt;This: &amp;quot;Exception for chan range [1921, 1924] ---   Error in making PSF : Interpolate1D::operator() data has repeated x values&amp;quot; suggests to me that there's
a problem with the gridder thinking there are more channels than there actually are; &lt;tt class="docutils literal"&gt;tclean&lt;/tt&gt;'s behavior is not consistent between operating on concatenated
data sets and on lists of data sets.  This issue may be a manifestation of tclean misunderstanding the grid when operating with MPI enabled.
This could also prove not to be an MPI error, but one that is only encountered if MPI is enabled b/c MPI gets to channel 1921 while non-MPI never gets
there before the job is canceled for time.&lt;/p&gt;
&lt;p&gt;W51 spw2 had similar:&lt;/p&gt;
&lt;pre class="code literal-block"&gt;
WARN    MPICommandServer::command_request_handler_service::SynthesisImagerVi2::CubeMajorCycle::MPIServer-21 (file src/code/synthesis/ImagerObjects/CubeMajorCycleAlgorithm.cc, line 336)        Exception for chan range [1269, 1277] ---   FilebufIO::readBlock - incorrect number of bytes read for file /blue/adamginsburg/adamginsburg/almaimf/workdir/W51-E_B3_spw2_12M_spw2.sumwt/table.f0
Exception: FilebufIO::readBlock - incorrect number of bytes read for file /blue/adamginsburg/adamginsburg/almaimf/workdir/W51-E_B3_spw2_12M_spw2.sumwt/table.f0
WARN    MPICommandServer::command_request_handler_service::SynthesisImagerVi2::CubeMajorCycle::MPIServer-9 (file src/code/synthesis/ImagerObjects/CubeMajorCycleAlgorithm.cc, line 336) Exception for chan range [1314, 1322] ---   FilebufIO::readBlock - incorrect number of bytes read for file /blue/adamginsburg/adamginsburg/almaimf/workdir/W51-E_B3_spw2_12M_spw2.sumwt/table.f0
Exception: FilebufIO::readBlock - incorrect number of bytes read for file /blue/adamginsburg/adamginsburg/almaimf/workdir/W51-E_B3_spw2_12M_spw2.sumwt/table.f0
&lt;/pre&gt;
&lt;p&gt;I have not found solutions to any of these; the workaround appears to be just to not use MPI.&lt;/p&gt;
&lt;p&gt;EDIT: here's another one&lt;/p&gt;
&lt;pre class="code literal-block"&gt;
2021-10-22 22:36:53     WARN    MPICommandServer::command_request_handler_service::SynthesisImagerVi2::CubeMajorCycle::MPIServer-2 (file src/code/synthesis/ImagerObjects/CubeMajorCycleAlgorithm.cc, line 336) Exception for chan range [55, 109] ---   Setting masked pixels to zero for input startmodel : Error (Resource deadlock avoided) when acquiring lock on /blue/adamginsburg/adamginsburg/almaimf/workdir/G327.29_B6_spw1_12M_sio.contcube.model/table.lock
##################################
#############################
Exception: Setting masked pixels to zero for input startmodel : Error (Resource deadlock avoided) when acquiring lock on /blue/adamginsburg/adamginsburg/almaimf/workdir/G327.29_B6_spw1_12M_sio.contcube.model/table.lock
2021-10-22 22:36:54     WARN    MPICommandServer::command_request_handler_service::SynthesisImagerVi2::CubeMajorCycle::MPIServer-4 (file src/code/synthesis/ImagerObjects/CubeMajorCycleAlgorithm.cc, line 336) Exception for chan range [165, 219] ---   Setting masked pixels to zero for input startmodel : Error (Resource deadlock avoided) when acquiring lock on /blue/adamginsburg/adamginsburg/almaimf/workdir/G327.29_B6_spw1_12M_sio.contcube.model/table.lock
##################################
#############################
Exception: Setting masked pixels to zero for input startmodel : Error (Resource deadlock avoided) when acquiring lock on /blue/adamginsburg/adamginsburg/almaimf/workdir/G327.29_B6_spw1_12M_sio.contcube.model/table.lock
2021-10-22 22:36:57     WARN    MPICommandServer::command_request_handler_service::SynthesisImagerVi2::CubeMajorCycle::MPIServer-1 (file src/code/synthesis/ImagerObjects/CubeMajorCycleAlgorithm.cc, line 336) Exception for chan range [0, 54] ---   Setting masked pixels to zero for input startmodel : Error (Resource deadlock avoided) when acquiring lock on /blue/adamginsburg/adamginsburg/almaimf/workdir/G327.29_B6_spw1_12M_sio.contcube.model/table.lock
##################################
#############################
Exception: Setting masked pixels to zero for input startmodel : Error (Resource deadlock avoided) when acquiring lock on /blue/adamginsburg/adamginsburg/almaimf/workdir/G327.29_B6_spw1_12M_sio.contcube.model/table.lock
&lt;/pre&gt;
</content><category term="misc"></category><category term="tags"></category></entry><entry><title>Confetti artifacts in clean</title><link href="https://keflavich.github.io/blog/confetti-artifacts-in-clean.html" rel="alternate"></link><published>2021-10-15T10:21:00-06:00</published><updated>2021-10-15T10:21:00-06:00</updated><author><name>Adam Ginsburg (Adam.G.Ginsburg@gmail.com)</name></author><id>tag:keflavich.github.io,2021-10-15:/blog/confetti-artifacts-in-clean.html</id><summary type="html">&lt;p&gt;We have noted a “confetti” problem in some of the ALMA-IMF cube images.
It is called confetti because &lt;em&gt;one&lt;/em&gt; of its manifestations is individual
bright pixels in the model image.&lt;/p&gt;
&lt;p&gt;This notebook shows where confetti is - and is not a problem.&lt;/p&gt;
&lt;p&gt;&lt;a class="reference external" href="https://github.com/ALMA-IMF/notebooks/blob/master/ConfettiQA.ipynb"&gt;https://github.com/ALMA-IMF/notebooks/blob/master/ConfettiQA.ipynb …&lt;/a&gt;&lt;/p&gt;</summary><content type="html">&lt;p&gt;We have noted a “confetti” problem in some of the ALMA-IMF cube images.
It is called confetti because &lt;em&gt;one&lt;/em&gt; of its manifestations is individual
bright pixels in the model image.&lt;/p&gt;
&lt;p&gt;This notebook shows where confetti is - and is not a problem.&lt;/p&gt;
&lt;p&gt;&lt;a class="reference external" href="https://github.com/ALMA-IMF/notebooks/blob/master/ConfettiQA.ipynb"&gt;https://github.com/ALMA-IMF/notebooks/blob/master/ConfettiQA.ipynb&lt;/a&gt;&lt;/p&gt;
&lt;div class="section" id="preliminaries-skip-this"&gt;
&lt;h2&gt;Preliminaries: skip this&lt;/h2&gt;
&lt;pre class="code python literal-block"&gt;
&lt;span class="kn"&gt;from&lt;/span&gt; &lt;span class="nn"&gt;spectral_cube&lt;/span&gt; &lt;span class="kn"&gt;import&lt;/span&gt; &lt;span class="n"&gt;SpectralCube&lt;/span&gt;&lt;span class="w"&gt;
&lt;/span&gt;&lt;span class="kn"&gt;import&lt;/span&gt; &lt;span class="nn"&gt;warnings&lt;/span&gt;&lt;span class="w"&gt;
&lt;/span&gt;&lt;span class="n"&gt;warnings&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;simplefilter&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s1"&gt;'ignore'&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;/pre&gt;
&lt;pre class="code python literal-block"&gt;
&lt;span class="o"&gt;%&lt;/span&gt;&lt;span class="n"&gt;matplotlib&lt;/span&gt; &lt;span class="n"&gt;inline&lt;/span&gt;&lt;span class="w"&gt;
&lt;/span&gt;&lt;span class="kn"&gt;import&lt;/span&gt; &lt;span class="nn"&gt;pylab&lt;/span&gt; &lt;span class="k"&gt;as&lt;/span&gt; &lt;span class="nn"&gt;pl&lt;/span&gt;&lt;span class="w"&gt;
&lt;/span&gt;&lt;span class="kn"&gt;from&lt;/span&gt; &lt;span class="nn"&gt;astropy.visualization&lt;/span&gt; &lt;span class="kn"&gt;import&lt;/span&gt; &lt;span class="n"&gt;simple_norm&lt;/span&gt;
&lt;/pre&gt;
&lt;pre class="code python literal-block"&gt;
&lt;span class="kn"&gt;from&lt;/span&gt; &lt;span class="nn"&gt;astropy&lt;/span&gt; &lt;span class="kn"&gt;import&lt;/span&gt; &lt;span class="n"&gt;units&lt;/span&gt; &lt;span class="k"&gt;as&lt;/span&gt; &lt;span class="n"&gt;u&lt;/span&gt;
&lt;/pre&gt;
&lt;/div&gt;
&lt;div class="section" id="g008-67-continuum"&gt;
&lt;h2&gt;G008.67 Continuum&lt;/h2&gt;
&lt;p&gt;This is the G008.67 continuum image in Band 3.&lt;/p&gt;
&lt;p&gt;It has “confetti” pieces in the model image, but there is no problem: no
artificial point sources are introduced.&lt;/p&gt;
&lt;pre class="code python literal-block"&gt;
&lt;span class="n"&gt;contmodel&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;SpectralCube&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;read&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s1"&gt;'/orange/adamginsburg/ALMA_IMF/2017.1.01355.L/imaging_results/G008.67_B3_uid___A001_X1296_X1c1_continuum_merged_12M_robust-0.5_selfcal5_finaliter.model.tt0'&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="nb"&gt;format&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s1"&gt;'casa_image'&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;&lt;span class="w"&gt;
&lt;/span&gt;&lt;span class="n"&gt;contimage&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;SpectralCube&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;read&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s1"&gt;'/orange/adamginsburg/ALMA_IMF/2017.1.01355.L/imaging_results/G008.67_B3_uid___A001_X1296_X1c1_continuum_merged_12M_robust-0.5_selfcal5_finaliter.image.tt0'&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="nb"&gt;format&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s1"&gt;'casa_image'&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;&lt;span class="w"&gt;
&lt;/span&gt;&lt;span class="n"&gt;contresid&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;SpectralCube&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;read&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s1"&gt;'/orange/adamginsburg/ALMA_IMF/2017.1.01355.L/imaging_results/G008.67_B3_uid___A001_X1296_X1c1_continuum_merged_12M_robust-0.5_selfcal5_finaliter.residual.tt0'&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="nb"&gt;format&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s1"&gt;'casa_image'&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;/pre&gt;
&lt;pre class="code python literal-block"&gt;
&lt;span class="c1"&gt;# zoom in&lt;/span&gt;&lt;span class="w"&gt;
&lt;/span&gt;&lt;span class="n"&gt;contslc&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="nb"&gt;slice&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="mi"&gt;950&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="mi"&gt;1050&lt;/span&gt;&lt;span class="p"&gt;),&lt;/span&gt; &lt;span class="nb"&gt;slice&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="mi"&gt;1900&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="mi"&gt;2050&lt;/span&gt;&lt;span class="p"&gt;))&lt;/span&gt;
&lt;/pre&gt;
&lt;pre class="code python literal-block"&gt;
&lt;span class="n"&gt;pl&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;figure&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;figsize&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="mi"&gt;15&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="mi"&gt;15&lt;/span&gt;&lt;span class="p"&gt;))&lt;/span&gt;&lt;span class="w"&gt;
&lt;/span&gt;&lt;span class="n"&gt;pl&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;imshow&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;contmodel&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="n"&gt;contslc&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;value&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;norm&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="n"&gt;simple_norm&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;contmodel&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="n"&gt;contslc&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;value&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;max_percent&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="mf"&gt;99.995&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;stretch&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s1"&gt;'asinh'&lt;/span&gt;&lt;span class="p"&gt;),&lt;/span&gt; &lt;span class="n"&gt;interpolation&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s1"&gt;'none'&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;origin&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s1"&gt;'lower'&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;&lt;span class="w"&gt;
&lt;/span&gt;&lt;span class="n"&gt;_&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="n"&gt;pl&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;title&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;model&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;/pre&gt;
&lt;img alt="" src="https://keflavich.github.io/blog/images/output_8_0.png" /&gt;
&lt;pre class="code python literal-block"&gt;
&lt;span class="n"&gt;pl&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;figure&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;figsize&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="mi"&gt;15&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="mi"&gt;15&lt;/span&gt;&lt;span class="p"&gt;))&lt;/span&gt;&lt;span class="w"&gt;
&lt;/span&gt;&lt;span class="n"&gt;im&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;contimage&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="p"&gt;][&lt;/span&gt;&lt;span class="n"&gt;contslc&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;:]]&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;value&lt;/span&gt;&lt;span class="w"&gt;
&lt;/span&gt;&lt;span class="n"&gt;pl&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;imshow&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;im&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;norm&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="n"&gt;simple_norm&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;im&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;stretch&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s1"&gt;'log'&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;max_percent&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="mf"&gt;99.995&lt;/span&gt;&lt;span class="p"&gt;),&lt;/span&gt; &lt;span class="n"&gt;interpolation&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s1"&gt;'none'&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;  &lt;span class="n"&gt;origin&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s1"&gt;'lower'&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;&lt;span class="w"&gt;
&lt;/span&gt;&lt;span class="n"&gt;_&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="n"&gt;pl&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;title&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;image&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;/pre&gt;
&lt;img alt="" src="https://keflavich.github.io/blog/images/output_9_0.png" /&gt;
&lt;pre class="code python literal-block"&gt;
&lt;span class="n"&gt;pl&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;figure&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;figsize&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="mi"&gt;15&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="mi"&gt;15&lt;/span&gt;&lt;span class="p"&gt;))&lt;/span&gt;&lt;span class="w"&gt;
&lt;/span&gt;&lt;span class="n"&gt;im&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;contresid&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="p"&gt;][&lt;/span&gt;&lt;span class="n"&gt;contslc&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;:]]&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;value&lt;/span&gt;&lt;span class="w"&gt;
&lt;/span&gt;&lt;span class="n"&gt;pl&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;imshow&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;im&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;norm&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="n"&gt;simple_norm&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;im&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;stretch&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s1"&gt;'linear'&lt;/span&gt;&lt;span class="p"&gt;),&lt;/span&gt; &lt;span class="n"&gt;interpolation&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s1"&gt;'none'&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;  &lt;span class="n"&gt;origin&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s1"&gt;'lower'&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;&lt;span class="w"&gt;
&lt;/span&gt;&lt;span class="n"&gt;_&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="n"&gt;pl&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;title&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;Residual&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;/pre&gt;
&lt;img alt="" src="https://keflavich.github.io/blog/images/output_10_0.png" /&gt;
&lt;div class="section" id="g008-67-cube"&gt;
&lt;h3&gt;G008.67 Cube&lt;/h3&gt;
&lt;p&gt;The G008.67 cube &lt;em&gt;does&lt;/em&gt; have a problem!&lt;/p&gt;
&lt;pre class="code python literal-block"&gt;
&lt;span class="n"&gt;cube&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;SpectralCube&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;read&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s1"&gt;'/orange/adamginsburg/ALMA_IMF/2017.1.01355.L/imaging_results/G008.67_B3_spw0_12M_n2hp.image'&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="nb"&gt;format&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s1"&gt;'casa_image'&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;with_spectral_unit&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;u&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;km&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="n"&gt;u&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;s&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;velocity_convention&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s1"&gt;'radio'&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;&lt;span class="w"&gt;
&lt;/span&gt;&lt;span class="n"&gt;resid&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;SpectralCube&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;read&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s1"&gt;'/orange/adamginsburg/ALMA_IMF/2017.1.01355.L/imaging_results/G008.67_B3_spw0_12M_n2hp.residual'&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="nb"&gt;format&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s1"&gt;'casa_image'&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;with_spectral_unit&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;u&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;km&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="n"&gt;u&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;s&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;velocity_convention&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s1"&gt;'radio'&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;&lt;span class="w"&gt;
&lt;/span&gt;&lt;span class="n"&gt;model&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;SpectralCube&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;read&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s1"&gt;'/orange/adamginsburg/ALMA_IMF/2017.1.01355.L/imaging_results/G008.67_B3_spw0_12M_n2hp.model'&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="nb"&gt;format&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s1"&gt;'casa_image'&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;with_spectral_unit&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;u&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;km&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="n"&gt;u&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;s&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;velocity_convention&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s1"&gt;'radio'&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;/pre&gt;
&lt;pre class="code python literal-block"&gt;
&lt;span class="n"&gt;xslc&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="nb"&gt;slice&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="mi"&gt;1620&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="mi"&gt;1654&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;&lt;span class="w"&gt;
&lt;/span&gt;&lt;span class="n"&gt;yslc&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="nb"&gt;slice&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="mi"&gt;709&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="mi"&gt;743&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;&lt;span class="w"&gt;
&lt;/span&gt;&lt;span class="n"&gt;cubeslice&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nb"&gt;slice&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="kc"&gt;None&lt;/span&gt;&lt;span class="p"&gt;),&lt;/span&gt; &lt;span class="n"&gt;yslc&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;xslc&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;&lt;span class="w"&gt;
&lt;/span&gt;&lt;span class="n"&gt;cube1slice&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="mi"&gt;98&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;yslc&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;xslc&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="section" id="confetti-a-false-point-source"&gt;
&lt;h2&gt;Confetti: a false (?) point source&lt;/h2&gt;
&lt;p&gt;In the image below, we see a new source introduced in the 35.140 km/s
panel.&lt;/p&gt;
&lt;p&gt;There is no comparable source in either of the adjacent panels!&lt;/p&gt;
&lt;p&gt;That means either there is a genuinely pointlike source with linewidth
much narrower than 0.77 km/s, or this source is fake.&lt;/p&gt;
&lt;pre class="code python literal-block"&gt;
&lt;span class="n"&gt;specpix&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;np&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;arange&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="mi"&gt;94&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="mi"&gt;94&lt;/span&gt;&lt;span class="o"&gt;+&lt;/span&gt;&lt;span class="mi"&gt;9&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;&lt;span class="w"&gt;
&lt;/span&gt;&lt;span class="n"&gt;panels&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;cube&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="n"&gt;cubeslice&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;plot_channel_maps&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="mi"&gt;3&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="mi"&gt;3&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="n"&gt;specpix&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;fig_smallest_dim_inches&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="mi"&gt;15&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;norm&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="n"&gt;simple_norm&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;cube&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="n"&gt;cube1slice&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;value&lt;/span&gt;&lt;span class="p"&gt;))&lt;/span&gt;
&lt;/pre&gt;
&lt;img alt="" src="https://keflavich.github.io/blog/images/output_15_0.png" /&gt;
&lt;p&gt;It is caused by one hot (bright) pixel surrounded by many faint pixels&lt;/p&gt;
&lt;pre class="code python literal-block"&gt;
&lt;span class="n"&gt;panels&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;model&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="n"&gt;cubeslice&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;plot_channel_maps&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="mi"&gt;3&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="mi"&gt;3&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="n"&gt;specpix&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;fig_smallest_dim_inches&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="mi"&gt;15&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;norm&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="n"&gt;simple_norm&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;model&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="n"&gt;cube1slice&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;value&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;stretch&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s1"&gt;'log'&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;max_percent&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="mf"&gt;99.93&lt;/span&gt;&lt;span class="p"&gt;))&lt;/span&gt;
&lt;/pre&gt;
&lt;img alt="" src="https://keflavich.github.io/blog/images/output_17_0.png" /&gt;
&lt;p&gt;There is no sign of it in the residual - it is apparently canceled out
between positive and negative components added to the model&lt;/p&gt;
&lt;pre class="code python literal-block"&gt;
&lt;span class="n"&gt;panels&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;resid&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="n"&gt;cubeslice&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;plot_channel_maps&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="mi"&gt;3&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="mi"&gt;3&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="n"&gt;specpix&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;fig_smallest_dim_inches&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="mi"&gt;15&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;/pre&gt;
&lt;img alt="" src="https://keflavich.github.io/blog/images/output_19_0.png" /&gt;
&lt;p&gt;The manifestation in the spectra is a very sharp peak at just one pixel.&lt;/p&gt;
&lt;pre class="code python literal-block"&gt;
&lt;span class="n"&gt;pl&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;figure&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;figsize&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="mi"&gt;14&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="mi"&gt;6&lt;/span&gt;&lt;span class="p"&gt;))&lt;/span&gt;&lt;span class="w"&gt;
&lt;/span&gt;&lt;span class="n"&gt;xx&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="n"&gt;yy&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="mi"&gt;1638&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="mi"&gt;725&lt;/span&gt;&lt;span class="w"&gt;
&lt;/span&gt;&lt;span class="n"&gt;cube&lt;/span&gt;&lt;span class="p"&gt;[:,&lt;/span&gt;&lt;span class="n"&gt;yy&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="n"&gt;xx&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;quicklook&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;&lt;span class="w"&gt;
&lt;/span&gt;&lt;span class="n"&gt;resid&lt;/span&gt;&lt;span class="p"&gt;[:,&lt;/span&gt;&lt;span class="n"&gt;yy&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="n"&gt;xx&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;quicklook&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;&lt;span class="w"&gt;
&lt;/span&gt;&lt;span class="n"&gt;modspec&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;model&lt;/span&gt;&lt;span class="p"&gt;[:,&lt;/span&gt;&lt;span class="n"&gt;yy&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="n"&gt;xx&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt;&lt;span class="w"&gt;
&lt;/span&gt;&lt;span class="n"&gt;pl&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;plot&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;cube&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;spectral_axis&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;modspec&lt;/span&gt;&lt;span class="o"&gt;*&lt;/span&gt;&lt;span class="n"&gt;cube&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;pixels_per_beam&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;label&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s1"&gt;'model'&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;/pre&gt;
&lt;img alt="" src="https://keflavich.github.io/blog/images/output_21_1.png" /&gt;
&lt;p&gt;Pixels to either side look fine&lt;/p&gt;
&lt;pre class="code python literal-block"&gt;
&lt;span class="n"&gt;pl&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;figure&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;figsize&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="mi"&gt;14&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="mi"&gt;14&lt;/span&gt;&lt;span class="p"&gt;))&lt;/span&gt;&lt;span class="w"&gt;
&lt;/span&gt;&lt;span class="n"&gt;ii&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="w"&gt;
&lt;/span&gt;&lt;span class="k"&gt;for&lt;/span&gt; &lt;span class="n"&gt;dx&lt;/span&gt; &lt;span class="ow"&gt;in&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;):&lt;/span&gt;&lt;span class="w"&gt;
&lt;/span&gt;    &lt;span class="k"&gt;for&lt;/span&gt; &lt;span class="n"&gt;dy&lt;/span&gt; &lt;span class="ow"&gt;in&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;):&lt;/span&gt;&lt;span class="w"&gt;
&lt;/span&gt;        &lt;span class="n"&gt;ax&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;pl&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;subplot&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="mi"&gt;3&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mi"&gt;3&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;ii&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;&lt;span class="w"&gt;
&lt;/span&gt;        &lt;span class="n"&gt;ii&lt;/span&gt; &lt;span class="o"&gt;+=&lt;/span&gt;&lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="w"&gt;
&lt;/span&gt;        &lt;span class="n"&gt;cube&lt;/span&gt;&lt;span class="p"&gt;[:,&lt;/span&gt;&lt;span class="n"&gt;yy&lt;/span&gt;&lt;span class="o"&gt;+&lt;/span&gt;&lt;span class="n"&gt;dy&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="n"&gt;xx&lt;/span&gt;&lt;span class="o"&gt;+&lt;/span&gt;&lt;span class="n"&gt;dx&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;quicklook&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;&lt;span class="w"&gt;
&lt;/span&gt;        &lt;span class="n"&gt;resid&lt;/span&gt;&lt;span class="p"&gt;[:,&lt;/span&gt;&lt;span class="n"&gt;yy&lt;/span&gt;&lt;span class="o"&gt;+&lt;/span&gt;&lt;span class="n"&gt;dy&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="n"&gt;xx&lt;/span&gt;&lt;span class="o"&gt;+&lt;/span&gt;&lt;span class="n"&gt;dx&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;quicklook&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;&lt;span class="w"&gt;
&lt;/span&gt;        &lt;span class="n"&gt;modspec&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;model&lt;/span&gt;&lt;span class="p"&gt;[:,&lt;/span&gt;&lt;span class="n"&gt;yy&lt;/span&gt;&lt;span class="o"&gt;+&lt;/span&gt;&lt;span class="n"&gt;dy&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="n"&gt;xx&lt;/span&gt;&lt;span class="o"&gt;+&lt;/span&gt;&lt;span class="n"&gt;dx&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt;&lt;span class="w"&gt;
&lt;/span&gt;        &lt;span class="n"&gt;ax&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;plot&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;cube&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;spectral_axis&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;modspec&lt;/span&gt;&lt;span class="o"&gt;*&lt;/span&gt;&lt;span class="n"&gt;cube&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;pixels_per_beam&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;label&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s1"&gt;'model'&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;&lt;span class="w"&gt;
&lt;/span&gt;        &lt;span class="n"&gt;ax&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;set_title&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="sa"&gt;f&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;dx=&lt;/span&gt;&lt;span class="si"&gt;{&lt;/span&gt;&lt;span class="n"&gt;dx&lt;/span&gt;&lt;span class="si"&gt;}&lt;/span&gt;&lt;span class="s2"&gt; dy=&lt;/span&gt;&lt;span class="si"&gt;{&lt;/span&gt;&lt;span class="n"&gt;dy&lt;/span&gt;&lt;span class="si"&gt;}&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;/pre&gt;
&lt;img alt="" src="https://keflavich.github.io/blog/images/output_23_0.png" /&gt;
&lt;div class="section" id="when-is-confetti-not-a-problem"&gt;
&lt;h3&gt;When is confetti &lt;em&gt;not&lt;/em&gt; a problem?&lt;/h3&gt;
&lt;p&gt;Here is an example you might think is “confetti”, but is a &lt;em&gt;real&lt;/em&gt; source&lt;/p&gt;
&lt;pre class="code python literal-block"&gt;
&lt;span class="n"&gt;xc&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;yc&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="mi"&gt;1812&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mi"&gt;905&lt;/span&gt;&lt;span class="w"&gt;
&lt;/span&gt;&lt;span class="n"&gt;xslc&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="nb"&gt;slice&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;xc&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="mi"&gt;12&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="n"&gt;xc&lt;/span&gt;&lt;span class="o"&gt;+&lt;/span&gt;&lt;span class="mi"&gt;12&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;&lt;span class="w"&gt;
&lt;/span&gt;&lt;span class="n"&gt;yslc&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="nb"&gt;slice&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;yc&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="mi"&gt;12&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="n"&gt;yc&lt;/span&gt;&lt;span class="o"&gt;+&lt;/span&gt;&lt;span class="mi"&gt;12&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;&lt;span class="w"&gt;
&lt;/span&gt;&lt;span class="n"&gt;cubeslice&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nb"&gt;slice&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="mi"&gt;94&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="mi"&gt;94&lt;/span&gt;&lt;span class="o"&gt;+&lt;/span&gt;&lt;span class="mi"&gt;9&lt;/span&gt;&lt;span class="p"&gt;),&lt;/span&gt; &lt;span class="n"&gt;yslc&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;xslc&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;&lt;span class="w"&gt;
&lt;/span&gt;&lt;span class="n"&gt;cube1slice&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="mi"&gt;94&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;yslc&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;xslc&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;/pre&gt;
&lt;pre class="code python literal-block"&gt;
&lt;span class="n"&gt;specpix&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;np&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;arange&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="mi"&gt;9&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;&lt;span class="w"&gt;
&lt;/span&gt;&lt;span class="n"&gt;panels&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;cube&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="n"&gt;cubeslice&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;plot_channel_maps&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="mi"&gt;3&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="mi"&gt;3&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="n"&gt;specpix&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;fig_smallest_dim_inches&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="mi"&gt;15&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;norm&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="n"&gt;simple_norm&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;cube&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="n"&gt;cube1slice&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;value&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;min_cut&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="n"&gt;cube&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="n"&gt;cubeslice&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;min&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;value&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;max_cut&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="n"&gt;cube&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="n"&gt;cubeslice&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;max&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;value&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;stretch&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s1"&gt;'linear'&lt;/span&gt;&lt;span class="p"&gt;))&lt;/span&gt;
&lt;/pre&gt;
&lt;img alt="" src="https://keflavich.github.io/blog/images/output_26_0.png" /&gt;
&lt;pre class="code python literal-block"&gt;
&lt;span class="n"&gt;panels&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;model&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="n"&gt;cubeslice&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;plot_channel_maps&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="mi"&gt;3&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="mi"&gt;3&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="n"&gt;specpix&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;fig_smallest_dim_inches&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="mi"&gt;15&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;norm&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="n"&gt;simple_norm&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;model&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="n"&gt;cube1slice&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;value&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;stretch&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s1"&gt;'asinh'&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;max_percent&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="mf"&gt;99.9&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;min_cut&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="n"&gt;model&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="n"&gt;cubeslice&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;min&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;value&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;max_cut&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="n"&gt;model&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="n"&gt;cubeslice&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;max&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;value&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="p"&gt;))&lt;/span&gt;
&lt;/pre&gt;
&lt;img alt="" src="https://keflavich.github.io/blog/images/output_27_0.png" /&gt;
&lt;pre class="code python literal-block"&gt;
&lt;span class="n"&gt;panels&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;resid&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="n"&gt;cubeslice&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;plot_channel_maps&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="mi"&gt;3&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="mi"&gt;3&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="n"&gt;specpix&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;fig_smallest_dim_inches&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="mi"&gt;15&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;/pre&gt;
&lt;img alt="" src="https://keflavich.github.io/blog/images/output_28_0.png" /&gt;
&lt;pre class="code python literal-block"&gt;
&lt;span class="n"&gt;pl&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;figure&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;figsize&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="mi"&gt;14&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="mi"&gt;14&lt;/span&gt;&lt;span class="p"&gt;))&lt;/span&gt;&lt;span class="w"&gt;
&lt;/span&gt;&lt;span class="n"&gt;ii&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="w"&gt;
&lt;/span&gt;&lt;span class="k"&gt;for&lt;/span&gt; &lt;span class="n"&gt;dx&lt;/span&gt; &lt;span class="ow"&gt;in&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;):&lt;/span&gt;&lt;span class="w"&gt;
&lt;/span&gt;    &lt;span class="k"&gt;for&lt;/span&gt; &lt;span class="n"&gt;dy&lt;/span&gt; &lt;span class="ow"&gt;in&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;):&lt;/span&gt;&lt;span class="w"&gt;
&lt;/span&gt;        &lt;span class="n"&gt;ax&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;pl&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;subplot&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="mi"&gt;3&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mi"&gt;3&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;ii&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;&lt;span class="w"&gt;
&lt;/span&gt;        &lt;span class="n"&gt;ii&lt;/span&gt; &lt;span class="o"&gt;+=&lt;/span&gt;&lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="w"&gt;
&lt;/span&gt;        &lt;span class="n"&gt;cube&lt;/span&gt;&lt;span class="p"&gt;[:,&lt;/span&gt;&lt;span class="n"&gt;yc&lt;/span&gt;&lt;span class="o"&gt;+&lt;/span&gt;&lt;span class="n"&gt;dy&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="n"&gt;xc&lt;/span&gt;&lt;span class="o"&gt;+&lt;/span&gt;&lt;span class="n"&gt;dx&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;quicklook&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;&lt;span class="w"&gt;
&lt;/span&gt;        &lt;span class="n"&gt;resid&lt;/span&gt;&lt;span class="p"&gt;[:,&lt;/span&gt;&lt;span class="n"&gt;yc&lt;/span&gt;&lt;span class="o"&gt;+&lt;/span&gt;&lt;span class="n"&gt;dy&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="n"&gt;xc&lt;/span&gt;&lt;span class="o"&gt;+&lt;/span&gt;&lt;span class="n"&gt;dx&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;quicklook&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;&lt;span class="w"&gt;
&lt;/span&gt;        &lt;span class="n"&gt;modspec&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;model&lt;/span&gt;&lt;span class="p"&gt;[:,&lt;/span&gt;&lt;span class="n"&gt;yc&lt;/span&gt;&lt;span class="o"&gt;+&lt;/span&gt;&lt;span class="n"&gt;dy&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="n"&gt;xc&lt;/span&gt;&lt;span class="o"&gt;+&lt;/span&gt;&lt;span class="n"&gt;dx&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt;&lt;span class="w"&gt;
&lt;/span&gt;        &lt;span class="n"&gt;ax&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;plot&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;cube&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;spectral_axis&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;modspec&lt;/span&gt;&lt;span class="o"&gt;*&lt;/span&gt;&lt;span class="n"&gt;cube&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;pixels_per_beam&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;label&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s1"&gt;'model'&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;&lt;span class="w"&gt;
&lt;/span&gt;        &lt;span class="n"&gt;ax&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;set_title&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="sa"&gt;f&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;dx=&lt;/span&gt;&lt;span class="si"&gt;{&lt;/span&gt;&lt;span class="n"&gt;dx&lt;/span&gt;&lt;span class="si"&gt;}&lt;/span&gt;&lt;span class="s2"&gt; dy=&lt;/span&gt;&lt;span class="si"&gt;{&lt;/span&gt;&lt;span class="n"&gt;dy&lt;/span&gt;&lt;span class="si"&gt;}&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;/pre&gt;
&lt;img alt="" src="https://keflavich.github.io/blog/images/output_29_0.png" /&gt;
&lt;/div&gt;
&lt;div class="section" id="conclusion"&gt;
&lt;h3&gt;Conclusion&lt;/h3&gt;
&lt;p&gt;“Confetti” is a problem, but it is not trivial to find in the model data
alone. It exhibits no features in the residual.&lt;/p&gt;
&lt;p&gt;Key features to look out for are:&lt;/p&gt;
&lt;ul class="simple"&gt;
&lt;li&gt;Narrow-line features (single channel)&lt;/li&gt;
&lt;li&gt;Extremely bright pointlike peaks in the model (note that this is
&lt;em&gt;not&lt;/em&gt; independent evidence of a problem! All point sources occupy
single pixels in the model image by definition!)&lt;/li&gt;
&lt;li&gt;Bright pointlike peaks sitting on top of slightly extended negative
backgrounds in the model (this is how the model is “canceled out” in
the residual)&lt;/li&gt;
&lt;/ul&gt;
&lt;/div&gt;
&lt;/div&gt;
</content><category term="misc"></category><category term="CASA"></category></entry><entry><title>casa's plotms in a notebook</title><link href="https://keflavich.github.io/blog/casas-plotms-in-a-notebook.html" rel="alternate"></link><published>2021-06-14T12:30:00-06:00</published><updated>2021-06-14T12:30:00-06:00</updated><author><name>Adam Ginsburg (Adam.G.Ginsburg@gmail.com)</name></author><id>tag:keflavich.github.io,2021-06-14:/blog/casas-plotms-in-a-notebook.html</id><summary type="html">&lt;p&gt;CASA's plotms requires an X11 frontend to work properly, so you either need to run it with xvfb or
with X.&lt;/p&gt;
&lt;p&gt;I want to just make UV data plots in jupyter notebooks.&lt;/p&gt;
&lt;p&gt;This is harder than it sounds, particularly for concatenated data sets.&lt;/p&gt;
&lt;p&gt;First step is that you need to …&lt;/p&gt;</summary><content type="html">&lt;p&gt;CASA's plotms requires an X11 frontend to work properly, so you either need to run it with xvfb or
with X.&lt;/p&gt;
&lt;p&gt;I want to just make UV data plots in jupyter notebooks.&lt;/p&gt;
&lt;p&gt;This is harder than it sounds, particularly for concatenated data sets.&lt;/p&gt;
&lt;p&gt;First step is that you need to assemble the metadata:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="n"&gt;msmd&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;open&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;scvis&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="n"&gt;scsum&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;msmd&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;summary&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;
&lt;span class="n"&gt;msmd&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;close&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;The resulting &lt;tt class="docutils literal"&gt;scsum&lt;/tt&gt; is a nested dictionary containing a ton of information.
We need only some of it.&lt;/p&gt;
&lt;p&gt;To get out some flattened information, such as the &amp;quot;data description IDs&amp;quot; associated
with data that are actually in my concatenated MS (in my case, 8 of 11 observation blocks
in the metadata are not present in the data), this tool gets and flattens the resulting
information:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="k"&gt;def&lt;/span&gt; &lt;span class="nf"&gt;walk_summary&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;summary&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;key&lt;/span&gt;&lt;span class="p"&gt;):&lt;/span&gt;
    &lt;span class="k"&gt;if&lt;/span&gt; &lt;span class="nb"&gt;isinstance&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;summary&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="nb"&gt;dict&lt;/span&gt;&lt;span class="p"&gt;):&lt;/span&gt;
        &lt;span class="k"&gt;try&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
            &lt;span class="k"&gt;if&lt;/span&gt; &lt;span class="n"&gt;key&lt;/span&gt; &lt;span class="ow"&gt;in&lt;/span&gt; &lt;span class="n"&gt;summary&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
                &lt;span class="k"&gt;return&lt;/span&gt; &lt;span class="n"&gt;summary&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="n"&gt;key&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt;
            &lt;span class="k"&gt;else&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
                &lt;span class="n"&gt;result&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="n"&gt;walk_summary&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;summary&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="n"&gt;kk&lt;/span&gt;&lt;span class="p"&gt;],&lt;/span&gt; &lt;span class="n"&gt;key&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="k"&gt;for&lt;/span&gt; &lt;span class="n"&gt;kk&lt;/span&gt; &lt;span class="ow"&gt;in&lt;/span&gt; &lt;span class="n"&gt;summary&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt;
                &lt;span class="k"&gt;try&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
                    &lt;span class="n"&gt;result&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;np&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;unique&lt;/span&gt;&lt;span class="p"&gt;([&lt;/span&gt;&lt;span class="n"&gt;x&lt;/span&gt; &lt;span class="k"&gt;for&lt;/span&gt; &lt;span class="n"&gt;x&lt;/span&gt; &lt;span class="ow"&gt;in&lt;/span&gt; &lt;span class="n"&gt;result&lt;/span&gt; &lt;span class="k"&gt;if&lt;/span&gt; &lt;span class="n"&gt;x&lt;/span&gt; &lt;span class="ow"&gt;is&lt;/span&gt; &lt;span class="ow"&gt;not&lt;/span&gt; &lt;span class="kc"&gt;None&lt;/span&gt;&lt;span class="p"&gt;])&lt;/span&gt;
                    &lt;span class="k"&gt;if&lt;/span&gt; &lt;span class="nb"&gt;len&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;result&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="o"&gt;&amp;gt;&lt;/span&gt; &lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
                        &lt;span class="k"&gt;return&lt;/span&gt; &lt;span class="n"&gt;result&lt;/span&gt;
                &lt;span class="k"&gt;except&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
                    &lt;span class="k"&gt;return&lt;/span&gt; &lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="n"&gt;x&lt;/span&gt; &lt;span class="k"&gt;for&lt;/span&gt; &lt;span class="n"&gt;x&lt;/span&gt; &lt;span class="ow"&gt;in&lt;/span&gt; &lt;span class="n"&gt;result&lt;/span&gt; &lt;span class="k"&gt;if&lt;/span&gt; &lt;span class="n"&gt;x&lt;/span&gt; &lt;span class="ow"&gt;is&lt;/span&gt; &lt;span class="ow"&gt;not&lt;/span&gt; &lt;span class="kc"&gt;None&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt;
        &lt;span class="k"&gt;except&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="ne"&gt;KeyError&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="ne"&gt;TypeError&lt;/span&gt;&lt;span class="p"&gt;):&lt;/span&gt;
            &lt;span class="k"&gt;return&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Then we grab the usable observation and data description IDs:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="n"&gt;obsids&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="n"&gt;key&lt;/span&gt; &lt;span class="k"&gt;for&lt;/span&gt; &lt;span class="n"&gt;key&lt;/span&gt; &lt;span class="ow"&gt;in&lt;/span&gt; &lt;span class="n"&gt;scsum&lt;/span&gt; &lt;span class="k"&gt;if&lt;/span&gt; &lt;span class="s1"&gt;&amp;#39;observationID&amp;#39;&lt;/span&gt; &lt;span class="ow"&gt;in&lt;/span&gt; &lt;span class="n"&gt;key&lt;/span&gt; &lt;span class="ow"&gt;and&lt;/span&gt; &lt;span class="n"&gt;scsum&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="n"&gt;key&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt; &lt;span class="o"&gt;!=&lt;/span&gt; &lt;span class="p"&gt;{}]&lt;/span&gt;
&lt;span class="n"&gt;ddids&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;walk_summary&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;scsum&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s1"&gt;&amp;#39;data description IDs&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Now we have to load the actual data.  I needed to create new versions of the &lt;tt class="docutils literal"&gt;mstool&lt;/tt&gt; each time
because I was getting weird errors where &lt;tt class="docutils literal"&gt;ms.close()&lt;/tt&gt; followed by &lt;tt class="docutils literal"&gt;ms.open(fn)&lt;/tt&gt; was not properly
resetting, which resulted in &lt;tt class="docutils literal"&gt;ms.getdata&lt;/tt&gt; returning the same data for two different MSes - BAD!&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="n"&gt;ms6&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;mstool&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;
&lt;span class="n"&gt;ms6&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;open&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;scvis&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="n"&gt;scdata_all&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="p"&gt;{}&lt;/span&gt;
&lt;span class="k"&gt;for&lt;/span&gt; &lt;span class="n"&gt;ddid&lt;/span&gt; &lt;span class="ow"&gt;in&lt;/span&gt; &lt;span class="n"&gt;ddids&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
    &lt;span class="n"&gt;ms6&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;selectinit&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;ddid&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;reset&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="kc"&gt;True&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
    &lt;span class="n"&gt;ms6&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;selectinit&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;ddid&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
    &lt;span class="n"&gt;scdata_all&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="n"&gt;ddid&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;ms6&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;getdata&lt;/span&gt;&lt;span class="p"&gt;([&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;amplitude&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s1"&gt;&amp;#39;weight&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s1"&gt;&amp;#39;uvdist&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s1"&gt;&amp;#39;axis_info&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s1"&gt;&amp;#39;flag&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s1"&gt;&amp;#39;corrected_amplitude&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;],&lt;/span&gt; &lt;span class="n"&gt;ifraxis&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="kc"&gt;True&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="n"&gt;ms6&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;close&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Then plotting is a hassle, but at least is not insane - it's just normal array manipulation:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="n"&gt;pl&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;figure&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;figsize&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="mi"&gt;12&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="mi"&gt;12&lt;/span&gt;&lt;span class="p"&gt;))&lt;/span&gt;
&lt;span class="n"&gt;colors&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;itertools&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;cycle&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;pl&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;rcParams&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;axes.prop_cycle&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;by_key&lt;/span&gt;&lt;span class="p"&gt;()[&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;color&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;])&lt;/span&gt;
&lt;span class="k"&gt;for&lt;/span&gt; &lt;span class="n"&gt;key&lt;/span&gt; &lt;span class="ow"&gt;in&lt;/span&gt; &lt;span class="n"&gt;scdata_all&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="c1"&gt;# the keys are SPW numbers from the multi-MS file&lt;/span&gt;
    &lt;span class="n"&gt;weight&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;scdata_all&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="n"&gt;key&lt;/span&gt;&lt;span class="p"&gt;][&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;weight&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt;
    &lt;span class="n"&gt;uvd&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;scdata_all&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="n"&gt;key&lt;/span&gt;&lt;span class="p"&gt;][&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;uvdist&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt;
    &lt;span class="n"&gt;pl&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;semilogy&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;uvd&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;ravel&lt;/span&gt;&lt;span class="p"&gt;(),&lt;/span&gt; &lt;span class="n"&gt;weight&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;reshape&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;weight&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;shape&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="p"&gt;],&lt;/span&gt; &lt;span class="n"&gt;uvd&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;size&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;T&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s1"&gt;&amp;#39;,&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;color&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="nb"&gt;next&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;colors&lt;/span&gt;&lt;span class="p"&gt;),&lt;/span&gt; &lt;span class="n"&gt;label&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="n"&gt;key&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;alpha&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="mf"&gt;0.5&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="n"&gt;pl&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;legend&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;loc&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;best&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="n"&gt;pl&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;xlabel&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;UV Distance (m)&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="n"&gt;pl&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;ylabel&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;Weight&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;That is basically equivalent to &lt;tt class="docutils literal"&gt;plotms(vis, &lt;span class="pre"&gt;xaxis='uvdist',&lt;/span&gt; &lt;span class="pre"&gt;yaxis='weight',&lt;/span&gt; &lt;span class="pre"&gt;coloraxis='spw')&lt;/span&gt;&lt;/tt&gt;.  It's just slightly more flexible, since
you can also make waterfall plots, etc.&lt;/p&gt;
&lt;p&gt;Selecting along various axes, like antenna, gets tricky.  You'd rather not go back to &lt;tt class="docutils literal"&gt;ms.getdata&lt;/tt&gt; because it is _slow_.&lt;/p&gt;
&lt;p&gt;The &amp;quot;identifying baselines&amp;quot; step that you can do in plotms can be achieved through normal boolean array selection, with a result that's somewhat easier to read than CASA's logger:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="n"&gt;highwt&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;scdata_all&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="mi"&gt;56&lt;/span&gt;&lt;span class="p"&gt;][&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;weight&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt; &lt;span class="o"&gt;&amp;gt;&lt;/span&gt; &lt;span class="mf"&gt;1e5&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="n"&gt;scdata_all&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="mi"&gt;56&lt;/span&gt;&lt;span class="p"&gt;][&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;axis_info&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;][&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;ifr_axis&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;][&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;ifr_name&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;][&lt;/span&gt;&lt;span class="n"&gt;highwt&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;any&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;axis&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="mi"&gt;2&lt;/span&gt;&lt;span class="p"&gt;))]&lt;/span&gt;
&lt;span class="c1"&gt;# array([&amp;#39;DA41-DV12&amp;#39;, &amp;#39;DA42-DV12&amp;#39;, &amp;#39;DA43-DV12&amp;#39;, &amp;#39;DA44-DV12&amp;#39;, &amp;#39;DA45-DV12&amp;#39;,&lt;/span&gt;
&lt;span class="c1"&gt;#  &amp;#39;DA46-DV12&amp;#39;, &amp;#39;DA47-DV12&amp;#39;, &amp;#39;DA48-DV12&amp;#39;, &amp;#39;DA49-DV12&amp;#39;, &amp;#39;DA50-DV12&amp;#39;,&lt;/span&gt;
&lt;span class="c1"&gt;#  &amp;#39;DA51-DV12&amp;#39;, &amp;#39;DA52-DV12&amp;#39;, &amp;#39;DA53-DV12&amp;#39;, &amp;#39;DA54-DV12&amp;#39;, &amp;#39;DA55-DV12&amp;#39;,&lt;/span&gt;
&lt;span class="c1"&gt;#  &amp;#39;DA56-DV12&amp;#39;, &amp;#39;DA57-DV12&amp;#39;, &amp;#39;DA58-DV12&amp;#39;, &amp;#39;DA60-DV12&amp;#39;, &amp;#39;DA61-DV12&amp;#39;,&lt;/span&gt;
&lt;span class="c1"&gt;#  &amp;#39;DA62-DV12&amp;#39;, &amp;#39;DA63-DV12&amp;#39;, &amp;#39;DA64-DV12&amp;#39;, &amp;#39;DA65-DV12&amp;#39;, &amp;#39;DV01-DV12&amp;#39;,&lt;/span&gt;
&lt;span class="c1"&gt;#  &amp;#39;DV02-DV12&amp;#39;, &amp;#39;DV03-DV12&amp;#39;, &amp;#39;DV04-DV12&amp;#39;, &amp;#39;DV05-DV12&amp;#39;, &amp;#39;DV06-DV12&amp;#39;,&lt;/span&gt;
&lt;span class="c1"&gt;#  &amp;#39;DV07-DV12&amp;#39;, &amp;#39;DV08-DV12&amp;#39;, &amp;#39;DV09-DV12&amp;#39;, &amp;#39;DV10-DV12&amp;#39;, &amp;#39;DV11-DV12&amp;#39;,&lt;/span&gt;
&lt;span class="c1"&gt;#  &amp;#39;DV12-DV14&amp;#39;, &amp;#39;DV12-DV16&amp;#39;, &amp;#39;DV12-DV17&amp;#39;, &amp;#39;DV12-DV19&amp;#39;, &amp;#39;DV12-DV20&amp;#39;,&lt;/span&gt;
&lt;span class="c1"&gt;#  &amp;#39;DV12-DV21&amp;#39;, &amp;#39;DV12-DV22&amp;#39;, &amp;#39;DV12-DV23&amp;#39;, &amp;#39;DV12-DV24&amp;#39;, &amp;#39;DV12-DV25&amp;#39;],&lt;/span&gt;
&lt;span class="c1"&gt;# dtype=&amp;#39;&amp;lt;U16&amp;#39;)&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;in this case, the output shows that DV12 is clearly the antenna that's overweighted.&lt;/p&gt;
&lt;p&gt;Handling flags is tricky.  The 'weight' array has shape &lt;tt class="docutils literal"&gt;[2,nbaseline,ntime]&lt;/tt&gt;, but I don't know if that 2 refers to frequency
or polarization, since I have two of each and there is no information about this in the &lt;tt class="docutils literal"&gt;axis_info&lt;/tt&gt; dictionary.  So... I'm
doing the conservative thing and ignoring any row of frequency or polarization if _any_ of the data are flagged.&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="n"&gt;pl&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;figure&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;figsize&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="mi"&gt;12&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="mi"&gt;12&lt;/span&gt;&lt;span class="p"&gt;))&lt;/span&gt;
&lt;span class="n"&gt;colors&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;itertools&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;cycle&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;pl&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;rcParams&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;axes.prop_cycle&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;by_key&lt;/span&gt;&lt;span class="p"&gt;()[&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;color&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;])&lt;/span&gt;
&lt;span class="k"&gt;for&lt;/span&gt; &lt;span class="n"&gt;key&lt;/span&gt; &lt;span class="ow"&gt;in&lt;/span&gt; &lt;span class="n"&gt;scdata_all&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
    &lt;span class="n"&gt;weight&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;scdata_all&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="n"&gt;key&lt;/span&gt;&lt;span class="p"&gt;][&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;weight&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt;
    &lt;span class="n"&gt;uvd&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;scdata_all&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="n"&gt;key&lt;/span&gt;&lt;span class="p"&gt;][&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;uvdist&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt;
    &lt;span class="n"&gt;flag&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;scdata_all&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="n"&gt;key&lt;/span&gt;&lt;span class="p"&gt;][&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;flag&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt;
    &lt;span class="n"&gt;okflag&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="o"&gt;~&lt;/span&gt;&lt;span class="n"&gt;np&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;any&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;flag&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;axis&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;))&lt;/span&gt;
    &lt;span class="n"&gt;pl&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;semilogy&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;uvd&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="n"&gt;okflag&lt;/span&gt;&lt;span class="p"&gt;],&lt;/span&gt; &lt;span class="n"&gt;weight&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;reshape&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;weight&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;shape&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="p"&gt;],&lt;/span&gt; &lt;span class="n"&gt;uvd&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;size&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;T&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="n"&gt;okflag&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;ravel&lt;/span&gt;&lt;span class="p"&gt;(),&lt;/span&gt; &lt;span class="p"&gt;:],&lt;/span&gt; &lt;span class="s1"&gt;&amp;#39;,&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;color&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="nb"&gt;next&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;colors&lt;/span&gt;&lt;span class="p"&gt;),&lt;/span&gt; &lt;span class="n"&gt;label&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="n"&gt;key&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;alpha&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="mf"&gt;0.5&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="n"&gt;pl&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;legend&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;loc&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;best&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="n"&gt;_&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="n"&gt;pl&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;xlabel&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;UV Distance (m)&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="n"&gt;_&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="n"&gt;pl&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;ylabel&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;Weight&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;And, indeed, doing this revealed that the super-high-weight antenna was already flagged out.&lt;/p&gt;
&lt;p&gt;This has been a demo of how to do some stuff with CASA to replicate plotms&lt;/p&gt;
&lt;div class="section" id="errors"&gt;
&lt;h2&gt;Errors&lt;/h2&gt;
&lt;p&gt;Along the way, I hit a ton of errors I didn't understand, so I need a record of what they mean.&lt;/p&gt;
&lt;div class="section" id="data-shape-varies-selecting-first-data-desc-id-only"&gt;
&lt;h3&gt;&amp;quot;Data shape varies, selecting first data desc id only&amp;quot;&lt;/h3&gt;
&lt;p&gt;This is the worst.  It means that you have a multi-ms file (mms) that has been produced by &lt;tt class="docutils literal"&gt;concat&lt;/tt&gt;.  It is therefore doing something &lt;em&gt;explicitly wrong&lt;/em&gt; and returning only the first data description ID.&lt;/p&gt;
&lt;p&gt;Data description IDs are super counterintuitive.  They refer, afaict, to SPW numbers.  If you have an MMS with unmerged SPWs (same frequency, but you didn't merge them because of tolerances or something),
each SPW will correspond to a single observation ID.&lt;/p&gt;
&lt;p&gt;The solution is to explicitly &lt;tt class="docutils literal"&gt;ms.selectinit&lt;/tt&gt;, i.e.:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="n"&gt;ms&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;open&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;vis&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="n"&gt;ms&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;selectinit&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;datadescid&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="c1"&gt;# note: &amp;quot;reset=True&amp;quot; appears to _override_ the selection&lt;/span&gt;
&lt;span class="n"&gt;ms&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;select&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="o"&gt;...&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="c1"&gt;# use this as needed&lt;/span&gt;
&lt;span class="n"&gt;data&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;ms&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;getdata&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="o"&gt;...&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="n"&gt;ms&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;close&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;but &lt;tt class="docutils literal"&gt;datadescid&lt;/tt&gt; is _not_ the observation ID.  It's just... some number you need to get from the metadata.&lt;/p&gt;
&lt;/div&gt;
&lt;div class="section" id="mismatched-data-shapes-when-comparing-two-mses"&gt;
&lt;h3&gt;Mismatched data shapes when comparing two MSes&lt;/h3&gt;
&lt;p&gt;I got into this whole thing because I wanted to compare the data in two MSes to determine where we went wrong (we did go wrong).&lt;/p&gt;
&lt;p&gt;Unfortunately, somewhere along the way, the autocorrelations got dropped.  I don't know how it happened because I never did it
(but I wish I had earlier), but that means that now the data shapes are mismatched.&lt;/p&gt;
&lt;p&gt;The solution was to use &lt;tt class="docutils literal"&gt;ms.select&lt;/tt&gt; and explicitly downselect to the baselines from MS #1 in MS #2 using MS #1's &lt;tt class="docutils literal"&gt;axis_info&lt;/tt&gt;: &lt;tt class="docutils literal"&gt;{'ifr_number': &lt;span class="pre"&gt;scdata['axis_info']['ifr_axis']['ifr_number']}&lt;/span&gt;&lt;/tt&gt;:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="n"&gt;ms3&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;mstool&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;
&lt;span class="n"&gt;ms3&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;open&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;newvis&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="n"&gt;ms3&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;selectinit&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="mi"&gt;80&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="c1"&gt;# 80? what the hell kind of datadescid is that?!&lt;/span&gt;
&lt;span class="n"&gt;ms3&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;select&lt;/span&gt;&lt;span class="p"&gt;({&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;ifr_number&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="n"&gt;scdata&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;axis_info&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;][&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;ifr_axis&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;][&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;ifr_number&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;]})&lt;/span&gt;
&lt;span class="n"&gt;newdata&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;ms3&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;getdata&lt;/span&gt;&lt;span class="p"&gt;([&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;amplitude&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s1"&gt;&amp;#39;uvdist&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s1"&gt;&amp;#39;axis_info&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s1"&gt;&amp;#39;corrected_amplitude&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;],&lt;/span&gt; &lt;span class="n"&gt;ifraxis&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="kc"&gt;True&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="n"&gt;ms3&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;close&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;
&lt;span class="n"&gt;newdata&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;keys&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;That downselected the baselines to match the baselines present in &lt;tt class="docutils literal"&gt;scdata&lt;/tt&gt;, which was MS 1.&lt;/p&gt;
&lt;/div&gt;
&lt;div class="section" id="the-wrong-data-are-showing-up-when-i-open-a-new-ms"&gt;
&lt;h3&gt;The wrong data are showing up when I open a new MS&lt;/h3&gt;
&lt;p&gt;I was comparing several MSes, and sometimes the data looked the same for MSes I was &lt;em&gt;dead certain&lt;/em&gt; were different.
I was right, and the problem was apparently reusing the ms tool.&lt;/p&gt;
&lt;p&gt;I didn't show the import statement above, but it was this:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="kn"&gt;from&lt;/span&gt; &lt;span class="nn"&gt;casatools&lt;/span&gt; &lt;span class="kn"&gt;import&lt;/span&gt; &lt;span class="n"&gt;ms&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;msmetadata&lt;/span&gt;
&lt;span class="n"&gt;mstool&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;ms&lt;/span&gt;
&lt;span class="n"&gt;ms&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;ms&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;
&lt;span class="n"&gt;msmd&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;msmetadata&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;If I tried to reuse &lt;tt class="docutils literal"&gt;ms&lt;/tt&gt; as normal, like so:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="n"&gt;ms&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;open&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;vis1&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="n"&gt;ms&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;selectinit&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="mi"&gt;80&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="n"&gt;data1&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;ms&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;getdata&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="o"&gt;...&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="n"&gt;ms&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;close&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;

&lt;span class="n"&gt;ms&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;open&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;vis2&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="n"&gt;ms&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;selectinit&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="mi"&gt;80&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="n"&gt;data2&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;ms&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;getdata&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="o"&gt;...&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="n"&gt;ms&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;close&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;then I can't say exactly what &lt;tt class="docutils literal"&gt;data1&lt;/tt&gt; and &lt;tt class="docutils literal"&gt;data2&lt;/tt&gt; are, but they weren't the same.&lt;/p&gt;
&lt;p&gt;So, instead, I created a new &lt;tt class="docutils literal"&gt;mstool&lt;/tt&gt; instance each time:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="n"&gt;ms&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;mstool&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;
&lt;span class="n"&gt;ms&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;open&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;vis1&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="n"&gt;ms&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;selectinit&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="mi"&gt;80&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="n"&gt;data1&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;ms&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;getdata&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="o"&gt;...&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="n"&gt;ms&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;close&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;

&lt;span class="n"&gt;ms&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;mstool&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;
&lt;span class="n"&gt;ms&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;open&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;vis2&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="n"&gt;ms&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;selectinit&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="mi"&gt;80&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="n"&gt;data2&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;ms&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;getdata&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="o"&gt;...&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="n"&gt;ms&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;close&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="section" id="put-all-together"&gt;
&lt;h2&gt;Put all together...&lt;/h2&gt;
&lt;p&gt;Here's some code to loop over a list of MSes and plot both amp and weight vs. uvdist for the field W43-MM3.&lt;/p&gt;
&lt;p&gt;Of course this crashed immediately because it exceeded the available memory.&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="k"&gt;for&lt;/span&gt; &lt;span class="n"&gt;vis&lt;/span&gt; &lt;span class="ow"&gt;in&lt;/span&gt; &lt;span class="n"&gt;mses&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
    &lt;span class="n"&gt;msmd&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;open&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;vis&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
    &lt;span class="n"&gt;vissum&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;msmd&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;summary&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;
    &lt;span class="n"&gt;msmd&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;close&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;

    &lt;span class="n"&gt;vobsids&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="n"&gt;key&lt;/span&gt; &lt;span class="k"&gt;for&lt;/span&gt; &lt;span class="n"&gt;key&lt;/span&gt; &lt;span class="ow"&gt;in&lt;/span&gt; &lt;span class="n"&gt;vissum&lt;/span&gt; &lt;span class="k"&gt;if&lt;/span&gt; &lt;span class="s1"&gt;&amp;#39;observationID&amp;#39;&lt;/span&gt; &lt;span class="ow"&gt;in&lt;/span&gt; &lt;span class="n"&gt;key&lt;/span&gt; &lt;span class="ow"&gt;and&lt;/span&gt; &lt;span class="n"&gt;vissum&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="n"&gt;key&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt; &lt;span class="o"&gt;!=&lt;/span&gt; &lt;span class="p"&gt;{}]&lt;/span&gt;
    &lt;span class="n"&gt;vddids&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;walk_summary&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;vissum&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s1"&gt;&amp;#39;data description IDs&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
    &lt;span class="n"&gt;fids&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;np&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;where&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;vissum&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;fields&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt; &lt;span class="o"&gt;==&lt;/span&gt; &lt;span class="s1"&gt;&amp;#39;W43-MM3&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;)[&lt;/span&gt;&lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt;
    &lt;span class="nb"&gt;print&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="sa"&gt;f&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;obsids: &lt;/span&gt;&lt;span class="si"&gt;{&lt;/span&gt;&lt;span class="n"&gt;vobsids&lt;/span&gt;&lt;span class="si"&gt;}&lt;/span&gt;&lt;span class="s2"&gt;, ddids: &lt;/span&gt;&lt;span class="si"&gt;{&lt;/span&gt;&lt;span class="n"&gt;vddids&lt;/span&gt;&lt;span class="si"&gt;}&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;

    &lt;span class="n"&gt;ms&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;mstool&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;
    &lt;span class="n"&gt;ms&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;open&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;vis&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
    &lt;span class="n"&gt;msdata_all&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="p"&gt;{}&lt;/span&gt;
    &lt;span class="k"&gt;for&lt;/span&gt; &lt;span class="n"&gt;ddid&lt;/span&gt; &lt;span class="ow"&gt;in&lt;/span&gt; &lt;span class="n"&gt;vddids&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
        &lt;span class="n"&gt;ms&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;selectinit&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;ddid&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;reset&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="kc"&gt;True&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
        &lt;span class="n"&gt;ms&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;selectinit&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;ddid&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
        &lt;span class="n"&gt;ms&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;select&lt;/span&gt;&lt;span class="p"&gt;({&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;field_id&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="n"&gt;fids&lt;/span&gt;&lt;span class="p"&gt;})&lt;/span&gt;
        &lt;span class="n"&gt;msdata_all&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="n"&gt;ddid&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;ms&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;getdata&lt;/span&gt;&lt;span class="p"&gt;([&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;amplitude&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s1"&gt;&amp;#39;weight&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s1"&gt;&amp;#39;uvdist&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s1"&gt;&amp;#39;axis_info&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s1"&gt;&amp;#39;flag&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s1"&gt;&amp;#39;corrected_amplitude&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;],&lt;/span&gt; &lt;span class="n"&gt;ifraxis&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="kc"&gt;True&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
    &lt;span class="n"&gt;ms&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;close&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;

    &lt;span class="n"&gt;colors&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;itertools&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;cycle&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;pl&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;rcParams&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;axes.prop_cycle&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;by_key&lt;/span&gt;&lt;span class="p"&gt;()[&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;color&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;])&lt;/span&gt;
    &lt;span class="n"&gt;pl&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;figure&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;figsize&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="mi"&gt;12&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="mi"&gt;12&lt;/span&gt;&lt;span class="p"&gt;))&lt;/span&gt;

    &lt;span class="k"&gt;for&lt;/span&gt; &lt;span class="n"&gt;key&lt;/span&gt; &lt;span class="ow"&gt;in&lt;/span&gt; &lt;span class="n"&gt;msdata_all&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
        &lt;span class="n"&gt;weight&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;msdata_all&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="n"&gt;key&lt;/span&gt;&lt;span class="p"&gt;][&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;weight&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt;
        &lt;span class="n"&gt;uvd&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;msdata_all&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="n"&gt;key&lt;/span&gt;&lt;span class="p"&gt;][&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;uvdist&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt;
        &lt;span class="n"&gt;flag&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;msdata_all&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="n"&gt;key&lt;/span&gt;&lt;span class="p"&gt;][&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;flag&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt;
        &lt;span class="n"&gt;okflag&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="o"&gt;~&lt;/span&gt;&lt;span class="n"&gt;np&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;any&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;flag&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;axis&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;))&lt;/span&gt;
        &lt;span class="n"&gt;pl&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;semilogy&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;uvd&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="n"&gt;okflag&lt;/span&gt;&lt;span class="p"&gt;],&lt;/span&gt; &lt;span class="n"&gt;weight&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;reshape&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;weight&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;shape&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="p"&gt;],&lt;/span&gt; &lt;span class="n"&gt;uvd&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;size&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;T&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="n"&gt;okflag&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;ravel&lt;/span&gt;&lt;span class="p"&gt;(),&lt;/span&gt; &lt;span class="p"&gt;:],&lt;/span&gt; &lt;span class="s1"&gt;&amp;#39;,&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;color&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="nb"&gt;next&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;colors&lt;/span&gt;&lt;span class="p"&gt;),&lt;/span&gt; &lt;span class="n"&gt;label&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="n"&gt;key&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;alpha&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="mf"&gt;0.5&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
    &lt;span class="n"&gt;pl&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;legend&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;loc&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;best&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
    &lt;span class="n"&gt;pl&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;set_title&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;vis&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
    &lt;span class="n"&gt;_&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="n"&gt;pl&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;xlabel&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;UV Distance (m)&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
    &lt;span class="n"&gt;_&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="n"&gt;pl&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;ylabel&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;Weight&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;

    &lt;span class="n"&gt;colors&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;itertools&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;cycle&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;pl&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;rcParams&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;axes.prop_cycle&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;by_key&lt;/span&gt;&lt;span class="p"&gt;()[&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;color&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;])&lt;/span&gt;
    &lt;span class="n"&gt;pl&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;figure&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;figsize&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="mi"&gt;12&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="mi"&gt;12&lt;/span&gt;&lt;span class="p"&gt;))&lt;/span&gt;

    &lt;span class="k"&gt;for&lt;/span&gt; &lt;span class="n"&gt;key&lt;/span&gt; &lt;span class="ow"&gt;in&lt;/span&gt; &lt;span class="n"&gt;msdata_all&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
        &lt;span class="n"&gt;amp&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;msdata_all&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="n"&gt;key&lt;/span&gt;&lt;span class="p"&gt;][&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;amplitude&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt;
        &lt;span class="n"&gt;uvd&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;msdata_all&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="n"&gt;key&lt;/span&gt;&lt;span class="p"&gt;][&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;uvdist&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt;
        &lt;span class="n"&gt;flag&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;msdata_all&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="n"&gt;key&lt;/span&gt;&lt;span class="p"&gt;][&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;flag&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt;
        &lt;span class="n"&gt;okflag&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="o"&gt;~&lt;/span&gt;&lt;span class="n"&gt;np&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;any&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;flag&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;axis&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;))&lt;/span&gt;
        &lt;span class="n"&gt;pl&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;plot&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;uvd&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="n"&gt;okflag&lt;/span&gt;&lt;span class="p"&gt;],&lt;/span&gt; &lt;span class="n"&gt;amp&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;reshape&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;amp&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;shape&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt;&lt;span class="o"&gt;*&lt;/span&gt;&lt;span class="n"&gt;amp&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;shape&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;],&lt;/span&gt; &lt;span class="n"&gt;uvd&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;size&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;T&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="n"&gt;okflag&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;ravel&lt;/span&gt;&lt;span class="p"&gt;(),&lt;/span&gt; &lt;span class="p"&gt;:],&lt;/span&gt; &lt;span class="s1"&gt;&amp;#39;,&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;color&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="nb"&gt;next&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;colors&lt;/span&gt;&lt;span class="p"&gt;),&lt;/span&gt; &lt;span class="n"&gt;label&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="n"&gt;key&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;alpha&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="mf"&gt;0.5&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
    &lt;span class="n"&gt;pl&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;legend&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;loc&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;best&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
    &lt;span class="n"&gt;pl&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;set_title&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;vis&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
    &lt;span class="n"&gt;_&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="n"&gt;pl&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;xlabel&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;UV Distance (m)&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
    &lt;span class="n"&gt;_&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="n"&gt;pl&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;ylabel&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;Amplitude&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;/div&gt;
</content><category term="misc"></category><category term="casa"></category></entry><entry><title>Reading a getsf catalog</title><link href="https://keflavich.github.io/blog/reading-a-getsf-catalog.html" rel="alternate"></link><published>2021-05-15T21:23:00-06:00</published><updated>2021-05-15T21:23:00-06:00</updated><author><name>Adam Ginsburg (Adam.G.Ginsburg@gmail.com)</name></author><id>tag:keflavich.github.io,2021-05-15:/blog/reading-a-getsf-catalog.html</id><content type="html">&lt;p&gt;To read a &lt;a class="reference external" href="http://irfu.cea.fr/Pisp/alexander.menshchikov/#method"&gt;getsf&lt;/a&gt; catalog, you can do:&lt;/p&gt;
&lt;pre class="code python literal-block"&gt;
&lt;span class="kn"&gt;from&lt;/span&gt; &lt;span class="nn"&gt;astropy.io&lt;/span&gt; &lt;span class="kn"&gt;import&lt;/span&gt; &lt;span class="n"&gt;ascii&lt;/span&gt;&lt;span class="w"&gt;
&lt;/span&gt;&lt;span class="n"&gt;cat&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;ascii&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;read&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s1"&gt;'getsf.cat'&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;data_start&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="nb"&gt;format&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s1"&gt;'commented_header'&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;header_start&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="mi"&gt;110&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;comment&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;\&lt;span class="s2"&gt;&amp;quot;!&lt;/span&gt;&lt;span class="se"&gt;\&amp;quot;&lt;/span&gt;&lt;span class="s2"&gt;)&lt;/span&gt;
&lt;/pre&gt;
&lt;p&gt;though &lt;tt class="docutils literal"&gt;header_start&lt;/tt&gt; may be different; I've seen 110 and 120 at least.&lt;/p&gt;
</content><category term="misc"></category><category term="getsf"></category></entry><entry><title>Determing ALMA Array Configurations</title><link href="https://keflavich.github.io/blog/determing-alma-array-configurations.html" rel="alternate"></link><published>2021-04-27T08:51:00-06:00</published><updated>2021-04-27T08:51:00-06:00</updated><author><name>Adam Ginsburg (Adam.G.Ginsburg@gmail.com)</name></author><id>tag:keflavich.github.io,2021-04-27:/blog/determing-alma-array-configurations.html</id><summary type="html">&lt;p&gt;ALMA's named array configurations are not accessible through CASA.
They are available from &lt;a class="reference external" href="https://almascience.eso.org/observing/observing-configuration-schedule/prior-cycle-observing-and-configuration-schedule"&gt;https://almascience.eso.org/observing/observing-configuration-schedule/prior-cycle-observing-and-configuration-schedule&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;This snippet will let you grab the tables and create a mapping from date to array config name.&lt;/p&gt;
&lt;p&gt;However, it's a HUGE waste of time, because these data are stored …&lt;/p&gt;</summary><content type="html">&lt;p&gt;ALMA's named array configurations are not accessible through CASA.
They are available from &lt;a class="reference external" href="https://almascience.eso.org/observing/observing-configuration-schedule/prior-cycle-observing-and-configuration-schedule"&gt;https://almascience.eso.org/observing/observing-configuration-schedule/prior-cycle-observing-and-configuration-schedule&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;This snippet will let you grab the tables and create a mapping from date to array config name.&lt;/p&gt;
&lt;p&gt;However, it's a HUGE waste of time, because these data are stored directly in the MS!&lt;/p&gt;
&lt;p&gt;This is the right way:&lt;/p&gt;
&lt;pre class="code python literal-block"&gt;
&lt;span class="n"&gt;tb&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;open&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;vis&lt;/span&gt;&lt;span class="o"&gt;+&lt;/span&gt;&lt;span class="s1"&gt;'/ASDM_EXECBLOCK'&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;&lt;span class="w"&gt;
&lt;/span&gt;&lt;span class="n"&gt;tb&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;getcol&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s1"&gt;'configName'&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;&lt;span class="w"&gt;
&lt;/span&gt;&lt;span class="c1"&gt;# array(['C43-3'], dtype='&amp;lt;U16')&lt;/span&gt;
&lt;/pre&gt;
&lt;p&gt;This is the hacky, reconstructed from the website, bad way:&lt;/p&gt;
&lt;pre class="code python literal-block"&gt;
&lt;span class="kn"&gt;import&lt;/span&gt; &lt;span class="nn"&gt;requests&lt;/span&gt;&lt;span class="w"&gt;
&lt;/span&gt;&lt;span class="kn"&gt;from&lt;/span&gt; &lt;span class="nn"&gt;bs4&lt;/span&gt; &lt;span class="kn"&gt;import&lt;/span&gt; &lt;span class="n"&gt;BeautifulSoup&lt;/span&gt;&lt;span class="w"&gt;
&lt;/span&gt;&lt;span class="kn"&gt;from&lt;/span&gt; &lt;span class="nn"&gt;astropy.table&lt;/span&gt; &lt;span class="kn"&gt;import&lt;/span&gt; &lt;span class="n"&gt;Table&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;vstack&lt;/span&gt;&lt;span class="w"&gt;
&lt;/span&gt;&lt;span class="kn"&gt;from&lt;/span&gt; &lt;span class="nn"&gt;astropy.io&lt;/span&gt; &lt;span class="kn"&gt;import&lt;/span&gt; &lt;span class="n"&gt;ascii&lt;/span&gt;&lt;span class="w"&gt;
&lt;/span&gt;&lt;span class="kn"&gt;from&lt;/span&gt; &lt;span class="nn"&gt;astropy.time&lt;/span&gt; &lt;span class="kn"&gt;import&lt;/span&gt; &lt;span class="n"&gt;Time&lt;/span&gt;&lt;span class="w"&gt;

&lt;/span&gt;&lt;span class="n"&gt;url&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="s2"&gt;&amp;quot;https://almascience.eso.org/observing/observing-configuration-schedule/prior-cycle-observing-and-configuration-schedule&amp;quot;&lt;/span&gt;&lt;span class="w"&gt;

&lt;/span&gt;&lt;span class="n"&gt;response&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;requests&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;get&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;url&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;&lt;span class="w"&gt;
&lt;/span&gt;&lt;span class="n"&gt;response&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;raise_for_status&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;&lt;span class="w"&gt;
&lt;/span&gt;&lt;span class="n"&gt;soup&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;BeautifulSoup&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;response&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;text&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;&lt;span class="w"&gt;
&lt;/span&gt;&lt;span class="n"&gt;tables&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;soup&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;findAll&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s1"&gt;'table'&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;class_&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;grid listing&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;&lt;span class="w"&gt;

&lt;/span&gt;&lt;span class="k"&gt;def&lt;/span&gt; &lt;span class="nf"&gt;clean_lines&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;soup&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;badrows&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="s1"&gt;'Long Baseline Campaign'&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="w"&gt;
&lt;/span&gt;                               &lt;span class="s1"&gt;'February Maintenance Period'&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="w"&gt;
&lt;/span&gt;                               &lt;span class="s1"&gt;'End of Cycle'&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="w"&gt;
&lt;/span&gt;                               &lt;span class="s1"&gt;'Engineering/Software'&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="w"&gt;
&lt;/span&gt;                               &lt;span class="s1"&gt;'Engineering/Software Time'&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="w"&gt;
&lt;/span&gt;                                   &lt;span class="p"&gt;]):&lt;/span&gt;&lt;span class="w"&gt;
&lt;/span&gt;    &lt;span class="k"&gt;for&lt;/span&gt; &lt;span class="n"&gt;tr&lt;/span&gt; &lt;span class="ow"&gt;in&lt;/span&gt; &lt;span class="n"&gt;soup&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s1"&gt;'tr'&lt;/span&gt;&lt;span class="p"&gt;):&lt;/span&gt;&lt;span class="w"&gt;
&lt;/span&gt;        &lt;span class="k"&gt;if&lt;/span&gt; &lt;span class="nb"&gt;any&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;bad&lt;/span&gt; &lt;span class="ow"&gt;in&lt;/span&gt; &lt;span class="nb"&gt;str&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;tr&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="k"&gt;for&lt;/span&gt; &lt;span class="n"&gt;bad&lt;/span&gt; &lt;span class="ow"&gt;in&lt;/span&gt; &lt;span class="n"&gt;badrows&lt;/span&gt;&lt;span class="p"&gt;):&lt;/span&gt;&lt;span class="w"&gt;
&lt;/span&gt;             &lt;span class="n"&gt;_&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="n"&gt;tr&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;extract&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;&lt;span class="w"&gt;
&lt;/span&gt;    &lt;span class="k"&gt;return&lt;/span&gt; &lt;span class="n"&gt;soup&lt;/span&gt;&lt;span class="w"&gt;

&lt;/span&gt;&lt;span class="n"&gt;tables&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;soup&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;findAll&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s1"&gt;'table'&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;class_&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;grid listing&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;&lt;span class="w"&gt;
&lt;/span&gt;&lt;span class="n"&gt;tables&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="n"&gt;ascii&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;read&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nb"&gt;str&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;clean_lines&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;tbl&lt;/span&gt;&lt;span class="p"&gt;)),&lt;/span&gt; &lt;span class="nb"&gt;format&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s1"&gt;'html'&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="k"&gt;for&lt;/span&gt; &lt;span class="n"&gt;tbl&lt;/span&gt; &lt;span class="ow"&gt;in&lt;/span&gt; &lt;span class="n"&gt;tables&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt;&lt;span class="w"&gt;
&lt;/span&gt;&lt;span class="n"&gt;tables&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="mi"&gt;3&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;tables&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="mi"&gt;3&lt;/span&gt;&lt;span class="p"&gt;][:&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt;&lt;span class="w"&gt;
&lt;/span&gt;&lt;span class="n"&gt;tables&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="mi"&gt;3&lt;/span&gt;&lt;span class="p"&gt;][&lt;/span&gt;&lt;span class="s1"&gt;'Block'&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;tables&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="mi"&gt;3&lt;/span&gt;&lt;span class="p"&gt;][&lt;/span&gt;&lt;span class="s1"&gt;'Block'&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;astype&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s1"&gt;'int'&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;&lt;span class="w"&gt;
&lt;/span&gt;&lt;span class="n"&gt;tables&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="mi"&gt;4&lt;/span&gt;&lt;span class="p"&gt;][&lt;/span&gt;&lt;span class="s1"&gt;'maximumrecoverablescale2(&amp;quot;)'&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;tables&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="mi"&gt;4&lt;/span&gt;&lt;span class="p"&gt;][&lt;/span&gt;&lt;span class="s1"&gt;'maximumrecoverablescale2(&amp;quot;)'&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;astype&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s1"&gt;'str'&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;&lt;span class="w"&gt;

&lt;/span&gt;&lt;span class="n"&gt;stacked&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;vstack&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;tables&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;&lt;span class="w"&gt;
&lt;/span&gt;&lt;span class="n"&gt;start_times&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;Time&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;stacked&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="s1"&gt;'Start date'&lt;/span&gt;&lt;span class="p"&gt;])&lt;/span&gt;&lt;span class="w"&gt;
&lt;/span&gt;&lt;span class="n"&gt;end_times&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;Time&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;stacked&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="s1"&gt;'End date'&lt;/span&gt;&lt;span class="p"&gt;])&lt;/span&gt;
&lt;/pre&gt;
&lt;p&gt;Then, say you have a list of measurement sets &lt;tt class="docutils literal"&gt;mses&lt;/tt&gt;, you can look up the
array configuration for each date and field.  The choice of &lt;tt class="docutils literal"&gt;fields[0]&lt;/tt&gt; here
only makes sense if your data had a single target; it's a bad choice if there
are multiple targets in a scheduling block:&lt;/p&gt;
&lt;pre class="code python literal-block"&gt;
&lt;span class="kn"&gt;import&lt;/span&gt; &lt;span class="nn"&gt;json&lt;/span&gt;&lt;span class="w"&gt;
&lt;/span&gt;&lt;span class="kn"&gt;from&lt;/span&gt; &lt;span class="nn"&gt;casatools&lt;/span&gt; &lt;span class="kn"&gt;import&lt;/span&gt; &lt;span class="n"&gt;msmetadata&lt;/span&gt;&lt;span class="w"&gt;
&lt;/span&gt;&lt;span class="n"&gt;msmd&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;msmetadata&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;&lt;span class="w"&gt;

&lt;/span&gt;&lt;span class="n"&gt;results&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="p"&gt;{}&lt;/span&gt;&lt;span class="w"&gt;

&lt;/span&gt;&lt;span class="k"&gt;for&lt;/span&gt; &lt;span class="n"&gt;vis&lt;/span&gt; &lt;span class="ow"&gt;in&lt;/span&gt; &lt;span class="n"&gt;mses&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="w"&gt;
&lt;/span&gt;    &lt;span class="n"&gt;msmd&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;open&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;mses&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;&lt;span class="w"&gt;
&lt;/span&gt;    &lt;span class="n"&gt;obstime&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;Time&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;msmd&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;timerangeforobs&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="p"&gt;)[&lt;/span&gt;&lt;span class="s1"&gt;'begin'&lt;/span&gt;&lt;span class="p"&gt;][&lt;/span&gt;&lt;span class="s1"&gt;'m0'&lt;/span&gt;&lt;span class="p"&gt;][&lt;/span&gt;&lt;span class="s1"&gt;'value'&lt;/span&gt;&lt;span class="p"&gt;],&lt;/span&gt; &lt;span class="nb"&gt;format&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s1"&gt;'mjd'&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;&lt;span class="w"&gt;
&lt;/span&gt;    &lt;span class="n"&gt;fieldnames&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;np&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;array&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;msmd&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;fieldnames&lt;/span&gt;&lt;span class="p"&gt;())&lt;/span&gt;&lt;span class="w"&gt;
&lt;/span&gt;    &lt;span class="n"&gt;fields&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;np&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;unique&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;fieldnames&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="n"&gt;msmd&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;fieldsforintent&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s1"&gt;'OBSERVE_TARGET#ON_SOURCE'&lt;/span&gt;&lt;span class="p"&gt;)])&lt;/span&gt;&lt;span class="w"&gt;
&lt;/span&gt;    &lt;span class="n"&gt;msmd&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;close&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;&lt;span class="w"&gt;

&lt;/span&gt;    &lt;span class="n"&gt;array_config&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;stacked&lt;/span&gt;&lt;span class="p"&gt;[(&lt;/span&gt;&lt;span class="n"&gt;obstime&lt;/span&gt; &lt;span class="o"&gt;&amp;gt;&lt;/span&gt; &lt;span class="n"&gt;start_times&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="o"&gt;&amp;amp;&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;obstime&lt;/span&gt; &lt;span class="o"&gt;&amp;lt;&lt;/span&gt; &lt;span class="n"&gt;end_times&lt;/span&gt;&lt;span class="p"&gt;)][&lt;/span&gt;&lt;span class="s1"&gt;'Approx&lt;/span&gt;&lt;span class="se"&gt;\xa0&lt;/span&gt;&lt;span class="s1"&gt;Config.'&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt;&lt;span class="w"&gt;
&lt;/span&gt;    &lt;span class="k"&gt;if&lt;/span&gt; &lt;span class="n"&gt;fields&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt; &lt;span class="ow"&gt;in&lt;/span&gt; &lt;span class="n"&gt;results&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="w"&gt;
&lt;/span&gt;        &lt;span class="n"&gt;results&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="n"&gt;fields&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="p"&gt;]][&lt;/span&gt;&lt;span class="n"&gt;obstime&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;strftime&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s1"&gt;'%Y-%m-&lt;/span&gt;&lt;span class="si"&gt;%d&lt;/span&gt;&lt;span class="s1"&gt;'&lt;/span&gt;&lt;span class="p"&gt;)]&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;array_config&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt;&lt;span class="w"&gt;
&lt;/span&gt;    &lt;span class="k"&gt;else&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="w"&gt;
&lt;/span&gt;        &lt;span class="n"&gt;results&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="n"&gt;fields&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="p"&gt;]]&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="p"&gt;{&lt;/span&gt;&lt;span class="n"&gt;obstime&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;strftime&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s1"&gt;'%Y-%m-&lt;/span&gt;&lt;span class="si"&gt;%d&lt;/span&gt;&lt;span class="s1"&gt;'&lt;/span&gt;&lt;span class="p"&gt;):&lt;/span&gt; &lt;span class="n"&gt;array_config&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="p"&gt;]}&lt;/span&gt;&lt;span class="w"&gt;

&lt;/span&gt;&lt;span class="k"&gt;with&lt;/span&gt; &lt;span class="nb"&gt;open&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s1"&gt;'array_configurations.json'&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s1"&gt;'w'&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="k"&gt;as&lt;/span&gt; &lt;span class="n"&gt;fh&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="w"&gt;
&lt;/span&gt;    &lt;span class="n"&gt;json&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;dump&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;results&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;fh&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;/pre&gt;
</content><category term="misc"></category><category term="alma"></category></entry><entry><title>CASA: Logfiles &amp; tclean from pysynthesisimager</title><link href="https://keflavich.github.io/blog/casa-logfiles-tclean-from-pysynthesisimager.html" rel="alternate"></link><published>2020-05-09T14:59:00-06:00</published><updated>2020-05-09T14:59:00-06:00</updated><author><name>Adam Ginsburg (Adam.G.Ginsburg@gmail.com)</name></author><id>tag:keflavich.github.io,2020-05-09:/blog/casa-logfiles-tclean-from-pysynthesisimager.html</id><summary type="html">&lt;p&gt;A few brief notes I don't want to forget, so I'm posting them here:&lt;/p&gt;
&lt;p&gt;The name of the log file being used by the currently active CASA session is in &lt;tt class="docutils literal"&gt;casalog.logfile()&lt;/tt&gt;.&lt;/p&gt;
&lt;p&gt;I'm trying to get the pysynthesisimager version of tclean to work.  This is, in
theory, &amp;quot;exactly the same …&lt;/p&gt;</summary><content type="html">&lt;p&gt;A few brief notes I don't want to forget, so I'm posting them here:&lt;/p&gt;
&lt;p&gt;The name of the log file being used by the currently active CASA session is in &lt;tt class="docutils literal"&gt;casalog.logfile()&lt;/tt&gt;.&lt;/p&gt;
&lt;p&gt;I'm trying to get the pysynthesisimager version of tclean to work.  This is, in
theory, &amp;quot;exactly the same thing as tclean&amp;quot;, except you (the user) have the
ability to control individual steps.  The process is documented in the &lt;a class="reference external" href="https://casa.nrao.edu/casadocs-devel/stable/global-task-list/task_tclean/examples"&gt;tclean documentation
under examples&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;However, it is not a one-to-one mapping.  &lt;tt class="docutils literal"&gt;tclean&lt;/tt&gt; is not implemented using the exact script quoted
in the examples.  The differences are the variety that shouldn't matter but inevitably do.&lt;/p&gt;
&lt;p&gt;I'm working on a translation of &lt;tt class="docutils literal"&gt;tclean&lt;/tt&gt;'s input parameters to
&lt;tt class="docutils literal"&gt;pysynthesisimager&lt;/tt&gt;'s, but it's not complete:
&lt;a class="reference external" href="https://gist.github.com/keflavich/a9953c88cbe098b5e9bb4bdac6485f09"&gt;https://gist.github.com/keflavich/a9953c88cbe098b5e9bb4bdac6485f09&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;That was dumb anyway, because
&lt;a class="reference external" href="https://github.com/radio-astro/casa/blob/master/gcwrap/python/scripts/task_tclean.py"&gt;https://github.com/radio-astro/casa/blob/master/gcwrap/python/scripts/task_tclean.py&lt;/a&gt;
does everything I really needed.&lt;/p&gt;
&lt;p&gt;My version saves the image, residual, and model at each major cycle.&lt;/p&gt;
</content><category term="misc"></category><category term="casa"></category></entry><entry><title>CASA Cross-Calibration Application</title><link href="https://keflavich.github.io/blog/casa-cross-calibration-application.html" rel="alternate"></link><published>2019-08-22T13:06:00-06:00</published><updated>2019-08-22T13:06:00-06:00</updated><author><name>Adam Ginsburg (Adam.G.Ginsburg@gmail.com)</name></author><id>tag:keflavich.github.io,2019-08-22:/blog/casa-cross-calibration-application.html</id><summary type="html">&lt;p&gt;On several independent occasions, I've had data where the continuum is bright
enough to self-calibrate, but the lines aren't.  In these cases, I want to apply
the continuum-derived selfcal solutions to the line data.&lt;/p&gt;
&lt;p&gt;In all of these cases, I have several independent execution blocks that I've
split and downsampled …&lt;/p&gt;</summary><content type="html">&lt;p&gt;On several independent occasions, I've had data where the continuum is bright
enough to self-calibrate, but the lines aren't.  In these cases, I want to apply
the continuum-derived selfcal solutions to the line data.&lt;/p&gt;
&lt;p&gt;In all of these cases, I have several independent execution blocks that I've
split and downsampled before combining to make the continuum image.&lt;/p&gt;
&lt;p&gt;I got stuck trying to make this happen, but we reconvened on the topic in early
2021, and Manuel Fernandez and Roberto Galvan-Madrid and I came up with this
tool to match spectral windows in a concatenated data set to the appropriate
windows in the original:
&lt;a class="reference external" href="https://github.com/ALMA-IMF/reduction/blob/master/misc/applycal_tests.py"&gt;https://github.com/ALMA-IMF/reduction/blob/master/misc/applycal_tests.py&lt;/a&gt;&lt;/p&gt;
</content><category term="misc"></category><category term="tags"></category></entry><entry><title>CASA corrupted measurement sets</title><link href="https://keflavich.github.io/blog/casa-corrupted-measurement-sets.html" rel="alternate"></link><published>2019-07-23T13:11:00-06:00</published><updated>2019-07-23T13:11:00-06:00</updated><author><name>Adam Ginsburg (Adam.G.Ginsburg@gmail.com)</name></author><id>tag:keflavich.github.io,2019-07-23:/blog/casa-corrupted-measurement-sets.html</id><summary type="html">&lt;p&gt;Over the weekend, I had a huge quantity of ALMA data get corrupted. The
corruption appears to have been caused by an incorrectly-mounted lustre system
that had &amp;quot;flock&amp;quot; disabled.  When they re-mounted the filesystem, every
measurement set I had touched was unreadable.&lt;/p&gt;
&lt;p&gt;Corrupted data sets had messages like this when …&lt;/p&gt;</summary><content type="html">&lt;p&gt;Over the weekend, I had a huge quantity of ALMA data get corrupted. The
corruption appears to have been caused by an incorrectly-mounted lustre system
that had &amp;quot;flock&amp;quot; disabled.  When they re-mounted the filesystem, every
measurement set I had touched was unreadable.&lt;/p&gt;
&lt;p&gt;Corrupted data sets had messages like this when opened with &lt;tt class="docutils literal"&gt;msmd.open&lt;/tt&gt;:&lt;/p&gt;
&lt;pre class="literal-block"&gt;
RuntimeError: Exception: Illegal DATA_DESC_ID value 30 found in main table. /lustre/cv/projects/ALMA_IMF/2017.1.01355.L/science_goal.uid___A001_X1296_X211/group.uid___A001_X1296_X212/member.uid___A001_X1296_X217/calibrated/uid___A002_Xcbdb2a_X6e67.ms.split.cal/DATA_DESCRIPTION only has 0 rows (IDs).
... thrown by void casa::MSChecker::checkReferentialIntegrity() const at File: ../../msvis/MSVis/MSChecker.cc, line: 78
&lt;/pre&gt;
&lt;p&gt;The solution was to replace all of the &lt;tt class="docutils literal"&gt;table.dat&lt;/tt&gt; files in the
&lt;tt class="docutils literal"&gt;DATA_DESCRIPTION&lt;/tt&gt;, &lt;tt class="docutils literal"&gt;POLARIZATION&lt;/tt&gt;, &lt;tt class="docutils literal"&gt;STATE&lt;/tt&gt;, and &lt;tt class="docutils literal"&gt;PROCESSOR&lt;/tt&gt; folders
with &amp;quot;backups&amp;quot; from the parent measurement set.  Luckily, all of my data were
split from other measurement sets that still existed, and they were split with
&lt;tt class="docutils literal"&gt;reindex=False&lt;/tt&gt;, which meant that these tables were actually usable.  There's
no guarantee they would be in general.&lt;/p&gt;
&lt;p&gt;My fix script is this:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="k"&gt;def&lt;/span&gt; &lt;span class="nf"&gt;getdata&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;x&lt;/span&gt;&lt;span class="p"&gt;):&lt;/span&gt;
    &lt;span class="k"&gt;with&lt;/span&gt; &lt;span class="nb"&gt;open&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;x&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s1"&gt;&amp;#39;rb&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="k"&gt;as&lt;/span&gt; &lt;span class="n"&gt;fh&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
        &lt;span class="k"&gt;return&lt;/span&gt; &lt;span class="n"&gt;fh&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;read&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;

&lt;span class="k"&gt;def&lt;/span&gt; &lt;span class="nf"&gt;diff&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;x&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;y&lt;/span&gt;&lt;span class="p"&gt;):&lt;/span&gt;
    &lt;span class="k"&gt;return&lt;/span&gt; &lt;span class="p"&gt;{&lt;/span&gt;&lt;span class="n"&gt;ii&lt;/span&gt;&lt;span class="p"&gt;:(&lt;/span&gt;&lt;span class="n"&gt;xx&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="n"&gt;yy&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="k"&gt;for&lt;/span&gt; &lt;span class="n"&gt;ii&lt;/span&gt;&lt;span class="p"&gt;,(&lt;/span&gt;&lt;span class="n"&gt;xx&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="n"&gt;yy&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="ow"&gt;in&lt;/span&gt; &lt;span class="nb"&gt;enumerate&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nb"&gt;zip&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;x&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;y&lt;/span&gt;&lt;span class="p"&gt;))&lt;/span&gt; &lt;span class="k"&gt;if&lt;/span&gt; &lt;span class="n"&gt;xx&lt;/span&gt;&lt;span class="o"&gt;!=&lt;/span&gt;&lt;span class="n"&gt;yy&lt;/span&gt;&lt;span class="p"&gt;}&lt;/span&gt;

&lt;span class="k"&gt;def&lt;/span&gt; &lt;span class="nf"&gt;fix_bad_mses&lt;/span&gt;&lt;span class="p"&gt;():&lt;/span&gt;
    &lt;span class="k"&gt;for&lt;/span&gt; &lt;span class="n"&gt;dirpath&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;dirnames&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;filenames&lt;/span&gt; &lt;span class="ow"&gt;in&lt;/span&gt; &lt;span class="n"&gt;os&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;walk&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;.&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;):&lt;/span&gt;
        &lt;span class="k"&gt;for&lt;/span&gt; &lt;span class="n"&gt;fn&lt;/span&gt; &lt;span class="ow"&gt;in&lt;/span&gt; &lt;span class="n"&gt;dirnames&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
            &lt;span class="k"&gt;if&lt;/span&gt; &lt;span class="n"&gt;fn&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="mi"&gt;10&lt;/span&gt;&lt;span class="p"&gt;:]&lt;/span&gt; &lt;span class="o"&gt;==&lt;/span&gt; &lt;span class="s2"&gt;&amp;quot;.split.cal&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
                &lt;span class="n"&gt;ffn&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;os&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;path&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;join&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;dirpath&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;fn&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
                &lt;span class="n"&gt;workingfn&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;os&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;path&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;join&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;dirpath&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s1"&gt;&amp;#39;working&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;fn&lt;/span&gt;&lt;span class="p"&gt;[:&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="mi"&gt;10&lt;/span&gt;&lt;span class="p"&gt;])&lt;/span&gt;

                &lt;span class="k"&gt;if&lt;/span&gt; &lt;span class="n"&gt;os&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;path&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;exists&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;workingfn&lt;/span&gt;&lt;span class="p"&gt;):&lt;/span&gt;
                    &lt;span class="c1"&gt;#print(&amp;quot;Working on files {0} and {1}&amp;quot;.format(ffn, workingfn))&lt;/span&gt;
                    &lt;span class="nb"&gt;print&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;ffn&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;

                    &lt;span class="k"&gt;for&lt;/span&gt; &lt;span class="n"&gt;dn&lt;/span&gt; &lt;span class="ow"&gt;in&lt;/span&gt; &lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;POLARIZATION&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s1"&gt;&amp;#39;PROCESSOR&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s1"&gt;&amp;#39;DATA_DESCRIPTION&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s1"&gt;&amp;#39;STATE&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;]:&lt;/span&gt;
                        &lt;span class="n"&gt;tbpth1&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;os&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;path&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;join&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;ffn&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;dn&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s1"&gt;&amp;#39;table.dat&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
                        &lt;span class="n"&gt;tbpth2&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;os&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;path&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;join&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;workingfn&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;dn&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s1"&gt;&amp;#39;table.dat&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;

                        &lt;span class="k"&gt;if&lt;/span&gt; &lt;span class="n"&gt;os&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;path&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;exists&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;tbpth1&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="ow"&gt;and&lt;/span&gt; &lt;span class="n"&gt;os&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;path&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;exists&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;tbpth2&lt;/span&gt;&lt;span class="p"&gt;):&lt;/span&gt;
                            &lt;span class="n"&gt;d1&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;getdata&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;tbpth1&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
                            &lt;span class="n"&gt;d2&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;getdata&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;tbpth2&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
                            &lt;span class="n"&gt;delta&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;diff&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;d1&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;d2&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
                            &lt;span class="c1"&gt;#print(&amp;quot;Diff from {0} to {1} is {2}&amp;quot;.format(tbpth1, tbpth2, delta))&lt;/span&gt;

                            &lt;span class="k"&gt;if&lt;/span&gt; &lt;span class="nb"&gt;len&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;delta&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="o"&gt;&amp;gt;&lt;/span&gt; &lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
                                &lt;span class="nb"&gt;print&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;FIXING: Diff for &lt;/span&gt;&lt;span class="si"&gt;{0}&lt;/span&gt;&lt;span class="s2"&gt; is &lt;/span&gt;&lt;span class="si"&gt;{1}&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;format&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;dn&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;delta&lt;/span&gt;&lt;span class="p"&gt;))&lt;/span&gt;
                                &lt;span class="n"&gt;shutil&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;copy&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;tbpth1&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;tbpth1&lt;/span&gt;&lt;span class="o"&gt;+&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;.bck&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
                                &lt;span class="n"&gt;shutil&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;copy&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;tbpth2&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;tbpth1&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;which spewed out a bunch of messages like this:&lt;/p&gt;
&lt;pre class="literal-block"&gt;
FIXING: Diff for POLARIZATION is {24: ('\x00', '\x01'), 1059: ('\x00', '\x01')}
FIXING: Diff for PROCESSOR is {24: ('\x00', '\x03'), 1078: ('\x00', '\x03')}
FIXING: Diff for DATA_DESCRIPTION is {24: ('\x00', '\x18'), 772: ('\x00', '\x18')}
FIXING: Diff for STATE is {24: ('\x00', '\x1d'), 1699: ('\x00', '\x1d')}
&lt;/pre&gt;
&lt;p&gt;showing that for each bad file, two bytes were flipped.  I don't know how or why.  Notably, though,
the byte flips that corrupted the data did &lt;em&gt;not&lt;/em&gt; change the file modification date - somehow CASA
hid this operation from the filesystem.&lt;/p&gt;
</content><category term="misc"></category><category term="CASA"></category></entry><entry><title>FeO Nondetection in Orion</title><link href="https://keflavich.github.io/blog/feo-nondetection-in-orion.html" rel="alternate"></link><published>2018-10-14T15:09:00-06:00</published><updated>2018-10-14T15:09:00-06:00</updated><author><name>Adam Ginsburg (Adam.G.Ginsburg@gmail.com)</name></author><id>tag:keflavich.github.io,2018-10-14:/blog/feo-nondetection-in-orion.html</id><summary type="html">&lt;p&gt;I had a Cycle 3 ALMA program &lt;a class="reference external" href="https://almascience.nrao.edu/observing/highest-priority-projects"&gt;2015.1.00262.S:
Digging for rusty bullets at an explosion site&lt;/a&gt;
that aimed to detect &lt;a class="reference external" href="https://en.wikipedia.org/wiki/Iron(II)_oxide"&gt;ferrous oxide, FeO&lt;/a&gt;
in the shocked outflows of the Orion nebula.&lt;/p&gt;
&lt;p&gt;I haven't published anything on this data set because it resulted in a fairly
boring non-detection …&lt;/p&gt;</summary><content type="html">&lt;p&gt;I had a Cycle 3 ALMA program &lt;a class="reference external" href="https://almascience.nrao.edu/observing/highest-priority-projects"&gt;2015.1.00262.S:
Digging for rusty bullets at an explosion site&lt;/a&gt;
that aimed to detect &lt;a class="reference external" href="https://en.wikipedia.org/wiki/Iron(II)_oxide"&gt;ferrous oxide, FeO&lt;/a&gt;
in the shocked outflows of the Orion nebula.&lt;/p&gt;
&lt;p&gt;I haven't published anything on this data set because it resulted in a fairly
boring non-detection.  You can find the source code to retrieve and process
the data from &lt;a class="reference external" href="https://github.com/keflavich/FeO_2015.1.00262.S"&gt;here&lt;/a&gt;.
The nondetection is several orders of magnitude deeper than previous
ones, but to demonstrate this definitively, we need to do some more modeling
work, which my co-I's and I have decided isn't worth the time, since we're
all flooded with very exciting new ALMA data that has interesting detections
in it (see salts soon).&lt;/p&gt;
&lt;p&gt;In brief, we were looking at a location where we know molecules (H2, molecular
hydrogen) and gas-phase iron (Fe II, as seen in in the [Fe II] 1.64 micron lines)
are approximately coincident.  The most likely (and broadly accepted)
explanation is that dust particles are being destroyed (sputtered) in the
high-velocity ($&amp;gt;30$ km/s, up to about $100-200$ km/s) shocks produced in an
outflow.  Since iron in the interstellar medium mostly lives in the cores of
dust grains, we thought it might be released in a molecular form detectable by
ALMA before being split into an atomic, ionized form.&lt;/p&gt;
&lt;p&gt;Despite having a good location and a sensitive observation, we didn't detect
any.  It might mean that iron is mostly in a different molecular form, or it
might mean that when iron gets sputtered out of grains, it never goes into
a molecular form at all, instead dissociating straight into atomic form.&lt;/p&gt;
&lt;p&gt;There are a few things that, with infinite time, I would do with this data set:&lt;/p&gt;
&lt;ol class="arabic simple"&gt;
&lt;li&gt;Come up with a formal upper limit on the FeO abundance.&lt;/li&gt;
&lt;li&gt;Compare the lines we did detect to the outflows and see if we can better
constrain their physical conditions&lt;/li&gt;
&lt;li&gt;Catalog the stars and publish the catalog for comparison to other data sets.
(actually, this is done: &lt;a class="reference external" href="https://github.com/keflavich/FeO_2015.1.00262.S/blob/master/tables/gaussian_fit_table.ipac"&gt;this table&lt;/a&gt;
contains Gaussian fits to each of the stars in the continuum image (&lt;a class="reference external" href="https://github.com/keflavich/FeO_2015.1.00262.S/blob/master/analysis/contsource_centroids.py"&gt;source&lt;/a&gt;).)&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;These figure show the apertures we used to extract spectra and search for the
lines, then the spectra of different species for one of the apertures.  The
background image is the H2 (orange) + FeII (cyan) + K-band (mostly white) I
made for my &lt;a class="reference external" href="http://adsabs.harvard.edu/abs/2015A%26A...579A.130B"&gt;2015 paper with John Bally&lt;/a&gt;.&lt;/p&gt;
&lt;img alt="" src="https://keflavich.github.io/blog/images/feo/aperture_overlays.png" style="width: 600px;" /&gt;
&lt;img alt="" src="https://keflavich.github.io/blog/images/feo/BulletHeads4_alllines.png" style="width: 600px;" /&gt;
</content><category term="misc"></category><category term="alma"></category></entry><entry><title>Talks: Now using revealjs</title><link href="https://keflavich.github.io/blog/talks-now-using-revealjs.html" rel="alternate"></link><published>2018-07-08T12:37:00-06:00</published><updated>2018-07-08T12:37:00-06:00</updated><author><name>Adam Ginsburg (Adam.G.Ginsburg@gmail.com)</name></author><id>tag:keflavich.github.io,2018-07-08:/blog/talks-now-using-revealjs.html</id><summary type="html">&lt;p&gt;I'm attempting to wean myself off of Mac-specific technology, inspired by some
impending hardware failures (see below), the not-falling cost of not-improving
hardware, and the lack of budget growth.&lt;/p&gt;
&lt;p&gt;Following a suggestion from &lt;a class="reference external" href="https://github.com/pkgw/"&gt;Peter Williams&lt;/a&gt;, I'm
using reveal.js based on &lt;a class="reference external" href="https://github.com/pkgw/htmltalk"&gt;Peter's template&lt;/a&gt;, which I have previously played with a …&lt;/p&gt;</summary><content type="html">&lt;p&gt;I'm attempting to wean myself off of Mac-specific technology, inspired by some
impending hardware failures (see below), the not-falling cost of not-improving
hardware, and the lack of budget growth.&lt;/p&gt;
&lt;p&gt;Following a suggestion from &lt;a class="reference external" href="https://github.com/pkgw/"&gt;Peter Williams&lt;/a&gt;, I'm
using reveal.js based on &lt;a class="reference external" href="https://github.com/pkgw/htmltalk"&gt;Peter's template&lt;/a&gt;, which I have previously played with a
little with mixed success.  The slid.es editor seems nearly fully featured as a
replacement for keynote, but I quickly dropped it because of its
subscription-only paid features; the cost-benefit analysis is that Keynote is
much cheaper than slid.es for someone like me, since Keynote cost
30 dollars one-time for ~10 years of use, while the minimum usable plan
for slid.es is 10 dollars/month,
or 1200 dollars over the same
period.  If that was the tradeoff I was considering, mac+keynote would be about
the same as linux+slid.es, since I'd be paying a few thousand dollars for the mac.&lt;/p&gt;
&lt;p&gt;I'm taking the somewhat ridiculous approach of raw HTML/CSS editing with the
Chrome inspector as my interactive testing tool.  This is a little tedious
because of the html tagging, but that's honestly not so bad; it lets me do the
hard work with the keyboard instead of the mouse.  The biggest problem is the
learning curve of css, but I look at that as skill and knowledge worth having.
If you don't, this is probably not the approach for you.  I hope, though, that
some day there is a slid.es-like solution that is reasonably priced.&lt;/p&gt;
&lt;p&gt;Another problem is image editing, which was pretty convenient in keynote, but
there are plenty of other decent-to-good image editors out there, e.g., gimp,
preview, etc.  For cropping and opacity, which are most of what you want to do,
css works and can even be tested interactively in the browser.  But, this
should also give more motivation to just make the figures presentation-ready in
the code.&lt;/p&gt;
&lt;p&gt;Anyway, the talks I've created are hosted at github, and they're fully-featured:
you should be able to just click these links and walk through the talks.&lt;/p&gt;
&lt;p&gt;My &amp;quot;Tracing the Flow&amp;quot; invited talk on High Mass Cluster Formation:
&lt;a class="reference external" href="https://keflavich.github.io/talks/HighMassClusterFormation_TracingTheFlow2018.html"&gt;https://keflavich.github.io/talks/HighMassClusterFormation_TracingTheFlow2018.html&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;Some slides for a work meeting on the ALMA-IMF project, with a technical bent:
&lt;a class="reference external" href="https://keflavich.github.io/talks/ALMA_IMF_W51_SgrB2.html"&gt;https://keflavich.github.io/talks/ALMA_IMF_W51_SgrB2.html&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;If you want the pdf version of either of these, add &lt;tt class="docutils literal"&gt;&lt;span class="pre"&gt;?print_pdf&lt;/span&gt;&lt;/tt&gt; to the end
of the URL, then use your browser to print and save to pdf.&lt;/p&gt;
&lt;p&gt;Some pictures of the impending failure.  My mac doesn't close any more, and
the charger cable has frayed severely:&lt;/p&gt;
&lt;img alt="" src="https://keflavich.github.io/blog/images/frayed_adapter.jpg" style="width: 600px;" /&gt;
&lt;img alt="" src="https://keflavich.github.io/blog/images/lappy_wont_close.jpg" style="width: 600px;" /&gt;
</content><category term="misc"></category><category term="talks"></category><category term="w51"></category><category term="sgrb2"></category><category term="clusters"></category></entry><entry><title>Brief review of cluster formation simulations</title><link href="https://keflavich.github.io/blog/brief-review-of-cluster-formation-simulations.html" rel="alternate"></link><published>2018-06-18T10:32:00-06:00</published><updated>2018-06-18T10:32:00-06:00</updated><author><name>Adam Ginsburg (Adam.G.Ginsburg@gmail.com)</name></author><id>tag:keflavich.github.io,2018-06-18:/blog/brief-review-of-cluster-formation-simulations.html</id><summary type="html">&lt;p&gt;In preparing for an upcoming talk, I'm taking some notes on cluster formation
simulations, and I want to keep these notes available &amp;amp; public so others can
correct anything that's missing.  In particular, I want to note the resolution of
these simulations.&lt;/p&gt;
&lt;dl class="docutils"&gt;
&lt;dt&gt;First, Jim Dale has several long series of papers …&lt;/dt&gt;&lt;/dl&gt;</summary><content type="html">&lt;p&gt;In preparing for an upcoming talk, I'm taking some notes on cluster formation
simulations, and I want to keep these notes available &amp;amp; public so others can
correct anything that's missing.  In particular, I want to note the resolution of
these simulations.&lt;/p&gt;
&lt;dl class="docutils"&gt;
&lt;dt&gt;First, Jim Dale has several long series of papers on cluster formation simulations:&lt;/dt&gt;
&lt;dd&gt;&lt;ul class="first last simple"&gt;
&lt;li&gt;&lt;a class="reference external" href="http://adsabs.harvard.edu/abs/2015NewAR..68....1D"&gt;Review Article&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a class="reference external" href="http://adsabs.harvard.edu/abs/2012MNRAS.427.2852D"&gt;Ionization-induced star formation - IV. Triggering in bound clusters&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a class="reference external" href="http://adsabs.harvard.edu/abs/2013MNRAS.431.1062D"&gt;Ionization-induced star formation - V. Triggering in partially unbound clusters&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a class="reference external" href="http://adsabs.harvard.edu/abs/2018arXiv180404664K"&gt;Kim, Kim, Ostriker 2018&lt;/a&gt; ~240 Msun&lt;/li&gt;
&lt;/ul&gt;
&lt;/dd&gt;
&lt;/dl&gt;
&lt;p&gt;Unfortunately, I stopped taking notes and started focusing on just the talk, so
this ended up quite incomplete.  I'm not going to try to archive this any further...&lt;/p&gt;
&lt;p&gt;If you're interested, instead just see my talk: &lt;a class="reference external" href="https://keflavich.github.io/talks/HighMassClusterFormation_TracingTheFlow2018.html"&gt;https://keflavich.github.io/talks/HighMassClusterFormation_TracingTheFlow2018.html&lt;/a&gt;&lt;/p&gt;
</content><category term="misc"></category><category term="cluster formation"></category></entry><entry><title>Derivation of CO Column Density</title><link href="https://keflavich.github.io/blog/derivation-of-co-column-density.html" rel="alternate"></link><published>2018-04-18T11:10:00-06:00</published><updated>2018-04-18T11:10:00-06:00</updated><author><name>Adam Ginsburg (Adam.G.Ginsburg@gmail.com)</name></author><id>tag:keflavich.github.io,2018-04-18:/blog/derivation-of-co-column-density.html</id><summary type="html">&lt;p&gt;I've regularly had to calculate masses and column densities from CO
isotopologues, as have many others.  I found a textbooklike derivation in my
old notes, so I figured I'd publish them.&lt;/p&gt;
&lt;p&gt;I don't have time to nicely format things now, but the code, associated figures,
and a 3-page tex document …&lt;/p&gt;</summary><content type="html">&lt;p&gt;I've regularly had to calculate masses and column densities from CO
isotopologues, as have many others.  I found a textbooklike derivation in my
old notes, so I figured I'd publish them.&lt;/p&gt;
&lt;p&gt;I don't have time to nicely format things now, but the code, associated figures,
and a 3-page tex document with equations are all here:
&lt;a class="reference external" href="https://github.com/keflavich/co_properties"&gt;https://github.com/keflavich/co_properties&lt;/a&gt;
I'm pretty sure this all comes from a homework assignment in 2007 or 2008, so
it's likely there are errors.&lt;/p&gt;
</content><category term="misc"></category><category term="co"></category><category term="column"></category><category term="calculation"></category></entry><entry><title>The extragalactic view of W51 at 220 and 290 GHz</title><link href="https://keflavich.github.io/blog/the-extragalactic-view-of-w51-at-220-and-290-ghz.html" rel="alternate"></link><published>2017-12-01T11:23:00-07:00</published><updated>2017-12-01T11:23:00-07:00</updated><author><name>Adam Ginsburg (Adam.G.Ginsburg@gmail.com)</name></author><id>tag:keflavich.github.io,2017-12-01:/blog/the-extragalactic-view-of-w51-at-220-and-290-ghz.html</id><summary type="html">&lt;p&gt;These are APEX data covering 5.5' x 5.5' centered on W51 Main:
&lt;a class="reference external" href="https://dataverse.harvard.edu/dataset.xhtml?persistentId=doi:10.7910/DVN/RYEANM"&gt;https://dataverse.harvard.edu/dataset.xhtml?persistentId=doi:10.7910/DVN/RYEANM&lt;/a&gt;
These are calibrated to T_A* units.  APEX telescope efficiencies can be found
here: &lt;a class="reference external" href="http://www.apex-telescope.org/telescope/efficiency/"&gt;http://www.apex-telescope.org/telescope/efficiency/&lt;/a&gt; and are approximately
0 …&lt;/p&gt;</summary><content type="html">&lt;p&gt;These are APEX data covering 5.5' x 5.5' centered on W51 Main:
&lt;a class="reference external" href="https://dataverse.harvard.edu/dataset.xhtml?persistentId=doi:10.7910/DVN/RYEANM"&gt;https://dataverse.harvard.edu/dataset.xhtml?persistentId=doi:10.7910/DVN/RYEANM&lt;/a&gt;
These are calibrated to T_A* units.  APEX telescope efficiencies can be found
here: &lt;a class="reference external" href="http://www.apex-telescope.org/telescope/efficiency/"&gt;http://www.apex-telescope.org/telescope/efficiency/&lt;/a&gt; and are approximately
0.75 at the observed frequencies.&lt;/p&gt;
&lt;p&gt;W51 is at a distance of 5.1 kpc, so this field of view is equivalent to 8.1 pc, or 1.7&amp;quot; at
1 Mpc or 0.33&amp;quot; at 5 Mpc.&lt;/p&gt;
&lt;p&gt;The linewidth is 12.7-15.2 km/s (H2CO 4-3, CO 2-1) FWHM averaged over this full field.&lt;/p&gt;
&lt;img alt="" src="https://keflavich.github.io/blog/images/w51/gaussfit_h2co4-3_velocity.png" style="width: 200px;" /&gt;
&lt;img alt="" src="https://keflavich.github.io/blog/images/w51/gaussfit_12co2-1_velocity.png" style="width: 200px;" /&gt;
&lt;p&gt;Images of the spectra, with some lines identified, are shown here (open them in
a new tab to see the full resolution).  The baselines aren't great, but it's
easy to fit a local linear baseline around any of the fairly narrow lines.&lt;/p&gt;
&lt;img alt="" src="https://keflavich.github.io/blog/images/w51/lineid_avg_W51_12CO_merge.png" style="width: 200px;" /&gt;
&lt;img alt="" src="https://keflavich.github.io/blog/images/w51/lineid_avg_W51_217GHz_merge.png" style="width: 200px;" /&gt;
&lt;img alt="" src="https://keflavich.github.io/blog/images/w51/lineid_avg_W51_218GHz_merge.png" style="width: 200px;" /&gt;
&lt;img alt="" src="https://keflavich.github.io/blog/images/w51/lineid_avg_W51_232GHz_merge.png" style="width: 200px;" /&gt;
&lt;img alt="" src="https://keflavich.github.io/blog/images/w51/lineid_avg_W51_291GHz_merge.png" style="width: 200px;" /&gt;
&lt;img alt="" src="https://keflavich.github.io/blog/images/w51/lineid_avg_W51_293GHz_merge.png" style="width: 200px;" /&gt;
&lt;p&gt;The same images, but not zoomed in the y-direction.  Note that 12CO 2-1 is very
near the edge of the band; it peaks around 20 K:&lt;/p&gt;
&lt;img alt="" src="https://keflavich.github.io/blog/images/w51/avg_W51_12CO_merge.png" style="width: 200px;" /&gt;
&lt;img alt="" src="https://keflavich.github.io/blog/images/w51/avg_W51_217GHz_merge.png" style="width: 200px;" /&gt;
&lt;img alt="" src="https://keflavich.github.io/blog/images/w51/avg_W51_218GHz_merge.png" style="width: 200px;" /&gt;
&lt;img alt="" src="https://keflavich.github.io/blog/images/w51/avg_W51_232GHz_merge.png" style="width: 200px;" /&gt;
&lt;img alt="" src="https://keflavich.github.io/blog/images/w51/avg_W51_291GHz_merge.png" style="width: 200px;" /&gt;
&lt;img alt="" src="https://keflavich.github.io/blog/images/w51/avg_W51_293GHz_merge.png" style="width: 200px;" /&gt;
&lt;p&gt;Scripts to obtain the data and process them are here:
&lt;a class="reference external" href="https://github.com/keflavich/W51_APEX_H2CO"&gt;https://github.com/keflavich/W51_APEX_H2CO&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;See the related project by Watanabe et al looking at W51 in the 3mm band:
&lt;a class="reference external" href="http://adsabs.harvard.edu/abs/2017ApJ...845..116W"&gt;http://adsabs.harvard.edu/abs/2017ApJ...845..116W&lt;/a&gt;&lt;/p&gt;
</content><category term="misc"></category><category term="w51"></category><category term="alma"></category><category term="synthetic extragalactic"></category></entry><entry><title>Understanding Millimeter Source Counts</title><link href="https://keflavich.github.io/blog/understanding-millimeter-source-counts.html" rel="alternate"></link><published>2017-10-07T14:48:00-06:00</published><updated>2017-10-07T14:48:00-06:00</updated><author><name>Adam Ginsburg (Adam.G.Ginsburg@gmail.com)</name></author><id>tag:keflavich.github.io,2017-10-07:/blog/understanding-millimeter-source-counts.html</id><summary type="html">&lt;p&gt;A few recent projects (&lt;a class="reference external" href="https://github.com/keflavich/W51_ALMA_2013.1.00308.S"&gt;ALMA W51&lt;/a&gt; and &lt;a class="reference external" href="https://github.com/keflavich/SgrB2_ALMA_3mm_Mosaic/"&gt;ALMA Sgr B2&lt;/a&gt;) have raised
the question: How do we interpret unresolved millimeter sources?&lt;/p&gt;
&lt;p&gt;In the two linked works, I concluded that most of the 1mm and 3mm point sources
we detected with ALMA at D&amp;gt;5 kpc are protostars with dust envelopes …&lt;/p&gt;</summary><content type="html">&lt;p&gt;A few recent projects (&lt;a class="reference external" href="https://github.com/keflavich/W51_ALMA_2013.1.00308.S"&gt;ALMA W51&lt;/a&gt; and &lt;a class="reference external" href="https://github.com/keflavich/SgrB2_ALMA_3mm_Mosaic/"&gt;ALMA Sgr B2&lt;/a&gt;) have raised
the question: How do we interpret unresolved millimeter sources?&lt;/p&gt;
&lt;p&gt;In the two linked works, I concluded that most of the 1mm and 3mm point sources
we detected with ALMA at D&amp;gt;5 kpc are protostars with dust envelopes - i.e.,
they are &amp;quot;Class 0/I&amp;quot;-like sources, but they are generally more luminous (and
therefore more massive) than their local analogs.&lt;/p&gt;
&lt;p&gt;One of the appeals of the dust continuum, the wavelength range from about 0.5
to 2 mm, for studying star formation is that we usually assume that the source
brightness is proportional to the source mass.  For optically thin dust, this
assumption is pretty good.  The (systematic, unmeasurable) uncertainty is, to
first order, just the uncertainty in the dust temperature.&lt;/p&gt;
&lt;p&gt;However, protostellar cores - dust cores that contain a YSO or any luminous
object (whether the luminosity is nuclear or gravitational in nature doesn't
matter) - violate those assumptions.  First, the dust is not isothermal, so the
emission is weighted toward the hotter dust that represents less of the total
mass.  Second, the dust is not necessarily optically thin - a centrally
concentrated source is likely to have a significant optical depth, particularly
at the shorter wavelengths.  Third, once the optically thin assumption is
broken, the source geometry matters; there may be some axes along which the
source is substantially brighter.&lt;/p&gt;
&lt;p&gt;The &lt;a class="reference external" href="https://almascience.nrao.edu/observing/highest-priority-projects#flyout_2017.1.01355.L"&gt;ALMA-IMF program&lt;/a&gt;,
which I am co-leading with Frederique Motte, Patricio Sanhueza, and Fabien Louvet, has the broad goal of
understanding the formation of the IMF in the Galaxy.  In practice, we will
measure some form of 1 mm luminosity function.  In the long term, we may be
able to obtain some additional constraints on the internal temperature
structures of the sources.  The imminence of this large data set motivates the
development of a general systematic analysis tool for assessing the
implications of the mm luminosity function on the underlying mass function.&lt;/p&gt;
&lt;p&gt;In the related &lt;a class="reference external" href="blog/protostellar-mass-functions.html"&gt;Protostellar Mass Functions&lt;/a&gt; post, I implemented the
protostellar mass functions described by &lt;a class="reference external" href="http://adsabs.harvard.edu/abs/2010ApJ...716..167M"&gt;McKee and Offner&lt;/a&gt;.  These functions
provide the mapping between a stellar mass function and a protostellar mass
function given some assumed accretion history.  The assumed accretion histories
for the stars are very simple (in reality, accretion is probably quite
stochastic), but that's fine since it provides something testable.&lt;/p&gt;
&lt;p&gt;I've then tried to follow up by implementing the next step toward producing
something comparable to observables as defined in &lt;a class="reference external" href="http://adsabs.harvard.edu/abs/2011ApJ...736...53O"&gt;Offner and McKee&lt;/a&gt;, but
unfortunately this is a good deal more challenging.  We need a means to map a
protostellar mass to a luminosity, and there is no simple one-to-one function
to do this.&lt;/p&gt;
&lt;div class="section" id="protostellar-evolution-models"&gt;
&lt;h2&gt;Protostellar Evolution Models&lt;/h2&gt;
&lt;p&gt;Several authors have described protostellar evolution models.  They mostly
refer back to &lt;a class="reference external" href="http://adsabs.harvard.edu/abs/1991ApJ...375..288P"&gt;Palla &amp;amp; Stahler I&lt;/a&gt; and &lt;a class="reference external" href="Palla&amp;amp;StahlerII"&gt;II&lt;/a&gt;.  The &lt;a class="reference external" href="Offner+2009"&gt;Offner
&amp;amp; McKee model&lt;/a&gt; is based on &lt;a class="reference external" href="http://adsabs.harvard.edu/abs/2004ApJ...603..383T"&gt;Tan &amp;amp; McKee 2004&lt;/a&gt;.  There is a
similar model by &lt;a class="reference external" href="http://adsabs.harvard.edu/abs/2009ApJ...691..823H"&gt;Hosokawa &amp;amp; Omukai&lt;/a&gt;, who have shown that high-mass stars can
have substantially varying structures (radii -&amp;gt; luminosities) depending on
their accretion rates.  Mikhail Klassen implemented the &lt;a class="reference external" href="http://adsabs.harvard.edu/abs/2009ApJ...703..131O"&gt;Offner+ 2009&lt;/a&gt;
protostellar evolution models &lt;a class="reference external" href="MikhailKlassen"&gt;in fortran&lt;/a&gt; in &lt;a class="reference external" href="Klassen+2012"&gt;this paper&lt;/a&gt;, with only slight differences assumed in the polytropic
parameters and the accretion luminosity (&lt;a class="reference external" href="Offner+2009"&gt;Offner+&lt;/a&gt; assumed 25%
of the accretion energy is lost to wind and treated the disk and star accretion
luminosity separately, according to &lt;a class="reference external" href="http://adsabs.harvard.edu/abs/2012MNRAS.421.2861K"&gt;Klassen+ 2012&lt;/a&gt;).&lt;/p&gt;
&lt;p&gt;The Klassen implementation is the best immediately available to me.  Both they
and &lt;a class="reference external" href="http://adsabs.harvard.edu/abs/2011ApJ...736...53O"&gt;Offner and McKee&lt;/a&gt; compared their results to &lt;a class="reference external" href="http://adsabs.harvard.edu/abs/2009ApJ...691..823H"&gt;Hosokawa &amp;amp; Omukai&lt;/a&gt;,
considering the latter to be more accurate, and found &amp;quot;good&amp;quot; agreement (&amp;lt;2x
disagreement) in the radius as a function of mass.  The same comparison is
shown below; these figures match &lt;a class="reference external" href="http://adsabs.harvard.edu/abs/2012MNRAS.421.2861K"&gt;Klassen+ 2012&lt;/a&gt; Figures 1 and 2 (though I
don't plot exactly the same things).&lt;/p&gt;
&lt;img alt="" src="https://keflavich.github.io/blog/images/Klassen_vs_Hosokawa_model_comparison.png" style="width: 600px;" /&gt;
&lt;p&gt;At least in priniple, these tools give us a mechanism to determine L(M, M_f),
the luminosity as a function of the current mass and the final mass of a star.
Alternatively, that can be written as L(t, M_f), the luminosity as a function
of time and final mass.  However, there is at least one major practical concern:
the protostellar evolution models have the free variable mdot, not M_f, so
in order to use these models, we need to populate a 'fully sampled' L(M, M_f) table.
Offner et al computed such a table, but then used an approximation for
R(M) - the stellar radius as a function of its mass - for their calculations.&lt;/p&gt;
&lt;!-- There are two types of accretion histories considered by Offner.  First, they --&gt;
&lt;!-- consider a series of constant (time-independent) accretion histories with mdot --&gt;
&lt;!-- determined by the final mass.  Second, they consider an accelerating --&gt;
&lt;!-- (time-dependent) accretion history.  Grids based on the former are easier to build; --&gt;
&lt;!-- grids based on the latter require modification of the Klassen code. --&gt;
&lt;p&gt;Following Offner, though, the accretion histories are not constant.  Instead,
they use a variety of accretion histories: isothermal sphere, turbulent core,
and competitive accretion.
To compute the L(M, M_f) tables, we need to run a
modified version of the Klassen code with a variable accretion history.&lt;/p&gt;
&lt;p&gt;The isothermal sphere case is actually a constant accretion rate, so that one is
pretty easy.  The turbulent core and competitive accretion models have an accretion
rate that depends on time or mass.&lt;/p&gt;
&lt;div class="section" id="turbulent-core-protostellar-evolution"&gt;
&lt;h3&gt;Turbulent Core Protostellar Evolution&lt;/h3&gt;
&lt;p&gt;I've implemented the turbulent core accretion history in my &lt;a class="reference external" href="https://github.com/keflavich/protostellar_evolution"&gt;fork&lt;/a&gt; of Mikhail
Klassen's repository.  The modification is fairly straightforward: the
accretion rate is set at each timestep according to Equation 23 of &lt;a class="reference external" href="http://adsabs.harvard.edu/abs/2010ApJ...716..167M"&gt;McKee and
Offner&lt;/a&gt; using the numerical constants they computed.  Then, if the stellar
mass has reached (or exceeds) the target stellar mass, set the accretion rate
to zero.  The stellar evolution code can then proceed with no further
accretion.&lt;/p&gt;
&lt;p&gt;I've run this using the default initial conditions, a clump surface density
$Sigma_{cl} = 0.1$ g cm$^{-2}$.  The results are in the next figure: nearly
all of the interesting evolution happens before the stars reach 10 Msun.  The
accretion luminosity is almost always subdominant, at least once anything
reaches 10 Lsun.  The most massive star seems to shrink below its main sequence
size prior to reaching the main sequence, which is a little weird.  I'm not
sure if I trust that.&lt;/p&gt;
&lt;img alt="" src="https://keflavich.github.io/blog/images/Klassen_turbulentcore_model.png" style="width: 600px;" /&gt;
&lt;p&gt;Further exploration of accretion history parameter space is future work.
I now at least know how to set up the basic models and assemble lookup
tables for L(mf,t).&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="section" id="protostellar-sed-models"&gt;
&lt;h2&gt;Protostellar SED Models&lt;/h2&gt;
&lt;p&gt;The next step in computing a millimeter luminosity distribution is to convert
from stellar luminosity to the reprocessed flux at a given wavelength.  This
step has an enormous number of free parameters, since the surrounding structure
may include both a disk and a core whose shapes will both vary.&lt;/p&gt;
&lt;p&gt;There are two large grids of radiative transfer models that have been computed
for this purpose.  The &lt;a class="reference external" href="https://zenodo.org/record/166732#.WdlXwmK3xcw"&gt;Robitaille grid&lt;/a&gt; is complete and open, and it should
cover all stellar masses.  The &lt;a class="reference external" href="http://adsabs.harvard.edu/abs/2017arXiv170808853Z"&gt;Zhang+ 2017&lt;/a&gt; grid is not yet available, but it
may be more self-consistent.&lt;/p&gt;
&lt;p&gt;I plan to use the protostellar evolutionary model parameters, i.e., the radius
and luminosity, to select models from this grid.  However, the Robitaille grid
uses surface temperature and radius, not luminosity and radius.  So we either
need to compute the stellar luminosity in the Robitaille models assuming the
stars are perfect blackbodies, then use the stellar luminosity to select from
that grid, or we need to compute the stellar surface temperature from
the evolutionary model.&lt;/p&gt;
&lt;p&gt;Since the Robitaille models cover a large number of parameters, but do so in a
fairly sparse grid, it is not trivial to map from radius+luminosity to the
models.  For example, for a $2-3x10^5$ Lsun star with radius 40-50 Rsun,
there are 860 models in the &lt;tt class="docutils literal"&gt;spubhmi&lt;/tt&gt; grid, most of which lack flux measurements
in many apertures.&lt;/p&gt;
&lt;div class="section" id="example-model-selection"&gt;
&lt;h3&gt;Example Model Selection&lt;/h3&gt;
&lt;p&gt;For this example, I'm looking at an mf=10 Msun star at t=0.58 Myr, at which
point it has m=6.5 Msun.  Its radius at this time is 9.0 Rsun and &lt;em&gt;stellar&lt;/em&gt;
luminosity 1300 Lsun.  This is the line of output from the Klassen model:&lt;/p&gt;
&lt;pre class="literal-block"&gt;
            Time        Stellar_Mass      Accretion_Rate      Stellar_Radius    Polytropic_Index      Deuterium_Mass       Intrinsic_Lum    Total_Luminosity    Stage
0.1842924478E+14    0.1300261603E+35    0.1404188516E+22    0.6278790980E+12    0.3000000000E+01    0.0000000000E+00    0.5084830934E+37    0.6525577133E+37        4
&lt;/pre&gt;
&lt;p&gt;I select models within 5% of this one's radius and luminosity:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="n"&gt;lum&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="mf"&gt;0.5084830934E+37&lt;/span&gt;&lt;span class="o"&gt;*&lt;/span&gt;&lt;span class="n"&gt;u&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;erg&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="n"&gt;u&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;s&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;to&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;u&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;L_sun&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="n"&gt;rad&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="mf"&gt;0.6278790980E+12&lt;/span&gt;&lt;span class="o"&gt;*&lt;/span&gt;&lt;span class="n"&gt;u&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;cm&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;to&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;u&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;R_sun&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="n"&gt;selpars&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;pars&lt;/span&gt;&lt;span class="p"&gt;[(&lt;/span&gt;&lt;span class="n"&gt;pars&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;Luminosity&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt; &lt;span class="o"&gt;&amp;gt;&lt;/span&gt; &lt;span class="n"&gt;lum&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;value&lt;/span&gt;&lt;span class="o"&gt;*&lt;/span&gt;&lt;span class="mf"&gt;0.95&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="o"&gt;&amp;amp;&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;pars&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;Luminosity&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt; &lt;span class="o"&gt;&amp;lt;&lt;/span&gt; &lt;span class="n"&gt;lum&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;value&lt;/span&gt;&lt;span class="o"&gt;*&lt;/span&gt;&lt;span class="mf"&gt;1.05&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="o"&gt;&amp;amp;&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;pars&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;star.radius&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt;&lt;span class="o"&gt;&amp;gt;&lt;/span&gt;&lt;span class="n"&gt;rad&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;value&lt;/span&gt;&lt;span class="o"&gt;*&lt;/span&gt;&lt;span class="mf"&gt;0.95&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="o"&gt;&amp;amp;&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;pars&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;star.radius&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt;&lt;span class="o"&gt;&amp;lt;&lt;/span&gt;&lt;span class="n"&gt;rad&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;value&lt;/span&gt;&lt;span class="o"&gt;*&lt;/span&gt;&lt;span class="mf"&gt;1.05&lt;/span&gt;&lt;span class="p"&gt;)]&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;My first attempt at this, with the &lt;tt class="docutils literal"&gt;spubhmi&lt;/tt&gt; model, resulted in one that has
no flux in small (4000 AU) aperture, which I don't yet know how to interpret -
it is certainly possible for such a source, with a non-negligible envelope, to
exist, and it would certainly produce some flux.&lt;/p&gt;
&lt;p&gt;More lenient parameters are needed:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="n"&gt;lum&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="mf"&gt;0.5084830934E+37&lt;/span&gt;&lt;span class="o"&gt;*&lt;/span&gt;&lt;span class="n"&gt;u&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;erg&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="n"&gt;u&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;s&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;to&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;u&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;L_sun&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="n"&gt;rad&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="mf"&gt;0.6278790980E+12&lt;/span&gt;&lt;span class="o"&gt;*&lt;/span&gt;&lt;span class="n"&gt;u&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;cm&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;to&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;u&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;R_sun&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="n"&gt;apnum&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;np&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;argmin&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;np&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;abs&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;seds&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;apertures&lt;/span&gt; &lt;span class="o"&gt;-&lt;/span&gt; &lt;span class="mi"&gt;2000&lt;/span&gt;&lt;span class="o"&gt;*&lt;/span&gt;&lt;span class="n"&gt;u&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;au&lt;/span&gt;&lt;span class="p"&gt;))&lt;/span&gt;
&lt;span class="n"&gt;wav&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="mi"&gt;95&lt;/span&gt;&lt;span class="o"&gt;*&lt;/span&gt;&lt;span class="n"&gt;u&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;GHz&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;to&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;u&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;mm&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;u&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;spectral&lt;/span&gt;&lt;span class="p"&gt;())&lt;/span&gt;
&lt;span class="n"&gt;wavnum&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;np&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;argmin&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;np&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;abs&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;seds&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;wav&lt;/span&gt; &lt;span class="o"&gt;-&lt;/span&gt; &lt;span class="n"&gt;wav&lt;/span&gt;&lt;span class="p"&gt;))&lt;/span&gt;
&lt;span class="n"&gt;ok&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;np&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;isfinite&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;seds&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;val&lt;/span&gt;&lt;span class="p"&gt;[:,&lt;/span&gt;&lt;span class="n"&gt;wavnum&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="n"&gt;apnum&lt;/span&gt;&lt;span class="p"&gt;])&lt;/span&gt;
&lt;span class="n"&gt;selpars&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;pars&lt;/span&gt;&lt;span class="p"&gt;[(&lt;/span&gt;&lt;span class="n"&gt;pars&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;Luminosity&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt; &lt;span class="o"&gt;&amp;gt;&lt;/span&gt; &lt;span class="n"&gt;lum&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;value&lt;/span&gt;&lt;span class="o"&gt;*&lt;/span&gt;&lt;span class="mf"&gt;0.9&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="o"&gt;&amp;amp;&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;pars&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;Luminosity&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt; &lt;span class="o"&gt;&amp;lt;&lt;/span&gt; &lt;span class="n"&gt;lum&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;value&lt;/span&gt;&lt;span class="o"&gt;*&lt;/span&gt;&lt;span class="mf"&gt;1.10&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="o"&gt;&amp;amp;&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;pars&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;star.radius&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt;&lt;span class="o"&gt;&amp;gt;&lt;/span&gt;&lt;span class="n"&gt;rad&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;value&lt;/span&gt;&lt;span class="o"&gt;*&lt;/span&gt;&lt;span class="mf"&gt;0.9&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="o"&gt;&amp;amp;&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;pars&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;star.radius&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt;&lt;span class="o"&gt;&amp;lt;&lt;/span&gt;&lt;span class="n"&gt;rad&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;value&lt;/span&gt;&lt;span class="o"&gt;*&lt;/span&gt;&lt;span class="mf"&gt;1.10&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="o"&gt;&amp;amp;&lt;/span&gt; &lt;span class="n"&gt;ok&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;This one at least results in some hits.  There are three models with fluxes (at
Sgr B2, in a 2000 AU radius aperture, at 95 GHz) of 15-25, 155-170, and 55-60 mJy.
To build a model cluster, we would randomly select one of these models.
Robitaille notes, however, that some of the models are nonphysical; at the moment,
we have no way to assess that, so we have to do the selection blindly.  The brightest
model has a denser envelope and more massive disk.&lt;/p&gt;
&lt;p&gt;We can use this to make a model cluster, but this is a pretty discouraging first model
given my previous work; this is presently a low-luminosity source that is surprisingly
intense at 3mm.&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="section" id="full-workflow"&gt;
&lt;h2&gt;Full Workflow&lt;/h2&gt;
&lt;p&gt;We first create a cluster by sampling from a stellar initial mass function.
This part is straightforward, at least.&lt;/p&gt;
&lt;p&gt;Then, for each source, we 'rewind' to a specific time and select model parameters
from the protostellar evolution models described above.  The 'rewind' could be
from the point at which the stars reach &amp;quot;stage 5&amp;quot;, main sequence, or we could
select some other criteria.&lt;/p&gt;
&lt;p&gt;Finally, we sample from the Robitaille parameters.  For this first example,
we just randomly select from some parameters that are within 5-10% of the target
parameters.  In the longer term, we'll want to be much more accurate
and find a way to interpolate the Robitaille models onto a &amp;quot;fully sampled&amp;quot; grid
of the parameter space we're interested in.  The Zhang models are probably
better to use once they become available since they may have accretion histories
consistent with those used for the evolutionary model.&lt;/p&gt;
&lt;/div&gt;
&lt;div class="section" id="final-comments"&gt;
&lt;h2&gt;Final comments&lt;/h2&gt;
&lt;p&gt;For the next post, I hope to actually generate some clusters and see what sorts
of uncertainties we're dealing with.  The above examples suggest they could be
truly extreme, and perhaps that the Robitaille models will be inadequate for
this purpose.  We'll see.&lt;/p&gt;
&lt;/div&gt;
</content><category term="misc"></category><category term="plf"></category><category term="pmf"></category><category term="cmf"></category></entry><entry><title>Protostellar Mass Functions</title><link href="https://keflavich.github.io/blog/protostellar-mass-functions.html" rel="alternate"></link><published>2017-08-30T15:18:00-06:00</published><updated>2017-08-30T15:18:00-06:00</updated><author><name>Adam Ginsburg (Adam.G.Ginsburg@gmail.com)</name></author><id>tag:keflavich.github.io,2017-08-30:/blog/protostellar-mass-functions.html</id><summary type="html">&lt;p&gt;The stellar &lt;a class="reference external" href="https://en.wikipedia.org/wiki/Initial_mass_function"&gt;initial mass function&lt;/a&gt; is important for a wide
variety of astronomical topics, and I'm interested in studying its formation.
The &lt;a class="reference external" href="http://adsabs.harvard.edu/abs/2010ApJ...716..167M"&gt;protostellar mass function&lt;/a&gt;, by contrast, is much
less well-studied, but understanding it can provide important insights into the
formation of the IMF.  In particular, we assume both for …&lt;/p&gt;</summary><content type="html">&lt;p&gt;The stellar &lt;a class="reference external" href="https://en.wikipedia.org/wiki/Initial_mass_function"&gt;initial mass function&lt;/a&gt; is important for a wide
variety of astronomical topics, and I'm interested in studying its formation.
The &lt;a class="reference external" href="http://adsabs.harvard.edu/abs/2010ApJ...716..167M"&gt;protostellar mass function&lt;/a&gt;, by contrast, is much
less well-studied, but understanding it can provide important insights into the
formation of the IMF.  In particular, we assume both for simplicity and because
of a lack of contrary evidence, that the IMF is uniform in time in space.  In
other words, given that a star is going to form at some point, it has a
likelihood to become a star of a given mass described exclusively by the IMF.
While this assertion is entirely absurd - if you are &amp;quot;about to form&amp;quot; a star in
a blob of gas that only has 0.1 Msun in a 1 pc radius, it certainly cannot form
a 100 Msun star - it remains consistent with nearly all observations and is
therefore used in this time- and space-invariant form.&lt;/p&gt;
&lt;p&gt;It is likely that new studies of stellar populations, e.g., GAIA's observations
of a huge population of stars with well-determined distances (and therefore
luminosities), will reveal some variations in the IMF.  However, many studies
based on evolved stellar populations are subject to ambiguities in the initial
conditions.  So, it is still quite useful to study those initial conditions
directly.&lt;/p&gt;
&lt;p&gt;There has not been a huge amount of work on protostellar mass functions.
&lt;a class="reference external" href="http://adsabs.harvard.edu/abs/2010ApJ...716..167M"&gt;McKee and Offner&lt;/a&gt; defined the PMF as the distribution of masses of
protostellar sources that would produce a given IMF.  Their PMFs are therefore
strongly dependent on the underlying IMF assumed.&lt;/p&gt;
&lt;p&gt;I have implemented the mass functions they defined in &lt;a class="reference external" href="https://github.com/keflavich/imf/blob/master/imf/pmf.py"&gt;this code&lt;/a&gt;.  The code
is generalized such that you can input other mass functions.  McKee &amp;amp; Offner
only used the &lt;a class="reference external" href="http://adsabs.harvard.edu/abs/2005ASSL..327...41C"&gt;Chabrier 2005&lt;/a&gt; mass function; I include the &lt;a class="reference external" href="http://adsabs.harvard.edu/abs/2001MNRAS.322..231K"&gt;Kroupa 2001&lt;/a&gt; mass
function as well for comparison&lt;/p&gt;
&lt;img alt="" src="https://keflavich.github.io/blog/images/steadystate_pmf_chabrier_mmax3.png" style="width: 400px;" /&gt;
&lt;img alt="" src="https://keflavich.github.io/blog/images/steadystate_pmf_kroupa_mmax3.png" style="width: 400px;" /&gt;
&lt;p&gt;The comparison between the Chabrier and Kroupa mass functions is shown above.
Note that these are somewhat deceptive plots, since they show P(M) vs log(M).
The plot shows the most likely individual masses by number, but the plots are
actually quite squished to the left in linear space, such that the most common
range of stars (the integral of both functions) is closer to the same (~0.2-0.3
Msun).  The more commonly shown version of these plots is the integral form,
which has a positive power-law slope in the lowest bin in the Kroupa MF,
showing the usual peak at 0.3 Msun.  This version of the functions is
nontrivial to compute, especially for the modified PMFs.&lt;/p&gt;
&lt;p&gt;The mass-weighted versions of these may be more familiar, and they are more
similar to the P(log M) version used in &lt;a class="reference external" href="http://adsabs.harvard.edu/abs/2010ApJ...716..167M"&gt;McKee and Offner&lt;/a&gt; and &lt;a class="reference external" href="http://adsabs.harvard.edu/abs/2005ASSL..327...41C"&gt;Chabrier 2005&lt;/a&gt;:&lt;/p&gt;
&lt;img alt="" src="https://keflavich.github.io/blog/images/steadystate_pmf_chabrier_integral_mmax3.png" style="width: 400px;" /&gt;
&lt;img alt="" src="https://keflavich.github.io/blog/images/steadystate_pmf_kroupa_integral_mmax3.png" style="width: 400px;" /&gt;
&lt;p&gt;The Chabrier version is a near-perfect match to Figure 3 of &lt;a class="reference external" href="http://adsabs.harvard.edu/abs/2010ApJ...716..167M"&gt;McKee and
Offner&lt;/a&gt;, with slightly different normalization (and I'm expressing P(M), not
P(log M); a previous version showed P(log M), but was incorrect).  A notable
feature of this plot is that it cuts off at 3 Msun.  I want to examine the same
distribution at higher masses.&lt;/p&gt;
&lt;img alt="" src="https://keflavich.github.io/blog/images/taperedaccretion_pmf_chabrier_mmax3.png" style="width: 400px;" /&gt;
&lt;img alt="" src="https://keflavich.github.io/blog/images/taperedaccretion_pmf_kroupa_mmax3.png" style="width: 400px;" /&gt;
&lt;p&gt;The above plots are the same as before, but with tapered accretion following
the prescription in &lt;a class="reference external" href="http://adsabs.harvard.edu/abs/2010ApJ...716..167M"&gt;McKee and Offner&lt;/a&gt;.  The tapering function is apparently
arbitrary, and picked purely to enforce smoothness (i.e., prevent a possibly
nonphysical instantaneous shutoff of accretion).&lt;/p&gt;
&lt;div class="section" id="extending-to-higher-masses"&gt;
&lt;h2&gt;Extending to higher masses&lt;/h2&gt;
&lt;p&gt;When we reevaluate the same functions with mmax=120 instead of 3, we can start
to see the high mass end, which is of course power-law dominated.   In all cases,
the PMF is dominated by the highest-mass sources, since in all cases they take
the longest to form.&lt;/p&gt;
&lt;img alt="" src="https://keflavich.github.io/blog/images/steadystate_pmf_chabrier_mmax120.png" style="width: 400px;" /&gt;
&lt;img alt="" src="https://keflavich.github.io/blog/images/steadystate_pmf_kroupa_mmax120.png" style="width: 400px;" /&gt;
&lt;p&gt;The accretion model changes the slope and the overall ratio of high- to
low-mass stars.&lt;/p&gt;
&lt;p&gt;These are the mass fractions of various MFs:&lt;/p&gt;
&lt;blockquote&gt;
&lt;ul class="simple"&gt;
&lt;li&gt;Mass fraction for ChabrierIMF M&amp;gt;10 = 0.192&lt;/li&gt;
&lt;li&gt;Mass fraction for ChabrierPMF_2CTC M&amp;gt;10 = 0.334&lt;/li&gt;
&lt;li&gt;Mass fraction for ChabrierPMF_CA M&amp;gt;10 = 0.150&lt;/li&gt;
&lt;li&gt;Mass fraction for ChabrierPMF_IS M&amp;gt;10 = 0.765&lt;/li&gt;
&lt;li&gt;Mass fraction for ChabrierPMF_TC M&amp;gt;10 = 0.288&lt;/li&gt;
&lt;li&gt;Mass fraction for KroupaIMF M&amp;gt;10 = 0.185&lt;/li&gt;
&lt;li&gt;Mass fraction for KroupaPMF_2CTC M&amp;gt;10 = 0.348&lt;/li&gt;
&lt;li&gt;Mass fraction for KroupaPMF_CA M&amp;gt;10 = 0.148&lt;/li&gt;
&lt;li&gt;Mass fraction for KroupaPMF_IS M&amp;gt;10 = 0.781&lt;/li&gt;
&lt;li&gt;Mass fraction for KroupaPMF_TC M&amp;gt;10 = 0.294&lt;/li&gt;
&lt;/ul&gt;
&lt;/blockquote&gt;
&lt;p&gt;The isothermal sphere case is pretty extremely top-heavy, but all except
competitive accretion result in a more top-heavy MF, which is a fairly neat
result - it means that simple binning can distinguish between these theories
(assuming the parametrization is right).  It also means that the SFRs
inferred from integrating the high-mass end of the mass function (as I have
done in &lt;a class="reference external" href="https://github.com/keflavich/SgrB2_ALMA_3mm_Mosaic/"&gt;my Sgr B2 paper&lt;/a&gt;) is subject to a factor of +/-2x uncertainty
depending on the accretion history if we assume steady state.&lt;/p&gt;
&lt;p&gt;The next step is to extend this to different accretion histories (tapered,
accelerating) and then possibly different star formation histories.
I will also create some 'synthetic clusters' using the &lt;a class="reference external" href="https://zenodo.org/record/166732"&gt;Robitaille&lt;/a&gt;
and &lt;a class="reference external" href="https://arxiv.org/abs/1708.08853"&gt;Zhang&lt;/a&gt; models.&lt;/p&gt;
&lt;/div&gt;
</content><category term="misc"></category><category term="imf"></category><category term="pmf"></category></entry><entry><title>A quick performance test on CASA cleaning</title><link href="https://keflavich.github.io/blog/a-quick-performance-test-on-casa-cleaning.html" rel="alternate"></link><published>2017-04-26T11:03:00-06:00</published><updated>2017-04-26T11:03:00-06:00</updated><author><name>Adam Ginsburg (Adam.G.Ginsburg@gmail.com)</name></author><id>tag:keflavich.github.io,2017-04-26:/blog/a-quick-performance-test-on-casa-cleaning.html</id><summary type="html">&lt;p&gt;I ran some speed tests to compare CASA's speed when imaging single channels vs
blocks of channels.  The tests were run with savemodel='none' on a lustre node&lt;/p&gt;
&lt;pre class="literal-block"&gt;
'speedtest_nchan1_concat': 249,
'speedtest_nchan1_individual': 523,
'speedtest_nchan5_concat': 803,
'speedtest_nchan5_individual': 916,
'speedtest_nchan20_concat': 2303,
'speedtest_nchan20 …&lt;/pre&gt;</summary><content type="html">&lt;p&gt;I ran some speed tests to compare CASA's speed when imaging single channels vs
blocks of channels.  The tests were run with savemodel='none' on a lustre node&lt;/p&gt;
&lt;pre class="literal-block"&gt;
'speedtest_nchan1_concat': 249,
'speedtest_nchan1_individual': 523,
'speedtest_nchan5_concat': 803,
'speedtest_nchan5_individual': 916,
'speedtest_nchan20_concat': 2303,
'speedtest_nchan20_individual': 2346,
'speedtest_nchan40_concat': 4010,
'speedtest_nchan40_individual': 4136,
'speedtest_nchan80_concat': 8101,
'speedtest_nchan80_individual': 9298,
&lt;/pre&gt;
&lt;img alt="" src="https://keflavich.github.io/blog/images/casa/cube_performance.png" style="width: 600px;" /&gt;
&lt;p&gt;The fit is y = 98x + 237&lt;/p&gt;
&lt;p&gt;So at least until swapping happens, there is no serious advantage or
disadvantage to running a different # of channels simultaneously.&lt;/p&gt;
</content><category term="misc"></category><category term="CASA"></category><category term="clean"></category><category term="tclean"></category></entry><entry><title>High-mass Protostellar SiO Masers</title><link href="https://keflavich.github.io/blog/high-mass-protostellar-sio-masers.html" rel="alternate"></link><published>2017-01-30T12:26:00-07:00</published><updated>2017-01-30T12:26:00-07:00</updated><author><name>Adam Ginsburg (Adam.G.Ginsburg@gmail.com)</name></author><id>tag:keflavich.github.io,2017-01-30:/blog/high-mass-protostellar-sio-masers.html</id><summary type="html">&lt;p&gt;In working on a high-mass star formation proposal, I reviewed the discovery
of SiO vibrationally-excited masers toward high-mass star-forming regions.&lt;/p&gt;
&lt;p&gt;Known sources include (with discovery articles listed):&lt;/p&gt;
&lt;blockquote&gt;
&lt;ul class="simple"&gt;
&lt;li&gt;Sgr B2 M (&lt;a class="reference external" href="http://adsabs.harvard.edu/abs/1986mmmo.conf..275H"&gt;Hasegawa&lt;/a&gt;)&lt;/li&gt;
&lt;li&gt;Sgr B2 N (&lt;a class="reference external" href="http://esoads.eso.org/abs/2015ApJ...815..106H"&gt;Higuchi&lt;/a&gt;)&lt;/li&gt;
&lt;li&gt;W51N (&lt;a class="reference external" href="http://adsabs.harvard.edu/abs/1986mmmo.conf..275H"&gt;Hasegawa&lt;/a&gt;)&lt;/li&gt;
&lt;li&gt;Orion BN/KL (&lt;a class="reference external" href="http://adsabs.harvard.edu/abs/1974ApJ...189L..31S"&gt;Snyder&lt;/a&gt;, first mm maser)&lt;/li&gt;
&lt;li&gt;G19.61-0.23 (&lt;a class="reference external" href="http://esoads.eso.org/abs/2016ApJ...826..157C"&gt;Cho&lt;/a&gt;)&lt;/li&gt;
&lt;li&gt;G75.78 …&lt;/li&gt;&lt;/ul&gt;&lt;/blockquote&gt;</summary><content type="html">&lt;p&gt;In working on a high-mass star formation proposal, I reviewed the discovery
of SiO vibrationally-excited masers toward high-mass star-forming regions.&lt;/p&gt;
&lt;p&gt;Known sources include (with discovery articles listed):&lt;/p&gt;
&lt;blockquote&gt;
&lt;ul class="simple"&gt;
&lt;li&gt;Sgr B2 M (&lt;a class="reference external" href="http://adsabs.harvard.edu/abs/1986mmmo.conf..275H"&gt;Hasegawa&lt;/a&gt;)&lt;/li&gt;
&lt;li&gt;Sgr B2 N (&lt;a class="reference external" href="http://esoads.eso.org/abs/2015ApJ...815..106H"&gt;Higuchi&lt;/a&gt;)&lt;/li&gt;
&lt;li&gt;W51N (&lt;a class="reference external" href="http://adsabs.harvard.edu/abs/1986mmmo.conf..275H"&gt;Hasegawa&lt;/a&gt;)&lt;/li&gt;
&lt;li&gt;Orion BN/KL (&lt;a class="reference external" href="http://adsabs.harvard.edu/abs/1974ApJ...189L..31S"&gt;Snyder&lt;/a&gt;, first mm maser)&lt;/li&gt;
&lt;li&gt;G19.61-0.23 (&lt;a class="reference external" href="http://esoads.eso.org/abs/2016ApJ...826..157C"&gt;Cho&lt;/a&gt;)&lt;/li&gt;
&lt;li&gt;G75.78+0.34 (&lt;a class="reference external" href="http://esoads.eso.org/abs/2016ApJ...826..157C"&gt;Cho&lt;/a&gt;)&lt;/li&gt;
&lt;li&gt;G0.38+0.04 &amp;quot;Cloud C&amp;quot; (&lt;a class="reference external" href="http://esoads.eso.org/abs/2015A%26A...584L...7G"&gt;Ginsburg&lt;/a&gt;)&lt;/li&gt;
&lt;li&gt;IRAS 19312+1950 (&lt;a class="reference external" href="http://esoads.eso.org/abs/2016ApJ...828...51C"&gt;Cordiner&lt;/a&gt;)&lt;/li&gt;
&lt;li&gt;DR 21(OH) (&lt;a class="reference external" href="http://adsabs.harvard.edu/abs/2010ARep...54..295K"&gt;Kalenskii, tentative&lt;/a&gt;)&lt;/li&gt;
&lt;/ul&gt;
&lt;/blockquote&gt;
&lt;p&gt;If you know of any I missed, or have a better collection of these masers, let
me know.&lt;/p&gt;
</content><category term="misc"></category><category term="SiO Masers"></category><category term="HMSF"></category></entry><entry><title>Publications from 2016</title><link href="https://keflavich.github.io/blog/publications-from-2016.html" rel="alternate"></link><published>2017-01-01T22:48:00-07:00</published><updated>2017-01-01T22:48:00-07:00</updated><author><name>Adam Ginsburg (Adam.G.Ginsburg@gmail.com)</name></author><id>tag:keflavich.github.io,2017-01-01:/blog/publications-from-2016.html</id><summary type="html">&lt;p&gt;I haven't updated the 'publications' subdirectory for a long time, mostly
because I forgot it existed.  I'd like to go through these and update them with
highlight figures etc, but there's no guarantee I'll find the time... this is
really the kind of thing that should be done &lt;em&gt;as the …&lt;/em&gt;&lt;/p&gt;</summary><content type="html">&lt;p&gt;I haven't updated the 'publications' subdirectory for a long time, mostly
because I forgot it existed.  I'd like to go through these and update them with
highlight figures etc, but there's no guarantee I'll find the time... this is
really the kind of thing that should be done &lt;em&gt;as the papers are submitted&lt;/em&gt;.
But that checklist has been getting very long lately.&lt;/p&gt;
&lt;dt class="Key" id="Immer2016a"&gt;Immer2016a&lt;dt /&gt;
&lt;dd class="Pub"&gt;
    &lt;span class="Title"&gt;Temperature structures in Galactic center clouds. Direct evidence for gas heating via turbulence&lt;/span&gt;&lt;br /&gt;
    &lt;span class="Author"&gt;K. Immer and J. Kauffmann and T. Pillai and A. Ginsburg and K. M. Menten&lt;/span&gt;&lt;br /&gt;
    &lt;span class="Journal"&gt;\aap&lt;/span&gt;&amp;nbsp;
    &lt;span class="Volume"&gt;595&lt;/span&gt;&amp;nbsp;
    &lt;span class="Pages"&gt;A94&lt;/span&gt;&amp;nbsp;
    (&lt;span class="Date"&gt;2016&lt;/span&gt;)&lt;br /&gt;
&lt;remoteURLs&gt;
    &lt;span class="URL"&gt;&lt;a href=""&gt;&lt;/a&gt;&lt;/span&gt;&lt;br /&gt;
&lt;/remoteURLs&gt;
&lt;dd /&gt;&lt;dt class="Key" id="Galametz2016a"&gt;Galametz2016a&lt;dt /&gt;
&lt;dd class="Pub"&gt;
    &lt;span class="Title"&gt;Water, methanol and dense gas tracers in the local ULIRG Arp 220: results from the new SEPIA Band 5 Science Verification campaign&lt;/span&gt;&lt;br /&gt;
    &lt;span class="Author"&gt;M. Galametz and Z.-Y. Zhang and K. Immer and E. Humphreys and R. Aladro and C. De Breuck and A. Ginsburg and S. C. Madden and P. Møller and V. Arumugam&lt;/span&gt;&lt;br /&gt;
    &lt;span class="Journal"&gt;\mnras&lt;/span&gt;&amp;nbsp;
    &lt;span class="Volume"&gt;462&lt;/span&gt;&amp;nbsp;
    &lt;span class="Pages"&gt;L36-L40&lt;/span&gt;&amp;nbsp;
    (&lt;span class="Date"&gt;2016&lt;/span&gt;)&lt;br /&gt;
&lt;remoteURLs&gt;
    &lt;span class="URL"&gt;&lt;a href=""&gt;&lt;/a&gt;&lt;/span&gt;&lt;br /&gt;
&lt;/remoteURLs&gt;
&lt;dd /&gt;&lt;dt class="Key" id="Ginsburg2016b"&gt;Ginsburg2016b&lt;dt /&gt;
&lt;dd class="Pub"&gt;
    &lt;span class="Title"&gt;Toward gas exhaustion in the W51 high-mass protoclusters&lt;/span&gt;&lt;br /&gt;
    &lt;span class="Author"&gt;A. Ginsburg and W. M. Goss and C. Goddi and R. Galván-Madrid and J. E. Dale and J. Bally and C. D. Battersby and A. Youngblood and R. Sankrit and R. Smith and J. Darling and J. M. D. Kruijssen and H. B. Liu&lt;/span&gt;&lt;br /&gt;
    &lt;span class="Journal"&gt;\aap&lt;/span&gt;&amp;nbsp;
    &lt;span class="Volume"&gt;595&lt;/span&gt;&amp;nbsp;
    &lt;span class="Pages"&gt;A27&lt;/span&gt;&amp;nbsp;
    (&lt;span class="Date"&gt;2016&lt;/span&gt;)&lt;br /&gt;
&lt;remoteURLs&gt;
    &lt;span class="URL"&gt;&lt;a href=""&gt;&lt;/a&gt;&lt;/span&gt;&lt;br /&gt;
&lt;/remoteURLs&gt;
&lt;dd /&gt;&lt;dt class="Key" id="Battersby2016a"&gt;Battersby2016a&lt;dt /&gt;
&lt;dd class="Pub"&gt;
    &lt;span class="Title"&gt;A Brief Update on the CMZoom Survey&lt;/span&gt;&lt;br /&gt;
    &lt;span class="Author"&gt;C. Battersby and E. Keto and Q. Zhang and S. Longmore and J. M. D. Kruijssen and T. Pillai and J. Kauffmann and D. Walker and X. Lu and A. Ginsburg and J. Bally and E. C. Mills and J. Henshaw and K. Immer and N. Patel and V. Tolls and A. Walsh and K. Johnston and L. Ho&lt;/span&gt;&lt;br /&gt;
    &lt;span class="Journal"&gt;&lt;/span&gt;&amp;nbsp;
    &lt;span class="Volume"&gt;&lt;/span&gt;&amp;nbsp;
    &lt;span class="Pages"&gt;&lt;/span&gt;&amp;nbsp;
    (&lt;span class="Date"&gt;2016&lt;/span&gt;)&lt;br /&gt;
&lt;remoteURLs&gt;
    &lt;span class="URL"&gt;&lt;a href=""&gt;&lt;/a&gt;&lt;/span&gt;&lt;br /&gt;
&lt;/remoteURLs&gt;
&lt;dd /&gt;&lt;dt class="Key" id="Lin2016a"&gt;Lin2016a&lt;dt /&gt;
&lt;dd class="Pub"&gt;
    &lt;span class="Title"&gt;Cloud Structure of Galactic OB Cluster-forming Regions from Combining Ground- and Space-based Bolometric Observations&lt;/span&gt;&lt;br /&gt;
    &lt;span class="Author"&gt;Y. Lin and H. B. Liu and D. Li and Z.-Y. Zhang and A. Ginsburg and J. E. Pineda and L. Qian and R. Galván-Madrid and A. F. McLeod and E. Rosolowsky and J. E. Dale and K. Immer and E. Koch and S. Longmore and D. Walker and L. Testi&lt;/span&gt;&lt;br /&gt;
    &lt;span class="Journal"&gt;\apj&lt;/span&gt;&amp;nbsp;
    &lt;span class="Volume"&gt;828&lt;/span&gt;&amp;nbsp;
    &lt;span class="Pages"&gt;32&lt;/span&gt;&amp;nbsp;
    (&lt;span class="Date"&gt;2016&lt;/span&gt;)&lt;br /&gt;
&lt;remoteURLs&gt;
    &lt;span class="URL"&gt;&lt;a href=""&gt;&lt;/a&gt;&lt;/span&gt;&lt;br /&gt;
&lt;/remoteURLs&gt;
&lt;dd /&gt;&lt;dt class="Key" id="Eisner2016a"&gt;Eisner2016a&lt;dt /&gt;
&lt;dd class="Pub"&gt;
    &lt;span class="Title"&gt;Protoplanetary Disks in the Orion OMC1 Region Imaged with ALMA&lt;/span&gt;&lt;br /&gt;
    &lt;span class="Author"&gt;J. A. Eisner and J. M. Bally and A. Ginsburg and P. D. Sheehan&lt;/span&gt;&lt;br /&gt;
    &lt;span class="Journal"&gt;\apj&lt;/span&gt;&amp;nbsp;
    &lt;span class="Volume"&gt;826&lt;/span&gt;&amp;nbsp;
    &lt;span class="Pages"&gt;16&lt;/span&gt;&amp;nbsp;
    (&lt;span class="Date"&gt;2016&lt;/span&gt;)&lt;br /&gt;
&lt;remoteURLs&gt;
    &lt;span class="URL"&gt;&lt;a href=""&gt;&lt;/a&gt;&lt;/span&gt;&lt;br /&gt;
&lt;/remoteURLs&gt;
&lt;dd /&gt;&lt;dt class="Key" id="McLeod2016b"&gt;McLeod2016b&lt;dt /&gt;
&lt;dd class="Pub"&gt;
    &lt;span class="Title"&gt;Connecting the dots: a correlation between ionising radiation and cloud mass-loss rate traced by optical integral field spectroscopy&lt;/span&gt;&lt;br /&gt;
    &lt;span class="Author"&gt;A. F. McLeod and M. Gritschneder and J. E. Dale and A. Ginsburg and P. D. Klaassen and J. C. Mottram and T. Preibisch and S. Ramsay and M. Reiter and L. Testi&lt;/span&gt;&lt;br /&gt;
    &lt;span class="Journal"&gt;ArXiv e-prints&lt;/span&gt;&amp;nbsp;
    &lt;span class="Volume"&gt;&lt;/span&gt;&amp;nbsp;
    &lt;span class="Pages"&gt;&lt;/span&gt;&amp;nbsp;
    (&lt;span class="Date"&gt;2016&lt;/span&gt;)&lt;br /&gt;
&lt;remoteURLs&gt;
    &lt;span class="URL"&gt;&lt;a href=""&gt;&lt;/a&gt;&lt;/span&gt;&lt;br /&gt;
&lt;/remoteURLs&gt;
&lt;dd /&gt;&lt;dt class="Key" id="Youngblood2016b"&gt;Youngblood2016b&lt;dt /&gt;
&lt;dd class="Pub"&gt;
    &lt;span class="Title"&gt;The Orion Fingers: Near-IR Spectral Imaging of an Explosive Outflow&lt;/span&gt;&lt;br /&gt;
    &lt;span class="Author"&gt;A. Youngblood and A. Ginsburg and J. Bally&lt;/span&gt;&lt;br /&gt;
    &lt;span class="Journal"&gt;\aj&lt;/span&gt;&amp;nbsp;
    &lt;span class="Volume"&gt;151&lt;/span&gt;&amp;nbsp;
    &lt;span class="Pages"&gt;173&lt;/span&gt;&amp;nbsp;
    (&lt;span class="Date"&gt;2016&lt;/span&gt;)&lt;br /&gt;
&lt;remoteURLs&gt;
    &lt;span class="URL"&gt;&lt;a href=""&gt;&lt;/a&gt;&lt;/span&gt;&lt;br /&gt;
&lt;/remoteURLs&gt;
&lt;dd /&gt;&lt;dt class="Key" id="Svoboda2016a"&gt;Svoboda2016a&lt;dt /&gt;
&lt;dd class="Pub"&gt;
    &lt;span class="Title"&gt;The Bolocam Galactic Plane Survey. XIV. Physical Properties of Massive Starless and Star-forming Clumps&lt;/span&gt;&lt;br /&gt;
    &lt;span class="Author"&gt;B. E. Svoboda and Y. L. Shirley and C. Battersby and E. W. Rosolowsky and A. G. Ginsburg and T. P. Ellsworth-Bowers and M. R. Pestalozzi and M. K. Dunham and N. J. Evans, II and J. Bally and J. Glenn&lt;/span&gt;&lt;br /&gt;
    &lt;span class="Journal"&gt;\apj&lt;/span&gt;&amp;nbsp;
    &lt;span class="Volume"&gt;822&lt;/span&gt;&amp;nbsp;
    &lt;span class="Pages"&gt;59&lt;/span&gt;&amp;nbsp;
    (&lt;span class="Date"&gt;2016&lt;/span&gt;)&lt;br /&gt;
&lt;remoteURLs&gt;
    &lt;span class="URL"&gt;&lt;a href=""&gt;&lt;/a&gt;&lt;/span&gt;&lt;br /&gt;
&lt;/remoteURLs&gt;
&lt;dd /&gt;&lt;dt class="Key" id="Henshaw2016a"&gt;Henshaw2016a&lt;dt /&gt;
&lt;dd class="Pub"&gt;
    &lt;span class="Title"&gt;Molecular gas kinematics within the central 250 pc of the Milky Way&lt;/span&gt;&lt;br /&gt;
    &lt;span class="Author"&gt;J. D. Henshaw and S. N. Longmore and J. M. D. Kruijssen and B. Davies and J. Bally and A. Barnes and C. Battersby and M. Burton and M. R. Cunningham and J. E. Dale and A. Ginsburg and K. Immer and P. A. Jones and S. Kendrew and E. A. C. Mills and S. Molinari and T. J. T. Moore and J. Ott and T. Pillai and J. Rathborne and P. Schilke and A. Schmiedeke and L. Testi and D. Walker and A. Walsh and Q. Zhang&lt;/span&gt;&lt;br /&gt;
    &lt;span class="Journal"&gt;\mnras&lt;/span&gt;&amp;nbsp;
    &lt;span class="Volume"&gt;457&lt;/span&gt;&amp;nbsp;
    &lt;span class="Pages"&gt;2675-2702&lt;/span&gt;&amp;nbsp;
    (&lt;span class="Date"&gt;2016&lt;/span&gt;)&lt;br /&gt;
&lt;remoteURLs&gt;
    &lt;span class="URL"&gt;&lt;a href=""&gt;&lt;/a&gt;&lt;/span&gt;&lt;br /&gt;
&lt;/remoteURLs&gt;
&lt;dd /&gt;&lt;dt class="Key" id="Robitaille2016a"&gt;Robitaille2016a&lt;dt /&gt;
&lt;dd class="Pub"&gt;
    &lt;span class="Title"&gt;Python in Astronomy 2016 Unproceedings&lt;/span&gt;&lt;br /&gt;
    &lt;span class="Author"&gt;T. Robitaille and K. Cruz and P. Greenfield and E. Jeschke and M. Juric and S. Mumford and C. Prescod-Weinstein and M. Sosey and E. Tollerud and J. VanderPlas and J. Ford and D. Foreman-Mackey and T. Jenness and T. Aldcroft and M. Alexandersen and M. Bannister and K. Barbary and G. Barentsen and S. Bennett and M. Boquien and J. I. Campos Rozo and S. Christe and L. Corrales and M. Craig and C. Deil and N. Dencheva and A. Donath and S. Douglas and L. Ferreira and A. Ginsburg and N. Goldbaum and K. Gordon and A. Hearin and C. Hummels and D. Huppenkothen and E. Jennings and J. King and S. Lawler and A. Leonard and P. L. Lim and L. McBride and B. Morris and C. Nunez and R. Owen and J. Parejko and E. Patel and A. Price-Whelan and R. Ruggiero and B. Sipocz and A. Stevens and J. Turner and S. Tuttle and P. Yanchulova Merica-Jones and P. Yoachim&lt;/span&gt;&lt;br /&gt;
    &lt;span class="Journal"&gt;&lt;/span&gt;&amp;nbsp;
    &lt;span class="Volume"&gt;&lt;/span&gt;&amp;nbsp;
    &lt;span class="Pages"&gt;35&lt;/span&gt;&amp;nbsp;
    (&lt;span class="Date"&gt;2016&lt;/span&gt;)&lt;br /&gt;
&lt;remoteURLs&gt;
    &lt;span class="URL"&gt;&lt;a href=""&gt;&lt;/a&gt;&lt;/span&gt;&lt;br /&gt;
&lt;/remoteURLs&gt;
&lt;dd /&gt;&lt;dt class="Key" id="McLeod2016a"&gt;McLeod2016a&lt;dt /&gt;
&lt;dd class="Pub"&gt;
    &lt;span class="Title"&gt;A nebular analysis of the central Orion nebula with MUSE&lt;/span&gt;&lt;br /&gt;
    &lt;span class="Author"&gt;A. F. Mc Leod and P. M. Weilbacher and A. Ginsburg and J. E. Dale and S. Ramsay and L. Testi&lt;/span&gt;&lt;br /&gt;
    &lt;span class="Journal"&gt;\mnras&lt;/span&gt;&amp;nbsp;
    &lt;span class="Volume"&gt;455&lt;/span&gt;&amp;nbsp;
    &lt;span class="Pages"&gt;4057-4086&lt;/span&gt;&amp;nbsp;
    (&lt;span class="Date"&gt;2016&lt;/span&gt;)&lt;br /&gt;
&lt;remoteURLs&gt;
    &lt;span class="URL"&gt;&lt;a href=""&gt;&lt;/a&gt;&lt;/span&gt;&lt;br /&gt;
&lt;/remoteURLs&gt;
&lt;dd /&gt;&lt;dt class="Key" id="Ginsburg2016a"&gt;Ginsburg2016a&lt;dt /&gt;
&lt;dd class="Pub"&gt;
    &lt;span class="Title"&gt;Dense gas in the Galactic central molecular zone is warm and heated by turbulence&lt;/span&gt;&lt;br /&gt;
    &lt;span class="Author"&gt;A. Ginsburg and C. Henkel and Y. Ao and D. Riquelme and J. Kauffmann and T. Pillai and E. A. C. Mills and M. A. Requena-Torres and K. Immer and L. Testi and J. Ott and J. Bally and C. Battersby and J. Darling and S. Aalto and T. Stanke and S. Kendrew and J. M. D. Kruijssen and S. Longmore and J. Dale and R. Guesten and K. M. Menten&lt;/span&gt;&lt;br /&gt;
    &lt;span class="Journal"&gt;\aap&lt;/span&gt;&amp;nbsp;
    &lt;span class="Volume"&gt;586&lt;/span&gt;&amp;nbsp;
    &lt;span class="Pages"&gt;A50&lt;/span&gt;&amp;nbsp;
    (&lt;span class="Date"&gt;2016&lt;/span&gt;)&lt;br /&gt;
&lt;remoteURLs&gt;
    &lt;span class="URL"&gt;&lt;a href=""&gt;&lt;/a&gt;&lt;/span&gt;&lt;br /&gt;
&lt;/remoteURLs&gt;
&lt;dd /&gt;&lt;dt class="Key" id="Ginsburg2016"&gt;Ginsburg2016&lt;dt /&gt;
&lt;dd class="Pub"&gt;
    &lt;span class="Title"&gt;CAMELOT: the Cloud Archive for MEtadata, Library &amp; Online Toolkit&lt;/span&gt;&lt;br /&gt;
    &lt;span class="Author"&gt;A. Ginsburg and J. M. D. Kruijssen and S. Longmore and E. Koch and S. Glover and J. Dale and B. Commercon and A. Giannetti and A. Mcleod and L. Testi and S. Zahorecz and J. Rathborne and Q. Zhang and F. Fontani and M. Beltran and V. Rivilla&lt;/span&gt;&lt;br /&gt;
    &lt;span class="Journal"&gt;&lt;/span&gt;&amp;nbsp;
    &lt;span class="Volume"&gt;&lt;/span&gt;&amp;nbsp;
    &lt;span class="Pages"&gt;&lt;/span&gt;&amp;nbsp;
    (&lt;span class="Date"&gt;2016&lt;/span&gt;)&lt;br /&gt;
&lt;remoteURLs&gt;
    &lt;span class="URL"&gt;&lt;a href=""&gt;&lt;/a&gt;&lt;/span&gt;&lt;br /&gt;
&lt;/remoteURLs&gt;
&lt;dd /&gt;&lt;dt class="Key" id="Goddi2016a"&gt;Goddi2016a&lt;dt /&gt;
&lt;dd class="Pub"&gt;
    &lt;span class="Title"&gt;Hot ammonia around young O-type stars. III. High-mass star formation and hot core activity in W51~Main&lt;/span&gt;&lt;br /&gt;
    &lt;span class="Author"&gt;C. Goddi and A. Ginsburg and Q. Zhang&lt;/span&gt;&lt;br /&gt;
    &lt;span class="Journal"&gt;&lt;/span&gt;&amp;nbsp;
    &lt;span class="Volume"&gt;&lt;/span&gt;&amp;nbsp;
    &lt;span class="Pages"&gt;&lt;/span&gt;&amp;nbsp;
    (&lt;span class="Date"&gt;2016&lt;/span&gt;)&lt;br /&gt;
&lt;remoteURLs&gt;
    &lt;span class="URL"&gt;&lt;a href=""&gt;&lt;/a&gt;&lt;/span&gt;&lt;br /&gt;
&lt;/remoteURLs&gt;
&lt;dd /&gt;&lt;dt class="Key" id="Longmore2016a"&gt;Longmore2016a&lt;dt /&gt;
&lt;dd class="Pub"&gt;
    &lt;span class="Title"&gt;Using young massive star clusters to understand star formation and feedback in high-redshift-like environments&lt;/span&gt;&lt;br /&gt;
    &lt;span class="Author"&gt;S. Longmore and A. Barnes and C. Battersby and J. Bally and J. M. D. Kruijssen and J. Dale and J. Henshaw and D. Walker and J. Rathborne and L. Testi and J. Ott and A. Ginsburg&lt;/span&gt;&lt;br /&gt;
    &lt;span class="Journal"&gt;&lt;/span&gt;&amp;nbsp;
    &lt;span class="Volume"&gt;&lt;/span&gt;&amp;nbsp;
    &lt;span class="Pages"&gt;&lt;/span&gt;&amp;nbsp;
    (&lt;span class="Date"&gt;2016&lt;/span&gt;)&lt;br /&gt;
&lt;remoteURLs&gt;
    &lt;span class="URL"&gt;&lt;a href=""&gt;&lt;/a&gt;&lt;/span&gt;&lt;br /&gt;
&lt;/remoteURLs&gt;
&lt;dd /&gt;</content><category term="publications"></category><category term="publications"></category></entry><entry><title>CASA synthetic observations</title><link href="https://keflavich.github.io/blog/casa-synthetic-observations.html" rel="alternate"></link><published>2016-08-15T09:36:00-06:00</published><updated>2016-08-15T09:36:00-06:00</updated><author><name>Adam Ginsburg (Adam.G.Ginsburg@gmail.com)</name></author><id>tag:keflavich.github.io,2016-08-15:/blog/casa-synthetic-observations.html</id><summary type="html">&lt;p&gt;To evaluate imaging robustness &amp;amp; quality, it is necessary to do some sort of
synthetic observation.  These synthetic observations can be done on real
images, e.g. Herschel data shifted to greater distances, or on simulated data.&lt;/p&gt;
&lt;p&gt;Some examples:&lt;/p&gt;
&lt;blockquote&gt;
&lt;ul class="simple"&gt;
&lt;li&gt;&lt;a class="reference external" href="https://github.com/keflavich/W51_ALMA_2013.1.00308.S/blob/master/analysis/synth_imaging_perseus.py"&gt;https://github.com/keflavich/W51_ALMA_2013.1.00308.S/blob/master …&lt;/a&gt;&lt;/li&gt;&lt;/ul&gt;&lt;/blockquote&gt;</summary><content type="html">&lt;p&gt;To evaluate imaging robustness &amp;amp; quality, it is necessary to do some sort of
synthetic observation.  These synthetic observations can be done on real
images, e.g. Herschel data shifted to greater distances, or on simulated data.&lt;/p&gt;
&lt;p&gt;Some examples:&lt;/p&gt;
&lt;blockquote&gt;
&lt;ul class="simple"&gt;
&lt;li&gt;&lt;a class="reference external" href="https://github.com/keflavich/W51_ALMA_2013.1.00308.S/blob/master/analysis/synth_imaging_perseus.py"&gt;https://github.com/keflavich/W51_ALMA_2013.1.00308.S/blob/master/analysis/synth_imaging_perseus.py&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a class="reference external" href="https://github.com/keflavich/W51_ALMA_2013.1.00308.S/blob/master/analysis/synth_imaging_perseus_2.py"&gt;https://github.com/keflavich/W51_ALMA_2013.1.00308.S/blob/master/analysis/synth_imaging_perseus_2.py&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a class="reference external" href="https://github.com/keflavich/W51_ALMA_2013.1.00308.S/blob/master/analysis/synth_imaging_aquila.py"&gt;https://github.com/keflavich/W51_ALMA_2013.1.00308.S/blob/master/analysis/synth_imaging_aquila.py&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/blockquote&gt;
&lt;p&gt;General process:&lt;/p&gt;
&lt;blockquote&gt;
&lt;ol class="arabic simple"&gt;
&lt;li&gt;Import file into CASA .image form (e.g., &lt;tt class="docutils literal"&gt;importfits&lt;/tt&gt;)&lt;/li&gt;
&lt;li&gt;Load the .ms file and replace visibilities w/fourier transform of image&lt;/li&gt;
&lt;li&gt;Clean.&lt;/li&gt;
&lt;/ol&gt;
&lt;/blockquote&gt;
&lt;p&gt;The hard part is setting up the files to be imported.&lt;/p&gt;
&lt;p&gt;For example, you can import a FITS file, which to me seems to be the most
straightforward approach:&lt;/p&gt;
&lt;pre class="literal-block"&gt;
importfits(fitsimage=perseus_rescaled,
           imagename=perseus_casa_image,
           overwrite=True,
           defaultaxes=True,#['RA---TAN','DEC--TAN','FREQUENCY','STOKES'],
           defaultaxesvalues=['2.909234541667E+02deg',
                              '1.451177222222E+01deg',
                              '233.9468GHz','I'],
           # 18&amp;quot; = 1.22 lambda/D
           beam=[&amp;quot;{0}deg&amp;quot;.format(18/3600.*distance_scaling),
                 &amp;quot;{0}deg&amp;quot;.format(18/3600.*distance_scaling),
                 &amp;quot;0deg&amp;quot;],
          )
&lt;/pre&gt;
&lt;p&gt;The beam probably matters for Jy-&amp;gt;K, or Jy/beam-&amp;gt;Jy conversion.  The
&lt;tt class="docutils literal"&gt;defaultaxesvalues&lt;/tt&gt; should correspond to the pointing center of the
interferometer pointing or mosaic.&lt;/p&gt;
&lt;p&gt;Next is bringing this image - which we now pray is in the correct units - into UV space.:&lt;/p&gt;
&lt;pre class="literal-block"&gt;
sm.openfromms(&amp;quot;continuum_7m12m_noflag.ms&amp;quot;)
sm.setvp()
success = sm.predict(perseus_casa_image)
assert success
# TODO: get these from ASDM_CALWVR and WEATHER
success2 = sm.setnoise(mode='tsys-atm', relhum=60.0, pwv='2mm', tatmos=265.0, )
success3 = sm.corrupt()
sm.done()
sm.close()
&lt;/pre&gt;
&lt;p&gt;This snippet loads the .ms file (the visibilities), then overwrites them with
the fourier transform of the image using &lt;tt class="docutils literal"&gt;sm.predict&lt;/tt&gt;.  It's not clear whether
&lt;tt class="docutils literal"&gt;setvp&lt;/tt&gt; is necessary.  &lt;tt class="docutils literal"&gt;setnoise&lt;/tt&gt; + &lt;tt class="docutils literal"&gt;corrupt&lt;/tt&gt; just adds &amp;quot;appropriate&amp;quot;
atmospheric noise to the visibilities.&lt;/p&gt;
&lt;p&gt;From there, you should just use the same &lt;tt class="docutils literal"&gt;clean&lt;/tt&gt; parameters as for the
original data, or try to optimize &lt;tt class="docutils literal"&gt;clean&lt;/tt&gt; here and use these parameters on
the real data.&lt;/p&gt;
&lt;p&gt;The result will be the 'perfect' (no phase error, no amplitude error)
interferometric image.&lt;/p&gt;
</content><category term="misc"></category><category term="CASA"></category><category term="simulation"></category><category term="synthetic observation"></category></entry><entry><title>CASA clean: "splotchy" artifacts</title><link href="https://keflavich.github.io/blog/casa-clean-splotchy-artifacts.html" rel="alternate"></link><published>2016-06-14T09:31:00-06:00</published><updated>2016-06-14T09:31:00-06:00</updated><author><name>Adam Ginsburg (Adam.G.Ginsburg@gmail.com)</name></author><id>tag:keflavich.github.io,2016-06-14:/blog/casa-clean-splotchy-artifacts.html</id><summary type="html">&lt;p&gt;This image shows artifacts that look &amp;quot;splotchy&amp;quot;.  They are locations clean has
placed a negative model component where none belongs, so the residual is highly
positive and the resulting image is negative.&lt;/p&gt;
&lt;img alt="" src="https://keflavich.github.io/blog/images/casa/splotchy.png" style="width: 600px;" /&gt;
&lt;p&gt;Discussing with others, it appears that this artifact may be unique to
multiscale clean and therefore may be …&lt;/p&gt;</summary><content type="html">&lt;p&gt;This image shows artifacts that look &amp;quot;splotchy&amp;quot;.  They are locations clean has
placed a negative model component where none belongs, so the residual is highly
positive and the resulting image is negative.&lt;/p&gt;
&lt;img alt="" src="https://keflavich.github.io/blog/images/casa/splotchy.png" style="width: 600px;" /&gt;
&lt;p&gt;Discussing with others, it appears that this artifact may be unique to
multiscale clean and therefore may be a result of a too-strong component being
added on a large scale.  It is not yet clear how to suppress these artifacts,
but I'm attempting to change the scales included.  Other ideas would be welcome
in the comments.&lt;/p&gt;
</content><category term="misc"></category><category term="CASA"></category><category term="clean"></category><category term="artifacts"></category></entry><entry><title>Single Dish Combination Continued</title><link href="https://keflavich.github.io/blog/single-dish-combination-continued.html" rel="alternate"></link><published>2016-06-02T16:59:00-06:00</published><updated>2016-06-02T16:59:00-06:00</updated><author><name>Adam Ginsburg (Adam.G.Ginsburg@gmail.com)</name></author><id>tag:keflavich.github.io,2016-06-02:/blog/single-dish-combination-continued.html</id><summary type="html">&lt;p&gt;Continuing from yesterday, I've done some more analysis of my HC3N data on
different scales.  The first critical note is that there appears to be
disagreement between the 7m and 12m data.
In principle, smoothing the 12m data to the 7m resolution should at most
recover the 7m brightness; instead …&lt;/p&gt;</summary><content type="html">&lt;p&gt;Continuing from yesterday, I've done some more analysis of my HC3N data on
different scales.  The first critical note is that there appears to be
disagreement between the 7m and 12m data.
In principle, smoothing the 12m data to the 7m resolution should at most
recover the 7m brightness; instead it seems that the 12m data significantly
overpredict the 7m brightness.&lt;/p&gt;
&lt;img alt="" src="https://keflavich.github.io/blog/images/sgrb2/array_imagecomparison.png" style="width: 600px;" /&gt;
&lt;p&gt;This discrepancy is also evident in the power spectra, where there appears to be missing flux
on 20-100 arcsecond scales.&lt;/p&gt;
&lt;img alt="" src="https://keflavich.github.io/blog/images/sgrb2/array_pspeccomparison.png" style="width: 600px;" /&gt;
&lt;p&gt;So maybe it's just that the 7m data are bad?&lt;/p&gt;
&lt;p&gt;I discussed the image combination process with Baobab, and he suggested that it
may not be the flux calibration of the images (their absolute scaling) but the
relative weights used to combine them.  The default weights, and pretty much
all variants I had experimented with, use the single-dish beam as the starting
point: you weight the interferometer data by (1-SDbeam) in the fourier domain.&lt;/p&gt;
&lt;p&gt;It turns out that, while this weighting scheme is the obvious thing to do
because the single-dish beam is well-characterized, it may not be the best.
The interferometer data may lose sensitivity on larger scales much faster than
(1-SDbeam) would suggest.&lt;/p&gt;
&lt;p&gt;Carrying the single-dish weight down to smaller angular scales does a better
job of ensuring there are no negatives, but is it really &amp;quot;right&amp;quot;?
Unfortunately, there's no good answer to this; the process is essentially the
same as modifying the Briggs parameter when weighting intereferometric clean
data.  You just have to choose a scale, or a weighting function, and go with
it.  As long as the weights are conservative (i.e., sum to 1), the resulting
image should in some sense be correct.&lt;/p&gt;
&lt;img alt="" src="https://keflavich.github.io/blog/images/sgrb2/combination_weighting_scales.png" style="width: 600px;" /&gt;
&lt;p&gt;In that figure, the weighting scheme for the large angular scale data was set
to a series of different Gaussians.  The resolution of the 7m+TP data is
(theoretically) 24x11 arcseconds, but preserving the large angular scales below
the major beam axis seems to do a better job of preserving the image's
positivity.&lt;/p&gt;
&lt;p&gt;The effect is more pronounced if we just combine the 12m+TP data, ignoring the
7m data (which might be wrong anyway).  For weighting FWHM above 30 arcseconds,
the interferometric data dominates the map.&lt;/p&gt;
&lt;img alt="" src="https://keflavich.github.io/blog/images/sgrb2/combination_weighting_scales_no7m.png" style="width: 600px;" /&gt;
</content><category term="misc"></category><category term="CASA"></category><category term="data"></category></entry><entry><title>Single Dish - Interferometer Combination Experiments</title><link href="https://keflavich.github.io/blog/single-dish-interferometer-combination-experiments.html" rel="alternate"></link><published>2016-06-01T11:17:00-06:00</published><updated>2016-06-01T11:17:00-06:00</updated><author><name>Adam Ginsburg (Adam.G.Ginsburg@gmail.com)</name></author><id>tag:keflavich.github.io,2016-06-01:/blog/single-dish-interferometer-combination-experiments.html</id><summary type="html">&lt;p&gt;I spent 3 days in Köln with Alvaro Sanchez-Mongé, Peter Schilke, Fanyi Meng,
and Anika Schmiedeke working on Sgr B2 data and specifically on trying to
combine the single dish (total power) data with my merged ACA+12m data from
ALMA program 2013.1.00269.S.&lt;/p&gt;
&lt;p&gt;tl;dr: feathering appears …&lt;/p&gt;</summary><content type="html">&lt;p&gt;I spent 3 days in Köln with Alvaro Sanchez-Mongé, Peter Schilke, Fanyi Meng,
and Anika Schmiedeke working on Sgr B2 data and specifically on trying to
combine the single dish (total power) data with my merged ACA+12m data from
ALMA program 2013.1.00269.S.&lt;/p&gt;
&lt;p&gt;tl;dr: feathering appears to work fine, and many other methods work equally
well (assuming they can be implemented, which is uniformly harder).  Negative
bowls persisting after feathering are an indication of a problem with the input
data.&lt;/p&gt;
&lt;div class="section" id="feathering"&gt;
&lt;h2&gt;Feathering&lt;/h2&gt;
&lt;p&gt;Fourier space combination of the single-dish and interferometric data is by
far the most straightforward to implement and the fastest.  However, in the HC3N
data, it left strong negative bowls, which should not be possible.&lt;/p&gt;
&lt;p&gt;On the Einstein image, the image quality from feathering was not great, but
there were no negative bowls left.  The dynamic range is lower in the Einstein
data, but this still hints that there is a problem with the HC3N images.  We're
investigating the possibility that the 7m data are improperly calibrated or
weighted.&lt;/p&gt;
&lt;/div&gt;
&lt;div class="section" id="miriad"&gt;
&lt;h2&gt;Miriad&lt;/h2&gt;
&lt;p&gt;We never managed to create UV data from the single dish data because of complaints about
the pointing information.&lt;/p&gt;
&lt;/div&gt;
&lt;div class="section" id="cleaning-with-a-single-dish-image-as-an-input-model"&gt;
&lt;h2&gt;Cleaning with a single dish image as an input model&lt;/h2&gt;
&lt;p&gt;We attempted to clean the data using the single dish image as an input model.&lt;/p&gt;
&lt;p&gt;On the real data, this failed with both tclean and clean.  With &lt;tt class="docutils literal"&gt;tclean&lt;/tt&gt;, there
was no error message, it just hung indefinitely.
With &lt;tt class="docutils literal"&gt;clean&lt;/tt&gt;, the error message is:&lt;/p&gt;
&lt;pre class="literal-block"&gt;
*** Error ***  LatticeExprNode - coordinates of operands mismatch
Scanned so far: modelos_0 + __temp_model2

2016-06-01 10:35:05     SEVERE  clean::::       An error occurred running task clean.
&lt;/pre&gt;
&lt;p&gt;Changing CDELT to 1 GHz, which solved a previous issue, had no effect here.&lt;/p&gt;
&lt;p&gt;It turns out &lt;tt class="docutils literal"&gt;tclean&lt;/tt&gt; will fail silently if it doesn't find the
&lt;tt class="docutils literal"&gt;startmodel&lt;/tt&gt;, which has to be specified as an image &lt;em&gt;prefix&lt;/em&gt; for version
&amp;lt;=4.6, and the image has to exist as a &lt;tt class="docutils literal"&gt;.model&lt;/tt&gt; file.  For higher versions, 4.6+,
the model can be directly referenced (as in clean).  Eventually, tclean seems to have
completed, though the results indicate that it does not treat the units as I expected;
the total power data seems to be over-weighted by a factor of 10^3+, probably by the ratio
of the beam areas:&lt;/p&gt;
&lt;img alt="" src="http://i.imgur.com/8dW7t8I.png" style="width: 600px;" /&gt;
&lt;p&gt;For the simulated images (einstein), we get the error:&lt;/p&gt;
&lt;pre class="literal-block"&gt;
2016-06-01 10:55:11 SEVERE  SynthesisImager::defineImage (file /Users/rpmbuild/gradle/workdir/casasources/release-4_5/code/synthesis/ImagerObjects/SynthesisImager.cc, line 668)    Error in adding Mapper : Error in createImStore : ::operator!= (const IPosition&amp;amp;, const IPosition&amp;amp;) - left and right operand do not conform
2016-06-01 10:55:11 SEVERE  tclean::task_tclean::   Exception from task_tclean : 2016-06-01 10:55:11        SEVERE  SynthesisImager::defineImage (file /Users/rpmbuild/gradle/workdir/casasources/release-4_5/code/synthesis/ImagerObjects/SynthesisImager.cc, line 668)    Error in adding Mapper : Error in createImStore : ::operator!= (const IPosition&amp;amp;, const IPosition&amp;amp;) - left and right operand do not conform
&lt;/pre&gt;
&lt;p&gt;This is probably an issue with regridding.  &lt;tt class="docutils literal"&gt;imregrid&lt;/tt&gt; doesn't like our data:&lt;/p&gt;
&lt;pre class="literal-block"&gt;
2016-06-01 11:00:41 SEVERE  imregrid::image::regrid Exception Reported: Exception: The number of pixel axes in the output shape and Coordinate System must be the same. Shape has size 4. Output coordinate system has 3 axes.
2016-06-01 11:00:41 SEVERE  imregrid::image::regrid+        ... thrown by SPIIF casa::ImageRegridder::_regrid() const at File: /Users/rpmbuild/gradle/workdir/casasources/release-4_5/code/imageanalysis/ImageAnalysis/ImageRegridder.cc, line: 138
&lt;/pre&gt;
&lt;p&gt;Adding a frequency axis to the FITS data (which was missing before...) seems to
have fixed this error for the Einstein data, but not for the real HC3N data.&lt;/p&gt;
&lt;!-- (this is now incorporated in an above paragraph) --&gt;
&lt;!-- tclean appears to use the wrong units for the input model, treating that model --&gt;
&lt;!-- very differently than ``clean`` does.  This error may be limited to CASA &lt;= --&gt;
&lt;!-- 4.5, since the tclean documentation regarding models changed substantially from --&gt;
&lt;!-- 4.5 to 4.6. --&gt;
&lt;/div&gt;
&lt;div class="section" id="linear-combination-in-image-space"&gt;
&lt;h2&gt;Linear Combination in Image Space&lt;/h2&gt;
&lt;p&gt;Linear combination of the single dish and interferometer data in image space,
followed by image-space deconvolution, has been used successfully on HI data.
In principle, this is very straightforward, except for the need for
deconvolution.  CASA now has an image-space deconvolution program
(&lt;tt class="docutils literal"&gt;deconvolve&lt;/tt&gt;), so I was able to implement this approach.  However, the
deconvolver seems to only work on the inner 1/4 of the image in each dimension,
which left incomplete images that were difficult to compare.  Additionally,
CASA does not (obviously) carry the appropriate machinery for computing the
residual image and adding the convolved model back to the residual image.
Still, this is a promising route forward as it is computationally relatively
cheap and mostly easy to implement.&lt;/p&gt;
&lt;p&gt;Linear combination is partly implemented now using the CASA &lt;tt class="docutils literal"&gt;deconvolve&lt;/tt&gt; task;
it hasn't been generalized but you can see the outline / single working case at
&lt;a class="reference external" href="https://github.com/radio-astro-tools/uvcombine/blob/master/uvcombine/realspace_combine.py"&gt;this link&lt;/a&gt;.&lt;/p&gt;
&lt;!-- this is how you include images --&gt;
&lt;!-- .. image:: |static|/images/psfFfftF.png --&gt;
&lt;!-- :width: 600px --&gt;
&lt;/div&gt;
</content><category term="misc"></category><category term="CASA"></category><category term="uv combination"></category></entry><entry><title>What does feather do?</title><link href="https://keflavich.github.io/blog/what-does-feather-do.html" rel="alternate"></link><published>2016-05-26T08:29:00-06:00</published><updated>2016-05-26T08:29:00-06:00</updated><author><name>Adam Ginsburg (Adam.G.Ginsburg@gmail.com)</name></author><id>tag:keflavich.github.io,2016-05-26:/blog/what-does-feather-do.html</id><summary type="html">&lt;p&gt;This is an examination of the 'feather' task in CASA.&lt;/p&gt;
&lt;p&gt;First we have to track down what code is actually called.&lt;/p&gt;
&lt;p&gt;On mac, this is:&lt;/p&gt;
&lt;blockquote&gt;
&lt;ul class="simple"&gt;
&lt;li&gt;/Applications/CASA.app/Contents/Resources/python/feather_cli.py -&amp;gt; feather_cli&lt;/li&gt;
&lt;li&gt;/Applications/CASA.app/Contents/Resources/python/task_feather.py -&amp;gt; feather&lt;/li&gt;
&lt;li&gt;/Applications/CASA.app/Contents …&lt;/li&gt;&lt;/ul&gt;&lt;/blockquote&gt;</summary><content type="html">&lt;p&gt;This is an examination of the 'feather' task in CASA.&lt;/p&gt;
&lt;p&gt;First we have to track down what code is actually called.&lt;/p&gt;
&lt;p&gt;On mac, this is:&lt;/p&gt;
&lt;blockquote&gt;
&lt;ul class="simple"&gt;
&lt;li&gt;/Applications/CASA.app/Contents/Resources/python/feather_cli.py -&amp;gt; feather_cli&lt;/li&gt;
&lt;li&gt;/Applications/CASA.app/Contents/Resources/python/task_feather.py -&amp;gt; feather&lt;/li&gt;
&lt;li&gt;/Applications/CASA.app/Contents/Resources/python/taskinit.py -&amp;gt; imtool-&amp;gt;imager-&amp;gt;casac.imager-&amp;gt;/Applications/CASA.app/Contents/Resources/python/feather_cli.py&lt;/li&gt;
&lt;li&gt;&lt;a class="reference external" href="https://github.com/radio-astro/casa/blob/160955adf4de4ee561cfc691904317953e08d7d6/code/synthesis/MeasurementEquations/Imager.cc#L2257"&gt;Imager.cc&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/blockquote&gt;
&lt;p&gt;Within the imager, &lt;cite&gt;setvp&lt;/cite&gt; is used to do something with the primary beam.  As
far as I can tell, this function spews a lot of text into the logger, sets
local variables, sets one larger-scope variable &lt;cite&gt;BeamSquint::&lt;/cite&gt;, then does
&lt;cite&gt;destroySkyEquation();&lt;/cite&gt;.  In short, I don't know what this does.  Probably my
reading of the C code is incorrect and these variables are &lt;em&gt;not&lt;/em&gt; local, in
which case it is just setting a bunch of default beam parameters.&lt;/p&gt;
&lt;p&gt;Then, &lt;cite&gt;Imager.cc&lt;/cite&gt; calls &lt;a class="reference external" href="https://github.com/radio-astro/casa/blob/160955adf4de4ee561cfc691904317953e08d7d6/code/synthesis/MeasurementEquations/Feather.cc#L1211"&gt;Feather.cc&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;Feather sets parameters based on the effective dish diameter.  It uses
&lt;a class="reference external" href="https://github.com/radio-astro/casa/blob/160955adf4de4ee561cfc691904317953e08d7d6/code/synthesis/MeasurementEquations/Feather.cc#L244"&gt;1.22*(speed of light)/frequency/dish_diameter&lt;/a&gt;,
so it is retrieving the FWHM
assuming a Gaussian beam by default.&lt;/p&gt;
&lt;p&gt;A lovely aside: &lt;cite&gt;Imager.cc&lt;/cite&gt; passes the local variable &lt;a class="reference external" href="https://github.com/radio-astro/casa/blob/160955adf4de4ee561cfc691904317953e08d7d6/code/synthesis/MeasurementEquations/Imager.cc#L2320"&gt;lowPassFilterSD&lt;/a&gt;
to &lt;cite&gt;Feather.cc&lt;/cite&gt;, which is read in to the input boolean parameter
&lt;a class="reference external" href="https://github.com/radio-astro/casa/blob/160955adf4de4ee561cfc691904317953e08d7d6/code/synthesis/MeasurementEquations/Feather.cc#L244"&gt;doHiPassFilterOnSD&lt;/a&gt;.
That seems like a potential place for confusion.&lt;/p&gt;
&lt;p&gt;If &lt;cite&gt;doHiPassFilterOnSD&lt;/cite&gt; is set &lt;em&gt;or&lt;/em&gt; the effective beam diameter is set as a
parameter, the single dish image is deconvolved with its beam using the
GaussianDeconvolver.  This is actually disabled by default, though.&lt;/p&gt;
&lt;p&gt;The low resolution image is &lt;a class="reference external" href="https://github.com/radio-astro/casa/blob/160955adf4de4ee561cfc691904317953e08d7d6/code/synthesis/MeasurementEquations/Feather.cc#L142"&gt;regridded&lt;/a&gt;
to match the high resolution image.&lt;/p&gt;
&lt;p&gt;The &lt;a class="reference external" href="https://github.com/radio-astro/casa/blob/160955adf4de4ee561cfc691904317953e08d7d6/code/synthesis/MeasurementEquations/Feather.cc#L375"&gt;applyFeather&lt;/a&gt;
command seems to do the actual work.
It starts with &lt;a class="reference external" href="https://github.com/radio-astro/casa/blob/160955adf4de4ee561cfc691904317953e08d7d6/code/synthesis/MeasurementEquations/Feather.cc#L414"&gt;calcCWeightImage&lt;/a&gt;,
which sets the &amp;quot;weight&amp;quot; to one minus the peak-normalized fourier transform of
the low-resolution (single-dish) beam
&lt;a class="reference external" href="https://github.com/radio-astro/casa/blob/160955adf4de4ee561cfc691904317953e08d7d6/code/synthesis/MeasurementEquations/Feather.cc#L427"&gt;Feather.cc line 427&lt;/a&gt;,
with the result stored in the variable &lt;cite&gt;cwImage_p&lt;/cite&gt;.
&lt;a class="reference external" href="https://github.com/radio-astro/casa/blob/160955adf4de4ee561cfc691904317953e08d7d6/code/synthesis/MeasurementEquations/Feather.cc#L408"&gt;applyFeather&lt;/a&gt; then just
multiplies the high-resolution image by this weight.&lt;/p&gt;
&lt;p&gt;Back in the &lt;a class="reference external" href="https://github.com/radio-astro/casa/blob/160955adf4de4ee561cfc691904317953e08d7d6/code/synthesis/MeasurementEquations/Feather.cc#L695"&gt;saveFeatheredImage&lt;/a&gt;
task, the single-dish data are fourier transformed, then a scaling factor, the ratio
between the low and high beam areas, is computed.  Finally, the single-dish
(scaled) and interferometer &lt;a class="reference external" href="https://github.com/radio-astro/casa/blob/160955adf4de4ee561cfc691904317953e08d7d6/code/synthesis/MeasurementEquations/Feather.cc#L694"&gt;fourier-transformed&lt;/a&gt; images are &lt;a class="reference external" href="https://github.com/radio-astro/casa/blob/160955adf4de4ee561cfc691904317953e08d7d6/code/synthesis/MeasurementEquations/Feather.cc#L703"&gt;added&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;Is the single-dish image weighted by the beam at all?  The single-dish image will
be convolved with a kernel only if &lt;a class="reference external" href="https://github.com/radio-astro/casa/blob/160955adf4de4ee561cfc691904317953e08d7d6/code/synthesis/MeasurementEquations/Feather.cc#L1235"&gt;doHighPassFilterOnSD&lt;/a&gt; is set
or if the effective dish diameter is set.  If the beam is the same size as the original
beam, nothing will happen.
In &lt;a class="reference external" href="https://github.com/radio-astro/casa/blob/160955adf4de4ee561cfc691904317953e08d7d6/code/synthesis/MeasurementEquations/Feather.cc#L256"&gt;setEffectiveDishDiam&lt;/a&gt;
the low-resolution image is convolved with the &lt;a class="reference external" href="https://github.com/radio-astro/casa/blob/160955adf4de4ee561cfc691904317953e08d7d6/code/components/ComponentModels/GaussianDeconvolver.cc#L34"&gt;*deconvolved*&lt;/a&gt;
beam.&lt;/p&gt;
&lt;p&gt;The most important note in this post is that the single-dish image is &lt;em&gt;not&lt;/em&gt;
weighted unless &lt;cite&gt;doHighPassFilterOnSD&lt;/cite&gt; is set, and even then nothing will be
done if the single-dish beam size passed as a parameter is the same as the beam
size specified in the header.  That means only the interferometer image is
weighted.  Maybe that is the correct behavior?  By weighting by (1-convolved
beam), which means setting the total flux in the interferometer image to zero,
the process is guaranteed to be flux conserving.&lt;/p&gt;
&lt;!-- this is how you include images --&gt;
&lt;!-- .. image:: |static|/images/psfFfftF.png --&gt;
&lt;!-- :width: 600px --&gt;
</content><category term="misc"></category><category term="casa"></category></entry><entry><title>CASA coordinate defaults</title><link href="https://keflavich.github.io/blog/casa-coordinate-defaults.html" rel="alternate"></link><published>2016-05-19T09:31:00-06:00</published><updated>2016-05-19T09:31:00-06:00</updated><author><name>Adam Ginsburg (Adam.G.Ginsburg@gmail.com)</name></author><id>tag:keflavich.github.io,2016-05-19:/blog/casa-coordinate-defaults.html</id><summary type="html">&lt;p&gt;A brief public service announcement: CASA coordinate strings follow a
convention of their own making that I at least find thoroughly
counterintuitive.  If you specify a sexagesimal coordinate, e.g. 05:12:15.3
-5:10:20.5 or something similar, CASA interprets that as 5 hours, -5 hours.
The …&lt;/p&gt;</summary><content type="html">&lt;p&gt;A brief public service announcement: CASA coordinate strings follow a
convention of their own making that I at least find thoroughly
counterintuitive.  If you specify a sexagesimal coordinate, e.g. 05:12:15.3
-5:10:20.5 or something similar, CASA interprets that as 5 hours, -5 hours.
The declination is interpreted as being in hours.  Those are units no one has
ever used.  The CASA version requires the second half of the sexagesimal string
to be decimal separated:&lt;/p&gt;
&lt;pre class="literal-block"&gt;
2016-05-19 00:45:13     WARN    SynthesisParams::stringToMDirection (file /var/rpmbuild/BUILD/casa-prerelease/casa-prerelease-4.6.0/code/synthesis/ImagerObjects/SynthesisUtilMethods.cc, line 786)     You provided the Declination/Latitude value &amp;quot;-28:23:29.22&amp;quot; which is understood to be in units of hours.
2016-05-19 00:45:13     WARN    SynthesisParams::stringToMDirection (file /var/rpmbuild/BUILD/casa-prerelease/casa-prerelease-4.6.0/code/synthesis/ImagerObjects/SynthesisUtilMethods.cc, line 786)+    If you meant degrees, please replace &amp;quot;:&amp;quot; by &amp;quot;.&amp;quot;.
&lt;/pre&gt;
&lt;p&gt;This has broken my scripts more than a handful of times now, since copying &amp;amp;
pasting coordinates from any other program inevitably has the &amp;quot;wrong&amp;quot;
units.&lt;/p&gt;
</content><category term="misc"></category><category term="CASA"></category></entry><entry><title>CASA tclean adds negative components</title><link href="https://keflavich.github.io/blog/casa-tclean-adds-negative-components.html" rel="alternate"></link><published>2016-05-01T10:21:00-06:00</published><updated>2016-05-01T10:21:00-06:00</updated><author><name>Adam Ginsburg (Adam.G.Ginsburg@gmail.com)</name></author><id>tag:keflavich.github.io,2016-05-01:/blog/casa-tclean-adds-negative-components.html</id><summary type="html">&lt;p&gt;I'm trying to examine some of my 7m+12m combined data and have run into yet another
mysterious behavior of CASA.  &lt;tt class="docutils literal"&gt;tclean&lt;/tt&gt; is adding negative components in regions with
exclusively positive emission.&lt;/p&gt;
&lt;p&gt;In this image, the &lt;em&gt;left&lt;/em&gt; is the clean image, which doesn't make any sense; it
looks like it …&lt;/p&gt;</summary><content type="html">&lt;p&gt;I'm trying to examine some of my 7m+12m combined data and have run into yet another
mysterious behavior of CASA.  &lt;tt class="docutils literal"&gt;tclean&lt;/tt&gt; is adding negative components in regions with
exclusively positive emission.&lt;/p&gt;
&lt;p&gt;In this image, the &lt;em&gt;left&lt;/em&gt; is the clean image, which doesn't make any sense; it
looks like it should be a residual image but it is not.  2nd image is the clean
components (negative!!), 3rd is the residual, 4th is the dirty map.&lt;/p&gt;
&lt;img alt="" src="https://keflavich.github.io/blog/images/casa/bad_cleancomps.png" style="width: 600px;" /&gt;
&lt;p&gt;One tricky thing for this particular image is that the emission is real, BUT it
is also directly on top of a major sidelobe of the brightest source in the
region.  Nonetheless, I cannot imagine any way to explain the negative
component.  I don't really understand when a negative component is added, but
presumably it ought to happen when the residual has a negative value but also
the highest amplitude in the map; this obviously never happens here since the
residual in fact has one of the highest &lt;em&gt;positive&lt;/em&gt; amplitudes in the map.&lt;/p&gt;
&lt;p&gt;The imaging parameters seem not to affect this problem. I attempted reducing the
gain to 0.05 to no avail.  Changing from natural to robust weighting actually
removed most of the negative components.&lt;/p&gt;
&lt;div class="section" id="failed-combination-of-7m-and-12m-data"&gt;
&lt;h2&gt;Failed combination of 7m and 12m data&lt;/h2&gt;
&lt;p&gt;The above was a tangent.  The real reason I was working on this data set was to
combine the 7m and 12m spectral data.  The problem I keep seeing is very large,
smooth blobs that are spatially distinct from the more compact emission.  It's
as if someone took the two independent cubes (12m and 7m) and just added them
together; it looks like flux is not being conserved.&lt;/p&gt;
&lt;p&gt;The UV plots, especially weight vs uvdist, look fine.  The 7m antenna are
downweighted relative to the 7m antennae by a factor ~2.&lt;/p&gt;
&lt;p&gt;One of the bigger problems is that I have a vague - possibly not justified -
sense that there is a velocity offset of ~1 km/s between the 7m and 12m data.
If this is the case, there's no wonder the combination isn't working.
However, it's nearly inconceivable.&lt;/p&gt;
&lt;/div&gt;
&lt;div class="section" id="followup-feb-2017"&gt;
&lt;h2&gt;Followup Feb 2017&lt;/h2&gt;
&lt;p&gt;That vague fear turned out to be entirely justified.  It turned out that the 7m
and 12m array data sets were not in a common frame, and they were therefore
offset by something like the Earth's change in velocity between the observation
dates.  The solution was to cvel the data sets to the LSRK frame prior to
concatenating them.  While I know I made these changes, I unfortunately can't
find the specific commit where I made them.&lt;/p&gt;
&lt;/div&gt;
</content><category term="misc"></category><category term="casa"></category><category term="tclean"></category></entry><entry><title>CASA simulated imaging: now FTMachine is whining</title><link href="https://keflavich.github.io/blog/casa-simulated-imaging-now-ftmachine-is-whining.html" rel="alternate"></link><published>2016-04-26T15:12:00-06:00</published><updated>2016-04-26T15:12:00-06:00</updated><author><name>Adam Ginsburg (Adam.G.Ginsburg@gmail.com)</name></author><id>tag:keflavich.github.io,2016-04-26:/blog/casa-simulated-imaging-now-ftmachine-is-whining.html</id><summary type="html">&lt;p&gt;&lt;a class="reference external" href="https://keflavich.github.io/blog/casa_simulation_debugging.rst"&gt;A few days ago&lt;/a&gt;
I apparently got my broken simulator working again.  Today, in my first
attempt to repeat those results, I... have broken it again.:&lt;/p&gt;
&lt;pre class="literal-block"&gt;
WARN        FTMachine::initMaps     No overlap in frequency between image channels and selected data found for this FTMachine
WARN        FTMachine::initMaps+     Check your data selection …&lt;/pre&gt;</summary><content type="html">&lt;p&gt;&lt;a class="reference external" href="https://keflavich.github.io/blog/casa_simulation_debugging.rst"&gt;A few days ago&lt;/a&gt;
I apparently got my broken simulator working again.  Today, in my first
attempt to repeat those results, I... have broken it again.:&lt;/p&gt;
&lt;pre class="literal-block"&gt;
WARN        FTMachine::initMaps     No overlap in frequency between image channels and selected data found for this FTMachine
WARN        FTMachine::initMaps+     Check your data selection and image parameters if you end up with a blank image
&lt;/pre&gt;
&lt;p&gt;This warning is not a simple warning, it means nothing is being done.  My
images are empty, pure noise (which, interestingly enough, is far from
gaussian).&lt;/p&gt;
&lt;p&gt;I have encountered these errors &lt;cite&gt;before
&amp;lt;|static|/separating_line_and_continuum.rst&amp;gt;&lt;/cite&gt;, but unfortunately did not
resolve the issue.&lt;/p&gt;
&lt;p&gt;Turns out, the difference was the .ms file I used,
&lt;tt class="docutils literal"&gt;continuum_7m12m_noflag.ms&lt;/tt&gt;, which works, vs the useful one,
&lt;tt class="docutils literal"&gt;w51_contvis_selfcal_3.ms&lt;/tt&gt;, which doesn't.&lt;/p&gt;
&lt;p&gt;Checking out their headers, the continuum image does overlap with the
data but the selfcal version doesn't.  Wonderful.  Now I'll bet it's only
populating one channel at a time when I invert too...&lt;/p&gt;
&lt;p&gt;This leads me to try:&lt;/p&gt;
&lt;pre class="literal-block"&gt;
split(vis='w51_contvis_selfcal_3.ms', outputvis='simulation_continuum.ms', datacolumn='data', width=100)
&lt;/pre&gt;
&lt;p&gt;then use (borrowed from &lt;a class="reference external" href="https://github.com/radio-astro-tools/sandbox/blob/master/casa_7m12m_tools/weight_density_uv_plot.py"&gt;this tool&lt;/a&gt;):&lt;/p&gt;
&lt;pre class="literal-block"&gt;
mymsmd = msmdtool()
mymsmd.open(vis)

reffreq = &amp;quot;{value}{unit}&amp;quot;.format(**mymsmd.reffreq(spw)['m0'])
&lt;/pre&gt;
&lt;p&gt;to get the frequency to write into the header each time.&lt;/p&gt;
&lt;p&gt;At a glance, just changing the frequency of the FITS file to match the first
SPW seems to work.  However, I haven't yet examined whether the other SPWs
are populated.&lt;/p&gt;
&lt;p&gt;This assumption proved wrong.  No, it simply doesn't work.  The warnings went away,
but the output images are empty.  Also, the noise went up, which I don't understand.&lt;/p&gt;
&lt;p&gt;Imaging just spw1 kind of worked, but resulted in an image with the wrong
resolution by factors of many.&lt;/p&gt;
&lt;p&gt;Trying to loop over all spws failed miserably, resulting in &lt;em&gt;nothing&lt;/em&gt; being done by
predict and &lt;em&gt;no warning&lt;/em&gt; being given.&lt;/p&gt;
&lt;p&gt;OK, finally, solution is to make sure CDELT is large enough to cover &lt;em&gt;all&lt;/em&gt; SPWs.&lt;/p&gt;
&lt;p&gt;Another important note: Jy/beam and Jy/pixel inputs into CASA result in identical images.
In both cases, they are wrong images: they correspond to multiplying the input data by
factors of at least 100.  Therefore, my conclusion now is that I have to divide everything
by some fact, which I &lt;em&gt;sincerely&lt;/em&gt; hope is ppbeam, to correct the data.&lt;/p&gt;
&lt;p&gt;It looked vaguely like the divide-by-ppbeam trick worked, but my tests kept coming up funny
because the &lt;em&gt;original&lt;/em&gt; images were scaled down.  So I tried unscaling them.  Somehow,
without changing anything about the headers, I landed on another failed predict error:&lt;/p&gt;
&lt;pre class="literal-block"&gt;
2016-04-27 19:14:42 SEVERE  Simulator::createSkyEquation() (file /Users/rpmbuild/gradle/workdir/casasources/release-4_5/code/synthesis/MeasurementEquations/Simulator.cc, line 2200)        Caught exception: (/Users/rpmbuild/gradle/workdir/casasources/release-4_5/code/synthesis/MeasurementEquations/Simulator.cc : 2266) Failed AlwaysAssert spectralIndex&amp;gt;=0
2016-04-27 19:14:42 SEVERE  Simulator::predict() (file /Users/rpmbuild/gradle/workdir/casasources/release-4_5/code/synthesis/MeasurementEquations/Simulator.cc, line 2118)  Failed to create SkyEquation
&lt;/pre&gt;
&lt;p&gt;Spectral Index?  I encountered this &lt;a class="reference external" href="|static|/casa_simulating.rst"&gt;previously&lt;/a&gt;, but didn't record any solution.
After checking the header, it appears that my files are &lt;em&gt;now&lt;/em&gt; missing axes 3 and 4.
I didn't make any changes that should cause this; the axes are just not being added
on importfits despite being forcibly added in the command.&lt;/p&gt;
&lt;p&gt;The problem is unfortunately not in the FITS part, but again in the CASA part.
Re-importing the FITS file to .image without forcing &lt;tt class="docutils literal"&gt;defaultaxes&lt;/tt&gt; again just
broke it.&lt;/p&gt;
</content><category term="misc"></category><category term="casa"></category><category term="clean"></category><category term="simulation"></category></entry><entry><title>More CASA simulation &amp; debugging</title><link href="https://keflavich.github.io/blog/more-casa-simulation-debugging.html" rel="alternate"></link><published>2016-04-24T22:57:00-06:00</published><updated>2016-04-24T22:57:00-06:00</updated><author><name>Adam Ginsburg (Adam.G.Ginsburg@gmail.com)</name></author><id>tag:keflavich.github.io,2016-04-24:/blog/more-casa-simulation-debugging.html</id><summary type="html">&lt;p&gt;(this post written from snowy-ish ALMA; &lt;a class="reference external" href="https://goo.gl/photos/z3fUkCT6VVRzt8EW6"&gt;just cloudy at the OSF though&lt;/a&gt;)&lt;/p&gt;
&lt;p&gt;(tl; dr version: &lt;tt class="docutils literal"&gt;sm.setvp&lt;/tt&gt; doesn't work if you have &lt;tt class="docutils literal"&gt;&lt;span class="pre"&gt;TELESCOP=&amp;quot;ALMA&amp;quot;&lt;/span&gt;&lt;/tt&gt; in
your header)&lt;/p&gt;
&lt;p&gt;I'm trying to repeat an experiment very similar to
&lt;a class="reference external" href="|static|/casa_simulating.rst"&gt;previous&lt;/a&gt;
&lt;a class="reference external" href="|static|/simulated_imaging.rst"&gt;simulation work&lt;/a&gt;
in order to quantify my completeness and largest angular scales
by …&lt;/p&gt;</summary><content type="html">&lt;p&gt;(this post written from snowy-ish ALMA; &lt;a class="reference external" href="https://goo.gl/photos/z3fUkCT6VVRzt8EW6"&gt;just cloudy at the OSF though&lt;/a&gt;)&lt;/p&gt;
&lt;p&gt;(tl; dr version: &lt;tt class="docutils literal"&gt;sm.setvp&lt;/tt&gt; doesn't work if you have &lt;tt class="docutils literal"&gt;&lt;span class="pre"&gt;TELESCOP=&amp;quot;ALMA&amp;quot;&lt;/span&gt;&lt;/tt&gt; in
your header)&lt;/p&gt;
&lt;p&gt;I'm trying to repeat an experiment very similar to
&lt;a class="reference external" href="|static|/casa_simulating.rst"&gt;previous&lt;/a&gt;
&lt;a class="reference external" href="|static|/simulated_imaging.rst"&gt;simulation work&lt;/a&gt;
in order to quantify my completeness and largest angular scales
by injecting synthetic signal into the real UV data.&lt;/p&gt;
&lt;p&gt;However, as you might expect, it doesn't work as it did last time, even
when I (afaict) copy and paste the code directly.&lt;/p&gt;
&lt;p&gt;Here's the new error:&lt;/p&gt;
&lt;pre class="literal-block"&gt;
2016-04-25 02:57:21 SEVERE  Simulator::createSkyEquation() (file /Users/rpmbuild/gradle/workdir/casasources/release-4_5/code/synthesis/MeasurementEquations/Simulator.cc, line 2200)        Caught exception: Transformations to/from frame &amp;quot;Undefined&amp;quot; are not possible.
2016-04-25 02:57:21 SEVERE  Simulator::predict() (file /Users/rpmbuild/gradle/workdir/casasources/release-4_5/code/synthesis/MeasurementEquations/Simulator.cc, line 2118)  Failed to create SkyEquation
Result of predict: False
&lt;/pre&gt;
&lt;p&gt;It's strange because there is nothing obviously undefined.&lt;/p&gt;
&lt;p&gt;I'm comparing 2 FITS files that should behave identically.
The good header lacks these keywords that the bad header has:&lt;/p&gt;
&lt;pre class="literal-block"&gt;
['PV2_1',
 'PV2_2',
 'OBSERVER',
 'DATE-OBS',
 'OBSRA',
 'OBSDEC',
 'OBSGEO-X',
 'OBSGEO-Y',
 'OBSGEO-Z']
&lt;/pre&gt;
&lt;p&gt;while the good header has these and the bad lacks them:&lt;/p&gt;
&lt;pre class="literal-block"&gt;
['PC03_01',
 'PC04_01',
 'PC03_02',
 'PC04_02',
 'PC01_03',
 'PC02_03',
 'PC03_03',
 'PC04_03',
 'PC01_04',
 'PC02_04',
 'PC03_04',
 'PC04_04',
 'CREATOR',
 'INSTRUME',
 'BAND',
 'PROPOSAL',
 'PRTITLE',
 'OBSID001',
 'OBSID002',
 'HISTORY']
&lt;/pre&gt;
&lt;p&gt;The only significant difference is the &lt;tt class="docutils literal"&gt;PC&lt;/tt&gt; values, unless CASA
is doing something with the observatory location information.&lt;/p&gt;
&lt;p&gt;The only difference in common keywords is numerical, which seems
very unlikely to cause this issue.&lt;/p&gt;
&lt;p&gt;I cannot discern any useful difference between these two CASA .image headers:&lt;/p&gt;
&lt;pre class="literal-block"&gt;
2016-04-25 03:08:55 INFO imhead     ##########################################
2016-04-25 03:08:55 INFO imhead     ##### Begin Task: imhead             #####
2016-04-25 03:08:55 INFO imhead     imhead(imagename=&amp;quot;../perseus_synth/perseus_250_to_w51.image&amp;quot;,mode=&amp;quot;summary&amp;quot;,hdkey=&amp;quot;&amp;quot;,hdvalue=&amp;quot;&amp;quot;,verbose=True)
2016-04-25 03:08:55 INFO ImageAnalysis
2016-04-25 03:08:55 INFO ImageAnalysis      Image name       : perseus_250_to_w51.image
2016-04-25 03:08:55 INFO ImageAnalysis      Object name      : perseus 04
2016-04-25 03:08:55 INFO ImageAnalysis      Image type       : PagedImage
2016-04-25 03:08:55 INFO ImageAnalysis      Image quantity   : Intensity
2016-04-25 03:08:55 INFO ImageAnalysis      Pixel mask(s)    : mask0
2016-04-25 03:08:55 INFO ImageAnalysis      Region(s)        : None
2016-04-25 03:08:55 INFO ImageAnalysis      Image units      : Jy/pixel
2016-04-25 03:08:55 INFO ImageAnalysis      Restoring Beam   : 0.465804 arcsec, 0.465804 arcsec, 0 deg
2016-04-25 03:08:55 INFO ImageAnalysis
2016-04-25 03:08:55 INFO ImageAnalysis      Direction reference : J2000
2016-04-25 03:08:55 INFO ImageAnalysis      Spectral  reference : Undefined
2016-04-25 03:08:55 INFO ImageAnalysis      Velocity  type      : RADIO
2016-04-25 03:08:55 INFO ImageAnalysis      Rest frequency      : 2.33947e+11 Hz
2016-04-25 03:08:55 INFO ImageAnalysis      Telescope           : Herschel
2016-04-25 03:08:55 INFO ImageAnalysis      Observer            : UNKNOWN
2016-04-25 03:08:55 INFO ImageAnalysis      Date observation    : UNKNOWN
2016-04-25 03:08:55 INFO ImageAnalysis
2016-04-25 03:08:55 INFO ImageAnalysis      Axis Coord Type      Name             Proj Shape Tile   Coord value at pixel    Coord incr Units
2016-04-25 03:08:55 INFO ImageAnalysis      ------------------------------------------------------------------------------------------------
2016-04-25 03:08:55 INFO ImageAnalysis      0    0     Direction Right Ascension   TAN  2370  158  19:23:41.765  1099.00 -1.552680e-01 arcsec
2016-04-25 03:08:55 INFO ImageAnalysis      1    0     Direction Declination       TAN  2500  250 +14.30.45.850  1552.00  1.552680e-01 arcsec
2016-04-25 03:08:55 INFO ImageAnalysis      2    2     Spectral  Frequency                 1    1   2.33947e+11     0.00  1.000000e+09 Hz
2016-04-25 03:08:55 INFO ImageAnalysis                           Velocity                                     0     0.00 -1.281456e+03 km/s
2016-04-25 03:08:55 INFO ImageAnalysis      3    1     Stokes    Stokes                    1    1             I
2016-04-25 03:08:55 INFO imhead     ##### End Task: imhead               #####
2016-04-25 03:08:55 INFO imhead     ##########################################
2016-04-25 03:09:07 INFO imhead
2016-04-25 03:09:07 INFO imhead     ##########################################
2016-04-25 03:09:07 INFO imhead     ##### Begin Task: imhead             #####
2016-04-25 03:09:07 INFO imhead     imhead(imagename=&amp;quot;../simulations/simimage_firsttest.image&amp;quot;,mode=&amp;quot;summary&amp;quot;,hdkey=&amp;quot;&amp;quot;,hdvalue=&amp;quot;&amp;quot;,verbose=False)
2016-04-25 03:09:07 INFO ImageAnalysis
2016-04-25 03:09:07 INFO ImageAnalysis      Image name       : simimage_firsttest.image
2016-04-25 03:09:07 INFO ImageAnalysis      Object name      :
2016-04-25 03:09:07 INFO ImageAnalysis      Image type       : PagedImage
2016-04-25 03:09:07 INFO ImageAnalysis      Image quantity   : Intensity
2016-04-25 03:09:07 INFO ImageAnalysis      Pixel mask(s)    : None
2016-04-25 03:09:07 INFO ImageAnalysis      Region(s)        : None
2016-04-25 03:09:07 INFO ImageAnalysis      Image units      : Jy/beam
2016-04-25 03:09:07 INFO ImageAnalysis      Restoring Beam   : 0.21023 arcsec, 0.192666 arcsec, 79.8538 deg
2016-04-25 03:09:07 INFO ImageAnalysis
2016-04-25 03:09:07 INFO ImageAnalysis      Direction reference : J2000
2016-04-25 03:09:07 INFO ImageAnalysis      Spectral  reference : Undefined
2016-04-25 03:09:07 INFO ImageAnalysis      Velocity  type      : RADIO
2016-04-25 03:09:07 INFO ImageAnalysis      Rest frequency      : 2.33947e+11 Hz
2016-04-25 03:09:07 INFO ImageAnalysis      Pointing center     :  19:23:41.629000  +14.30.42.380000
2016-04-25 03:09:07 INFO ImageAnalysis      Telescope           : ALMA
2016-04-25 03:09:07 INFO ImageAnalysis      Observer            : keflavich
2016-04-25 03:09:07 INFO ImageAnalysis      Date observation    : 2015/04/23/09:47:44
2016-04-25 03:09:07 INFO ImageAnalysis      Telescope position: [2.22514e+06m, -5.44031e+06m, -2.48103e+06m] (ITRF)
2016-04-25 03:09:07 INFO ImageAnalysis
2016-04-25 03:09:07 INFO ImageAnalysis      Axis Coord Type      Name             Proj Shape Tile   Coord value at pixel    Coord incr Units
2016-04-25 03:09:07 INFO ImageAnalysis      ------------------------------------------------------------------------------------------------
2016-04-25 03:09:07 INFO ImageAnalysis      0    0     Direction Right Ascension   TAN  3072  192  19:23:41.629  1536.00 -5.000000e-02 arcsec
2016-04-25 03:09:07 INFO ImageAnalysis      1    0     Direction Declination       TAN  3072  192 +14.30.42.380  1536.00  5.000000e-02 arcsec
2016-04-25 03:09:07 INFO ImageAnalysis      2    1     Stokes    Stokes                    1    1             I
2016-04-25 03:09:07 INFO ImageAnalysis      3    2     Spectral  Frequency                 1    1   2.33947e+11     0.00  1.000000e+09 Hz
2016-04-25 03:09:07 INFO ImageAnalysis                           Velocity                                     0     0.00 -1.281456e+03 km/s
2016-04-25 03:09:07 INFO imhead     ##### End Task: imhead               #####
2016-04-25 03:09:07 INFO imhead     ##########################################
&lt;/pre&gt;
&lt;p&gt;if anything, the ALMA file includes &lt;em&gt;extra&lt;/em&gt; data. Removing this data has no
effect.&lt;/p&gt;
&lt;p&gt;The only really substantial difference left is the order of the axes, which
is &lt;em&gt;not what I put in&lt;/em&gt; for the ALMA data: it puts Stokes as 2 instead of 3
despite the fact that &lt;tt class="docutils literal"&gt;&lt;span class="pre"&gt;CTYPE4='STOKES'&lt;/span&gt;&lt;/tt&gt; and &lt;tt class="docutils literal"&gt;&lt;span class="pre"&gt;CTYPE3='FREQ'&lt;/span&gt;&lt;/tt&gt;.&lt;/p&gt;
&lt;p&gt;By doing a round trip FITS-&amp;gt;image-&amp;gt;FITS-&amp;gt;image, I was able to fix the order,
but that is not the underlying problem, apparently.&lt;/p&gt;
&lt;p&gt;Could the missing pixel mask be at fault?  It doesn't jive at all with the
error message, so I doubt it.  &lt;tt class="docutils literal"&gt;OBSDATE&lt;/tt&gt; is not the problem.&lt;/p&gt;
&lt;p&gt;Turns out, the error is that ALMA is the telescope.  I added the header entry:&lt;/p&gt;
&lt;pre class="literal-block"&gt;
ffile[0].header['TELESCOP'] = 'NotReal'
&lt;/pre&gt;
&lt;p&gt;and it Just Worked.  It is approaching the end of my shift, so I think it is
now acceptable to say &amp;quot;what kind of !#$&amp;#64;#$!&amp;#64;% up #&amp;#64;$$&amp;#64;% is that?!&amp;quot;.&lt;/p&gt;
</content><category term="misc"></category><category term="CASA"></category><category term="ALMA"></category><category term="simulation"></category><category term="debuggin"></category></entry><entry><title>Which one is real?</title><link href="https://keflavich.github.io/blog/which-one-is-real.html" rel="alternate"></link><published>2016-03-12T10:25:00-07:00</published><updated>2016-03-12T10:25:00-07:00</updated><author><name>Adam Ginsburg (Adam.G.Ginsburg@gmail.com)</name></author><id>tag:keflavich.github.io,2016-03-12:/blog/which-one-is-real.html</id><summary type="html">&lt;p&gt;I've &amp;quot;successfully&amp;quot; combined 7m and 12m data, and I've also &amp;quot;successfully&amp;quot;
processed 12m data.  In both cases, I've self-calibrated the long-baseline 12m
data.&lt;/p&gt;
&lt;p&gt;The question now is: why are these images so different?  There are features
in the 12m-only data that are a factor of ~2 brighter than in the …&lt;/p&gt;</summary><content type="html">&lt;p&gt;I've &amp;quot;successfully&amp;quot; combined 7m and 12m data, and I've also &amp;quot;successfully&amp;quot;
processed 12m data.  In both cases, I've self-calibrated the long-baseline 12m
data.&lt;/p&gt;
&lt;p&gt;The question now is: why are these images so different?  There are features
in the 12m-only data that are a factor of ~2 brighter than in the 12m+7m data.
That should not happen.&lt;/p&gt;
&lt;p&gt;This image shows the problem.  7m+12m left, 12m-only right:&lt;/p&gt;
&lt;img alt="" src="https://keflavich.github.io/blog/images/w51/7m12m_vs_12m.png" style="width: 600px;" /&gt;
&lt;p&gt;Note the sharp features on the left and the small tail (filament) toward the
top right that appear in the 12m but not in the 7m+12m data.&lt;/p&gt;
&lt;p&gt;Which features are real?  How do we decide?&lt;/p&gt;
&lt;p&gt;I really want to believe the 12m-only data, but I am very worried that it is
artificially enhanced by sidelobes from the e8 filament:&lt;/p&gt;
&lt;img alt="" src="https://keflavich.github.io/blog/images/w51/7m12m_vs_12m_zoomout.png" style="width: 600px;" /&gt;
&lt;p&gt;There is a ~20-sigma feature between e8 and e2 along the e8 filament axis,
but it is completely absent in the 7m+12m data.  That leads me to believe
that it is not real, but at such high significance that is very worrisome.
I'm also concerned by the loss of the compact source at the bottom of the e8
filament and to the left: these seem unlikely to be affected by the filament.&lt;/p&gt;
</content><category term="misc"></category><category term="CASA"></category><category term="clean"></category></entry><entry><title>CLEAN has extreme sensitivity to the threshold</title><link href="https://keflavich.github.io/blog/clean-has-extreme-sensitivity-to-the-threshold.html" rel="alternate"></link><published>2016-03-10T10:12:00-07:00</published><updated>2016-03-10T10:12:00-07:00</updated><author><name>Adam Ginsburg (Adam.G.Ginsburg@gmail.com)</name></author><id>tag:keflavich.github.io,2016-03-10:/blog/clean-has-extreme-sensitivity-to-the-threshold.html</id><summary type="html">&lt;p&gt;CLEAN diverges sometimes.  The point at which divergence begins is very
difficult to identify and unfortunately it looks like the images get mostly
better as you slowly approach the toxic threshold:&lt;/p&gt;
&lt;img alt="" src="https://keflavich.github.io/blog/images/w51/tclean_threshold_sensitivity.png" style="width: 600px;" /&gt;
&lt;p&gt;The precise clean command used, with only threshold changing, is:&lt;/p&gt;
&lt;pre class="literal-block"&gt;
2016-03-10 07:49:28     INFO    tclean::::      tclean(vis=&amp;quot;w51 …&lt;/pre&gt;</summary><content type="html">&lt;p&gt;CLEAN diverges sometimes.  The point at which divergence begins is very
difficult to identify and unfortunately it looks like the images get mostly
better as you slowly approach the toxic threshold:&lt;/p&gt;
&lt;img alt="" src="https://keflavich.github.io/blog/images/w51/tclean_threshold_sensitivity.png" style="width: 600px;" /&gt;
&lt;p&gt;The precise clean command used, with only threshold changing, is:&lt;/p&gt;
&lt;pre class="literal-block"&gt;
2016-03-10 07:49:28     INFO    tclean::::      tclean(vis=&amp;quot;w51_contvis_selfcal_4.ms&amp;quot;,selectdata=True,field=&amp;quot;&amp;quot;,spw=&amp;quot;&amp;quot;,timerange=&amp;quot;&amp;quot;,
2016-03-10 07:49:28     INFO    tclean::::+             uvrange=&amp;quot;&amp;quot;,antenna=&amp;quot;&amp;quot;,scan=&amp;quot;&amp;quot;,observation=&amp;quot;&amp;quot;,intent=&amp;quot;&amp;quot;,
2016-03-10 07:49:28     INFO    tclean::::+             datacolumn=&amp;quot;corrected&amp;quot;,imagename=&amp;quot;selfcal_allspw_selfcal_4ampphase_mfs_tclean_deeper_4mJy&amp;quot;,imsize=[3072, 3072],cell=&amp;quot;0.05arcsec&amp;quot;,phasecenter=&amp;quot;J2000 19:23:41.629000 +14.30.42.38000&amp;quot;,
2016-03-10 07:49:28     INFO    tclean::::+             stokes=&amp;quot;I&amp;quot;,projection=&amp;quot;SIN&amp;quot;,startmodel=&amp;quot;&amp;quot;,specmode=&amp;quot;mfs&amp;quot;,reffreq=&amp;quot;&amp;quot;,
2016-03-10 07:49:28     INFO    tclean::::+             nchan=-1,start=&amp;quot;&amp;quot;,width=&amp;quot;&amp;quot;,outframe=&amp;quot;LSRK&amp;quot;,veltype=&amp;quot;radio&amp;quot;,
2016-03-10 07:49:28     INFO    tclean::::+             restfreq=[],interpolation=&amp;quot;linear&amp;quot;,gridder=&amp;quot;mosaic&amp;quot;,facets=1,wprojplanes=1,
2016-03-10 07:49:28     INFO    tclean::::+             aterm=True,psterm=False,wbawp=True,conjbeams=True,cfcache=&amp;quot;&amp;quot;,
2016-03-10 07:49:28     INFO    tclean::::+             computepastep=360.0,rotatepastep=360.0,pblimit=0.4,normtype=&amp;quot;flatnoise&amp;quot;,deconvolver=&amp;quot;clark&amp;quot;,
2016-03-10 07:49:28     INFO    tclean::::+             scales=[],nterms=2,restoringbeam=[],outlierfile=&amp;quot;&amp;quot;,weighting=&amp;quot;briggs&amp;quot;,
2016-03-10 07:49:28     INFO    tclean::::+             robust=-2.0,npixels=0,uvtaper=[],niter=100000,gain=0.1,
2016-03-10 07:49:28     INFO    tclean::::+             threshold=&amp;quot;4mJy&amp;quot;,cycleniter=-1,cyclefactor=1.0,minpsffraction=0.05,maxpsffraction=0.8,
2016-03-10 07:49:28     INFO    tclean::::+             interactive=False,mask=&amp;quot;&amp;quot;,overwrite=True,savemodel=&amp;quot;modelcolumn&amp;quot;,calcres=True,
2016-03-10 07:49:28     INFO    tclean::::+             calcpsf=True,parallel=False)
&lt;/pre&gt;
&lt;p&gt;It looks like CLEAN needs a different type of threshold to finish on, perhaps
something requiring each subsequent component to be some value less than the
previous component.  If each component is forced to be less than the previous
one, the clean can never diverge, though clean would stop unexpectedly if
subtracting a component increased the amplitude of some other part of the map
(i.e., if the next brightest source is sitting in a negative bowl).  Still,
this might be a rarer occurrence than the divergence that I see all the time,
which may be related to gridding (given the sharp grid pattern seen in panel 4
of the linked image).&lt;/p&gt;
</content><category term="misc"></category><category term="CASA"></category><category term="clean"></category></entry><entry><title>Simulated Observations of Perseus in W51</title><link href="https://keflavich.github.io/blog/simulated-observations-of-perseus-in-w51.html" rel="alternate"></link><published>2016-02-27T10:40:00-07:00</published><updated>2016-02-27T10:40:00-07:00</updated><author><name>Adam Ginsburg (Adam.G.Ginsburg@gmail.com)</name></author><id>tag:keflavich.github.io,2016-02-27:/blog/simulated-observations-of-perseus-in-w51.html</id><summary type="html">&lt;p&gt;The W51 and Sgr B2 ALMA mosaics contain ~50 and ~150 pointlike sources,
respectively.  However, they have pretty miserable high-noise regions
such that determining completeness is a serious challenge.&lt;/p&gt;
&lt;p&gt;To determine completeness in a means comparable to other observations,
I have therefore been using the Gould's Belt Survey Perseus data …&lt;/p&gt;</summary><content type="html">&lt;p&gt;The W51 and Sgr B2 ALMA mosaics contain ~50 and ~150 pointlike sources,
respectively.  However, they have pretty miserable high-noise regions
such that determining completeness is a serious challenge.&lt;/p&gt;
&lt;p&gt;To determine completeness in a means comparable to other observations,
I have therefore been using the Gould's Belt Survey Perseus data
as an input to do synthetic observations.&lt;/p&gt;
&lt;p&gt;It turns out this is technically challenging because CASA does some
&lt;a class="reference external" href="|static|/casa_simulating.rst"&gt;strange things&lt;/a&gt; when importing files.&lt;/p&gt;
&lt;p&gt;I finally got a &lt;a class="reference external" href="https://github.com/keflavich/W51_ALMA_2013.1.00308.S/commit/b046ff5c82992ef44a1dbaac303fcc6497511142"&gt;version&lt;/a&gt;
working.&lt;/p&gt;
&lt;p&gt;Important details when reading in a FITS file:&lt;/p&gt;
&lt;blockquote&gt;
&lt;ul&gt;
&lt;li&gt;&lt;p class="first"&gt;The header &lt;em&gt;must&lt;/em&gt; be fully populated with a 4-dimensional WCS.  If stokes or
frequency are missing, CASA will choke with uninformative errors such as:&lt;/p&gt;
&lt;p&gt;2016-02-26 11:25:24  SEVERE  Simulator::createSkyEquation() (file /Users/rpmbuild/gradle/workdir/casasources/release-4_5/code/synthesis/MeasurementEquations/Simulator.cc, line 2200)        Caught exception: (/Users/rpmbuild/gradle/workdir/casasources/release-4_5/code/synthesis/MeasurementEquations/Simulator.cc : 2266) Failed AlwaysAssert spectralIndex&amp;gt;=0
2016-02-26 11:25:24  SEVERE  Simulator::predict() (file /Users/rpmbuild/gradle/workdir/casasources/release-4_5/code/synthesis/MeasurementEquations/Simulator.cc, line 2118)  Failed to create SkyEquation&lt;/p&gt;
&lt;p&gt;and&lt;/p&gt;
&lt;p&gt;2016-02-26 11:27:36  SEVERE  Simulator::predict() (file /Users/rpmbuild/gradle/workdir/casasources/release-4_5/code/synthesis/MeasurementEquations/Simulator.cc, line 2118)  Caught exception: (/Users/rpmbuild/gradle/workdir/casasources/release-4_5/casacore/coordinates/Coordinates/CoordinateSystem.cc : 793) Failed AlwaysAssert which &amp;lt; nCoordinates() &amp;amp;&amp;amp; coordinates_p[which]-&amp;gt;type() == Coordinate::STOKES&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p class="first"&gt;Flux units should be in Jy/beam.  Other flux units &lt;em&gt;may&lt;/em&gt; be acceptable (e.g.,
MJy/sr, Jy/pixel), but their behavior is not entirely predictable.  I did not
get out the expected values when I used MJy/sr as input, but I did not pursue
further why this happened.  Using Jy/beam, and ensuring that the units were correctly
set to Jy/beam in the file (by scaling them in the FITS image before importing),
I got the expected results.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p class="first"&gt;CASA apparently does not read beam information from headers.  You need to include the
beam information when doing importfits, e.g.:&lt;/p&gt;
&lt;blockquote&gt;
&lt;dl class="docutils"&gt;
&lt;dt&gt;beam=[&amp;quot;{0}deg&amp;quot;.format(hdr['BMAJ']),&lt;/dt&gt;
&lt;dd&gt;&lt;p class="first last"&gt;&amp;quot;{0}deg&amp;quot;.format(hdr['BMIN']),
&amp;quot;{0}deg&amp;quot;.format(hdr['BPA'])]&lt;/p&gt;
&lt;/dd&gt;
&lt;/dl&gt;
&lt;/blockquote&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p class="first"&gt;CASA will happily read a FITS file into a &lt;tt class="docutils literal"&gt;.image&lt;/tt&gt; that cannot be used by
other casa routines.  You will not get an exception until you try a later
step.&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/blockquote&gt;
&lt;p&gt;Once the FITS image is read into a CASA &lt;tt class="docutils literal"&gt;.image&lt;/tt&gt;, &lt;em&gt;if&lt;/em&gt; it has the CASA-expected
units and dimensions, you can use &lt;tt class="docutils literal"&gt;sm.predict&lt;/tt&gt; to fourier transform the data
and sample it onto the UV grid in your &lt;tt class="docutils literal"&gt;.ms&lt;/tt&gt; file:&lt;/p&gt;
&lt;pre class="literal-block"&gt;
sm.openfromms(&amp;quot;file.ms&amp;quot;)
sm.setvp() # &amp;quot;set voltage pattern&amp;quot;: not clear if this is needed
success = sm.predict(&amp;quot;myfile.image&amp;quot;)
sm.done()
sm.close()
&lt;/pre&gt;
&lt;p&gt;This (seems to) populate the &lt;em&gt;data&lt;/em&gt; column, not the model column as I had
originally expected.  Therefore, be warned!  DO NOT DO THIS TO YOUR ORIGINAL
DATA!  It will probably overwrite it.&lt;/p&gt;
&lt;p&gt;Once your &lt;tt class="docutils literal"&gt;.ms&lt;/tt&gt; file is populated, you can clean it as normal.  Some
examples:&lt;/p&gt;
&lt;img alt="" src="https://keflavich.github.io/blog/images/casa/perseus_in_w51_imaging.png" style="width: 600px;" /&gt;
</content><category term="misc"></category><category term="CASA"></category><category term="ALMA"></category></entry><entry><title>CASA Simulation</title><link href="https://keflavich.github.io/blog/casa-simulation.html" rel="alternate"></link><published>2016-02-25T10:27:00-07:00</published><updated>2016-02-25T10:27:00-07:00</updated><author><name>Adam Ginsburg (Adam.G.Ginsburg@gmail.com)</name></author><id>tag:keflavich.github.io,2016-02-25:/blog/casa-simulation.html</id><summary type="html">&lt;p&gt;More frustration with CASA:&lt;/p&gt;
&lt;blockquote&gt;
&lt;ul&gt;
&lt;li&gt;&lt;p class="first"&gt;If you try to load a FITS image into a CASA .image, beware that it is likely
to have incorrect units.  Round-tripping between .image and .fits doesn't
work well, because CASA always assumes that CDELT is in radians even when it
is explicitly set to be …&lt;/p&gt;&lt;/li&gt;&lt;/ul&gt;&lt;/blockquote&gt;</summary><content type="html">&lt;p&gt;More frustration with CASA:&lt;/p&gt;
&lt;blockquote&gt;
&lt;ul&gt;
&lt;li&gt;&lt;p class="first"&gt;If you try to load a FITS image into a CASA .image, beware that it is likely
to have incorrect units.  Round-tripping between .image and .fits doesn't
work well, because CASA always assumes that CDELT is in radians even when it
is explicitly set to be degrees.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p class="first"&gt;EDIT: OK, this isn't true in all cases, but if you use &lt;tt class="docutils literal"&gt;imhead&lt;/tt&gt; to &lt;tt class="docutils literal"&gt;put&lt;/tt&gt;
a keyword value, it will assume radians by default.  That can be overcome by explicitly setting the units:&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;imhead(perseus_casa_image, mode='put', hdkey='CDELT1', hdvalue={'value':hdr['CDELT1'], 'unit':'deg'})&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;I was able to produce this awkward behavior &lt;em&gt;without&lt;/em&gt; imhead as well, though
I cannot repeat that now.&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/blockquote&gt;
&lt;p&gt;The simulator gives this error message if I try to load an image:&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;sm.setvp()
sm.predict(perseus_casa_image)&lt;/p&gt;
&lt;p&gt;2016-02-25 09:26:34 SEVERE  Simulator::predict() (file /Users/rpmbuild/gradle/workdir/casasources/release-4_5/code/synthesis/MeasurementEquations/Simulator.cc, line 2118)  Caught exception: TiledShape: #elements in shape and tileShape differ&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;My best guess is that CASA doesn't understand how to handle 2D images with 3D
headers.  However, the sensible workaround of expanding the image to 3D does
not work.&lt;/p&gt;
&lt;p&gt;Re-importing after exporting gets yet another different image.  After
re-importing an image that was exported to FITS, I get a new error:&lt;/p&gt;
&lt;blockquote&gt;
Failed AlwaysAssert spectralIndex&amp;gt;=0 2016-02-25 09:37:35&lt;/blockquote&gt;
&lt;p&gt;which is rather strange since the spectral index is a physical quantity.&lt;/p&gt;
&lt;p&gt;There is also the lovely message:&lt;/p&gt;
&lt;blockquote&gt;
2016-02-25 09:55:27 INFO importfits No usable restoring beam information found.&lt;/blockquote&gt;
&lt;p&gt;for a header that contains these lines:&lt;/p&gt;
&lt;blockquote&gt;
BMAJ    =   1.293900184840E-04
BMIN    =   1.293900184840E-04
BPA     =   0.000000000000E+00&lt;/blockquote&gt;
&lt;p&gt;The image might finally be right, but now I can't find any way to convert it to
a model.  If I try to &lt;tt class="docutils literal"&gt;ft&lt;/tt&gt; the model, I get:&lt;/p&gt;
&lt;blockquote&gt;
2016-02-25 10:54:54 SEVERE  ft::imager::ft() (file /Users/rpmbuild/gradle/workdir/casasources/release-4_5/code/synthesis/MeasurementEquations/Imager.cc, line 4488) Exception: (/Users/rpmbuild/gradle/workdir/casasources/release-4_5/casacore/coordinates/Coordinates/CoordinateSystem.cc : 777) Failed AlwaysAssert which &amp;lt; nCoordinates() &amp;amp;&amp;amp; coordinates_p[which]-&amp;gt;type() == Coordinate::SPECTRAL&lt;/blockquote&gt;
&lt;p&gt;which probably means that CASA doesn't know how to turn a single-band continuum
image into a model for a multi-frequency .ms (which is all .ms's, including
continuum, in the ALMA world).&lt;/p&gt;
</content><category term="misc"></category><category term="CASA"></category><category term="ALMA"></category></entry><entry><title>Retrieving and Selecting Data in CASA</title><link href="https://keflavich.github.io/blog/retrieving-and-selecting-data-in-casa.html" rel="alternate"></link><published>2016-02-24T13:44:00-07:00</published><updated>2016-02-24T13:44:00-07:00</updated><author><name>Adam Ginsburg (Adam.G.Ginsburg@gmail.com)</name></author><id>tag:keflavich.github.io,2016-02-24:/blog/retrieving-and-selecting-data-in-casa.html</id><summary type="html">&lt;p&gt;I learned a few important things at the 7m+12m workshop in Garching:&lt;/p&gt;
&lt;ol class="arabic"&gt;
&lt;li&gt;&lt;p class="first"&gt;&lt;tt class="docutils literal"&gt;clean&lt;/tt&gt; treats input models in Jy/beam and Jy/pixel qualitatively (not
just quantitatively) differently.  Jy/pixel images are taken to be model
images exactly, where Jy/beam are... somehow interpreted differently, maybe
as clean component assemblies …&lt;/p&gt;&lt;/li&gt;&lt;/ol&gt;</summary><content type="html">&lt;p&gt;I learned a few important things at the 7m+12m workshop in Garching:&lt;/p&gt;
&lt;ol class="arabic"&gt;
&lt;li&gt;&lt;p class="first"&gt;&lt;tt class="docutils literal"&gt;clean&lt;/tt&gt; treats input models in Jy/beam and Jy/pixel qualitatively (not
just quantitatively) differently.  Jy/pixel images are taken to be model
images exactly, where Jy/beam are... somehow interpreted differently, maybe
as clean component assemblies.  I don't know the details, but this is a
major caution.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p class="first"&gt;The &lt;tt class="docutils literal"&gt;tbtool&lt;/tt&gt; is not very good for extracting data for plotting.  The flags
are not guaranteed to be in a sane shape, which will lead to crashes if you
try &lt;tt class="docutils literal"&gt;&lt;span class="pre"&gt;tb.getcolumn('FLAG')&lt;/span&gt;&lt;/tt&gt;.  &lt;tt class="docutils literal"&gt;ms.msselect&lt;/tt&gt;, however, allows you access
to most of the normal selection routines used in &lt;tt class="docutils literal"&gt;clean&lt;/tt&gt;, &lt;tt class="docutils literal"&gt;split&lt;/tt&gt;, etc.
It is tricky, though, because &lt;tt class="docutils literal"&gt;ms.select&lt;/tt&gt; does &lt;em&gt;not&lt;/em&gt; allow you access to
the same selection.  Also, while &lt;tt class="docutils literal"&gt;spw&lt;/tt&gt;-based selection normally allows you
to select channels, in &lt;tt class="docutils literal"&gt;ms.msselect&lt;/tt&gt; it does not: instead you must use
&lt;tt class="docutils literal"&gt;ms.selectchannel&lt;/tt&gt;.  See &lt;a class="reference external" href="https://github.com/radio-astro-tools/sandbox/blob/master/casa_7m12m_tools/weight_density_uv_plot.py"&gt;this example&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;Details about the selection are at this URL, but the documentation is
incomplete and, in places, incorrect:&lt;/p&gt;
&lt;p&gt;&lt;a class="reference external" href="http://www.aoc.nrao.edu/~sbhatnag/misc/msselection/FrequencySelection.html"&gt;http://www.aoc.nrao.edu/~sbhatnag/misc/msselection/FrequencySelection.html&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;(for example, &lt;tt class="docutils literal"&gt;chanspec&lt;/tt&gt; is not valid in &lt;tt class="docutils literal"&gt;msselect&lt;/tt&gt;, or at least
it doesn't do anything)&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
</content><category term="misc"></category><category term="CASA"></category><category term="ALMA"></category></entry><entry><title>A tclean vs clean comparison</title><link href="https://keflavich.github.io/blog/a-tclean-vs-clean-comparison.html" rel="alternate"></link><published>2016-02-22T11:23:00-07:00</published><updated>2016-02-22T11:23:00-07:00</updated><author><name>Adam Ginsburg (Adam.G.Ginsburg@gmail.com)</name></author><id>tag:keflavich.github.io,2016-02-22:/blog/a-tclean-vs-clean-comparison.html</id><summary type="html">&lt;p&gt;Comparing tclean to clean with the following parameters:&lt;/p&gt;
&lt;pre class="literal-block"&gt;
clean(vis=vis0, imagename=myimagebase, field=&amp;quot;&amp;quot;, spw='',
      mode='mfs', outframe='LSRK', interpolation='linear',
      imagermode='mosaic', multiscale=multiscale, interactive=False,
      niter=1000, threshold='100mJy', imsize=imsize, minpb=0.5, cell=cell,
      phasecenter=phasecenter, weighting='briggs', usescratch=True,
      pbcor=True, robust=-2.0)

tclean …&lt;/pre&gt;</summary><content type="html">&lt;p&gt;Comparing tclean to clean with the following parameters:&lt;/p&gt;
&lt;pre class="literal-block"&gt;
clean(vis=vis0, imagename=myimagebase, field=&amp;quot;&amp;quot;, spw='',
      mode='mfs', outframe='LSRK', interpolation='linear',
      imagermode='mosaic', multiscale=multiscale, interactive=False,
      niter=1000, threshold='100mJy', imsize=imsize, minpb=0.5, cell=cell,
      phasecenter=phasecenter, weighting='briggs', usescratch=True,
      pbcor=True, robust=-2.0)

tclean(vis=vis0, imagename=myimagebase, field=&amp;quot;&amp;quot;, spw='',
       outframe='LSRK', interpolation='linear', gridder='mosaic',
       scales=multiscale, interactive=False, niter=1000,
       threshold='100mJy', imsize=imsize, mask='auto-pb', specmode='mfs',
       cell=cell, phasecenter=phasecenter, weighting='briggs', robust=-2.0)
&lt;/pre&gt;
&lt;p&gt;Note the very bad cleaning instability creeping in in the clean image:&lt;/p&gt;
&lt;img alt="" src="https://keflavich.github.io/blog/images/tclean_vs_clean_7m12m.png" style="width: 600px;" /&gt;
</content><category term="misc"></category><category term="CASA"></category><category term="ALMA"></category></entry><entry><title>CASA Selfcal: Good &amp; Awful</title><link href="https://keflavich.github.io/blog/casa-selfcal-good-awful.html" rel="alternate"></link><published>2016-01-28T09:20:00-07:00</published><updated>2016-01-28T09:20:00-07:00</updated><author><name>Adam Ginsburg (Adam.G.Ginsburg@gmail.com)</name></author><id>tag:keflavich.github.io,2016-01-28:/blog/casa-selfcal-good-awful.html</id><summary type="html">&lt;p&gt;Self-calibration is necessary for some images to get a decent dynamic range or
to see anything at all in the images.  So, I did some tests using self-cal on
the central field of Sgr B2 (&lt;a class="reference external" href="https://github.com/keflavich/SgrB2_ALMA_3mm_Mosaic/blob/master/script_12m_te/selfcal_centralfield.py"&gt;source&lt;/a&gt;)
and it worked great:&lt;/p&gt;
&lt;img alt="" src="https://keflavich.github.io/blog/images/casa/sgrb2_selfcal_good.png" style="width: 600px;" /&gt;
&lt;p&gt;That image is actually from &lt;a class="reference external" href="https://github.com/keflavich/SgrB2_ALMA_3mm_Mosaic/blob/master/script_12m_te/selfcal_continuum.py"&gt;self-calibrating the whole field&lt;/a&gt;,
which …&lt;/p&gt;</summary><content type="html">&lt;p&gt;Self-calibration is necessary for some images to get a decent dynamic range or
to see anything at all in the images.  So, I did some tests using self-cal on
the central field of Sgr B2 (&lt;a class="reference external" href="https://github.com/keflavich/SgrB2_ALMA_3mm_Mosaic/blob/master/script_12m_te/selfcal_centralfield.py"&gt;source&lt;/a&gt;)
and it worked great:&lt;/p&gt;
&lt;img alt="" src="https://keflavich.github.io/blog/images/casa/sgrb2_selfcal_good.png" style="width: 600px;" /&gt;
&lt;p&gt;That image is actually from &lt;a class="reference external" href="https://github.com/keflavich/SgrB2_ALMA_3mm_Mosaic/blob/master/script_12m_te/selfcal_continuum.py"&gt;self-calibrating the whole field&lt;/a&gt;,
which also worked great.  Except, it deleted all the flux outside of the bright regions:&lt;/p&gt;
&lt;img alt="" src="https://keflavich.github.io/blog/images/casa/sgrb2_selfcal_bad.png" style="width: 600px;" /&gt;
&lt;p&gt;This is awful.  It is just deleting flux!  I had previously thought that the
&lt;tt class="docutils literal"&gt;applyonly&lt;/tt&gt; option would only apply solutions that it actually found, but
that appears not to bt true.  Instead, it seems that even phase solutions with
&lt;em&gt;no&lt;/em&gt; signal are being applied, which effectively removes everything from the
image.  I could have understood if this was happening to amplitude
self-calibration, but I can't understand how it is happening with phase
self-cal.&lt;/p&gt;
</content><category term="misc"></category><category term="clean"></category><category term="selfcal"></category></entry><entry><title>CASA imaging of huge cube</title><link href="https://keflavich.github.io/blog/casa-imaging-of-huge-cube.html" rel="alternate"></link><published>2016-01-25T10:09:00-07:00</published><updated>2016-01-25T10:09:00-07:00</updated><author><name>Adam Ginsburg (Adam.G.Ginsburg@gmail.com)</name></author><id>tag:keflavich.github.io,2016-01-25:/blog/casa-imaging-of-huge-cube.html</id><summary type="html">&lt;p&gt;Imaging full cubes, i.e. every channel and every pixel, from ALMA data proved
too much for the first few machines I tried it on, so I then tried splitting
the cubes into chunks (&lt;a class="reference external" href="https://github.com/keflavich/W51_ALMA_2013.1.00308.S/blob/master/script_12m/scriptForImaging_fullcube.py"&gt;source&lt;/a&gt;).&lt;/p&gt;
&lt;p&gt;For the most part, this works well, but there are some serious problems:&lt;/p&gt;
&lt;img alt="" src="https://keflavich.github.io/blog/images/casa/spectrum_with_badchunk.png" style="width: 600px;" /&gt;
&lt;p&gt;Note the …&lt;/p&gt;</summary><content type="html">&lt;p&gt;Imaging full cubes, i.e. every channel and every pixel, from ALMA data proved
too much for the first few machines I tried it on, so I then tried splitting
the cubes into chunks (&lt;a class="reference external" href="https://github.com/keflavich/W51_ALMA_2013.1.00308.S/blob/master/script_12m/scriptForImaging_fullcube.py"&gt;source&lt;/a&gt;).&lt;/p&gt;
&lt;p&gt;For the most part, this works well, but there are some serious problems:&lt;/p&gt;
&lt;img alt="" src="https://keflavich.github.io/blog/images/casa/spectrum_with_badchunk.png" style="width: 600px;" /&gt;
&lt;p&gt;Note the range from 233.8-234 GHz.  It has a continuum level way above the
rest.  This is utter nonsense, and turns out to be due to some imaging error.
The first image below shows a &amp;quot;good&amp;quot; chunk of the cube, the second image shows
a &amp;quot;bad&amp;quot; chunk.&lt;/p&gt;
&lt;img alt="" src="https://keflavich.github.io/blog/images/casa/w51_cube_chunk_compare_good.png" style="width: 600px;" /&gt;
&lt;img alt="" src="https://keflavich.github.io/blog/images/casa/w51_cube_chunk_compare_bad.png" style="width: 600px;" /&gt;
&lt;p&gt;It is clear that the second image was restore using a too-large beam, and this is verified by examining the header:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="n"&gt;In&lt;/span&gt; &lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="mi"&gt;8&lt;/span&gt;&lt;span class="p"&gt;]:&lt;/span&gt; &lt;span class="n"&gt;badcube&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;beam&lt;/span&gt;
&lt;span class="n"&gt;Out&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="mi"&gt;8&lt;/span&gt;&lt;span class="p"&gt;]:&lt;/span&gt; &lt;span class="n"&gt;Beam&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="n"&gt;BMAJ&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="mf"&gt;1.15963029861&lt;/span&gt; &lt;span class="n"&gt;arcsec&lt;/span&gt; &lt;span class="n"&gt;BMIN&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="mf"&gt;0.96223282814&lt;/span&gt; &lt;span class="n"&gt;arcsec&lt;/span&gt; &lt;span class="n"&gt;BPA&lt;/span&gt;&lt;span class="o"&gt;=-&lt;/span&gt;&lt;span class="mf"&gt;71.0310058594&lt;/span&gt; &lt;span class="n"&gt;deg&lt;/span&gt;

&lt;span class="n"&gt;In&lt;/span&gt; &lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="mi"&gt;9&lt;/span&gt;&lt;span class="p"&gt;]:&lt;/span&gt; &lt;span class="n"&gt;goodcube&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;beam&lt;/span&gt;
&lt;span class="n"&gt;Out&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="mi"&gt;9&lt;/span&gt;&lt;span class="p"&gt;]:&lt;/span&gt; &lt;span class="n"&gt;Beam&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="n"&gt;BMAJ&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="mf"&gt;0.408393889665&lt;/span&gt; &lt;span class="n"&gt;arcsec&lt;/span&gt; &lt;span class="n"&gt;BMIN&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="mf"&gt;0.229679107666&lt;/span&gt; &lt;span class="n"&gt;arcsec&lt;/span&gt; &lt;span class="n"&gt;BPA&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="mf"&gt;45.966835022&lt;/span&gt; &lt;span class="n"&gt;deg&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;I don't yet know what is causing this error.  When I try re-doing the clean
with &lt;tt class="docutils literal"&gt;tclean&lt;/tt&gt;, I get the following message, which is a hint:&lt;/p&gt;
&lt;pre class="literal-block"&gt;
2016-01-25 09:13:04     WARN    task_tclean::SIImageStore::getPSFGaussian (file
/var/rpmbuild/BUILD/casa-prerelease/casa-prerelease-4.5.0/code/synthesis/ImagerObjects/SIImageStore.cc,
line 1262)      PSF is blank for[C139:P0] [C140:P0] [C141:P0] [C142:P0]
[C143:P0] [C144:P0] [C145:P0] [C146:P0] [C147:P0] [C148:P0] [C149:P0] [C150:P0]
[C151:P0] [C152:P0] [C153:P0] [C154:P0] [C155:P0] [C156:P0] [C157:P0] [C158:P0]
[C159:P0] [C160:P0] [C161:P0] [C162:P0] [C163:P0] [C164:P0] [C165:P0] [C166:P0]
[C167:P0] [C168:P0] [C169:P0] [C170:P0] [C171:P0] [C172:P0] [C173:P0] [C174:P0]
[C175:P0] [C176:P0] [C177:P0] [C178:P0] [C179:P0] [C180:P0] [C181:P0] [C182:P0]
[C183:P0] [C184:P0] [C185:P0] [C186:P0]
&lt;/pre&gt;
&lt;p&gt;Apparently tclean solves this problem!  Instead of using a single beam for all
channels, it creates a CASAMBM table in the FITS output and uses different
beams at each channel.  There must be genuinely bad data (probably an
atmospheric absorption line) at the specified frequencies.  At least now, that
will come up more naturally, rather than spiking the data.&lt;/p&gt;
</content><category term="misc"></category><category term="CASA"></category><category term="imaging"></category><category term="cubes"></category></entry><entry><title>Comparing tclean parameters</title><link href="https://keflavich.github.io/blog/comparing-tclean-parameters.html" rel="alternate"></link><published>2016-01-14T09:57:00-07:00</published><updated>2016-01-14T09:57:00-07:00</updated><author><name>Adam Ginsburg (Adam.G.Ginsburg@gmail.com)</name></author><id>tag:keflavich.github.io,2016-01-14:/blog/comparing-tclean-parameters.html</id><summary type="html">&lt;p&gt;Comparing clean methods with identical data &amp;amp; parameters (as far as possible):
&lt;a class="reference external" href="https://github.com/keflavich/W51_ALMA_2013.1.00308.S/blob/master/script_merge/clean_method_comparison.py"&gt;code&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;An example using natural weighting:&lt;/p&gt;
&lt;img alt="" src="https://keflavich.github.io/blog/images/casa/tclean_compare.png" style="width: 600px;" /&gt;
&lt;p&gt;None of the methods are acceptable.  Multiscale is the worst, but hogbom is
extremely bad: there are major ringing artifacts (stripes parallel to the main
filament).&lt;/p&gt;
&lt;p&gt;Disturbingly, even though I have given multiple …&lt;/p&gt;</summary><content type="html">&lt;p&gt;Comparing clean methods with identical data &amp;amp; parameters (as far as possible):
&lt;a class="reference external" href="https://github.com/keflavich/W51_ALMA_2013.1.00308.S/blob/master/script_merge/clean_method_comparison.py"&gt;code&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;An example using natural weighting:&lt;/p&gt;
&lt;img alt="" src="https://keflavich.github.io/blog/images/casa/tclean_compare.png" style="width: 600px;" /&gt;
&lt;p&gt;None of the methods are acceptable.  Multiscale is the worst, but hogbom is
extremely bad: there are major ringing artifacts (stripes parallel to the main
filament).&lt;/p&gt;
&lt;p&gt;Disturbingly, even though I have given multiple scales, there are clearly no
non-pointlike scales in any of the model images, including mem, so I think
there's a major problem with tclean:&lt;/p&gt;
&lt;img alt="" src="https://keflavich.github.io/blog/images/casa/tclean_compare_models.png" style="width: 600px;" /&gt;
&lt;p&gt;I'm re-doing it with uniform weighting, because that's the case I was actually
interested in.&lt;/p&gt;
&lt;img alt="" src="https://keflavich.github.io/blog/images/casa/tclean_compare_uniform.png" style="width: 600px;" /&gt;
&lt;p&gt;The uniform tests come up with a clear and obvious answer: use clark clean, DO
NOT use any other methods as they are all unstable.&lt;/p&gt;
</content><category term="misc"></category><category term="casa"></category><category term="clean"></category><category term="tclean"></category></entry><entry><title>Self-cal with EVLA data</title><link href="https://keflavich.github.io/blog/self-cal-with-evla-data.html" rel="alternate"></link><published>2016-01-07T08:14:00-07:00</published><updated>2016-01-07T08:14:00-07:00</updated><author><name>Adam Ginsburg (Adam.G.Ginsburg@gmail.com)</name></author><id>tag:keflavich.github.io,2016-01-07:/blog/self-cal-with-evla-data.html</id><summary type="html">&lt;p&gt;I'm trying to self-calibrate my A+C array C-band data on W51, since we're in a
clearly dynamic-range-limited regime.  I've never had any luck with self-cal,
though.  The images &lt;em&gt;always&lt;/em&gt; get worse, and I still don't really understand
why.&lt;/p&gt;
&lt;p&gt;This is a clue, though:&lt;/p&gt;
&lt;img alt="" src="https://keflavich.github.io/blog/images/w51/selfcal_phasecal_vs_time.png" style="width: 600px;" /&gt;
&lt;p&gt;For many of the antennae, especially …&lt;/p&gt;</summary><content type="html">&lt;p&gt;I'm trying to self-calibrate my A+C array C-band data on W51, since we're in a
clearly dynamic-range-limited regime.  I've never had any luck with self-cal,
though.  The images &lt;em&gt;always&lt;/em&gt; get worse, and I still don't really understand
why.&lt;/p&gt;
&lt;p&gt;This is a clue, though:&lt;/p&gt;
&lt;img alt="" src="https://keflavich.github.io/blog/images/w51/selfcal_phasecal_vs_time.png" style="width: 600px;" /&gt;
&lt;p&gt;For many of the antennae, especially those in C array, self-calibration results
in phase plots that look nice, with corrections confined to +/-30 degrees as
you would hope and expect.&lt;/p&gt;
&lt;p&gt;These plots show that some antennae are going through dozens or hundreds of
phase wraps.  That is obviously unacceptable and incorrect: the original images
actually looked pretty good, so it is obvious (to me, at least) that there
should be &lt;em&gt;no&lt;/em&gt; phase wrapping in the self-cal.  I'm surprised at this, since
each of these points should have S/N &amp;gt; 3 and there is a lot of consistency in
these large phase shifts.&lt;/p&gt;
&lt;p&gt;My suspicion is still that the clean process has failed.  I have been trying
multiscale clean, since the emission is completely dominated by extended
components.  However, even if I set smallscalebias to different values, there
are essentially no pointlike components being added to the clean model.  This
is wrong!  There are genuine point sources.  So I still suspect that this is a
modeling problem and the phase wraps are being caused by bad models.&lt;/p&gt;
&lt;p&gt;I'm trying again with smaller pixels in the hope that a better match between
the beam size and the pixel size will produce a better model.  The only other
thing I can think to try is increasing the solint, but given the high S/N
already present, I doubt that's an important factor.&lt;/p&gt;
&lt;p&gt;Smaller pixels didn't help, &lt;em&gt;but&lt;/em&gt; forcing clean to include point-source
components by performing a second round of clean with &lt;tt class="docutils literal"&gt;&lt;span class="pre"&gt;multiscale=[]&lt;/span&gt;&lt;/tt&gt; worked!
The solutions are MUCH more reasonable (no more phase wrap every integration),
and selfcal no longer diverges.  I also increased the solution interval to 30s
since it seems that the phase change timescale is significantly longer than
an integration.  I increased the S/N cutoff to 5 too.&lt;/p&gt;
&lt;p&gt;There are still some &amp;quot;noisy&amp;quot; phases, even in the 3rd iteration:&lt;/p&gt;
&lt;img alt="" src="https://keflavich.github.io/blog/images/w51/selfcal_phasecal_vs_time_3rditer.png" style="width: 600px;" /&gt;
&lt;p&gt;I think more iterations may be necessary, but I will also increase the S/N
threshold to 6 and solint to 60s to see if that helps.&lt;/p&gt;
&lt;p&gt;RMS improvements are evident but not spectacular:&lt;/p&gt;
&lt;pre class="literal-block"&gt;
SPW4 Iteration 0: RMS=1.003e-04
SPW4 Iteration 1: RMS=6.009e-05
SPW4 Iteration 2: RMS=6.698e-05
SPW4 Iteration 3: RMS=7.061e-05
&lt;/pre&gt;
&lt;p&gt;The bump in the last one is because I forgot to add a point clean for the last
iteration.&lt;/p&gt;
&lt;p&gt;Perhaps not unfortunately, it looks like the improvements in image quality are
tiny when self-cal is added.  The only real hope now is that self-cal on all
bands will result in an artifact-free final combined image.&lt;/p&gt;
&lt;p&gt;On the &amp;quot;noisy&amp;quot; phases, now that it looks like there are decent solutions, it
may actually be worth keeping the flags generated by applycal.  &amp;lt;10% of the
data is being flagged out, which is negligible, and it probably is genuinely
bad (or signal-free, anyway) in that case.&lt;/p&gt;
&lt;p&gt;EDIT: Looks better... or at least different... now:&lt;/p&gt;
&lt;pre class="literal-block"&gt;
SPW4 Iteration 0: RMS=1.003e-04
SPW4 Iteration 1: RMS=5.962e-05
SPW4 Iteration 2: RMS=6.817e-05
SPW4 Iteration 3: RMS=6.775e-05
&lt;/pre&gt;
</content><category term="misc"></category><category term="w51"></category><category term="evla"></category><category term="casa"></category></entry><entry><title>Publications from 2014</title><link href="https://keflavich.github.io/blog/publications-from-2014.html" rel="alternate"></link><published>2016-01-01T22:48:00-07:00</published><updated>2016-01-01T22:48:00-07:00</updated><author><name>Adam Ginsburg (Adam.G.Ginsburg@gmail.com)</name></author><id>tag:keflavich.github.io,2016-01-01:/blog/publications-from-2014.html</id><summary type="html">&lt;p&gt;Summary of publications from 2014 (just c&amp;amp;p'd from my bibdesk):&lt;/p&gt;
&lt;dt class="Key" id="Bally2014b"&gt;Bally2014b&lt;dt /&gt;
&lt;dd class="Pub"&gt;
    &lt;span class="Title"&gt;Outflows, Dusty Cores, and a Burst of Star Formation in the North America and Pelican Nebulae&lt;/span&gt;&lt;br /&gt;
    &lt;span class="Author"&gt;J. Bally and A. Ginsburg and R. Probst and B. Reipurth and Y. L. Shirley and G. S. Stringfellow&lt;/span&gt;&lt;br /&gt;
    &lt;span class="Journal"&gt;\aj&lt;/span&gt;&amp;nbsp;
    &lt;span class="Volume"&gt;148&lt;/span&gt;&amp;nbsp;
    &lt;span class="Pages"&gt;120 …&lt;/span&gt;&lt;/dd&gt;&lt;/dt&gt;</summary><content type="html">&lt;p&gt;Summary of publications from 2014 (just c&amp;amp;p'd from my bibdesk):&lt;/p&gt;
&lt;dt class="Key" id="Bally2014b"&gt;Bally2014b&lt;dt /&gt;
&lt;dd class="Pub"&gt;
    &lt;span class="Title"&gt;Outflows, Dusty Cores, and a Burst of Star Formation in the North America and Pelican Nebulae&lt;/span&gt;&lt;br /&gt;
    &lt;span class="Author"&gt;J. Bally and A. Ginsburg and R. Probst and B. Reipurth and Y. L. Shirley and G. S. Stringfellow&lt;/span&gt;&lt;br /&gt;
    &lt;span class="Journal"&gt;\aj&lt;/span&gt;&amp;nbsp;
    &lt;span class="Volume"&gt;148&lt;/span&gt;&amp;nbsp;
    &lt;span class="Pages"&gt;120&lt;/span&gt;&amp;nbsp;
    (&lt;span class="Date"&gt;2014&lt;/span&gt;)&lt;br /&gt;
&lt;remoteURLs&gt;
    &lt;span class="URL"&gt;&lt;a href=""&gt;&lt;/a&gt;&lt;/span&gt;&lt;br /&gt;
&lt;/remoteURLs&gt;
&lt;dd /&gt;&lt;dt class="Key" id="Bally2014a"&gt;Bally2014a&lt;dt /&gt;
&lt;dd class="Pub"&gt;
    &lt;span class="Title"&gt;Absorption Filaments toward the Massive Clump G0.253+0.016&lt;/span&gt;&lt;br /&gt;
    &lt;span class="Author"&gt;J. Bally and J. M. Rathborne and S. N. Longmore and J. M. Jackson and J. F. Alves and E. Bressert and Y. Contreras and J. B. Foster and G. Garay and A. Ginsburg and K. G. Johnston and J. M. D. Kruijssen and L. Testi and A. J. Walsh&lt;/span&gt;&lt;br /&gt;
    &lt;span class="Journal"&gt;\apj&lt;/span&gt;&amp;nbsp;
    &lt;span class="Volume"&gt;795&lt;/span&gt;&amp;nbsp;
    &lt;span class="Pages"&gt;28&lt;/span&gt;&amp;nbsp;
    (&lt;span class="Date"&gt;2014&lt;/span&gt;)&lt;br /&gt;
&lt;remoteURLs&gt;
    &lt;span class="URL"&gt;&lt;a href=""&gt;&lt;/a&gt;&lt;/span&gt;&lt;br /&gt;
&lt;/remoteURLs&gt;
&lt;dd /&gt;&lt;dt class="Key" id="Ginsburg2014a"&gt;Ginsburg2014a&lt;dt /&gt;
&lt;dd class="Pub"&gt;
    &lt;span class="Title"&gt;The dense gas mass fraction in the W51 cloud and its protoclusters&lt;/span&gt;&lt;br /&gt;
    &lt;span class="Author"&gt;A. Ginsburg and J. Bally and C. Battersby and A. Youngblood and J. Darling and E. Rosolowsky and H. Arce and M. L. Santos&lt;/span&gt;&lt;br /&gt;
    &lt;span class="Journal"&gt;&lt;/span&gt;&amp;nbsp;
    &lt;span class="Volume"&gt;&lt;/span&gt;&amp;nbsp;
    &lt;span class="Pages"&gt;&lt;/span&gt;&amp;nbsp;
    (&lt;span class="Date"&gt;2014&lt;/span&gt;)&lt;br /&gt;
&lt;remoteURLs&gt;
    &lt;span class="URL"&gt;&lt;a href=""&gt;&lt;/a&gt;&lt;/span&gt;&lt;br /&gt;
&lt;/remoteURLs&gt;
&lt;dd /&gt;&lt;dt class="Key" id="Battersby2014b"&gt;Battersby2014b&lt;dt /&gt;
&lt;dd class="Pub"&gt;
    &lt;span class="Title"&gt;The Onset of Massive Star Formation: The Evolution of Temperature and Density Structure in an Infrared Dark Cloud&lt;/span&gt;&lt;br /&gt;
    &lt;span class="Author"&gt;C. Battersby and A. Ginsburg and J. Bally and S. Longmore and M. Dunham and J. Darling&lt;/span&gt;&lt;br /&gt;
    &lt;span class="Journal"&gt;\apj&lt;/span&gt;&amp;nbsp;
    &lt;span class="Volume"&gt;787&lt;/span&gt;&amp;nbsp;
    &lt;span class="Pages"&gt;113&lt;/span&gt;&amp;nbsp;
    (&lt;span class="Date"&gt;2014&lt;/span&gt;)&lt;br /&gt;
&lt;remoteURLs&gt;
    &lt;span class="URL"&gt;&lt;a href=""&gt;&lt;/a&gt;&lt;/span&gt;&lt;br /&gt;
&lt;/remoteURLs&gt;
&lt;dd /&gt;&lt;dt class="Key" id="Battersby2014a"&gt;Battersby2014a&lt;dt /&gt;
&lt;dd class="Pub"&gt;
    &lt;span class="Title"&gt;The Comparison of Physical Properties Derived from Gas and Dust in a Massive Star-forming Region&lt;/span&gt;&lt;br /&gt;
    &lt;span class="Author"&gt;C. Battersby and J. Bally and M. Dunham and A. Ginsburg and S. Longmore and J. Darling&lt;/span&gt;&lt;br /&gt;
    &lt;span class="Journal"&gt;\apj&lt;/span&gt;&amp;nbsp;
    &lt;span class="Volume"&gt;786&lt;/span&gt;&amp;nbsp;
    &lt;span class="Pages"&gt;116&lt;/span&gt;&amp;nbsp;
    (&lt;span class="Date"&gt;2014&lt;/span&gt;)&lt;br /&gt;
&lt;remoteURLs&gt;
    &lt;span class="URL"&gt;&lt;a href=""&gt;&lt;/a&gt;&lt;/span&gt;&lt;br /&gt;
&lt;/remoteURLs&gt;
&lt;dd /&gt;</content><category term="publications"></category><category term="publications"></category></entry><entry><title>Publications from 2015</title><link href="https://keflavich.github.io/blog/publications-from-2015.html" rel="alternate"></link><published>2016-01-01T22:48:00-07:00</published><updated>2016-01-01T22:48:00-07:00</updated><author><name>Adam Ginsburg (Adam.G.Ginsburg@gmail.com)</name></author><id>tag:keflavich.github.io,2016-01-01:/blog/publications-from-2015.html</id><summary type="html">&lt;p&gt;Summary of publications from 2015 (just c&amp;amp;p'd from my bibdesk):&lt;/p&gt;
&lt;dt class="Key" id="Ginsburg2015b"&gt;Ginsburg2015b&lt;dt /&gt;
&lt;dd class="Pub"&gt;
    &lt;span class="Title"&gt;High-mass star-forming cloud G0.38+0.04 in the Galactic center dust ridge contains H$_2$CO and SiO masers&lt;/span&gt;&lt;br /&gt;
    &lt;span class="Author"&gt;A. Ginsburg and A. Walsh and C. Henkel and P. A. Jones and M. Cunningham and J. Kauffmann …&lt;/span&gt;&lt;/dd&gt;&lt;/dt&gt;</summary><content type="html">&lt;p&gt;Summary of publications from 2015 (just c&amp;amp;p'd from my bibdesk):&lt;/p&gt;
&lt;dt class="Key" id="Ginsburg2015b"&gt;Ginsburg2015b&lt;dt /&gt;
&lt;dd class="Pub"&gt;
    &lt;span class="Title"&gt;High-mass star-forming cloud G0.38+0.04 in the Galactic center dust ridge contains H$_2$CO and SiO masers&lt;/span&gt;&lt;br /&gt;
    &lt;span class="Author"&gt;A. Ginsburg and A. Walsh and C. Henkel and P. A. Jones and M. Cunningham and J. Kauffmann and T. Pillai and E. A. C. Mills and J. Ott and J. M. D. Kruijssen and K. M. Menten and C. Battersby and J. Rathborne and Y. Contreras and S. Longmore and D. Walker and J. Dawson and J. A. P. Lopez&lt;/span&gt;&lt;br /&gt;
    &lt;span class="Journal"&gt;\aap&lt;/span&gt;&amp;nbsp;
    &lt;span class="Volume"&gt;584&lt;/span&gt;&amp;nbsp;
    &lt;span class="Pages"&gt;L7&lt;/span&gt;&amp;nbsp;
    (&lt;span class="Date"&gt;2015&lt;/span&gt;)&lt;br /&gt;
&lt;remoteURLs&gt;
    &lt;span class="URL"&gt;&lt;a href=""&gt;&lt;/a&gt;&lt;/span&gt;&lt;br /&gt;
&lt;/remoteURLs&gt;
&lt;dd /&gt;&lt;dt class="Key" id="Colombo2015a"&gt;Colombo2015a&lt;dt /&gt;
&lt;dd class="Pub"&gt;
    &lt;span class="Title"&gt;Graph-based interpretation of the molecular interstellar medium segmentation&lt;/span&gt;&lt;br /&gt;
    &lt;span class="Author"&gt;D. Colombo and E. Rosolowsky and A. Ginsburg and A. Duarte-Cabral and A. Hughes&lt;/span&gt;&lt;br /&gt;
    &lt;span class="Journal"&gt;\mnras&lt;/span&gt;&amp;nbsp;
    &lt;span class="Volume"&gt;454&lt;/span&gt;&amp;nbsp;
    &lt;span class="Pages"&gt;2067-2091&lt;/span&gt;&amp;nbsp;
    (&lt;span class="Date"&gt;2015&lt;/span&gt;)&lt;br /&gt;
&lt;remoteURLs&gt;
    &lt;span class="URL"&gt;&lt;a href=""&gt;&lt;/a&gt;&lt;/span&gt;&lt;br /&gt;
&lt;/remoteURLs&gt;
&lt;dd /&gt;&lt;dt class="Key" id="Weilbacher2015a"&gt;Weilbacher2015a&lt;dt /&gt;
&lt;dd class="Pub"&gt;
    &lt;span class="Title"&gt;A MUSE map of the central Orion Nebula (M 42)&lt;/span&gt;&lt;br /&gt;
    &lt;span class="Author"&gt;P. M. Weilbacher and A. Monreal-Ibero and W. Kollatschny and A. Ginsburg and A. F. McLeod and S. Kamann and C. Sandin and R. Palsa and L. Wisotzki and R. Bacon and F. Selman and J. Brinchmann and J. Caruana and A. Kelz and T. Martinsson and A. Pécontal-Rousset and J. Richard and M. Wendt&lt;/span&gt;&lt;br /&gt;
    &lt;span class="Journal"&gt;\aap&lt;/span&gt;&amp;nbsp;
    &lt;span class="Volume"&gt;582&lt;/span&gt;&amp;nbsp;
    &lt;span class="Pages"&gt;A114&lt;/span&gt;&amp;nbsp;
    (&lt;span class="Date"&gt;2015&lt;/span&gt;)&lt;br /&gt;
&lt;remoteURLs&gt;
    &lt;span class="URL"&gt;&lt;a href=""&gt;&lt;/a&gt;&lt;/span&gt;&lt;br /&gt;
&lt;/remoteURLs&gt;
&lt;dd /&gt;&lt;dt class="Key" id="Isella2015a"&gt;Isella2015a&lt;dt /&gt;
&lt;dd class="Pub"&gt;
    &lt;span class="Title"&gt;Next Generation Very Large Array Memo No. 6, Science Working Group 1: The Cradle of Life&lt;/span&gt;&lt;br /&gt;
    &lt;span class="Author"&gt;A. Isella and C. H. Hull and A. Moullet and R. Galván-Madrid and D. Johnstone and L. Ricci and J. Tobin and L. Testi and M. Beltran and J. Lazio and A. Siemion and H. Liu and F. Du and K. Öberg and T. Bergin and P. Caselli and T. Bourke and C. Carilli and L. Perez and B. Butler and I. Pater and C. Qi and M. Hofstadter and R. Moreno and D. Alexander and J. Williams and P. Goldsmith and M. Wyatt and L. Loinard and J. Francesco and D. Wilner and P. Schilke and A. Ginsburg and Á. Sánchez-Monge and Q. Zhang and H. Beuther&lt;/span&gt;&lt;br /&gt;
    &lt;span class="Journal"&gt;&lt;/span&gt;&amp;nbsp;
    &lt;span class="Volume"&gt;&lt;/span&gt;&amp;nbsp;
    &lt;span class="Pages"&gt;&lt;/span&gt;&amp;nbsp;
    (&lt;span class="Date"&gt;2015&lt;/span&gt;)&lt;br /&gt;
&lt;remoteURLs&gt;
    &lt;span class="URL"&gt;&lt;a href=""&gt;&lt;/a&gt;&lt;/span&gt;&lt;br /&gt;
&lt;/remoteURLs&gt;
&lt;dd /&gt;&lt;dt class="Key" id="Colombo2015b"&gt;Colombo2015b&lt;dt /&gt;
&lt;dd class="Pub"&gt;
    &lt;span class="Title"&gt;The road toward a full, high resolution Molecular Cloud catalog of the Galaxy&lt;/span&gt;&lt;br /&gt;
    &lt;span class="Author"&gt;D. Colombo and E. Rosolowsky and A. Ginsburg and A. Duarte-Cabral and A. Hughes&lt;/span&gt;&lt;br /&gt;
    &lt;span class="Journal"&gt;&lt;/span&gt;&amp;nbsp;
    &lt;span class="Volume"&gt;&lt;/span&gt;&amp;nbsp;
    &lt;span class="Pages"&gt;&lt;/span&gt;&amp;nbsp;
    (&lt;span class="Date"&gt;2015&lt;/span&gt;)&lt;br /&gt;
&lt;remoteURLs&gt;
    &lt;span class="URL"&gt;&lt;a href=""&gt;&lt;/a&gt;&lt;/span&gt;&lt;br /&gt;
&lt;/remoteURLs&gt;
&lt;dd /&gt;&lt;dt class="Key" id="Ginsburg2015c"&gt;Ginsburg2015c&lt;dt /&gt;
&lt;dd class="Pub"&gt;
    &lt;span class="Title"&gt;Detecting Stars at the Galactic Centre via Synchrotron Emission&lt;/span&gt;&lt;br /&gt;
    &lt;span class="Author"&gt;I. Ginsburg and X. Wang and A. Loeb and O. Cohen&lt;/span&gt;&lt;br /&gt;
    &lt;span class="Journal"&gt;ArXiv e-prints&lt;/span&gt;&amp;nbsp;
    &lt;span class="Volume"&gt;&lt;/span&gt;&amp;nbsp;
    &lt;span class="Pages"&gt;&lt;/span&gt;&amp;nbsp;
    (&lt;span class="Date"&gt;2015&lt;/span&gt;)&lt;br /&gt;
&lt;remoteURLs&gt;
    &lt;span class="URL"&gt;&lt;a href=""&gt;&lt;/a&gt;&lt;/span&gt;&lt;br /&gt;
&lt;/remoteURLs&gt;
&lt;dd /&gt;&lt;dt class="Key" id="Wang2015a"&gt;Wang2015a&lt;dt /&gt;
&lt;dd class="Pub"&gt;
    &lt;span class="Title"&gt;Large-scale filaments associated with Milky Way spiral arms&lt;/span&gt;&lt;br /&gt;
    &lt;span class="Author"&gt;K. Wang and L. Testi and A. Ginsburg and C. M. Walmsley and S. Molinari and E. Schisano&lt;/span&gt;&lt;br /&gt;
    &lt;span class="Journal"&gt;\mnras&lt;/span&gt;&amp;nbsp;
    &lt;span class="Volume"&gt;450&lt;/span&gt;&amp;nbsp;
    &lt;span class="Pages"&gt;4043-4049&lt;/span&gt;&amp;nbsp;
    (&lt;span class="Date"&gt;2015&lt;/span&gt;)&lt;br /&gt;
&lt;remoteURLs&gt;
    &lt;span class="URL"&gt;&lt;a href=""&gt;&lt;/a&gt;&lt;/span&gt;&lt;br /&gt;
&lt;/remoteURLs&gt;
&lt;dd /&gt;&lt;dt class="Key" id="Bally2015a"&gt;Bally2015a&lt;dt /&gt;
&lt;dd class="Pub"&gt;
    &lt;span class="Title"&gt;The Orion fingers: Near-IR adaptive optics imaging of an explosive protostellar outflow&lt;/span&gt;&lt;br /&gt;
    &lt;span class="Author"&gt;J. Bally and A. Ginsburg and D. Silvia and A. Youngblood&lt;/span&gt;&lt;br /&gt;
    &lt;span class="Journal"&gt;\aap&lt;/span&gt;&amp;nbsp;
    &lt;span class="Volume"&gt;579&lt;/span&gt;&amp;nbsp;
    &lt;span class="Pages"&gt;A130&lt;/span&gt;&amp;nbsp;
    (&lt;span class="Date"&gt;2015&lt;/span&gt;)&lt;br /&gt;
&lt;remoteURLs&gt;
    &lt;span class="URL"&gt;&lt;a href=""&gt;&lt;/a&gt;&lt;/span&gt;&lt;br /&gt;
&lt;/remoteURLs&gt;
&lt;dd /&gt;&lt;dt class="Key" id="McLeod2015a"&gt;McLeod2015a&lt;dt /&gt;
&lt;dd class="Pub"&gt;
    &lt;span class="Title"&gt;The Pillars of Creation revisited with MUSE: gas kinematics and high-mass stellar feedback traced by optical spectroscopy&lt;/span&gt;&lt;br /&gt;
    &lt;span class="Author"&gt;A. F. McLeod and J. E. Dale and A. Ginsburg and B. Ercolano and M. Gritschneder and S. Ramsay and L. Testi&lt;/span&gt;&lt;br /&gt;
    &lt;span class="Journal"&gt;\mnras&lt;/span&gt;&amp;nbsp;
    &lt;span class="Volume"&gt;450&lt;/span&gt;&amp;nbsp;
    &lt;span class="Pages"&gt;1057-1076&lt;/span&gt;&amp;nbsp;
    (&lt;span class="Date"&gt;2015&lt;/span&gt;)&lt;br /&gt;
&lt;remoteURLs&gt;
    &lt;span class="URL"&gt;&lt;a href=""&gt;&lt;/a&gt;&lt;/span&gt;&lt;br /&gt;
&lt;/remoteURLs&gt;
&lt;dd /&gt;&lt;dt class="Key" id="Ellsworth-Bowers2015a"&gt;Ellsworth-Bowers2015a&lt;dt /&gt;
&lt;dd class="Pub"&gt;
    &lt;span class="Title"&gt;The Bolocam Galactic Plane Survey. XIII. Physical Properties and Mass Functions of Dense Molecular Cloud Structures&lt;/span&gt;&lt;br /&gt;
    &lt;span class="Author"&gt;T. P. Ellsworth-Bowers and J. Glenn and A. Riley and E. Rosolowsky and A. Ginsburg and N. J. Evans, II and J. Bally and C. Battersby and Y. L. Shirley and M. Merello&lt;/span&gt;&lt;br /&gt;
    &lt;span class="Journal"&gt;\apj&lt;/span&gt;&amp;nbsp;
    &lt;span class="Volume"&gt;805&lt;/span&gt;&amp;nbsp;
    &lt;span class="Pages"&gt;157&lt;/span&gt;&amp;nbsp;
    (&lt;span class="Date"&gt;2015&lt;/span&gt;)&lt;br /&gt;
&lt;remoteURLs&gt;
    &lt;span class="URL"&gt;&lt;a href=""&gt;&lt;/a&gt;&lt;/span&gt;&lt;br /&gt;
&lt;/remoteURLs&gt;
&lt;dd /&gt;&lt;dt class="Key" id="Merello2015a"&gt;Merello2015a&lt;dt /&gt;
&lt;dd class="Pub"&gt;
    &lt;span class="Title"&gt;The Bolocam Galactic Plane Survey. XI. Temperatures and Substructure of Galactic Clumps Based On 350 $\mu$M Observations&lt;/span&gt;&lt;br /&gt;
    &lt;span class="Author"&gt;M. Merello and N. J. Evans, II and Y. L. Shirley and E. Rosolowsky and A. Ginsburg and J. Bally and C. Battersby and M. M. Dunham&lt;/span&gt;&lt;br /&gt;
    &lt;span class="Journal"&gt;\apjs&lt;/span&gt;&amp;nbsp;
    &lt;span class="Volume"&gt;218&lt;/span&gt;&amp;nbsp;
    &lt;span class="Pages"&gt;1&lt;/span&gt;&amp;nbsp;
    (&lt;span class="Date"&gt;2015&lt;/span&gt;)&lt;br /&gt;
&lt;remoteURLs&gt;
    &lt;span class="URL"&gt;&lt;a href=""&gt;&lt;/a&gt;&lt;/span&gt;&lt;br /&gt;
&lt;/remoteURLs&gt;
&lt;dd /&gt;&lt;dt class="Key" id="Thompson2015c"&gt;Thompson2015c&lt;dt /&gt;
&lt;dd class="Pub"&gt;
    &lt;span class="Title"&gt;The ionised,radical and molecular Milky Way: spectroscopic surveys with the SKA&lt;/span&gt;&lt;br /&gt;
    &lt;span class="Author"&gt;M. Thompson and H. Beuther and C. Dickinson and J. Mottram and P. Klaassen and A. Ginsburg and S. Longmore and A. Remijan and K. M. Menten&lt;/span&gt;&lt;br /&gt;
    &lt;span class="Journal"&gt;Advancing Astrophysics with the Square Kilometre Array (AASKA14)&lt;/span&gt;&amp;nbsp;
    &lt;span class="Volume"&gt;&lt;/span&gt;&amp;nbsp;
    &lt;span class="Pages"&gt;126&lt;/span&gt;&amp;nbsp;
    (&lt;span class="Date"&gt;2015&lt;/span&gt;)&lt;br /&gt;
&lt;remoteURLs&gt;
    &lt;span class="URL"&gt;&lt;a href=""&gt;&lt;/a&gt;&lt;/span&gt;&lt;br /&gt;
&lt;/remoteURLs&gt;
&lt;dd /&gt;&lt;dt class="Key" id="Ellsworth-Bowers2015b"&gt;Ellsworth-Bowers2015b&lt;dt /&gt;
&lt;dd class="Pub"&gt;
    &lt;span class="Title"&gt;The Bolocam Galactic Plane Survey. XII. Distance Catalog Expansion Using Kinematic Isolation of Dense Molecular Cloud Structures with $^13$CO(1-0)&lt;/span&gt;&lt;br /&gt;
    &lt;span class="Author"&gt;T. P. Ellsworth-Bowers and E. Rosolowsky and J. Glenn and A. Ginsburg and N. J. Evans, II and C. Battersby and Y. L. Shirley and B. Svoboda&lt;/span&gt;&lt;br /&gt;
    &lt;span class="Journal"&gt;\apj&lt;/span&gt;&amp;nbsp;
    &lt;span class="Volume"&gt;799&lt;/span&gt;&amp;nbsp;
    &lt;span class="Pages"&gt;29&lt;/span&gt;&amp;nbsp;
    (&lt;span class="Date"&gt;2015&lt;/span&gt;)&lt;br /&gt;
&lt;remoteURLs&gt;
    &lt;span class="URL"&gt;&lt;a href=""&gt;&lt;/a&gt;&lt;/span&gt;&lt;br /&gt;
&lt;/remoteURLs&gt;
&lt;dd /&gt;&lt;dt class="Key" id="Ginsburg2015a"&gt;Ginsburg2015a&lt;dt /&gt;
&lt;dd class="Pub"&gt;
    &lt;span class="Title"&gt;The dense gas mass fraction in the W51 cloud and its protoclusters&lt;/span&gt;&lt;br /&gt;
    &lt;span class="Author"&gt;A. Ginsburg and J. Bally and C. Battersby and A. Youngblood and J. Darling and E. Rosolowsky and H. Arce and M. E. Lebrón Santos&lt;/span&gt;&lt;br /&gt;
    &lt;span class="Journal"&gt;\aap&lt;/span&gt;&amp;nbsp;
    &lt;span class="Volume"&gt;573&lt;/span&gt;&amp;nbsp;
    &lt;span class="Pages"&gt;A106&lt;/span&gt;&amp;nbsp;
    (&lt;span class="Date"&gt;2015&lt;/span&gt;)&lt;br /&gt;
&lt;remoteURLs&gt;
    &lt;span class="URL"&gt;&lt;a href=""&gt;&lt;/a&gt;&lt;/span&gt;&lt;br /&gt;
&lt;/remoteURLs&gt;
&lt;dd /&gt;</content><category term="publications"></category><category term="publications"></category></entry><entry><title>FFT comparisons in python</title><link href="https://keflavich.github.io/blog/fft-comparisons-in-python.html" rel="alternate"></link><published>2015-12-07T11:24:00-07:00</published><updated>2015-12-07T11:24:00-07:00</updated><author><name>Adam Ginsburg (Adam.G.Ginsburg@gmail.com)</name></author><id>tag:keflavich.github.io,2015-12-07:/blog/fft-comparisons-in-python.html</id><summary type="html">&lt;p&gt;I'm trying to figure out which ffts are fastest, best, etc.&lt;/p&gt;
&lt;p&gt;First, it is difficult to get fftw3 + pyfftw installed into python.&lt;/p&gt;
&lt;p&gt;For pyfftw to install, you need to &lt;a class="reference external" href="http://www.fftw.org/doc/Installation-on-Unix.html"&gt;enable floats and every specific type&lt;/a&gt; when compiling &lt;a class="reference external" href="http://www.fftw.org/"&gt;fftw3&lt;/a&gt; (thanks to &lt;a class="reference external" href="http://linuxtoolkit.blogspot.de/2010/04/cant-find-fftw3f-library-when.html"&gt;linux toolkits blog&lt;/a&gt;).
Apparently you can't have &lt;tt class="docutils literal"&gt;&lt;span class="pre"&gt;--enable-long-double&lt;/span&gt;&lt;/tt&gt; and &lt;tt class="docutils literal"&gt;&lt;span class="pre"&gt;--enable-float …&lt;/span&gt;&lt;/tt&gt;&lt;/p&gt;</summary><content type="html">&lt;p&gt;I'm trying to figure out which ffts are fastest, best, etc.&lt;/p&gt;
&lt;p&gt;First, it is difficult to get fftw3 + pyfftw installed into python.&lt;/p&gt;
&lt;p&gt;For pyfftw to install, you need to &lt;a class="reference external" href="http://www.fftw.org/doc/Installation-on-Unix.html"&gt;enable floats and every specific type&lt;/a&gt; when compiling &lt;a class="reference external" href="http://www.fftw.org/"&gt;fftw3&lt;/a&gt; (thanks to &lt;a class="reference external" href="http://linuxtoolkit.blogspot.de/2010/04/cant-find-fftw3f-library-when.html"&gt;linux toolkits blog&lt;/a&gt;).
Apparently you can't have &lt;tt class="docutils literal"&gt;&lt;span class="pre"&gt;--enable-long-double&lt;/span&gt;&lt;/tt&gt; and &lt;tt class="docutils literal"&gt;&lt;span class="pre"&gt;--enable-float&lt;/span&gt;&lt;/tt&gt; simultaneously,
but pyfftw requires both, so you have to install twice or thrice?  Nope, four
times!!  Also, &lt;a class="reference external" href="https://github.com/hgomersall/pyFFTW/issues/16#issuecomment-19422752"&gt;my own post&lt;/a&gt;
indicates that I should install to a different path to avoid weird conflicts
with other libraries.&lt;/p&gt;
&lt;pre class="literal-block"&gt;
./configure --enable-threads --enable-openmp --enable-mpi --enable-shared \
            --enable-fortran --enable-avx \
            CFLAGS=&amp;quot;-O3 -fno-common -fomit-frame-pointer -fstrict-aliasing&amp;quot;
make -j 4
sudo make install

./configure --enable-float --enable-threads --enable-openmp --enable-mpi --enable-shared \
            --enable-fortran --enable-avx \
            CFLAGS=&amp;quot;-O3 -fno-common -fomit-frame-pointer -fstrict-aliasing&amp;quot;
make -j 4
sudo make install

# quad precision is not supported in mpi
./configure --enable-quad-precision --enable-threads --enable-openmp --enable-shared \
            --enable-fortran --enable-avx \
             CFLAGS=&amp;quot;-O3 -fno-common -fomit-frame-pointer -fstrict-aliasing&amp;quot;
make -j 4
sudo make install

./configure --enable-long-double --enable-threads --enable-openmp --enable-mpi --enable-shared \
            --enable-fortran --enable-avx \
             CFLAGS=&amp;quot;-O3 -fno-common -fomit-frame-pointer -fstrict-aliasing&amp;quot;
make -j 4
sudo make install
&lt;/pre&gt;
&lt;p&gt;Onto speed test comparisons:&lt;/p&gt;
&lt;blockquote&gt;
&lt;ul class="simple"&gt;
&lt;li&gt;&lt;a class="reference external" href="https://gist.github.com/mperrin/5763120"&gt;Marshal Perrin's&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a class="reference external" href="https://gist.github.com/keflavich/5797994"&gt;my fork&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a class="reference external" href="http://code.google.com/p/agpy/source/browse/trunk/tests/test_ffts.py"&gt;speed tests on agpy&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a class="reference external" href="https://github.com/astropy/astropy/pull/4374"&gt;profiling convolve_fft with different parameters&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/blockquote&gt;
&lt;p&gt;If you want to use &lt;tt class="docutils literal"&gt;fftw3&lt;/tt&gt; with astropy's &lt;a class="reference external" href="http://docs.astropy.org/en/stable/api/astropy.convolution.convolve_fft.html#astropy.convolution.convolve_fft"&gt;convolve_fft&lt;/a&gt;,
use &lt;a class="reference external" href="https://code.google.com/p/agpy/source/browse/trunk/AG_fft_tools/convolve_nd.py?r=479#8"&gt;this example&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;Onto some comparisons from &lt;a class="reference external" href="https://github.com/astropy/astropy/pull/4374"&gt;astropy issue 4374&lt;/a&gt;:&lt;/p&gt;
&lt;img alt="" src="https://keflavich.github.io/blog/images/time_vs_mem.png" style="width: 600px;" /&gt;
&lt;img alt="" src="https://keflavich.github.io/blog/images/psfTfftT.png" style="width: 600px;" /&gt;
&lt;img alt="" src="https://keflavich.github.io/blog/images/psfTfftF.png" style="width: 600px;" /&gt;
&lt;img alt="" src="https://keflavich.github.io/blog/images/psfFfftT.png" style="width: 600px;" /&gt;
&lt;img alt="" src="https://keflavich.github.io/blog/images/psfFfftF.png" style="width: 600px;" /&gt;
&lt;p&gt;&lt;a class="reference external" href="https://gist.github.com/6a2d338830efdc02959a"&gt;Notebook containing comparisons between FFT and FFTW&lt;/a&gt;&lt;/p&gt;
</content><category term="misc"></category><category term="fft"></category><category term="convolution"></category></entry><entry><title>Separating Line from Continuum in CASA data</title><link href="https://keflavich.github.io/blog/separating-line-from-continuum-in-casa-data.html" rel="alternate"></link><published>2015-11-04T15:57:00-07:00</published><updated>2015-11-04T15:57:00-07:00</updated><author><name>Adam Ginsburg (Adam.G.Ginsburg@gmail.com)</name></author><id>tag:keflavich.github.io,2015-11-04:/blog/separating-line-from-continuum-in-casa-data.html</id><summary type="html">&lt;p&gt;I'm continuing to try to separate the line forest from the continuum data in my
W51 cube.  Some approaches 'kinda work', some don't.&lt;/p&gt;
&lt;p&gt;The iterative approach suggested in the &lt;a class="reference external" href="|static|cvel_w51_fail.rst"&gt;previous post&lt;/a&gt; &lt;a class="reference external" href="https://github.com/keflavich/W51_ALMA_2013.1.00308.S/blob/630c60e7e57ea7b57877d66b15860b26419a5552/script_12m/uvcontsub_test.py"&gt;works reasonably well&lt;/a&gt;,
but results in oversubtraction of the continuum, even with
a few iterations.  Note that this approach …&lt;/p&gt;</summary><content type="html">&lt;p&gt;I'm continuing to try to separate the line forest from the continuum data in my
W51 cube.  Some approaches 'kinda work', some don't.&lt;/p&gt;
&lt;p&gt;The iterative approach suggested in the &lt;a class="reference external" href="|static|cvel_w51_fail.rst"&gt;previous post&lt;/a&gt; &lt;a class="reference external" href="https://github.com/keflavich/W51_ALMA_2013.1.00308.S/blob/630c60e7e57ea7b57877d66b15860b26419a5552/script_12m/uvcontsub_test.py"&gt;works reasonably well&lt;/a&gt;,
but results in oversubtraction of the continuum, even with
a few iterations.  Note that this approach requires &lt;a class="reference external" href="https://github.com/keflavich/W51_ALMA_2013.1.00308.S/blob/630c60e7e57ea7b57877d66b15860b26419a5552/script_12m/uvcontsub_test.py#L17"&gt;copying columns between ms
files using the table toolkit&lt;/a&gt;.&lt;/p&gt;
&lt;img alt="Oversubtracted spectrum" src="https://keflavich.github.io/blog/images/w51/oversubtracted_spectrum.png" style="width: 400px;" /&gt;
&lt;p&gt;Another approach I wanted to try was to image the whole cube, take the minimum
value along the spectral axis, and subtract that.  This would avoid the
oversubtraction issue by force.  However, &lt;a class="reference external" href="https://github.com/keflavich/W51_ALMA_2013.1.00308.S/blob/c58e4fdf755f85b163d1684cc7383ef31d6a1669/script_12m/mincontsub.py"&gt;this&lt;/a&gt;
leads to failures in the &lt;cite&gt;ft&lt;/cite&gt; task:&lt;/p&gt;
&lt;pre class="literal-block"&gt;
CASA &amp;lt;85&amp;gt;: ft(vis='w51_test_small_imcont.ms', model='test_continuum_min.image', usescratch=True, nterms=1)
2015-11-04 15:01:29 WARN    ft::FTMachine::initMaps No overlap in frequency between image channels and selected data found for this FTMachine
2015-11-04 15:01:29 WARN    ft::FTMachine::initMaps+         Check your data selection and image parameters if you end up with a blank image
&lt;/pre&gt;
&lt;p&gt;which I don't understand.  I had to &lt;a class="reference external" href="https://github.com/keflavich/W51_ALMA_2013.1.00308.S/blob/c58e4fdf755f85b163d1684cc7383ef31d6a1669/script_12m/mincontsub.py#L22"&gt;hack the header&lt;/a&gt;
just to get ft to load the file at all, and apparently my hack wasn't good enough.
It's really unclear to me now how to load a model from a FITS file.&lt;/p&gt;
&lt;p&gt;The next approach is to load the whole continuum-subtracted cube into a model,
subtract THAT, then make a continuum image, then subtract that, then maybe
we have line and continuum?  Maybe?  I suspect this approach will require
some sort of cube masking.&lt;/p&gt;
&lt;p&gt;Unfortunately, ft is again the problem:&lt;/p&gt;
&lt;pre class="literal-block"&gt;
2015-11-04 15:09:08 SEVERE  ft::imager::ft() (file /Users/rpmbuild/gradle/workdir/casaautobuild/release-4_5/code/synthesis/MeasurementEquations/Imager.cc, line 4488)       Exception: (/Users/rpmbuild/gradle/workdir/casaautobuild/release-4_5/darwin/include/casacore/lattices/Lattices/Lattice.tcc : 299) Failed AlwaysAssert shapeIn.isEqual (shapeOut)
&lt;/pre&gt;
&lt;p&gt;Followup in early 2017: a cube-based approach is generally more successful.
See Sanchez-Monge in prep and the related &lt;a class="reference external" href="https://github.com/radio-astro-tools/statcont"&gt;statcont&lt;/a&gt; software package.&lt;/p&gt;
</content><category term="misc"></category><category term="CASA"></category></entry><entry><title>CVEL errors</title><link href="https://keflavich.github.io/blog/cvel-errors.html" rel="alternate"></link><published>2015-11-02T20:50:00-07:00</published><updated>2015-11-02T20:50:00-07:00</updated><author><name>Adam Ginsburg (Adam.G.Ginsburg@gmail.com)</name></author><id>tag:keflavich.github.io,2015-11-02:/blog/cvel-errors.html</id><summary type="html">&lt;p&gt;I'm trying to get a good image of the W51 main sources that have line forests.
MFS clean does a pretty good job, but is very limited in dynamic range
presumably because the spectral lines manifest as amplitude errors.&lt;/p&gt;
&lt;p&gt;I tried splitting the data to merge my two spectral windows …&lt;/p&gt;</summary><content type="html">&lt;p&gt;I'm trying to get a good image of the W51 main sources that have line forests.
MFS clean does a pretty good job, but is very limited in dynamic range
presumably because the spectral lines manifest as amplitude errors.&lt;/p&gt;
&lt;p&gt;I tried splitting the data to merge my two spectral windows using &lt;cite&gt;cvel&lt;/cite&gt;
(&lt;a class="reference external" href="https://github.com/keflavich/W51_ALMA_2013.1.00308.S/blob/4c29c8dc763e3f994279d50db72b9a0dfc2a35b7/script_12m/split_for_localtests.py#L8"&gt;code&lt;/a&gt;),
but I see thousands of errors like this:&lt;/p&gt;
&lt;pre class="literal-block"&gt;
2015-11-02 19:52:15     WARN    SubMS::combineSpws()    Averaging failed for the following channel/correllation pairs from output row 44432 up to 44459. Corresponding visibilities will be flagged:
2015-11-02 19:52:15     WARN    SubMS::combineSpws()+   (60, 0) (60, 1) (1804, 0) (1804, 1) (1998, 0) (1998, 1)
&lt;/pre&gt;
&lt;p&gt;and when I image the cube, there is a jump at one channel that occurs because
the resolution suddenly changes either because SPW3 (the lo-res SPW) is not
included or because the hi-res one suddenly is.&lt;/p&gt;
&lt;img alt="" src="https://keflavich.github.io/blog/images/w51/cvel_jump.png" style="width: 400px;" /&gt;
&lt;p&gt;It doesn't look like there's any obvious workaround at the moment, but I'll
probably try sending another helpdesk ticket about this.&lt;/p&gt;
&lt;p&gt;My best idea for getting a decent continuum out now is something like this:&lt;/p&gt;
&lt;blockquote&gt;
&lt;ul class="simple"&gt;
&lt;li&gt;image the whole cube in frequency&lt;/li&gt;
&lt;li&gt;determine channels that can approximate the bright continuum&lt;/li&gt;
&lt;li&gt;use those to uvcontsub the data&lt;/li&gt;
&lt;li&gt;image the uvcontsub'd cube&lt;/li&gt;
&lt;li&gt;uvsub the imaged spectral line cube from the original data&lt;/li&gt;
&lt;li&gt;re-image the now-continuum-only cube using mfs&lt;/li&gt;
&lt;/ul&gt;
&lt;/blockquote&gt;
&lt;p&gt;EDIT: Dirk replied to the helpdesk ticket, suggesting:&lt;/p&gt;
&lt;pre class="literal-block"&gt;
Concerning cvel: try to process one SPW at a time. Otherwise cvel will
_combine_ the SPWs and if they are not observed at the same time, this will
lead to problems.
&lt;/pre&gt;
&lt;p&gt;So I've now &lt;a class="reference external" href="https://github.com/keflavich/W51_ALMA_2013.1.00308.S/blob/2d15ce46f9ecd75d70ab7ac4ee8f91b272139d9e/script_12m/split_for_localtests.py#L8"&gt;split the cvel into two commands&lt;/a&gt;.
I also added &lt;cite&gt;outframe='bary'&lt;/cite&gt; because otherwise it's not obvious that the
frequency command is doing anything
sensible or useful.  That's actually probably why I was getting non-overlapping
segments before - it tried converting to barycentric, but maybe too late in the
process (i.e., it tried selecting in topo, then converting to bary for output).
I also added a phasecenter, because it was automatically selecting pointing 24
as the phasecenter for cvel before.&lt;/p&gt;
&lt;p&gt;This led to a new error:&lt;/p&gt;
&lt;pre class="literal-block"&gt;
2015-11-03 14:38:27     WARN    cvel::SubMS::convertGridPars     *** Requested new channel width is smaller than smallest original channel width
2015-11-03 14:38:27     WARN    cvel::SubMS::convertGridPars+        which is 488319 Hz
&lt;/pre&gt;
&lt;p&gt;which I've fixed by setting the output width to be 0.5 MHz, just a simple round
number greater than the input even accounting for shift.  Unfortunately, this
seems to have produced a dramatically larger output MS, which cannot be
correct.... ahhh, it turns out that was temporary, once regridding was complete,
it turned small again.&lt;/p&gt;
</content><category term="misc"></category><category term="casa"></category><category term="cvel"></category></entry><entry><title>CASA clean errors related to channels</title><link href="https://keflavich.github.io/blog/casa-clean-errors-related-to-channels.html" rel="alternate"></link><published>2015-10-28T16:51:00-06:00</published><updated>2015-10-28T16:51:00-06:00</updated><author><name>Adam Ginsburg (Adam.G.Ginsburg@gmail.com)</name></author><id>tag:keflavich.github.io,2015-10-28:/blog/casa-clean-errors-related-to-channels.html</id><summary type="html">&lt;p&gt;When cleaning my ALMA data, especially when trying to &lt;a class="reference external" href="https://github.com/keflavich/SgrB2_ALMA_3mm_Mosaic/blob/master/script_12m/scriptForImaging.py#L120"&gt;image the full cube (all
channels)&lt;/a&gt;
when there are multiple SBs
with slightly different frequencies, I see this error frequently:&lt;/p&gt;
&lt;blockquote&gt;
No valid data, skip CLEANing this channel&lt;/blockquote&gt;
&lt;p&gt;It seems that the channel really is being skipped in many cases.  In the …&lt;/p&gt;</summary><content type="html">&lt;p&gt;When cleaning my ALMA data, especially when trying to &lt;a class="reference external" href="https://github.com/keflavich/SgrB2_ALMA_3mm_Mosaic/blob/master/script_12m/scriptForImaging.py#L120"&gt;image the full cube (all
channels)&lt;/a&gt;
when there are multiple SBs
with slightly different frequencies, I see this error frequently:&lt;/p&gt;
&lt;blockquote&gt;
No valid data, skip CLEANing this channel&lt;/blockquote&gt;
&lt;p&gt;It seems that the channel really is being skipped in many cases.  In the Sgr B2
cube, this wasn't a problem because I unintentionally cleaned only one of the
observations.  For the W51 and Orion data, I tried to &lt;a class="reference external" href="https://github.com/keflavich/W51_ALMA_2013.1.00308.S/blob/master/script_12m/scriptForImaging_fullcube.py"&gt;include all of the data&lt;/a&gt;,
but that is causing problems.  Perhaps CASA does not work at all when 'channel'
is specified and the channels aren't aligned?  Or maybe it only accepts channels
when all channels exist?&lt;/p&gt;
&lt;p&gt;I've now redone the 'full cube' imaging to separately image the two SBs in W51.
I'll see if that works...&lt;/p&gt;
&lt;p&gt;Nope, the resulting error is much worse:&lt;/p&gt;
&lt;pre class="literal-block"&gt;
Log:
2015-10-28 15:49:01     INFO    imager::clean() Fitted beam used in restoration: 1.07809 by 0.913862 (arcsec) at pa -63.3899 (deg)
2015-10-28 15:49:01     INFO    imager::iClean()        Restoring Image(s) with the clean-beam
2015-10-28 15:49:02     SEVERE  clean::::       An error occurred running task clean.

Terminal:
*** Error ***  The truth value of an array with more than one element is ambiguous. Use a.any() or a.all()
2015-10-28 15:49:02     SEVERE  clean::::       An error occurred running task clean.
&lt;/pre&gt;
&lt;p&gt;This is an indication of a major underlying python bug.&lt;/p&gt;
</content><category term="misc"></category><category term="clean"></category><category term="casa"></category></entry><entry><title>pyspeckit is py3-compatible</title><link href="https://keflavich.github.io/blog/pyspeckit-is-py3-compatible.html" rel="alternate"></link><published>2015-10-28T10:28:00-06:00</published><updated>2015-10-28T10:28:00-06:00</updated><author><name>Adam Ginsburg (Adam.G.Ginsburg@gmail.com)</name></author><id>tag:keflavich.github.io,2015-10-28:/blog/pyspeckit-is-py3-compatible.html</id><content type="html">&lt;p&gt;With PR &lt;a class="reference external" href="https://github.com/pyspeckit/pyspeckit/pull/110"&gt;#110&lt;/a&gt; and &lt;a class="reference external" href="https://github.com/pyspeckit/pyspeckit/pull/111"&gt;#111&lt;/a&gt;, pyspeckit is now (apparently)
fully python3-compatible.  The test suite passes, but that's not a guarantee
that I've caught all bugs in the translation.&lt;/p&gt;
</content><category term="misc"></category><category term="pyspeckit"></category><category term="python 3"></category></entry><entry><title>Self-calibration of Sgr B2 Mosaic</title><link href="https://keflavich.github.io/blog/self-calibration-of-sgr-b2-mosaic.html" rel="alternate"></link><published>2015-10-14T14:30:00-06:00</published><updated>2015-10-14T14:30:00-06:00</updated><author><name>Adam Ginsburg (Adam.G.Ginsburg@gmail.com)</name></author><id>tag:keflavich.github.io,2015-10-14:/blog/self-calibration-of-sgr-b2-mosaic.html</id><summary type="html">&lt;p&gt;The Sgr B2 ALMA data from project 2013.1.00269.S has imaging problems around
the brightest sources, especially Sgr B2 M.
Crystal Brogan &amp;amp; Todd Hunter gave some useful advice, essentially the following:&lt;/p&gt;
&lt;blockquote&gt;
&lt;ul class="simple"&gt;
&lt;li&gt;the line forest is causing trouble, so line-containing regions of the spectrum
must be excluded when mapping …&lt;/li&gt;&lt;/ul&gt;&lt;/blockquote&gt;</summary><content type="html">&lt;p&gt;The Sgr B2 ALMA data from project 2013.1.00269.S has imaging problems around
the brightest sources, especially Sgr B2 M.
Crystal Brogan &amp;amp; Todd Hunter gave some useful advice, essentially the following:&lt;/p&gt;
&lt;blockquote&gt;
&lt;ul class="simple"&gt;
&lt;li&gt;the line forest is causing trouble, so line-containing regions of the spectrum
must be excluded when mapping&lt;/li&gt;
&lt;li&gt;there is some nasty curvature in the spectral baseline that needs to be removed
probably by flagging out some of the data&lt;/li&gt;
&lt;li&gt;Self-calibration is needed to exceed a dynamic range ~100&lt;/li&gt;
&lt;/ul&gt;
&lt;/blockquote&gt;
&lt;p&gt;Todd developed a &lt;cite&gt;fitcontinuum.py&lt;/cite&gt; script to address the first point, but I ended up
doing this custom (&lt;a class="reference external" href="https://github.com/keflavich/SgrB2_ALMA_3mm_Mosaic/blob/master/script_12m/test_split_spw1.py"&gt;script&lt;/a&gt;) because of the problem introduced by the second point.&lt;/p&gt;
&lt;p&gt;To exclude the lines, I had to use &lt;em&gt;frequency-based&lt;/em&gt; selection, not channel based, because my
spectral windows from different dates were offset by 10 MHz.  The approach to use in CASA is
ugly: you flag the line-containing data, then split (and in splitting, average) the continuum
into another MS.  From there, a phase-only selfcal is straigtforward (&lt;a class="reference external" href="https://github.com/keflavich/SgrB2_ALMA_3mm_Mosaic/blob/master/script_12m/selfcal_spw1_center.py"&gt;script&lt;/a&gt;).&lt;/p&gt;
&lt;img alt="" src="https://keflavich.github.io/blog/images/sgrb2/selfcal_compare.png" style="width: 800px;" /&gt;
</content><category term="misc"></category><category term="CASA"></category><category term="ALMA"></category><category term="Sgr B2"></category></entry><entry><title>Sensitivity Plots using astroquery NRAO tool</title><link href="https://keflavich.github.io/blog/sensitivity-plots-using-astroquery-nrao-tool.html" rel="alternate"></link><published>2015-10-09T14:00:00-06:00</published><updated>2015-10-09T14:00:00-06:00</updated><author><name>Adam Ginsburg (Adam.G.Ginsburg@gmail.com)</name></author><id>tag:keflavich.github.io,2015-10-09:/blog/sensitivity-plots-using-astroquery-nrao-tool.html</id><summary type="html">&lt;p&gt;I wanted to see what the approximate depth achieved by (repeated)
VLA observations of a few sources was, at least theoretically.
This is relatively easy to do:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="kn"&gt;from&lt;/span&gt; &lt;span class="nn"&gt;astropy&lt;/span&gt; &lt;span class="kn"&gt;import&lt;/span&gt; &lt;span class="n"&gt;units&lt;/span&gt; &lt;span class="k"&gt;as&lt;/span&gt; &lt;span class="n"&gt;u&lt;/span&gt;
&lt;span class="kn"&gt;from&lt;/span&gt; &lt;span class="nn"&gt;astroquery.nrao&lt;/span&gt; &lt;span class="kn"&gt;import&lt;/span&gt; &lt;span class="n"&gt;Nrao&lt;/span&gt;
&lt;span class="n"&gt;result&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;Nrao&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;query&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;coordinates&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="n"&gt;coordinates&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;SkyCoord&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;from_name&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;Sgr B2(M)&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;),&lt;/span&gt;
                      &lt;span class="n"&gt;radius …&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;</summary><content type="html">&lt;p&gt;I wanted to see what the approximate depth achieved by (repeated)
VLA observations of a few sources was, at least theoretically.
This is relatively easy to do:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="kn"&gt;from&lt;/span&gt; &lt;span class="nn"&gt;astropy&lt;/span&gt; &lt;span class="kn"&gt;import&lt;/span&gt; &lt;span class="n"&gt;units&lt;/span&gt; &lt;span class="k"&gt;as&lt;/span&gt; &lt;span class="n"&gt;u&lt;/span&gt;
&lt;span class="kn"&gt;from&lt;/span&gt; &lt;span class="nn"&gt;astroquery.nrao&lt;/span&gt; &lt;span class="kn"&gt;import&lt;/span&gt; &lt;span class="n"&gt;Nrao&lt;/span&gt;
&lt;span class="n"&gt;result&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;Nrao&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;query&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;coordinates&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="n"&gt;coordinates&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;SkyCoord&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;from_name&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;Sgr B2(M)&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;),&lt;/span&gt;
                      &lt;span class="n"&gt;radius&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="mi"&gt;2&lt;/span&gt;&lt;span class="o"&gt;*&lt;/span&gt;&lt;span class="n"&gt;u&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;arcmin&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;

&lt;span class="kn"&gt;import&lt;/span&gt; &lt;span class="nn"&gt;pylab&lt;/span&gt; &lt;span class="k"&gt;as&lt;/span&gt; &lt;span class="nn"&gt;pl&lt;/span&gt;

&lt;span class="n"&gt;pl&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;figure&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="n"&gt;pl&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;loglog&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;result&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;Observing Freq&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="mf"&gt;1e3&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;result&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;TOS&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;],&lt;/span&gt; &lt;span class="s1"&gt;&amp;#39;.&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="n"&gt;pl&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;xlabel&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;Observed Frequency (GHz)&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="n"&gt;pl&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;ylabel&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;Time-on-Source (s)&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;

&lt;span class="n"&gt;pl&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;figure&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="mi"&gt;2&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="n"&gt;pl&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;loglog&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;result&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;Observing Freq&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="mf"&gt;1e3&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;result&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;TOS&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt;&lt;span class="o"&gt;*&lt;/span&gt;&lt;span class="n"&gt;result&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;Bandwidth&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;],&lt;/span&gt; &lt;span class="s1"&gt;&amp;#39;.&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="n"&gt;pl&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;xlabel&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;Observed Frequency (GHz)&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="n"&gt;pl&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;ylabel&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;Relative depth (Hz s)&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;img alt="" src="https://keflavich.github.io/blog/images/TOS_vs_freq.png" style="width: 800px;" /&gt;
&lt;img alt="" src="https://keflavich.github.io/blog/images/depth_vs_freq.png" style="width: 800px;" /&gt;
</content><category term="misc"></category><category term="radio"></category><category term="astropy"></category><category term="python"></category><category term="astroquery"></category></entry><entry><title>ALMA QA2 restoration</title><link href="https://keflavich.github.io/blog/alma-qa2-restoration.html" rel="alternate"></link><published>2015-10-02T09:00:00-06:00</published><updated>2015-10-02T09:00:00-06:00</updated><author><name>Adam (keflavich@gmail.com)</name></author><id>tag:keflavich.github.io,2015-10-02:/blog/alma-qa2-restoration.html</id><summary type="html">&lt;p&gt;In case you ever encounter this error about a missing &lt;cite&gt;Source.xml&lt;/cite&gt; file:&lt;/p&gt;
&lt;pre class="literal-block"&gt;
IOError: [Errno 2] No such file or directory: '/diskb/aginsbur/orion/2013.1.00546.S/science_goal.uid___A001_X122_X35c/group.uid___A001_X122_X35d/member.uid___A001_X122_X35e/calibrated/working/uid___A002_X960614_X39db …&lt;/pre&gt;</summary><content type="html">&lt;p&gt;In case you ever encounter this error about a missing &lt;cite&gt;Source.xml&lt;/cite&gt; file:&lt;/p&gt;
&lt;pre class="literal-block"&gt;
IOError: [Errno 2] No such file or directory: '/diskb/aginsbur/orion/2013.1.00546.S/science_goal.uid___A001_X122_X35c/group.uid___A001_X122_X35d/member.uid___A001_X122_X35e/calibrated/working/uid___A002_X960614_X39db.ms/Source.xml'
WARNING: Failure executing file: &amp;lt;scriptForPI.py&amp;gt;
&lt;/pre&gt;
&lt;p&gt;the solution is this ticket: &lt;a class="reference external" href="https://help.almascience.org/index.php?/Knowledgebase/Article/View/266/5/what-should-i-do-if-scriptforpi-aborts-at-the-importasdm-step-with-error"&gt;https://help.almascience.org/index.php?/Knowledgebase/Article/View/266/5/what-should-i-do-if-scriptforpi-aborts-at-the-importasdm-step-with-error&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;So my solution:&lt;/p&gt;
&lt;pre class="literal-block"&gt;
orion /diskb/aginsbur/atca master$ mv /diskb/aginsbur/casa/casapy-42.2.30986-pipe-1-64b/lib64/libxml2.so.2 /diskb/aginsbur/casa/casapy-42.2.30986-pipe-1-64b/lib64/origlibxml2.so.2
orion /diskb/aginsbur/atca master$ locate libxml2.so.2
/diskb/aginsbur/casa/casapy-42.2.30986-pipe-1-64b/lib64/libxml2.so.2
/diskb/aginsbur/casa/casapy-42.2.30986-pipe-1-64b/lib64/libxml2.so.2.6.26
/home/aginsbur/anaconda/lib/libxml2.so.2
/home/aginsbur/anaconda/lib/libxml2.so.2.9.2
/home/aginsbur/anaconda/pkgs/libxml2-2.9.2-0/lib/libxml2.so.2
/home/aginsbur/anaconda/pkgs/libxml2-2.9.2-0/lib/libxml2.so.2.9.2
/opt/anaconda/lib/libxml2.so.2
/opt/anaconda/lib/libxml2.so.2.9.2
/opt/anaconda/pkgs/libxml2-2.9.2-0/lib/libxml2.so.2
/opt/anaconda/pkgs/libxml2-2.9.2-0/lib/libxml2.so.2.9.2
/usr/lib64/libxml2.so.2
/usr/lib64/libxml2.so.2.9.1
orion /diskb/aginsbur/atca master$ ln -sf /usr/lib64/libxml2.so.2 /diskb/aginsbur/casa/casapy-42.2.30986-pipe-1-64b/lib64/libxml2.so.2
&lt;/pre&gt;
</content><category term="misc"></category><category term="alma"></category></entry><entry><title>Export to FITS with MIRIAD</title><link href="https://keflavich.github.io/blog/export-to-fits-with-miriad.html" rel="alternate"></link><published>2015-09-15T15:30:00-06:00</published><updated>2015-09-15T15:30:00-06:00</updated><author><name>Adam Ginsburg (adam.g.ginsburg@gmail.com)</name></author><id>tag:keflavich.github.io,2015-09-15:/blog/export-to-fits-with-miriad.html</id><content type="html">&lt;p&gt;To convert from MIRIAD map files to FITS, use:&lt;/p&gt;
&lt;pre class="literal-block"&gt;
miriad% fits in=h2comos1.clr out=h2comos1.fits op=xyout
&lt;/pre&gt;
&lt;p&gt;(see &lt;a class="reference external" href="converting-gildas-class-data-cubes-lmv-files-to-fits.rst"&gt;the CLASS conversion post&lt;/a&gt;)&lt;/p&gt;
</content><category term="misc"></category></entry><entry><title>Installing Miriad</title><link href="https://keflavich.github.io/blog/installing-miriad.html" rel="alternate"></link><published>2015-09-14T00:00:00-06:00</published><updated>2015-09-14T00:00:00-06:00</updated><author><name>Adam &lt;keflavich@gmail.com&gt;</name></author><id>tag:keflavich.github.io,2015-09-14:/blog/installing-miriad.html</id><summary type="html">&lt;p&gt;From Andrew Walsh, a script to install MIRIAD:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;wget&lt;span class="w"&gt; &lt;/span&gt;ftp://ftp.atnf.csiro.au/pub/software/miriad/miriad-common.tar.bz2
wget&lt;span class="w"&gt; &lt;/span&gt;ftp://ftp.atnf.csiro.au/pub/software/miriad/miriad-linux64.tar.bz2
bzcat&lt;span class="w"&gt; &lt;/span&gt;miriad-common.tar.bz2&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="p"&gt;|&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;tar&lt;span class="w"&gt; &lt;/span&gt;xvf&lt;span class="w"&gt; &lt;/span&gt;-
bzcat&lt;span class="w"&gt; &lt;/span&gt;miriad-linux64.tar.bz2&lt;span class="w"&gt;  &lt;/span&gt;&lt;span class="p"&gt;|&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;tar&lt;span class="w"&gt; &lt;/span&gt;xvf&lt;span class="w"&gt; &lt;/span&gt;-
&lt;span class="nb"&gt;cd&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;miriad
&lt;span class="nb"&gt;export&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="nv"&gt;MIR&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="nv"&gt;$PWD&lt;/span&gt;
&lt;span class="c1"&gt;# define …&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;</summary><content type="html">&lt;p&gt;From Andrew Walsh, a script to install MIRIAD:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;wget&lt;span class="w"&gt; &lt;/span&gt;ftp://ftp.atnf.csiro.au/pub/software/miriad/miriad-common.tar.bz2
wget&lt;span class="w"&gt; &lt;/span&gt;ftp://ftp.atnf.csiro.au/pub/software/miriad/miriad-linux64.tar.bz2
bzcat&lt;span class="w"&gt; &lt;/span&gt;miriad-common.tar.bz2&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="p"&gt;|&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;tar&lt;span class="w"&gt; &lt;/span&gt;xvf&lt;span class="w"&gt; &lt;/span&gt;-
bzcat&lt;span class="w"&gt; &lt;/span&gt;miriad-linux64.tar.bz2&lt;span class="w"&gt;  &lt;/span&gt;&lt;span class="p"&gt;|&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;tar&lt;span class="w"&gt; &lt;/span&gt;xvf&lt;span class="w"&gt; &lt;/span&gt;-
&lt;span class="nb"&gt;cd&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;miriad
&lt;span class="nb"&gt;export&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="nv"&gt;MIR&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="nv"&gt;$PWD&lt;/span&gt;
&lt;span class="c1"&gt;# define the MIR variable in your bashrc&lt;/span&gt;
&lt;span class="nb"&gt;echo&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;export MIR=&lt;/span&gt;&lt;span class="nv"&gt;$MIR&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&amp;gt;&amp;gt;&lt;span class="w"&gt; &lt;/span&gt;~/.bashrc
sed&lt;span class="w"&gt; &lt;/span&gt;-e&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;s,@MIRROOT@,&lt;/span&gt;&lt;span class="nv"&gt;$MIR&lt;/span&gt;&lt;span class="s2"&gt;,&amp;quot;&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;scripts/MIRRC.in&lt;span class="w"&gt; &lt;/span&gt;&amp;gt;&lt;span class="w"&gt; &lt;/span&gt;MIRRC
sed&lt;span class="w"&gt; &lt;/span&gt;-e&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;s,@MIRROOT@,&lt;/span&gt;&lt;span class="nv"&gt;$MIR&lt;/span&gt;&lt;span class="s2"&gt;,&amp;quot;&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;scripts/MIRRC.sh.in&lt;span class="w"&gt; &lt;/span&gt;&amp;gt;&lt;span class="w"&gt; &lt;/span&gt;MIRRC.sh
chmod&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="m"&gt;644&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;MIRRC*

&lt;span class="c1"&gt;# Put these into .bashrc, or call them each time you want to run MIRIAD&lt;/span&gt;
.&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="nv"&gt;$MIR&lt;/span&gt;/MIRRC.sh
&lt;span class="nb"&gt;export&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="nv"&gt;PATH&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="nv"&gt;$PATH&lt;/span&gt;:&lt;span class="nv"&gt;$MIRBIN&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
</content><category term="misc"></category><category term="miriad"></category></entry><entry><title>My python + ipython + vim debugging workflow</title><link href="https://keflavich.github.io/blog/my-python-ipython-vim-debugging-workflow.html" rel="alternate"></link><published>2015-05-07T12:00:00-06:00</published><updated>2015-05-07T12:00:00-06:00</updated><author><name>Adam (adam.g.ginsburg@gmail.com)</name></author><id>tag:keflavich.github.io,2015-05-07:/blog/my-python-ipython-vim-debugging-workflow.html</id><summary type="html">&lt;p&gt;My &lt;a class="reference external" href="http://www.eso.org/~eemselle/CV.html"&gt;boss&lt;/a&gt; asked a great question at our first weekly &lt;a class="reference external" href="https://github.com/ESO-python/ESOPythonTutorials"&gt;ESO-python tutorial&lt;/a&gt;
session: What does a good ipython debugging workflow look like?&lt;/p&gt;
&lt;p&gt;The one advantage I had found in IDL was that &lt;em&gt;everything&lt;/em&gt; is a script, which
means that &lt;em&gt;everything&lt;/em&gt; can be debugged in the same way: add a stop …&lt;/p&gt;</summary><content type="html">&lt;p&gt;My &lt;a class="reference external" href="http://www.eso.org/~eemselle/CV.html"&gt;boss&lt;/a&gt; asked a great question at our first weekly &lt;a class="reference external" href="https://github.com/ESO-python/ESOPythonTutorials"&gt;ESO-python tutorial&lt;/a&gt;
session: What does a good ipython debugging workflow look like?&lt;/p&gt;
&lt;p&gt;The one advantage I had found in IDL was that &lt;em&gt;everything&lt;/em&gt; is a script, which
means that &lt;em&gt;everything&lt;/em&gt; can be debugged in the same way: add a stop statement
at the relevant line of code.  Of course, that debugging model breaks apart
badly once you start writing complex programs and using things like common
blocks.&lt;/p&gt;
&lt;p&gt;In ipython, there is a beautiful debugger that is far more feature-rich than
the IDL equivalent.  It can be activated simply:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="o"&gt;%&lt;/span&gt;&lt;span class="n"&gt;pdb&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;will toggle the interactive ipython debugger.  Then, if you run into a code
crash, you will be dumped out at an &lt;cite&gt;ipdb&amp;gt;&lt;/cite&gt; prompt, with access to a
fully-functional python prompt in the local namespace / environment of the
crash point.  You can also move up and down the function hierarchy with the &lt;tt class="docutils literal"&gt;u&lt;/tt&gt;
and &lt;tt class="docutils literal"&gt;d&lt;/tt&gt; commands.&lt;/p&gt;
&lt;p&gt;The existence of the ipdb debugger suggests a natural approach for those
familiar with IDL debugging: simply add a &lt;tt class="docutils literal"&gt;raise&lt;/tt&gt; statement wherever you would
normally have put a &lt;tt class="docutils literal"&gt;stop&lt;/tt&gt; statement.  There are a few key differences,
however: in IDL, you could just &lt;tt class="docutils literal"&gt;.continue&lt;/tt&gt; to run the rest of the code as if
no stop occurred; in python the same is not possible with the default ipdb.&lt;/p&gt;
&lt;p&gt;However, the &lt;a class="reference external" href="https://pypi.python.org/pypi/ipdb"&gt;ipdb&lt;/a&gt; package allows the insertion of breakpoints just like in IDL:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="kn"&gt;import&lt;/span&gt; &lt;span class="nn"&gt;ipdb&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt; &lt;span class="n"&gt;ipdb&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;set_trace&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;From within one of these breakpoints, the &lt;tt class="docutils literal"&gt;.continue&lt;/tt&gt; command will continue on
to the next breakpoint, as you might expect.  The &lt;tt class="docutils literal"&gt;n&lt;/tt&gt; and &lt;tt class="docutils literal"&gt;s&lt;/tt&gt; commands will go
to the next line in the code, while &lt;tt class="docutils literal"&gt;s&lt;/tt&gt; will allow you to drop into called functions (how?)&lt;/p&gt;
&lt;p&gt;&lt;a class="reference external" href="http://scipy-lectures.github.io/advanced/debugging/#using-the-python-debugger"&gt;Postmortem debugging&lt;/a&gt; is also awesome.  If you have run a command and gotten a traceback,
you can retroactively enter the debugger:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="o"&gt;%&lt;/span&gt;&lt;span class="n"&gt;debug&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;but as with the normal traceback debugger, one cannot &lt;tt class="docutils literal"&gt;continue&lt;/tt&gt; afterward.&lt;/p&gt;
&lt;div class="section" id="reloading-code"&gt;
&lt;h2&gt;Reloading Code&lt;/h2&gt;
&lt;p&gt;Python code is typically distributed in packages managed with a &lt;tt class="docutils literal"&gt;setup.py&lt;/tt&gt;
script.  These are the most convenient way to install, use, and distribute
code, but they are not ideal for debugging.&lt;/p&gt;
&lt;p&gt;When debugging a normal script, something you could run by invoking&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;python&lt;span class="w"&gt; &lt;/span&gt;myfile.py
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;or&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="o"&gt;%&lt;/span&gt;&lt;span class="n"&gt;run&lt;/span&gt; &lt;span class="n"&gt;myfile&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;py&lt;/span&gt;
&lt;span class="c1"&gt;# in the local namespace&lt;/span&gt;
&lt;span class="o"&gt;%&lt;/span&gt;&lt;span class="n"&gt;run&lt;/span&gt; &lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;i&lt;/span&gt; &lt;span class="n"&gt;myfile&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;py&lt;/span&gt;
&lt;span class="c1"&gt;# with the python debugger active:&lt;/span&gt;
&lt;span class="o"&gt;%&lt;/span&gt;&lt;span class="n"&gt;run&lt;/span&gt; &lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;d&lt;/span&gt; &lt;span class="n"&gt;myfile&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;py&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;can easily be debugged by running it line-by-line.  The &lt;a class="reference external" href="http://ipython.org/ipython-doc/dev/interactive/tutorial.html#running-and-editing"&gt;documentation&lt;/a&gt;
can be accessed via the &lt;tt class="docutils literal"&gt;%magic&lt;/tt&gt; command.&lt;/p&gt;
&lt;p&gt;For debugging &amp;quot;compiled&amp;quot; packages, though, more thought is needed.&lt;/p&gt;
&lt;p&gt;If you are working on your own package, you can use &lt;a class="reference external" href="https://pythonhosted.org/setuptools/setuptools.html#develop-deploy-the-project-source-in-development-mode"&gt;setuptools&lt;/a&gt; to enable the
&lt;tt class="docutils literal"&gt;python setup.py develop&lt;/tt&gt; command, which installs a symbolic link to the
source code directory - meaning any changes you make are immediately reflected
in the python source path.  This does &lt;em&gt;not&lt;/em&gt; mean that any changes are
recognized in the local python environment, though!&lt;/p&gt;
&lt;p&gt;If you are in an active &lt;tt class="docutils literal"&gt;ipython&lt;/tt&gt; session, you need to &lt;tt class="docutils literal"&gt;reload&lt;/tt&gt; packages to
see their results.  As far as I know, you can &lt;em&gt;never&lt;/em&gt; &amp;quot;reload&amp;quot; the source code
underlying an already-instantiated class, so you have to remake any class
instances you want to examine.&lt;/p&gt;
&lt;p&gt;The &lt;tt class="docutils literal"&gt;reload&lt;/tt&gt; command is tricky to use.  You will only see changes to the source code
if you import the exact package in which the code is stored.  For example, if you have a file structure like this:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;mypackage/
&lt;span class="w"&gt;    &lt;/span&gt;__init__.py
&lt;span class="w"&gt;    &lt;/span&gt;core.py
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;and you do &lt;tt class="docutils literal"&gt;reload(mypackage)&lt;/tt&gt;, that will effectively reload only the source
code in &lt;tt class="docutils literal"&gt;__init__.py&lt;/tt&gt;.  If the code you want to use is called &lt;tt class="docutils literal"&gt;myfunction&lt;/tt&gt;
and it lives in &lt;tt class="docutils literal"&gt;core.py&lt;/tt&gt;, you can reload that source code by doing
&lt;tt class="docutils literal"&gt;reload(mypackage.core)&lt;/tt&gt;.  Reloading &lt;tt class="docutils literal"&gt;mypackage&lt;/tt&gt; may have no effect.  So
the key for developing packages is finding the right module to reload!&lt;/p&gt;
&lt;p&gt;IPython has a &lt;a class="reference external" href="http://ipython.org/ipython-doc/dev/interactive/reference.html#dreload"&gt;deepreload package&lt;/a&gt;
intended to recursively reload functions; it may work but I had trouble in the
past.&lt;/p&gt;
&lt;/div&gt;
&lt;div class="section" id="tests"&gt;
&lt;h2&gt;Tests&lt;/h2&gt;
&lt;p&gt;It's generally much better to have a test suite enabled with unit tests for
each component of your code.  This is the approach adopted by most open-source
projects and many industrial code developers.&lt;/p&gt;
&lt;p&gt;Tests are invoked with the command &lt;tt class="docutils literal"&gt;py.test&lt;/tt&gt; with a variety of command
options.  Among my favorites are &lt;tt class="docutils literal"&gt;py.test &lt;span class="pre"&gt;--tb=short&lt;/span&gt;&lt;/tt&gt;, which gives a much
less verbose traceback, &lt;tt class="docutils literal"&gt;py.test &lt;span class="pre"&gt;--pastebin=failed&lt;/span&gt;&lt;/tt&gt;, which posts any failure
results to pastebin for easy sharing, &lt;tt class="docutils literal"&gt;py.test &lt;span class="pre"&gt;-p&lt;/span&gt; packagename&lt;/tt&gt; (or &lt;tt class="docutils literal"&gt;python
setup.py test &lt;span class="pre"&gt;-P&lt;/span&gt; packagename&lt;/tt&gt; in astropy) to select tests for a specific
package.  A great deal more options can be found in the &lt;a class="reference external" href="http://pytest.org/latest/"&gt;pytest docs&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;A test suite, if properly constructed, can also be run from with in ipython:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="kn"&gt;import&lt;/span&gt; &lt;span class="nn"&gt;astroquery&lt;/span&gt;
&lt;span class="n"&gt;astroquery&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;test&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;eso&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;div class="section" id="postscript"&gt;
&lt;h2&gt;Postscript&lt;/h2&gt;
&lt;p&gt;Some useful related links:&lt;/p&gt;
&lt;blockquote&gt;
&lt;ul class="simple"&gt;
&lt;li&gt;&lt;a class="reference external" href="http://stackoverflow.com/questions/1623039/python-debugging-tips"&gt;http://stackoverflow.com/questions/1623039/python-debugging-tips&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a class="reference external" href="https://pypi.python.org/pypi/pudb"&gt;https://pypi.python.org/pypi/pudb&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/blockquote&gt;
&lt;!-- great picture: http://commons.wikimedia.org/wiki/File:Richard_Hook_and_Eric_Emsellem_at_the_ESO_50th_Anniversary_Gala_Event.jpg --&gt;
&lt;/div&gt;
</content><category term="misc"></category><category term="python"></category><category term="workflow"></category><category term="debugging"></category><category term="ipython"></category><category term="vim"></category></entry><entry><title>Installing astrometry.net in November 2014</title><link href="https://keflavich.github.io/blog/installing-astrometrynet-in-november-2014.html" rel="alternate"></link><published>2014-11-26T09:57:00-07:00</published><updated>2014-11-26T09:57:00-07:00</updated><author><name>Adam</name></author><id>tag:keflavich.github.io,2014-11-26:/blog/installing-astrometrynet-in-november-2014.html</id><summary type="html">&lt;p&gt;Installing astrometry.net is all about navigating dependency hell.&lt;/p&gt;
&lt;p&gt;Requirements:&lt;/p&gt;
&lt;blockquote&gt;
&lt;ul class="simple"&gt;
&lt;li&gt;libpng&lt;/li&gt;
&lt;li&gt;libtiff&lt;/li&gt;
&lt;li&gt;libjpeg&lt;/li&gt;
&lt;li&gt;netpbm (requires above 3)&lt;/li&gt;
&lt;/ul&gt;
&lt;/blockquote&gt;
&lt;p&gt;To install netpbm, a recent version - NOT the stable version - is required,
which means navigating throught 3-4 layers of links including a sourceforge
build-my-tarball link.&lt;/p&gt;
&lt;p&gt;To compile astrometry.net-0.50:&lt;/p&gt;
&lt;blockquote&gt;
ARCH_FLAGS=&amp;quot;&amp;quot; make …&lt;/blockquote&gt;</summary><content type="html">&lt;p&gt;Installing astrometry.net is all about navigating dependency hell.&lt;/p&gt;
&lt;p&gt;Requirements:&lt;/p&gt;
&lt;blockquote&gt;
&lt;ul class="simple"&gt;
&lt;li&gt;libpng&lt;/li&gt;
&lt;li&gt;libtiff&lt;/li&gt;
&lt;li&gt;libjpeg&lt;/li&gt;
&lt;li&gt;netpbm (requires above 3)&lt;/li&gt;
&lt;/ul&gt;
&lt;/blockquote&gt;
&lt;p&gt;To install netpbm, a recent version - NOT the stable version - is required,
which means navigating throught 3-4 layers of links including a sourceforge
build-my-tarball link.&lt;/p&gt;
&lt;p&gt;To compile astrometry.net-0.50:&lt;/p&gt;
&lt;blockquote&gt;
ARCH_FLAGS=&amp;quot;&amp;quot; make -j 8&lt;/blockquote&gt;
&lt;p&gt;To compile cairo, I had to install pixman (no problem) the setup a PKG_CONFIG_PATH:&lt;/p&gt;
&lt;blockquote&gt;
PKG_CONFIG_PATH=/usr/local/lib/pkgconfig ./configure&lt;/blockquote&gt;
</content><category term="misc"></category><category term="install"></category></entry><entry><title>Azimuthal Mass Profiles</title><link href="https://keflavich.github.io/blog/azimuthal-mass-profiles.html" rel="alternate"></link><published>2014-06-13T09:00:00-06:00</published><updated>2014-06-13T09:00:00-06:00</updated><author><name>Adam (keflavich@gmail.com)</name></author><id>tag:keflavich.github.io,2014-06-13:/blog/azimuthal-mass-profiles.html</id><content type="html">&lt;p&gt;Can we characterize &amp;quot;hub&amp;quot; clumps vs &amp;quot;filament&amp;quot; clumps by examining their
azimuthal column density profile?  Filaments would have two-peaked structures,
hubs many-peaked, and spherically symmetric &amp;quot;isolated&amp;quot; clumps would be
peakless.&lt;/p&gt;
</content><category term="misc"></category><category term="science"></category><category term="molecular clouds"></category></entry><entry><title>Python stack on Mavericks</title><link href="https://keflavich.github.io/blog/python-stack-on-mavericks.html" rel="alternate"></link><published>2014-02-19T12:02:00-07:00</published><updated>2014-02-19T12:02:00-07:00</updated><author><name>napattack (adam.g.ginsburg@gmail.com)</name></author><id>tag:keflavich.github.io,2014-02-19:/blog/python-stack-on-mavericks.html</id><summary type="html">&lt;p&gt;As you might expect from numerous blog posts and the general difficulty people
have always experienced upgrading mac OS versions, Mavericks caused some truly
hideous issues.&lt;/p&gt;
&lt;p&gt;The only really &amp;quot;new&amp;quot; issues specifically for Mavericks relate to app nap.  The
main solution is minrk's &lt;a class="reference external" href="https://github.com/minrk/appnope"&gt;appnope&lt;/a&gt;.  Otherwise, command line options like
&lt;cite&gt;defaults …&lt;/cite&gt;&lt;/p&gt;</summary><content type="html">&lt;p&gt;As you might expect from numerous blog posts and the general difficulty people
have always experienced upgrading mac OS versions, Mavericks caused some truly
hideous issues.&lt;/p&gt;
&lt;p&gt;The only really &amp;quot;new&amp;quot; issues specifically for Mavericks relate to app nap.  The
main solution is minrk's &lt;a class="reference external" href="https://github.com/minrk/appnope"&gt;appnope&lt;/a&gt;.  Otherwise, command line options like
&lt;cite&gt;defaults write &amp;lt;app domain name&amp;gt; NSAppSleepDisabled -bool YES&lt;/cite&gt; are required
&lt;a class="reference external" href="http://apple.stackexchange.com/questions/121386/missing-prevent-app-nap-button-on-app"&gt;if the button is missing&lt;/a&gt; from Mac's Get Info pane.&lt;/p&gt;
&lt;p&gt;I tried installing the &lt;a class="reference external" href="https://store.continuum.io/cshop/anaconda/"&gt;conda&lt;/a&gt; stack to get python running quickly.  This
worked to an extremely limited degree: the TkAgg shipped with anaconda links to
&lt;a class="reference external" href="xquartz.macosforge.org"&gt;XQuartz&lt;/a&gt;, which is highly undesirable for a number of reasons.  This meant
that matplotlib plots showed up as X11 plots.  With the Mac OS X backend, the
windows failed to show up in the Dock and therefore were totally unusable (though
they did look OK).&lt;/p&gt;
&lt;p&gt;I am still using &lt;a class="reference external" href="https://store.continuum.io/cshop/anaconda/"&gt;conda&lt;/a&gt; to maintain multiple parallel versions of python for
testing.  However, I went back to my typical install-from-source approach.&lt;/p&gt;
&lt;p&gt;To get the matplotlib backends to interact nicely with apple, you need to install
them using the &lt;cite&gt;/Library&lt;/cite&gt; version of python&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="c1"&gt;# this had to happen sometime early:&lt;/span&gt;
$&lt;span class="w"&gt; &lt;/span&gt;xcode-select&lt;span class="w"&gt; &lt;/span&gt;--install

$&lt;span class="w"&gt; &lt;/span&gt;wget&lt;span class="w"&gt; &lt;/span&gt;https://pypi.python.org/pypi/pip#downloads
$&lt;span class="w"&gt; &lt;/span&gt;tar&lt;span class="w"&gt; &lt;/span&gt;-xzvf&lt;span class="w"&gt; &lt;/span&gt;~/Downloads/pip-1.5.2.tar.gz
$&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="nb"&gt;cd&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;pip-1.5.2
$&lt;span class="w"&gt; &lt;/span&gt;/Library/Frameworks/Python.framework/Versions/2.7/bin/python&lt;span class="w"&gt; &lt;/span&gt;setup.py&lt;span class="w"&gt; &lt;/span&gt;install
$&lt;span class="w"&gt; &lt;/span&gt;/Library/Frameworks/Python.framework/Versions/2.7/bin/pip&lt;span class="w"&gt; &lt;/span&gt;install&lt;span class="w"&gt; &lt;/span&gt;virtualenv
$&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="nb"&gt;cd&lt;/span&gt;
$&lt;span class="w"&gt; &lt;/span&gt;/Library/Frameworks/Python.framework/Versions/2.7/bin/virtualenv&lt;span class="w"&gt; &lt;/span&gt;virtual-python
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;After this, I was surprisingly able to install everything in the python stack
with no hitches.  Obviously, that could not possibly last.&lt;/p&gt;
&lt;p&gt;While matplotlib and numpy worked fine, scipy had problems.&lt;/p&gt;
&lt;pre class="literal-block"&gt;
ImportError: dlopen(/Users/adam/virtual-python/lib/python2.7/site-packages/scipy/integrate/_odepack.so, 2): Symbol not found: __gfortran_internal_free
Referenced from: /Users/adam/virtual-python/lib/python2.7/site-packages/scipy/integrate/_odepack.so
Expected in: flat namespace
   in /Users/adam/virtual-python/lib/python2.7/site-packages/scipy/integrate/_odepack.so
&lt;/pre&gt;
&lt;p&gt;This terrible error led me back to re-compiling scipy.  I tried installing with
&lt;a class="reference external" href="hpc.sourceforge.net"&gt;hpc&lt;/a&gt; gfortran, but that didn't work at all, first apparently because of linking
errors in numpy.  When I investigated numpy, I found that the compilers
apparently don't work at all:&lt;/p&gt;
&lt;pre class="literal-block"&gt;
C compiler: /usr/local/bin/gcc -DNDEBUG -g -fwrapv -O3 -Wall -Wstrict-prototypes -arch i386 -arch x86_64
...
RuntimeError: Broken toolchain: cannot link a simple C program
&lt;/pre&gt;
&lt;p&gt;I had to give up on that, and then googling returned no results at all, which I
thought was a bit weird.  Scipy seems to want gcc and g++ 4.2, even though
they're years old.  I had to find those and gfortran-4.2 somehow, but the &lt;a class="reference external" href="r.research.att.com/tools/"&gt;old
site&lt;/a&gt; that used to serve them seems to have lost the files!  They had an
&lt;a class="reference external" href="http://r.research.att.com/tools/gcc-42-5666.3-darwin11.pkg"&gt;older version&lt;/a&gt;, though, which appears to work.  Scipy is a scary install.&lt;/p&gt;
&lt;div class="section" id="problems-with-xquartz"&gt;
&lt;h2&gt;Problems with XQuartz&lt;/h2&gt;
&lt;p&gt;XQuartz is not well-behaved on Mac OS X 10.9.  First, &lt;a class="reference external" href="https://xquartz.macosforge.org/trac/ticket/661"&gt;on retina machines, it
does not display well&lt;/a&gt;.  Second, and much more important, it &lt;a class="reference external" href="http://xquartz.macosforge.org/trac/ticket/797"&gt;does not work on
external monitors&lt;/a&gt;.  Apparently this can be worked around by turning off
&amp;quot;Displays have different spaces&amp;quot;  in Mission Control, but so far that has had
no effect for me.&lt;/p&gt;
&lt;/div&gt;
</content><category term="misc"></category><category term="mac"></category><category term="install"></category><category term="python"></category><category term="scipy"></category><category term="fortran"></category></entry><entry><title>W51 Mapping: Flagging bad data</title><link href="https://keflavich.github.io/blog/w51-mapping-flagging-bad-data.html" rel="alternate"></link><published>2014-01-16T00:00:00-07:00</published><updated>2014-01-16T00:00:00-07:00</updated><author><name>Adam &lt;keflavich@gmail.com&gt;</name></author><id>tag:keflavich.github.io,2014-01-16:/blog/w51-mapping-flagging-bad-data.html</id><summary type="html">&lt;p&gt;In the process of creating W51 data cubes from the GBT mapping data (project
GBT 10B/019), I've had to deal with a lot of bad data.&lt;/p&gt;
&lt;p&gt;Some of the bad data comes from misbehaving electronics.  All I can say is that
they were misbehaving, not how or why - the …&lt;/p&gt;</summary><content type="html">&lt;p&gt;In the process of creating W51 data cubes from the GBT mapping data (project
GBT 10B/019), I've had to deal with a lot of bad data.&lt;/p&gt;
&lt;p&gt;Some of the bad data comes from misbehaving electronics.  All I can say is that
they were misbehaving, not how or why - the data from one polarizaiton simply
disagrees with the other polarization and feeds spontaneously and for no
apparent reason.&lt;/p&gt;
&lt;p&gt;I've implemented a waterfall diagnostic plot to help examine the data, it is in
my &lt;a class="reference external" href="https://github.com/keflavich/mpl_plot_templates"&gt;mpl_plot_templates&lt;/a&gt; repository: &lt;a class="reference external" href="https://github.com/keflavich/mpl_plot_templates/blob/master/mpl_plot_templates/imdiagnostics.py"&gt;imdiagnostics.py&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;A good waterfall looks something like this:&lt;/p&gt;
&lt;img alt="" src="https://keflavich.github.io/blog/images/w51/Session17_111to186_D37_F2_data_scrubbed_flagged.png" style="width: 800px;" /&gt;
&lt;p&gt;The line plots show the average and standard deviation along each axis; the
right side effectively shows timestream continuum data while the top plots show
a time-averaged spectrum.  This plot is good in that there are clearly signals
detected as the scan crosses continuum sources and there is a strong Helium
Alpha line detected in the average (though there's no way to read that it's
Helium fromt he data as presented).
Notably, the noise correlates with the continuum brightness - this is expected;
higher TSYS leads to higher noise.&lt;/p&gt;
&lt;img alt="" src="https://keflavich.github.io/blog/images/w51/Session22_10to41_D37_F2_data_scrubbed_flagged.png" style="width: 800px;" /&gt;
&lt;p&gt;This is an example of a data set with some extremely irritating artifacts.
There are apparent absorption lines throughout the spectrum: they are not real.
This is a particularly irritating problem because I had resolved it once in the
not-too-distant past, but I can't figure out how!!  Most likely, I just removed
the data from the maps, but that SHOULD be in the code history (git) and is not.&lt;/p&gt;
</content><category term="misc"></category><category term="W51"></category><category term="GBT"></category></entry><entry><title>Regrid an image (or cube) using CASA</title><link href="https://keflavich.github.io/blog/regrid-an-image-or-cube-using-casa.html" rel="alternate"></link><published>2013-12-18T17:52:00-07:00</published><updated>2013-12-18T17:52:00-07:00</updated><author><name>Adam Ginsburg &lt;adam.g.ginsburg@gmail.com&gt;</name></author><id>tag:keflavich.github.io,2013-12-18:/blog/regrid-an-image-or-cube-using-casa.html</id><summary type="html">&lt;p&gt;In order to regrid an image, you need some target reprojection.  The simplest way to acquire such a reprojection
is by extracting it from another image, e.g. a &lt;a class="reference external" href="casaguides.nrao.edu/index.php?title=FITStoImage"&gt;FITS image&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;(I use &lt;cite&gt;&amp;gt;&amp;gt;&amp;gt;&lt;/cite&gt; to indicate the &lt;cite&gt;CASA &amp;lt;#&amp;gt;:&lt;/cite&gt; prompt here because it allows you to copy &amp;amp; paste the code into CASA …&lt;/p&gt;</summary><content type="html">&lt;p&gt;In order to regrid an image, you need some target reprojection.  The simplest way to acquire such a reprojection
is by extracting it from another image, e.g. a &lt;a class="reference external" href="casaguides.nrao.edu/index.php?title=FITStoImage"&gt;FITS image&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;(I use &lt;cite&gt;&amp;gt;&amp;gt;&amp;gt;&lt;/cite&gt; to indicate the &lt;cite&gt;CASA &amp;lt;#&amp;gt;:&lt;/cite&gt; prompt here because it allows you to copy &amp;amp; paste the code into CASA)&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="o"&gt;&amp;gt;&amp;gt;&amp;gt;&lt;/span&gt; &lt;span class="n"&gt;header&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;imregrid&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;imagename&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;file.image&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;template&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;get&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;This header will be a python dictionary with two keys, &lt;cite&gt;csys&lt;/cite&gt;, which specifies
the coordinate system, and &lt;cite&gt;shap&lt;/cite&gt;, which gives the shape.&lt;/p&gt;
&lt;p&gt;If you want to write up your own FITS header and you don't have a FITS file
with those exact coordinates, you can use the &lt;a class="reference external" href="https://github.com/keflavich/casa_tools/blob/master/casa_tools/header_to_template.py#L11"&gt;header_to_template&lt;/a&gt; convenience
tool in &lt;a class="reference external" href="https://github.com/keflavich/casa_tools"&gt;casa_tools&lt;/a&gt;.&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="o"&gt;&amp;gt;&amp;gt;&amp;gt;&lt;/span&gt; &lt;span class="kn"&gt;from&lt;/span&gt; &lt;span class="nn"&gt;casa_tools&lt;/span&gt; &lt;span class="kn"&gt;import&lt;/span&gt; &lt;span class="n"&gt;header_to_template&lt;/span&gt;
&lt;span class="o"&gt;&amp;gt;&amp;gt;&amp;gt;&lt;/span&gt; &lt;span class="kn"&gt;from&lt;/span&gt; &lt;span class="nn"&gt;astropy.io&lt;/span&gt; &lt;span class="kn"&gt;import&lt;/span&gt; &lt;span class="n"&gt;fits&lt;/span&gt;
&lt;span class="o"&gt;&amp;gt;&amp;gt;&amp;gt;&lt;/span&gt; &lt;span class="n"&gt;fits_header&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;fits&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;Header&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;fromtextfile&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;my_header.hdr&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="o"&gt;&amp;gt;&amp;gt;&amp;gt;&lt;/span&gt; &lt;span class="n"&gt;header&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;header_to_template&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;fits_header&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;In order to regrid the file, you then need to pass in the image name and template to imregrid.&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="o"&gt;&amp;gt;&amp;gt;&amp;gt;&lt;/span&gt; &lt;span class="n"&gt;imregrid&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;imagename&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;file.image&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;
&lt;span class="o"&gt;...&lt;/span&gt;          &lt;span class="n"&gt;template&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="n"&gt;header&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;
&lt;span class="o"&gt;...&lt;/span&gt;          &lt;span class="n"&gt;output&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;file_regrid.image&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;If your input image's header did not include a 'telescope' keyword, CASA will complain:&lt;/p&gt;
&lt;blockquote&gt;
2013-12-18 16:46:33 SEVERE  imregrid::ImageRegrid::regrid (file /opt/casa/release-4_1_0-release-1/darwin64/include/casacore/images/Images/ImageRegrid.tcc, line 118)        Cannot find the observatory name UNKNOWN in the CASA&lt;/blockquote&gt;
&lt;p&gt;You can add the keyword to the header yourself:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="o"&gt;&amp;gt;&amp;gt;&amp;gt;&lt;/span&gt; &lt;span class="n"&gt;imhead&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;file.image&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;
&lt;span class="o"&gt;...&lt;/span&gt;        &lt;span class="n"&gt;mode&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;put&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;
&lt;span class="o"&gt;...&lt;/span&gt;        &lt;span class="n"&gt;hdkey&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;telescope&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;
&lt;span class="o"&gt;...&lt;/span&gt;        &lt;span class="n"&gt;hdvalue&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;Arecibo&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;div class="section" id="references"&gt;
&lt;h2&gt;References&lt;/h2&gt;
&lt;blockquote&gt;
&lt;ul class="simple"&gt;
&lt;li&gt;&lt;a class="reference external" href="http://www.eso.org/projects/alma/arc/tw/pub/External/EUARCCASATutorialJan2012/ImageAnalysis-CASA.pdf"&gt;Sebastian Muller's presentation&lt;/a&gt; (page 16)&lt;/li&gt;
&lt;li&gt;&lt;a class="reference external" href="http://casa.nrao.edu/docs/casaref/image.regrid.html"&gt;imregrid docs&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/blockquote&gt;
&lt;/div&gt;
</content><category term="misc"></category><category term="W51"></category><category term="GBT"></category></entry><entry><title>Converting a FITS cube to a CASA Image</title><link href="https://keflavich.github.io/blog/converting-a-fits-cube-to-a-casa-image.html" rel="alternate"></link><published>2013-12-18T15:15:00-07:00</published><updated>2013-12-18T15:15:00-07:00</updated><author><name>Adam Ginsburg &lt;adam.g.ginsburg@gmail.com&gt;</name></author><id>tag:keflavich.github.io,2013-12-18:/blog/converting-a-fits-cube-to-a-casa-image.html</id><summary type="html">&lt;p&gt;If you want to perform analysis on a FITS file in CASA, you first need to
import it into &lt;cite&gt;.image&lt;/cite&gt; format.&lt;/p&gt;
&lt;blockquote&gt;
importfits('file.fits','file.image')&lt;/blockquote&gt;
&lt;p&gt;If this works, great!  You can move on.  CASA will treat NaN values in an image
as 'masked'.&lt;/p&gt;
&lt;div class="section" id="dealing-with-errors"&gt;
&lt;h2&gt;Dealing with Errors&lt;/h2&gt;
&lt;p&gt;There may be …&lt;/p&gt;&lt;/div&gt;</summary><content type="html">&lt;p&gt;If you want to perform analysis on a FITS file in CASA, you first need to
import it into &lt;cite&gt;.image&lt;/cite&gt; format.&lt;/p&gt;
&lt;blockquote&gt;
importfits('file.fits','file.image')&lt;/blockquote&gt;
&lt;p&gt;If this works, great!  You can move on.  CASA will treat NaN values in an image
as 'masked'.&lt;/p&gt;
&lt;div class="section" id="dealing-with-errors"&gt;
&lt;h2&gt;Dealing with Errors&lt;/h2&gt;
&lt;p&gt;There may be issues with FITS headers.  CASA respects a large number of header
keys (&lt;a class="reference external" href="http://www.eso.org/projects/alma/arc/tw/pub/External/EUARCCASATutorialJan2012/ImageAnalysis-CASA.pdf"&gt;reference&lt;/a&gt;).&lt;/p&gt;
&lt;p&gt;There are many ways to edit a FITS header.  One of the most straightforward to
use is &lt;a class="reference external" href="http://tdc-www.harvard.edu/wcstools/edhead.html"&gt;edhead&lt;/a&gt;.  Otherwise, one can use CASA's &lt;a class="reference external" href="http://casaguides.nrao.edu/index.php?title=Imhead"&gt;imhead&lt;/a&gt;&lt;/p&gt;
&lt;table border="1" class="docutils"&gt;
&lt;colgroup&gt;
&lt;col width="14%" /&gt;
&lt;col width="14%" /&gt;
&lt;col width="71%" /&gt;
&lt;/colgroup&gt;
&lt;tbody valign="top"&gt;
&lt;tr&gt;&lt;td&gt;CASA Keyword&lt;/td&gt;
&lt;td&gt;FITS keyword&lt;/td&gt;
&lt;td&gt;Description&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;&lt;td&gt;beammaj&lt;/td&gt;
&lt;td&gt;BMAJ&lt;/td&gt;
&lt;td&gt;Major&amp;nbsp;axis&amp;nbsp;of&amp;nbsp;the&amp;nbsp;clean&amp;nbsp;beam&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;&lt;td&gt;beammin&lt;/td&gt;
&lt;td&gt;BMIN&lt;/td&gt;
&lt;td&gt;Minor&amp;nbsp;axis&amp;nbsp;of&amp;nbsp;the&amp;nbsp;clean&amp;nbsp;beam&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;&lt;td&gt;beampa&lt;/td&gt;
&lt;td&gt;BPA&lt;/td&gt;
&lt;td&gt;Position&amp;nbsp;angle&amp;nbsp;of&amp;nbsp;the&amp;nbsp;clean&amp;nbsp;beam&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;&lt;td&gt;bunit&lt;/td&gt;
&lt;td&gt;BUNIT&lt;/td&gt;
&lt;td&gt;Brightness&amp;nbsp;unit&amp;nbsp;(K,&amp;nbsp;Jy/beam,&amp;nbsp;etc)&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;&lt;td&gt;cdeltn&lt;/td&gt;
&lt;td&gt;CDELTn&lt;/td&gt;
&lt;td&gt;Pixel&amp;nbsp;size,&amp;nbsp;nth&amp;nbsp;axis&amp;nbsp;&amp;nbsp;(max&amp;nbsp;n&amp;nbsp;is&amp;nbsp;4)&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;&lt;td&gt;crpixn&lt;/td&gt;
&lt;td&gt;CRPIXn&lt;/td&gt;
&lt;td&gt;Pixel&amp;nbsp;coordinate&amp;nbsp;of&amp;nbsp;reference&amp;nbsp;point,&amp;nbsp;nth&amp;nbsp;axis&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;&lt;td&gt;crvaln&lt;/td&gt;
&lt;td&gt;CRVALn&lt;/td&gt;
&lt;td&gt;Pixel&amp;nbsp;location&amp;nbsp;of&amp;nbsp;reference&amp;nbsp;point,&amp;nbsp;nth&amp;nbsp;axis&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;&lt;td&gt;ctypen&lt;/td&gt;
&lt;td&gt;CTYPEn&lt;/td&gt;
&lt;td&gt;Axis&amp;nbsp;name,&amp;nbsp;nth&amp;nbsp;axis.  For FITS, this includes the projection&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;&lt;td&gt;cunitn&lt;/td&gt;
&lt;td&gt;CUNITn&lt;/td&gt;
&lt;td&gt;Pixel&amp;nbsp;units,&amp;nbsp;nth&amp;nbsp;axis&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;&lt;td&gt;datamax&lt;/td&gt;
&lt;td&gt;DATAMAX&lt;/td&gt;
&lt;td&gt;Maximum&amp;nbsp;pixel&amp;nbsp;value&amp;nbsp;in&amp;nbsp;image&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;&lt;td&gt;datamin&lt;/td&gt;
&lt;td&gt;DATAMIN&lt;/td&gt;
&lt;td&gt;Minimum&amp;nbsp;pixel&amp;nbsp;value&amp;nbsp;in&amp;nbsp;image&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;&lt;td&gt;date-obs&lt;/td&gt;
&lt;td&gt;DATE-OBS&lt;/td&gt;
&lt;td&gt;Date&amp;nbsp;of&amp;nbsp;the&amp;nbsp;observation&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;&lt;td&gt;equinox&lt;/td&gt;
&lt;td&gt;EQUINOX&lt;/td&gt;
&lt;td&gt;Reference&amp;nbsp;frame&amp;nbsp;for&amp;nbsp;directional&amp;nbsp;coordinates&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;&lt;td&gt;imtype&lt;/td&gt;
&lt;td&gt;&lt;ul class="first last simple"&gt;
&lt;li&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/td&gt;
&lt;td&gt;Image&amp;nbsp;type:&amp;nbsp;intensity,&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;&lt;td&gt;minpos&lt;/td&gt;
&lt;td&gt;&lt;ul class="first last simple"&gt;
&lt;li&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/td&gt;
&lt;td&gt;Position&amp;nbsp;of&amp;nbsp;the&amp;nbsp;minimum&amp;nbsp;value&amp;nbsp;(world&amp;nbsp;unit)&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;&lt;td&gt;minpixpos&lt;/td&gt;
&lt;td&gt;&lt;ul class="first last simple"&gt;
&lt;li&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/td&gt;
&lt;td&gt;Same&amp;nbsp;in&amp;nbsp;pixel&amp;nbsp;(array)&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;&lt;td&gt;maxpos&lt;/td&gt;
&lt;td&gt;&lt;ul class="first last simple"&gt;
&lt;li&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/td&gt;
&lt;td&gt;Position&amp;nbsp;of&amp;nbsp;the&amp;nbsp;maximum&amp;nbsp;value&amp;nbsp;(world&amp;nbsp;unit)&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;&lt;td&gt;maxpixpos&lt;/td&gt;
&lt;td&gt;&lt;ul class="first last simple"&gt;
&lt;li&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/td&gt;
&lt;td&gt;Same&amp;nbsp;in&amp;nbsp;pixel&amp;nbsp;(array)&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;&lt;td&gt;object&lt;/td&gt;
&lt;td&gt;OBJECT&lt;/td&gt;
&lt;td&gt;Source&amp;nbsp;name&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;&lt;td&gt;observer&lt;/td&gt;
&lt;td&gt;OBSERVER&lt;/td&gt;
&lt;td&gt;Observer&amp;nbsp;name&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;&lt;td&gt;projection&lt;/td&gt;
&lt;td&gt;CTYPEn&lt;/td&gt;
&lt;td&gt;Image&amp;nbsp;projection&amp;nbsp;('SIN','TAN',&amp;nbsp;or&amp;nbsp;'ZEA')&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;&lt;td&gt;reffreqtype&lt;/td&gt;
&lt;td&gt;&lt;ul class="first last simple"&gt;
&lt;li&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/td&gt;
&lt;td&gt;Reference&amp;nbsp;frame&amp;nbsp;for&amp;nbsp;the&amp;nbsp;spectral&amp;nbsp;coordinates&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;&lt;td&gt;restfreq&lt;/td&gt;
&lt;td&gt;RESTFREQ&lt;/td&gt;
&lt;td&gt;Rest&amp;nbsp;Frequency&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;&lt;td&gt;shape&lt;/td&gt;
&lt;td&gt;NAXISn&lt;/td&gt;
&lt;td&gt;Number&amp;nbsp;of&amp;nbsp;pixels&amp;nbsp;along&amp;nbsp;each&amp;nbsp;axis&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;&lt;td&gt;telescope&lt;/td&gt;
&lt;td&gt;TELESCOP&lt;/td&gt;
&lt;td&gt;Telescope&amp;nbsp;name&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;p&gt;What does it mean if you get this sort of error?&lt;/p&gt;
&lt;blockquote&gt;
CASA &amp;lt;1&amp;gt;: importfits('file.fits','file.image')
2013-12-18 13:06:18     WARN    importfits::FITSCoordinateUtil::fromFITSHeader  The wcs function failures are too severe to continue ...
2013-12-18 13:06:18     WARN    importfits::ImageFITSConverterImpl::FITSToImage (file /var/rpmbuild/BUILD/casapy-stable/casapy-stable-42.0.26945/casacore/images/Images/ImageFITSConverter.tcc, line 71)       No proper coordinate system defined in FITS file. Using dummy linear system instead.&lt;/blockquote&gt;
&lt;p&gt;First, go to the &lt;cite&gt;casapy-yyyymmdd-hhmmss.log&lt;/cite&gt; file and look at the errors.&lt;/p&gt;
&lt;blockquote&gt;
2013-12-18 13:06:18     INFO    importfits::FITSCoordinateUtil::fromFITSHeader  celfix incurred the error Inconsistent or unrecognized coordinate axis types
2013-12-18 13:06:18     INFO    importfits::FITSCoordinateUtil::fromFITSHeader  spcfix incurred the error Inconsistent or unrecognized coordinate axis types
2013-12-18 13:06:18     INFO    importfits::FITSCoordinateUtil::fromFITSHeader  cylfix incurred the error Inconsistent or unrecognized coordinate axis types&lt;/blockquote&gt;
&lt;p&gt;In my case, the error turned out to be that &lt;cite&gt;CTYPE3&lt;/cite&gt; was set to &lt;cite&gt;RADI-LSR&lt;/cite&gt;,
while it should be &lt;cite&gt;VELO-LSR&lt;/cite&gt; to be recognized by the CASA system.  The
velocity convention is, unfortunately, lost.&lt;/p&gt;
&lt;/div&gt;
</content><category term="misc"></category><category term="W51"></category><category term="GBT"></category></entry><entry><title>There is a "gap" in the dust around Sgr B2</title><link href="https://keflavich.github.io/blog/there-is-a-gap-in-the-dust-around-sgr-b2.html" rel="alternate"></link><published>2013-12-13T00:00:00-07:00</published><updated>2013-12-13T00:00:00-07:00</updated><author><name>Adam &lt;keflavich@gmail.com&gt;</name></author><id>tag:keflavich.github.io,2013-12-13:/blog/there-is-a-gap-in-the-dust-around-sgr-b2.html</id><summary type="html">&lt;p&gt;Sgr B2 is the most massive gas clump in our Galaxy.  It's about 100 pc away
from Sgr A*, the black hole at the center of the Galaxy.  It is forming stars
prodigiously, and has extreme properties in many regards.&lt;/p&gt;
&lt;p&gt;In many physical aspects - mass, luminosity, velocity dispersion, temperature -
the …&lt;/p&gt;</summary><content type="html">&lt;p&gt;Sgr B2 is the most massive gas clump in our Galaxy.  It's about 100 pc away
from Sgr A*, the black hole at the center of the Galaxy.  It is forming stars
prodigiously, and has extreme properties in many regards.&lt;/p&gt;
&lt;p&gt;In many physical aspects - mass, luminosity, velocity dispersion, temperature -
the Sgr B2 region is similar to &amp;quot;proto-cluster clumps&amp;quot; seen in other galaxies,
e.g. the Antennae galaxies.&lt;/p&gt;
&lt;p&gt;There are plenty of mysteries about Sgr B2, including its extraordinarily
diverse chemistry and its peculiar kinematics.&lt;/p&gt;
&lt;p&gt;I'm raising a sort of new one.  There appears to be a hole next to Sgr B2,
towards the southeast in Galactic coordinates.  It appears as a relatively
empty spot in the dust continuum bands.  It doesn't seem to be filled in
with anything in particular.&lt;/p&gt;
&lt;html&gt;
&lt;div class="output_html rendered_html"&gt;

    &lt;script type="text/javascript"&gt;

      var image_dir='blog/images/sgrb2/'

      var images=new Array(
                   "TheGap_GLM_00000+0000_mosaic_I2.png",
                   "TheGap_GLM_00000+0000_mosaic_I4.png",
                   "TheGap_gcmosaic_24um.png",
                   "TheGap_igls_l000_blue_cnr_hh.png",
                   "TheGap_igls_l000_red_cnr_hh.png",
                   "TheGap_igls_l000_psw_deglitch_hh.png",
                   "TheGap_igls_l000_pmw_deglitch_hh.png",
                   "TheGap_SgrB2_350um_gal.png",
                   "TheGap_gc450_gal.png",
                   "TheGap_igls_l000_plw_deglitch_hh.png",
                   "TheGap_gc850_gal.png",
                   "TheGap_ATLASGAL.1.5_reprojectoverlap9.png",
                   "TheGap_v2.0_ds2_l001_13pca_map20.png",
                   //"TheGap_sgrb2_nh311_sum.png",
                   "TheGap_sgrb2_20cm_12as_gal.png",
                   "TheGap_20cm_0.png"
                   )
      var titles=new Array(
                   "4.5um",
                   "8um",
                   "24um",
                   "70um",
                   "160um",
                   "250um",
                   "350um Herschel",
                   "350um SHARC",
                   "450um",
                   "500um",
                   "850um SCUBA",
                   "870um ATLASGAL",
                   "1100um",
                   //"1.3cm NH3",
                   "20cm",
                   "20cm (poor resolution)"
                   )

      function interactUpdate(div){
         var outputs = div.getElementsByTagName("img");
         var divoutputs = div.getElementsByTagName("div");
         var controls = div.getElementsByTagName("input");

         var value = "";
         for(i=0; i&lt;controls.length; i++){
           if((controls[i].type == "range") || controls[i].checked){
             //value = value + controls[i].getAttribute("name") + controls[i].value;
             value = controls[i].value;
           }
         }

         for(i=0; i&lt;outputs.length; i++){
           var name = outputs[i].getAttribute("name");
           if(name=="figure"){
                 outputs[i].src = image_dir+images[value]
           }
         }

         for(i=0; i&lt;divoutputs.length; i++){
           var name = divoutputs[i].getAttribute("name");
           if(name=="caption"){
                 divoutputs[i].innerHTML = titles[value];
           }
         }

         //for(i=0; i&lt;images.length; i++){
         //  var name = outputs[i].getAttribute("name");
         //  if(name == value){
         //     outputs[i].style.display = 'block';
         //  } else if(name != "controls"){
         //     outputs[i].style.display = 'none';
         //  }
         //}
      }
    &lt;/script&gt;
    
    &lt;div&gt;
      
    &lt;div name="figure" style="display:block"&gt;
        &lt;div name="caption"&gt;
            20cm
        &lt;/div&gt;
        &lt;img name="figure" src="blog/images/sgrb2/TheGap_20cm_0.png" height=600px&gt;
    &lt;/div&gt;

&lt;input type="range" name="figure" min="0" max="14" step="1" value="0" style="width:350px" onchange="interactUpdate(this.parentNode);"&gt;
&lt;/html&gt;
&lt;p&gt;Note the slider here: you can view Sgr B2 at any wavelength where I have data.
The green circle highlights the major deficiency that is evident in all
dust-containing bands.  There are other &amp;quot;minor&amp;quot; deficiencies elsewhere.&lt;/p&gt;
&lt;p&gt;It is tricky to interpret this: I don't think the absolute flux densities in
any of the millimeter observations are perfectly trustworthy because of their
proximity to the extremely bright Sgr B2 point sources.&lt;/p&gt;
&lt;p&gt;Additionally, this gap is not perfectly evident in NH3 or CO.  In the HOPS NH3
maps, there is a relative lack of emission at ~56 km/s - relative to
neighboring regions; this is actually the peak of the line profile extracted
from the ellipse!&lt;/p&gt;
&lt;p&gt;This is in contrast to the central &amp;quot;Gas Hole&amp;quot; which has been noted by others;
it exists in CO and NH3.  There is almost certainly some NH3 self-absorption
involved.  The &amp;quot;Gas Hole&amp;quot; coincides with the peak in other gas species and the
peak in the dust emission, so it really seems to be a different phenomenon,
having to do with line-of-sight confusion and excitation conditions.&lt;/p&gt;
&lt;p&gt;The one feature of the &amp;quot;dust gap&amp;quot; that distinguishes this part of Sgr B2 from
the other regions surrounding it is that 8 micron emission can readily be
observed here.  A little 24 micron emission is in the gap as well, but not as
much as the 8 micron.  The 70 micron emission is quite weak, but not really
deficient.  Perhaps in this region, very small grains are more common than in
its surroundings?&lt;/p&gt;
&lt;p&gt;There's a lot more hypothesizing to be done here.&lt;/p&gt;
</content><category term="misc"></category><category term="python"></category><category term="blogging"></category><category term="meta"></category></entry><entry><title>Notes from the ISM-PP conference: Day 5</title><link href="https://keflavich.github.io/blog/notes-from-the-ism-pp-conference-day-5.html" rel="alternate"></link><published>2013-10-25T00:00:00-06:00</published><updated>2013-10-25T00:00:00-06:00</updated><author><name>Adam Ginsburg</name></author><id>tag:keflavich.github.io,2013-10-25:/blog/notes-from-the-ism-pp-conference-day-5.html</id><summary type="html">&lt;div class="section" id="linda-tacconi"&gt;
&lt;h2&gt;Linda Tacconi&lt;/h2&gt;
&lt;dl class="docutils"&gt;
&lt;dt&gt;High-redshift&lt;/dt&gt;
&lt;dd&gt;&lt;ul class="first last simple"&gt;
&lt;li&gt;Outflows with mass-loading parameters 1-10&lt;/li&gt;
&lt;li&gt;velocity dispersions 25-80 km/s
+ seen in both CO and H-alpha&lt;/li&gt;
&lt;/ul&gt;
&lt;/dd&gt;
&lt;/dl&gt;
&lt;/div&gt;
&lt;div class="section" id="avishai-dekel-violent-disk-instability"&gt;
&lt;h2&gt;Avishai Dekel: Violent Disk Instability&lt;/h2&gt;
&lt;dl class="docutils"&gt;
&lt;dt&gt;Galaxies form at nodes in web at high z&lt;/dt&gt;
&lt;dd&gt;&lt;ul class="first last simple"&gt;
&lt;li&gt;disk surrounded by messy &amp;quot;interaction region&amp;quot;&lt;/li&gt;
&lt;li&gt;disk outflows observed&lt;/li&gt;
&lt;li&gt;Toomre unstable clumps ~10^9 msun
+ dynamically dominant …&lt;/li&gt;&lt;/ul&gt;&lt;/dd&gt;&lt;/dl&gt;&lt;/div&gt;</summary><content type="html">&lt;div class="section" id="linda-tacconi"&gt;
&lt;h2&gt;Linda Tacconi&lt;/h2&gt;
&lt;dl class="docutils"&gt;
&lt;dt&gt;High-redshift&lt;/dt&gt;
&lt;dd&gt;&lt;ul class="first last simple"&gt;
&lt;li&gt;Outflows with mass-loading parameters 1-10&lt;/li&gt;
&lt;li&gt;velocity dispersions 25-80 km/s
+ seen in both CO and H-alpha&lt;/li&gt;
&lt;/ul&gt;
&lt;/dd&gt;
&lt;/dl&gt;
&lt;/div&gt;
&lt;div class="section" id="avishai-dekel-violent-disk-instability"&gt;
&lt;h2&gt;Avishai Dekel: Violent Disk Instability&lt;/h2&gt;
&lt;dl class="docutils"&gt;
&lt;dt&gt;Galaxies form at nodes in web at high z&lt;/dt&gt;
&lt;dd&gt;&lt;ul class="first last simple"&gt;
&lt;li&gt;disk surrounded by messy &amp;quot;interaction region&amp;quot;&lt;/li&gt;
&lt;li&gt;disk outflows observed&lt;/li&gt;
&lt;li&gt;Toomre unstable clumps ~10^9 msun
+ dynamically dominant (unlike MW clumps)
+ violent instability, not secular&lt;/li&gt;
&lt;li&gt;long time spent in disks&lt;/li&gt;
&lt;li&gt;Stellar-dominated galaxies at z~1 stop &amp;quot;VDI&amp;quot;
+ bulge stabilizes inner part of galaxy&lt;/li&gt;
&lt;li&gt;&amp;quot;clumps&amp;quot; are rapidly spinnign&lt;/li&gt;
&lt;li&gt;both VDI and &amp;quot;ex-situ&amp;quot; dark matter clumps&lt;/li&gt;
&lt;li&gt;universal SF law: divide by t_ff
+ t_ff is either Toomre tff or gmc tff&lt;/li&gt;
&lt;li&gt;&amp;quot;redshift 2 is the only important phase, forget about z=0&amp;quot;&lt;/li&gt;
&lt;li&gt;Steve: How does &amp;quot;universal law&amp;quot; fit with Galactic CMZ?
+ Ignorance.  Ask Mark.&lt;/li&gt;
&lt;li&gt;Rahul: Toomre Q threshold only works for infinitely thin disk.  Shouldn't
threshold be lower because of thick disk?&lt;/li&gt;
&lt;li&gt;Goldreich &amp;amp; Linden-Bell: 30% effect.  Elmegreen addresses this.&lt;/li&gt;
&lt;/ul&gt;
&lt;/dd&gt;
&lt;/dl&gt;
&lt;/div&gt;
</content><category term="ismpp"></category><category term="conference"></category><category term="ismpp"></category></entry><entry><title>Notes from the ISM-PP conference Day 4</title><link href="https://keflavich.github.io/blog/notes-from-the-ism-pp-conference-day-4.html" rel="alternate"></link><published>2013-10-24T00:00:00-06:00</published><updated>2013-10-24T00:00:00-06:00</updated><author><name>Adam Ginsburg</name></author><id>tag:keflavich.github.io,2013-10-24:/blog/notes-from-the-ism-pp-conference-day-4.html</id><summary type="html">&lt;div class="section" id="alberto-bolatto"&gt;
&lt;h2&gt;Alberto Bolatto&lt;/h2&gt;
&lt;p&gt;GMC lifetime: 100 Myr (Scoville 79, Koda)
Size-linewidth relation:&lt;/p&gt;
&lt;blockquote&gt;
&lt;ul class="simple"&gt;
&lt;li&gt;Heyer 2001: small, flat dispersion clouds&lt;/li&gt;
&lt;li&gt;outer galaxy clouds contained by external pressure&lt;/li&gt;
&lt;/ul&gt;
&lt;/blockquote&gt;
&lt;p&gt;Dust in IGM hints at molecular Galactic outflows&lt;/p&gt;
&lt;/div&gt;
&lt;div class="section" id="jin-koda-molecular-to-total-gas-ratio"&gt;
&lt;h2&gt;Jin Koda: Molecular to Total gas ratio&lt;/h2&gt;
&lt;dl class="docutils"&gt;
&lt;dt&gt;inner 1 kpc 100% molecular&lt;/dt&gt;
&lt;dd&gt;&lt;ul class="first last simple"&gt;
&lt;li&gt;20-30% arm/interarm variations&lt;/li&gt;
&lt;li&gt;molecules within …&lt;/li&gt;&lt;/ul&gt;&lt;/dd&gt;&lt;/dl&gt;&lt;/div&gt;</summary><content type="html">&lt;div class="section" id="alberto-bolatto"&gt;
&lt;h2&gt;Alberto Bolatto&lt;/h2&gt;
&lt;p&gt;GMC lifetime: 100 Myr (Scoville 79, Koda)
Size-linewidth relation:&lt;/p&gt;
&lt;blockquote&gt;
&lt;ul class="simple"&gt;
&lt;li&gt;Heyer 2001: small, flat dispersion clouds&lt;/li&gt;
&lt;li&gt;outer galaxy clouds contained by external pressure&lt;/li&gt;
&lt;/ul&gt;
&lt;/blockquote&gt;
&lt;p&gt;Dust in IGM hints at molecular Galactic outflows&lt;/p&gt;
&lt;/div&gt;
&lt;div class="section" id="jin-koda-molecular-to-total-gas-ratio"&gt;
&lt;h2&gt;Jin Koda: Molecular to Total gas ratio&lt;/h2&gt;
&lt;dl class="docutils"&gt;
&lt;dt&gt;inner 1 kpc 100% molecular&lt;/dt&gt;
&lt;dd&gt;&lt;ul class="first last simple"&gt;
&lt;li&gt;20-30% arm/interarm variations&lt;/li&gt;
&lt;li&gt;molecules within interam and in arms, but clumps only in arms
+ Sawada 2012
+ Power-Law tails in arms, but not in interarms&lt;/li&gt;
&lt;li&gt;GRS more clumpy in arms&lt;/li&gt;
&lt;li&gt;arm/interarm comparison in M51
+ 2-3x increase in T or rho in spiral arms&lt;/li&gt;
&lt;li&gt;Q Diederich: interarm clouds short-lived?  Not self-gravitating?&lt;/li&gt;
&lt;li&gt;A: Molecular gas is surviving, small clumps are self-gravitating&lt;/li&gt;
&lt;li&gt;Why is BDI higher at tangent point?&lt;/li&gt;
&lt;li&gt;What about Bania's clump?&lt;/li&gt;
&lt;/ul&gt;
&lt;/dd&gt;
&lt;/dl&gt;
&lt;/div&gt;
&lt;div class="section" id="superbubbles-as-a-physical-process-in-the-ism-15-martin-krause"&gt;
&lt;h2&gt;Superbubbles as a physical process in the ISM 15': Martin Krause&lt;/h2&gt;
&lt;dl class="docutils"&gt;
&lt;dt&gt;Al26 is much faster than spiral arms&lt;/dt&gt;
&lt;dd&gt;&lt;ul class="first last simple"&gt;
&lt;li&gt;Too fast orbital velocity...&lt;/li&gt;
&lt;/ul&gt;
&lt;/dd&gt;
&lt;dt&gt;My question: What is the scale height?  What directions is the Al26 going?&lt;/dt&gt;
&lt;dd&gt;&lt;ul class="first last simple"&gt;
&lt;li&gt;expand 100 pc in all directions except back along the line of sight
+ Are the velocities consistent with the stellar velocity distribution?&lt;/li&gt;
&lt;/ul&gt;
&lt;/dd&gt;
&lt;/dl&gt;
&lt;/div&gt;
&lt;div class="section" id="star-formation-in-molecular-gas-outside-galaxies-ute-lisenfeld"&gt;
&lt;h2&gt;Star Formation in molecular gas outside galaxies: Ute Lisenfeld&lt;/h2&gt;
&lt;dl class="docutils"&gt;
&lt;dt&gt;Galaxies star forming, extragalactic gas with high column &amp;amp; high velocity dispersion not&lt;/dt&gt;
&lt;dd&gt;&lt;ul class="first last simple"&gt;
&lt;li&gt;colliding galaxies: intergalactic region full of molecular gas&lt;/li&gt;
&lt;/ul&gt;
&lt;/dd&gt;
&lt;/dl&gt;
&lt;/div&gt;
&lt;div class="section" id="andreas-schruba-carma-iram-andromeda-survey"&gt;
&lt;h2&gt;Andreas Schruba: CARMA + IRAM Andromeda survey&lt;/h2&gt;
&lt;blockquote&gt;
&lt;ul class="simple"&gt;
&lt;li&gt;All-galaxy survey with IRAM
+ 175 hr, 335 mosaic for &amp;quot;Brick 15&amp;quot;&lt;/li&gt;
&lt;li&gt;most clouds unbound or pressure bound&lt;/li&gt;
&lt;li&gt;size-linewidth relation: still lots of scatter&lt;/li&gt;
&lt;li&gt;sigma^2/r vs surface brightness (same as Heyer 2009 plot)
+ no correlation with any parameters...&lt;/li&gt;
&lt;li&gt;clouds in strongest star-forming regions have largest LOS velocity differences&lt;/li&gt;
&lt;/ul&gt;
&lt;/blockquote&gt;
&lt;/div&gt;
&lt;div class="section" id="rahul-shetty-ks-fitting"&gt;
&lt;h2&gt;Rahul Shetty: KS fitting&lt;/h2&gt;
&lt;dl class="docutils"&gt;
&lt;dt&gt;Linear relation indicates constant depletion timescale&lt;/dt&gt;
&lt;dd&gt;&lt;ul class="first last simple"&gt;
&lt;li&gt;super-linear: efficiency increases with increasing density&lt;/li&gt;
&lt;li&gt;linear: constant efficiency with gas density
+ GMCs all have similar/same properties
+ t_dep = 2 Gyr&lt;/li&gt;
&lt;li&gt;CO traces individual clouds&lt;/li&gt;
&lt;li&gt;sublinear indicates non-star-forming CO&lt;/li&gt;
&lt;li&gt;no universal or representative depletion time
+ depletion time increases with CO&lt;/li&gt;
&lt;li&gt;Adam Leroy: Surface density of H2 doesn't match surface density of molecular clouds&lt;/li&gt;
&lt;li&gt;Jin: Also found superlinear.  Systematic bias?&lt;/li&gt;
&lt;/ul&gt;
&lt;/dd&gt;
&lt;/dl&gt;
&lt;/div&gt;
&lt;div class="section" id="javier-cardiel-two-regimes-of-sf"&gt;
&lt;h2&gt;Javier Cardiel: Two regimes of SF&lt;/h2&gt;
&lt;dl class="docutils"&gt;
&lt;dt&gt;Looking for triggering&lt;/dt&gt;
&lt;dd&gt;&lt;ul class="first last simple"&gt;
&lt;li&gt;density decreases with size increasing?&lt;/li&gt;
&lt;li&gt;HII regions and molecular clouds have same size-mass relations&lt;/li&gt;
&lt;/ul&gt;
&lt;/dd&gt;
&lt;/dl&gt;
&lt;/div&gt;
&lt;div class="section" id="steve-longmore-ism-in-galactic-centers"&gt;
&lt;h2&gt;Steve Longmore: ISM in Galactic Centers&lt;/h2&gt;
&lt;p&gt;dolphin riding?
Where is MW in hubble tuning fork?&lt;/p&gt;
&lt;blockquote&gt;
&lt;ul class="simple"&gt;
&lt;li&gt;dense gas with no star formation driven inwards by bar&lt;/li&gt;
&lt;li&gt;Meidt M51 PAWS&lt;/li&gt;
&lt;/ul&gt;
&lt;/blockquote&gt;
&lt;p&gt;Molinari Ring: closed orbit...
M83 is a twin
Jay Gallagher's talk: SFR much, much higher in NGC 253 than MW
Discrepancy between Farhad, Steve, and Sandstrom&lt;/p&gt;
&lt;blockquote&gt;
&lt;ul class="simple"&gt;
&lt;li&gt;TOTAL gas: CMZ agrees&lt;/li&gt;
&lt;li&gt;Geometry: Farhad assumed pancake, Steve assumed ring&lt;/li&gt;
&lt;/ul&gt;
&lt;/blockquote&gt;
&lt;dl class="docutils"&gt;
&lt;dt&gt;Kruijssen &amp;amp; Longmore similarity to z=2-3...&lt;/dt&gt;
&lt;dd&gt;&lt;ul class="first last simple"&gt;
&lt;li&gt;CMZ clouds &amp;quot;indistinguishable&amp;quot; in a few parameters from high-Z&lt;/li&gt;
&lt;/ul&gt;
&lt;/dd&gt;
&lt;dt&gt;Turbulent pressure provides the support in the CMZ&lt;/dt&gt;
&lt;dd&gt;&lt;ul class="first last simple"&gt;
&lt;li&gt;environmentally dependent density threshold&lt;/li&gt;
&lt;li&gt;Q Rowan: Constant gradient in cloud properties along the ring?&lt;/li&gt;
&lt;li&gt;Q Semadeni: Turbulence can't provide support.&lt;/li&gt;
&lt;li&gt;Q Keto: Nothing can supply the turbulence&lt;/li&gt;
&lt;li&gt;Q Falgarone: HCO+ absorption, daughter of CO+.  Could trace sites of
turbulence in the medium.  Low density.  Line width comes from intense
shear.&lt;/li&gt;
&lt;/ul&gt;
&lt;/dd&gt;
&lt;/dl&gt;
&lt;/div&gt;
&lt;div class="section" id="tim-davis-ism-in-early-type-galaxies"&gt;
&lt;h2&gt;Tim Davis: ISM in early-type galaxies&lt;/h2&gt;
&lt;dl class="docutils"&gt;
&lt;dt&gt;ISM in CMZs different&lt;/dt&gt;
&lt;dd&gt;&lt;ul class="first last simple"&gt;
&lt;li&gt;some are predominantely molecular (no HI)&lt;/li&gt;
&lt;li&gt;cluster members have different NII/CII ratios&lt;/li&gt;
&lt;li&gt;lower star forming efficiency&lt;/li&gt;
&lt;li&gt;shear increases depletion time&lt;/li&gt;
&lt;li&gt;Q Burkhart: Origin of gas.  Replenishment from stars?&lt;/li&gt;
&lt;li&gt;A: Based on gas vs star kinematics, at least 50% must be accreted.&lt;/li&gt;
&lt;li&gt;Q Kruijssen: Stripping would happen if disk extends to optical radius.  Does it?  Stars should be stripped too&lt;/li&gt;
&lt;li&gt;A: Don't extend to optical radius, but more truncated in clusters&lt;/li&gt;
&lt;li&gt;Q Leroy: Where does tff claim come from...?&lt;/li&gt;
&lt;li&gt;A: assume all mol clds have 85 msun/pc^2...&lt;/li&gt;
&lt;/ul&gt;
&lt;/dd&gt;
&lt;/dl&gt;
&lt;/div&gt;
</content><category term="ismpp"></category><category term="conference"></category><category term="ismpp"></category></entry><entry><title>Notes from the ISM-PP conference Day 3</title><link href="https://keflavich.github.io/blog/notes-from-the-ism-pp-conference-day-3.html" rel="alternate"></link><published>2013-10-23T00:00:00-06:00</published><updated>2013-10-23T00:00:00-06:00</updated><author><name>Adam Ginsburg</name></author><id>tag:keflavich.github.io,2013-10-23:/blog/notes-from-the-ism-pp-conference-day-3.html</id><summary type="html">&lt;div class="section" id="mordecai-mac-low-stellar-feedback"&gt;
&lt;h2&gt;Mordecai Mac-Low: Stellar Feedback&lt;/h2&gt;
&lt;dl class="docutils"&gt;
&lt;dt&gt;SNe explode away from their birthplaces&lt;/dt&gt;
&lt;dd&gt;&lt;ul class="first last simple"&gt;
&lt;li&gt;ionizing radiation contains 10x more energy than SNe&lt;/li&gt;
&lt;li&gt;outer disk SF inadequate to explain kinetic energy observed&lt;/li&gt;
&lt;li&gt;&amp;quot;almost constant velocity dispersion in HI in local universe&amp;quot;&lt;/li&gt;
&lt;li&gt;ionization escape determined within 1pc (Peters)
+ fragmentation starvation&lt;/li&gt;
&lt;li&gt;At high mass, high escape velocity …&lt;/li&gt;&lt;/ul&gt;&lt;/dd&gt;&lt;/dl&gt;&lt;/div&gt;</summary><content type="html">&lt;div class="section" id="mordecai-mac-low-stellar-feedback"&gt;
&lt;h2&gt;Mordecai Mac-Low: Stellar Feedback&lt;/h2&gt;
&lt;dl class="docutils"&gt;
&lt;dt&gt;SNe explode away from their birthplaces&lt;/dt&gt;
&lt;dd&gt;&lt;ul class="first last simple"&gt;
&lt;li&gt;ionizing radiation contains 10x more energy than SNe&lt;/li&gt;
&lt;li&gt;outer disk SF inadequate to explain kinetic energy observed&lt;/li&gt;
&lt;li&gt;&amp;quot;almost constant velocity dispersion in HI in local universe&amp;quot;&lt;/li&gt;
&lt;li&gt;ionization escape determined within 1pc (Peters)
+ fragmentation starvation&lt;/li&gt;
&lt;li&gt;At high mass, high escape velocity, there is less unbound material&lt;/li&gt;
&lt;li&gt;stellar winds relatively unimportant because of their rarity
+ B-stars give SNe, but not wind&lt;/li&gt;
&lt;/ul&gt;
&lt;/dd&gt;
&lt;dt&gt;Radiation Pressure&lt;/dt&gt;
&lt;dd&gt;&lt;ul class="first last simple"&gt;
&lt;li&gt;more effective if more scattering
+ Krumholz &amp;amp; Matzner, Fall: Momentum Driven (0-1 scatterings)
+ Thomson, Murray, Hopkins: Energy Driven (many-scattering)&lt;/li&gt;
&lt;li&gt;Multi-scattering fails: RT instability
+ scattered radiation never dominant&lt;/li&gt;
&lt;li&gt;Lopez 2013: HII-region pressure always dominant; hot gas slightly lower&lt;/li&gt;
&lt;li&gt;Q Fan of CR driven winds.  Galactic winds are multi-phase.  Thoughts?&lt;/li&gt;
&lt;li&gt;A:&lt;/li&gt;
&lt;li&gt;Q Thomas Henning: What about positive feedback?&lt;/li&gt;
&lt;li&gt;A: Will be addressed in next talk.  But, positive feedback is a 10% effect&lt;/li&gt;
&lt;/ul&gt;
&lt;/dd&gt;
&lt;/dl&gt;
&lt;/div&gt;
&lt;div class="section" id="molecular-cloud-formation-in-stellar-feedback-flows-observing-demonstrating-quantifying-joanne-dawson"&gt;
&lt;h2&gt;Molecular cloud formation in stellar feedback flows: Observing, demonstrating, quantifying: Joanne Dawson&lt;/h2&gt;
&lt;dl class="docutils"&gt;
&lt;dt&gt;HI GASS + 12CO&lt;/dt&gt;
&lt;dd&gt;&lt;ul class="first last simple"&gt;
&lt;li&gt;effect of supershells on molecular gas fraction
+ shells are more molecular than surroundings&lt;/li&gt;
&lt;li&gt;LMC: supergiant shells have comparable molecular gas fraction to the rest of the gas
+ Large scale: No effect
+ small scale: drive up &lt;em&gt;local&lt;/em&gt; molecular gas fraction&lt;/li&gt;
&lt;li&gt;OB cluster feedback: Not a major driver, but an important secondary role&lt;/li&gt;
&lt;li&gt;Q Zinnecker: How did 30 Dor form?&lt;/li&gt;
&lt;/ul&gt;
&lt;/dd&gt;
&lt;/dl&gt;
&lt;/div&gt;
&lt;div class="section" id="disruption-of-gmcs-by-photoionization-and-stellar-winds-setting-the-stage-for-supernovae-jim-dale"&gt;
&lt;h2&gt;Disruption of GMCs by photoionization and stellar winds - setting the stage for supernovae. Jim Dale&lt;/h2&gt;
&lt;dl class="docutils"&gt;
&lt;dt&gt;The time between first O-stars and first SNe&lt;/dt&gt;
&lt;dd&gt;&lt;ul class="first last simple"&gt;
&lt;li&gt;mass loss is a strong effect of escape speed&lt;/li&gt;
&lt;li&gt;Leakage?  Approximate winds as momentum fluxes
+ leakage rate constant across M/R space&lt;/li&gt;
&lt;li&gt;Effect of 1st SN?
+ no effect/small effect for high-mass clouds&lt;/li&gt;
&lt;/ul&gt;
&lt;/dd&gt;
&lt;/dl&gt;
&lt;p&gt;Do you have predictions for velocity of knots as a function of distance or time?  Rocket effect?
Can &amp;quot;Rocket Effect&amp;quot; drive out gas?&lt;/p&gt;
&lt;/div&gt;
&lt;div class="section" id="the-evolution-of-molecular-clouds-under-the-influence-of-ionizing-radiation-15-matthias-gritschneder"&gt;
&lt;h2&gt;The evolution of molecular clouds under the influence of ionizing radiation 15': Matthias Gritschneder&lt;/h2&gt;
&lt;p&gt;Pipe Nebula affected by feedback
O vs B star&lt;/p&gt;
&lt;blockquote&gt;
&lt;ul class="simple"&gt;
&lt;li&gt;B-star does not generate structure
+ heats shell
+ stays very smooth&lt;/li&gt;
&lt;li&gt;O-star compresses&lt;/li&gt;
&lt;/ul&gt;
&lt;/blockquote&gt;
&lt;/div&gt;
&lt;div class="section" id="feedback-driven-turbulence-in-the-multi-phase-ism-15-andrea-gotto-mpa"&gt;
&lt;h2&gt;Feedback-driven turbulence in the multi-phase ISM 15': Andrea Gotto (MPA)&lt;/h2&gt;
&lt;p&gt;Cannot reproduce HI velocity dispersion&lt;/p&gt;
&lt;/div&gt;
&lt;div class="section" id="understanding-ultracompact-h-ii-regions-15-thomas-peters"&gt;
&lt;h2&gt;Understanding ultracompact H II regions 15': Thomas Peters&lt;/h2&gt;
&lt;dl class="docutils"&gt;
&lt;dt&gt;HII region morphologies&lt;/dt&gt;
&lt;dd&gt;&lt;ul class="first last simple"&gt;
&lt;li&gt;no relation between age of star and size of HII region&lt;/li&gt;
&lt;li&gt;probabilistic flux decrements&lt;/li&gt;
&lt;li&gt;SgrB2: 1 shrinking, 2-3 growing
+ predictions &amp;amp; observations match exactly&lt;/li&gt;
&lt;li&gt;ALMA outflow predictions&lt;/li&gt;
&lt;li&gt;K 3-50A VLA + CARMA observations
+ Pamela Klaasen 14.7 GHz obs of K3-50a
+ ionized gas entraining molecular gas&lt;/li&gt;
&lt;li&gt;models do not include dust absorption&lt;/li&gt;
&lt;/ul&gt;
&lt;/dd&gt;
&lt;/dl&gt;
&lt;p&gt;ALMA proposal for Sgr B2?
Prediction for 3mm observability?&lt;/p&gt;
&lt;/div&gt;
&lt;div class="section" id="an-analytic-model-for-the-dynamics-of-the-ionized-outflows-of-massive-protostars-15-keto"&gt;
&lt;h2&gt;An analytic model for the dynamics of the ionized outflows of massive protostars 15': Keto&lt;/h2&gt;
&lt;dl class="docutils"&gt;
&lt;dt&gt;Observations that aren't explained by expanding shell&lt;/dt&gt;
&lt;dd&gt;&lt;ul class="first last simple"&gt;
&lt;li&gt;supersonic velocities in HII region&lt;/li&gt;
&lt;li&gt;SED indicates density gradients&lt;/li&gt;
&lt;li&gt;Modified Hollenbach photoevaporating disk model
+ velocity gradient of RRL not tied to disk or outflow
+ &amp;quot;Ballistic Infall&amp;quot; model&lt;/li&gt;
&lt;li&gt;Q: Look similar to simulations of champagne flows.&lt;/li&gt;
&lt;/ul&gt;
&lt;/dd&gt;
&lt;/dl&gt;
&lt;/div&gt;
&lt;div class="section" id="deciphering-the-violent-interaction-between-very-massive-stars-and-their-natal-clouds-in-the-carina-nebula-complex-15-thomas-preibisch"&gt;
&lt;h2&gt;Deciphering the violent interaction between very massive stars and their natal clouds in the Carina Nebula Complex 15': Thomas Preibisch&lt;/h2&gt;
&lt;dl class="docutils"&gt;
&lt;dt&gt;Carina:&lt;/dt&gt;
&lt;dd&gt;&lt;ul class="first last simple"&gt;
&lt;li&gt;HAWK-I NIR stellar population study&lt;/li&gt;
&lt;li&gt;CCCP Chandra 10,000 stars&lt;/li&gt;
&lt;li&gt;60,000 msun in gas&lt;/li&gt;
&lt;li&gt;10^6 msun total... half cold&lt;/li&gt;
&lt;li&gt;300,000 msun of CO&lt;/li&gt;
&lt;li&gt;1% of total SF in galaxy&lt;/li&gt;
&lt;li&gt;G0 ~100-1000&lt;/li&gt;
&lt;li&gt;hot wind gas (X-ray) flows out: anticorrelated with 70um Herschel&lt;/li&gt;
&lt;li&gt;Q How do you know SFE is increasing (currently 3%)?&lt;/li&gt;
&lt;li&gt;A: We see it going on now.  Stellar mass is increasing.  Efficiency must increase further.&lt;/li&gt;
&lt;li&gt;Q Nicola Schneider: What if the pillars are eroded filaments?  Revealed, not triggered?&lt;/li&gt;
&lt;li&gt;A: Same mechanism? (unclear)&lt;/li&gt;
&lt;li&gt;Q Hennebelle:  Where is most of the mass?  only 1/3 in CO?&lt;/li&gt;
&lt;li&gt;A: 1/2 - 2/3 still in atomic gas&lt;/li&gt;
&lt;/ul&gt;
&lt;/dd&gt;
&lt;/dl&gt;
&lt;/div&gt;
&lt;div class="section" id="models-for-the-circumstellar-medium-of-massive-runaway-stars-15-dominic-meyer"&gt;
&lt;h2&gt;Models for the circumstellar medium of massive runaway stars 15': Dominic Meyer&lt;/h2&gt;
&lt;dl class="docutils"&gt;
&lt;dt&gt;Bow shocks from runaway RSGs&lt;/dt&gt;
&lt;dd&gt;&lt;ul class="first last simple"&gt;
&lt;li&gt;v*/vwind &amp;gt;&amp;gt; 1 -&amp;gt; stable bow shock
+ slow stars -&amp;gt; unstable&lt;/li&gt;
&lt;/ul&gt;
&lt;/dd&gt;
&lt;/dl&gt;
&lt;/div&gt;
&lt;div class="section" id="dynamics-of-h-ii-regions-around-exiled-o-stars-15-jonathan-mackey"&gt;
&lt;h2&gt;Dynamics of H II regions around exiled O stars 15': Jonathan Mackey&lt;/h2&gt;
&lt;dl class="docutils"&gt;
&lt;dt&gt;25% of O-stars ejected&lt;/dt&gt;
&lt;dd&gt;&lt;ul class="first last simple"&gt;
&lt;li&gt;once in diffuse ISM, easier to feedback on Galactic scales&lt;/li&gt;
&lt;li&gt;Zeta Ophiuci d~112pc, proper motion known, LOS velocity unknown&lt;/li&gt;
&lt;li&gt;bow shock is 5 degrees! across, ~10pc&lt;/li&gt;
&lt;/ul&gt;
&lt;/dd&gt;
&lt;/dl&gt;
&lt;/div&gt;
</content><category term="ismpp"></category><category term="conference"></category><category term="ismpp"></category></entry><entry><title>Notes from the ISM-PP conference: Day 2</title><link href="https://keflavich.github.io/blog/notes-from-the-ism-pp-conference-day-2.html" rel="alternate"></link><published>2013-10-22T00:00:00-06:00</published><updated>2013-10-22T00:00:00-06:00</updated><author><name>Adam Ginsburg</name></author><id>tag:keflavich.github.io,2013-10-22:/blog/notes-from-the-ism-pp-conference-day-2.html</id><summary type="html">&lt;div class="section" id="collapse-of-molecular-clouds-and-the-imf-40-matthew-bate-university-of-exeter"&gt;
&lt;h2&gt;Collapse of molecular clouds and the IMF 40': Matthew Bate (University of Exeter)&lt;/h2&gt;
&lt;dl class="docutils"&gt;
&lt;dt&gt;Analytical models predict dependence on density, mach number, etc&lt;/dt&gt;
&lt;dd&gt;&lt;ul class="first last simple"&gt;
&lt;li&gt;Accretion stopping time
+ dynamics&lt;/li&gt;
&lt;li&gt;kinetic feedback, b-fields&lt;/li&gt;
&lt;/ul&gt;
&lt;/dd&gt;
&lt;dt&gt;Generating the IMF&lt;/dt&gt;
&lt;dd&gt;&lt;ul class="first last simple"&gt;
&lt;li&gt;Fragmentation to produce &amp;quot;stellar groups&amp;quot;
+ how fragmentation proceeds is not importan&lt;/li&gt;
&lt;li&gt;Only knob that changes the IMF is …&lt;/li&gt;&lt;/ul&gt;&lt;/dd&gt;&lt;/dl&gt;&lt;/div&gt;</summary><content type="html">&lt;div class="section" id="collapse-of-molecular-clouds-and-the-imf-40-matthew-bate-university-of-exeter"&gt;
&lt;h2&gt;Collapse of molecular clouds and the IMF 40': Matthew Bate (University of Exeter)&lt;/h2&gt;
&lt;dl class="docutils"&gt;
&lt;dt&gt;Analytical models predict dependence on density, mach number, etc&lt;/dt&gt;
&lt;dd&gt;&lt;ul class="first last simple"&gt;
&lt;li&gt;Accretion stopping time
+ dynamics&lt;/li&gt;
&lt;li&gt;kinetic feedback, b-fields&lt;/li&gt;
&lt;/ul&gt;
&lt;/dd&gt;
&lt;dt&gt;Generating the IMF&lt;/dt&gt;
&lt;dd&gt;&lt;ul class="first last simple"&gt;
&lt;li&gt;Fragmentation to produce &amp;quot;stellar groups&amp;quot;
+ how fragmentation proceeds is not importan&lt;/li&gt;
&lt;li&gt;Only knob that changes the IMF is the initial Jeans mass of the cloud&lt;/li&gt;
&lt;li&gt;process is always: start with jeans mass, accrete up or get ejected&lt;/li&gt;
&lt;li&gt;gets multiplicity right&lt;/li&gt;
&lt;li&gt;Thermal feedback&lt;/li&gt;
&lt;li&gt;Radiative feedback -&amp;gt; less fragmentation, especially less disk frag&lt;/li&gt;
&lt;li&gt;radiative feedback erases dependence of IMF on initial conditions
+ fewer objects -&amp;gt; less dynamics -&amp;gt; less frequent ejection&lt;/li&gt;
&lt;li&gt;Bate 2012 &amp;quot;turning point&amp;quot; - can reproduce IMF
+ can try for a predictive theory of SF&lt;/li&gt;
&lt;li&gt;metallicity comparison
+ same IMF over 300x difference in Z&lt;/li&gt;
&lt;li&gt;Krumholz: very high temperatures suppress fragmentation, -&amp;gt; high-mass IMF
+ outflows &amp;quot;alleviate overheating problem&amp;quot;&lt;/li&gt;
&lt;li&gt;B-fields increase accretion, enhance thermal feedback&lt;/li&gt;
&lt;li&gt;Q Hennebelle: What is competitive accretion?  How do you conclude that it is
the mechanism going on in the sim?&lt;/li&gt;
&lt;li&gt;A: Competitive accretion is stopping time.&lt;/li&gt;
&lt;li&gt;Q about terms - competitive accretion governs &lt;em&gt;high mass&lt;/em&gt;, but term applied
to &lt;em&gt;low mass&lt;/em&gt;&lt;/li&gt;
&lt;li&gt;A: All are competing, but likelihood of losing...&lt;/li&gt;
&lt;li&gt;Q Paul Clark: Gas-Dust coupling happends at 10^5.  Are you including
metallicity dependence of coupling?  I don't believe metallicity results.&lt;/li&gt;
&lt;li&gt;A: No.  We assume dust is always dominant.  Large scale temperatures don't
matter.  Temperatures matter on the small, self-gravitating scales&lt;/li&gt;
&lt;li&gt;Clark: Initial cores would have been more massive.&lt;/li&gt;
&lt;li&gt;Bate: No, not determined by temperature, only by turbulence.&lt;/li&gt;
&lt;li&gt;Q Zinnecker: Competing theory of turbulent cores.  Compare them.&lt;/li&gt;
&lt;li&gt;A: Fabian Heitsch did that well yesterday.  Turbulent core model relies on
turbulence providing isotropic pressure.&lt;/li&gt;
&lt;li&gt;Q Kruijssen: Prediction is that dynamical times vs. disk survival times.
Boundedness of cluster? group? has big effect.  YMCs don't have top heavy.
How do you make bottom-heavy IMFs?&lt;/li&gt;
&lt;li&gt;A: &amp;quot;Can't believe I'm saying this...&amp;quot; possible you can get bottom-heavy imf
with extreme turbulence.  Mass reservoirs stripped away by high-mass flows.
Prevents long-time accretion.&lt;/li&gt;
&lt;/ul&gt;
&lt;/dd&gt;
&lt;/dl&gt;
&lt;/div&gt;
&lt;div class="section" id="tracing-the-fragmentation-of-omc1-north-filament-with-the-submillimeter-array-15-paula-teixera"&gt;
&lt;h2&gt;Tracing the fragmentation of OMC1-north filament with the Submillimeter Array 15: Paula Teixera&lt;/h2&gt;
&lt;dl class="docutils"&gt;
&lt;dt&gt;with Satoko Takahashi, Luis Zapata, Paul Ho&lt;/dt&gt;
&lt;dd&gt;&lt;ul class="first last simple"&gt;
&lt;li&gt;Cores detected in OMC1N NH3 filaments&lt;/li&gt;
&lt;li&gt;characteristic separation scales&lt;/li&gt;
&lt;li&gt;&amp;quot;core pods&amp;quot; instead of &amp;quot;clumps&amp;quot;&lt;/li&gt;
&lt;li&gt;OMC1N has smaller nearest-neighbor separation than OMC2/OMC3&lt;/li&gt;
&lt;li&gt;Q: Direction of B-field?&lt;/li&gt;
&lt;li&gt;A: Perpendicular to filament&lt;/li&gt;
&lt;li&gt;Q: Scales can be interpreted as two different fragmentation scales&lt;/li&gt;
&lt;li&gt;Q Falgarone: Do you include short-spacing in the maps?&lt;/li&gt;
&lt;li&gt;A: No.&lt;/li&gt;
&lt;li&gt;Q: Bias.&lt;/li&gt;
&lt;li&gt;A: not on short scales.&lt;/li&gt;
&lt;/ul&gt;
&lt;/dd&gt;
&lt;/dl&gt;
&lt;/div&gt;
&lt;div class="section" id="filament-formation-and-star-formation-regulation-in-collapsing-molecular-clouds-15-vazquez-semadeni"&gt;
&lt;h2&gt;Filament formation and star formation regulation in collapsing molecular clouds 15': Vazquez-Semadeni&lt;/h2&gt;
&lt;dl class="docutils"&gt;
&lt;dt&gt;Case for globally contracting molecular clouds&lt;/dt&gt;
&lt;dd&gt;&lt;ul class="first last simple"&gt;
&lt;li&gt;&amp;quot;turbulent infall&amp;quot; rather than &amp;quot;turbulence&amp;quot;
+ no &amp;quot;turbulent support&amp;quot;&lt;/li&gt;
&lt;li&gt;&amp;quot;turbulence is overrated&amp;quot; ?&lt;/li&gt;
&lt;li&gt;collapse is pressureless&lt;/li&gt;
&lt;li&gt;&amp;quot;whole thing collapsing into global potential well...&amp;quot;&lt;/li&gt;
&lt;li&gt;velocity jumps around local potential wells&lt;/li&gt;
&lt;li&gt;&amp;quot;two-filament appearance&amp;quot; due to presence of wells.
+ Hacar gaussian fits yield 2 filaments (incorrectly)&lt;/li&gt;
&lt;li&gt;How address SFR too high for global collapse?
+ ionization feedback -&amp;gt; cloud destruction
+ 10% efficient... THIS IS STILL AN ORDER OF MAGNITUDE TOO HIGH&lt;/li&gt;
&lt;/ul&gt;
&lt;/dd&gt;
&lt;/dl&gt;
&lt;p&gt;So are all molecular clouds gravitationally collapsing?  Why aren't they
forming stars on a free-fall time?&lt;/p&gt;
&lt;blockquote&gt;
&lt;ul class="simple"&gt;
&lt;li&gt;Q Keto: Your model is different.  Stars forming with accretion/flows along filaments.&lt;/li&gt;
&lt;li&gt;A: No one has implied filaments are static... no contradiction.&lt;/li&gt;
&lt;/ul&gt;
&lt;/blockquote&gt;
&lt;/div&gt;
&lt;div class="section" id="the-structure-and-star-forming-fate-of-the-galactic-centre-cloud-g0-253-0-016-15-katharine-johnston"&gt;
&lt;h2&gt;The structure and star-forming fate of the Galactic centre cloud G0.253+0.016 15': Katharine Johnston&lt;/h2&gt;
&lt;dl class="docutils"&gt;
&lt;dt&gt;Stats...&lt;/dt&gt;
&lt;dd&gt;&lt;ul class="first last simple"&gt;
&lt;li&gt;hot gas, cool dust&lt;/li&gt;
&lt;li&gt;no &amp;gt;B0 stars&lt;/li&gt;
&lt;li&gt;SCUBA+SMA image
+ column density PDF
+ plateau at low column density (could this be pixelation?)&lt;/li&gt;
&lt;li&gt;shocks in the south&lt;/li&gt;
&lt;li&gt;hint of cloud-cloud collision&lt;/li&gt;
&lt;li&gt;cloud-cloud collision comparison: Anathpindika et al 2011
+ many claims that super star clusters form from cloud-cloud collisions&lt;/li&gt;
&lt;li&gt;ring view is reversed
+ center of galaxy doesn't have to be ring, could be spirals or disk&lt;/li&gt;
&lt;li&gt;Molinari ring fails&lt;/li&gt;
&lt;li&gt;Q Xu: Single cloud... surprised you find only one cloud.&lt;/li&gt;
&lt;li&gt;A: data only cover one cloud...&lt;/li&gt;
&lt;li&gt;Q Kainulainen: Comment on low SFR.  If follow analytic formulations, care
about relative density contrast.  Despite enormous mean density, the
relative density contrast is low.  Not surprised by low SFR.&lt;/li&gt;
&lt;/ul&gt;
&lt;/dd&gt;
&lt;/dl&gt;
&lt;/div&gt;
&lt;div class="section" id="laboratory-studies-of-dust-formation-and-processing-40-cornelia-jager"&gt;
&lt;h2&gt;Laboratory Studies of Dust Formation and Processing 40': Cornelia Jäger&lt;/h2&gt;
&lt;dl class="docutils"&gt;
&lt;dt&gt;There are many types of dust&lt;/dt&gt;
&lt;dd&gt;&lt;ul class="first last simple"&gt;
&lt;li&gt;&amp;quot;The ISM is the most dangerous place for dust.&amp;quot;&lt;/li&gt;
&lt;li&gt;49um band of Forsterite&lt;/li&gt;
&lt;li&gt;69um band of crystalline forsterite
+ these can be used as a dust thermometer&lt;/li&gt;
&lt;li&gt;beta-T anticorrelation
+ SiO2 absorption changes strongly with temperature
+ crystalline material has no beta-T, but amorphous DOES have a beta-T&lt;/li&gt;
&lt;li&gt;generation of fullerenes in the lab at T&amp;gt;3500K&lt;/li&gt;
&lt;li&gt;dust growth&lt;/li&gt;
&lt;li&gt;Helium droplet experiment
+ &amp;quot;helium droplet beam&amp;quot;
+ superfluid helium shot through a &amp;quot;pickup oven&amp;quot; at 0.4 K
+ forms SiO clusters
+ &amp;quot;barrierless&amp;quot; reactions&lt;/li&gt;
&lt;li&gt;laser evaporation of particles, condense on a substrate&lt;/li&gt;
&lt;li&gt;ion-induced processing&lt;/li&gt;
&lt;li&gt;irradiated silicates lead to iron inclusion&lt;/li&gt;
&lt;li&gt;Q: Beta/temperature.  Observations... beta is effective beta, non-constant
temperature is problematic.  Observed temperatures are much smaller.&lt;/li&gt;
&lt;li&gt;A: Yes, there is still dependence at low temperature, but weaker.&lt;/li&gt;
&lt;li&gt;Q: Are there any features in the mm that we can use to distinguish the species in the submm?&lt;/li&gt;
&lt;li&gt;A: not yet.&lt;/li&gt;
&lt;/ul&gt;
&lt;/dd&gt;
&lt;/dl&gt;
&lt;/div&gt;
&lt;div class="section" id="combining-experimental-techniques-for-comprehensive-astrophysical-case-studies-15-holger-kreckel-mpik-heidelberg"&gt;
&lt;h2&gt;Combining experimental techniques for comprehensive astrophysical case studies 15': Holger Kreckel (MPIK, Heidelberg)&lt;/h2&gt;
&lt;dl class="docutils"&gt;
&lt;dt&gt;Gas phase chemistry&lt;/dt&gt;
&lt;dd&gt;&lt;ul class="first last simple"&gt;
&lt;li&gt;terminate branches with recombination with free electrons&lt;/li&gt;
&lt;li&gt;Cryogenic Storage Ring
+ electrostatic field
+ strong vacuum, low (10K) temperature&lt;/li&gt;
&lt;li&gt;C- beam driven electrically, dissociate electron with a laser
+ &amp;quot;Don't normally need 2 kW continuous lasers except for death stars.&amp;quot;&lt;/li&gt;
&lt;li&gt;studying cosmic ray ionization rate
+ CR ionization is missing some rate coefficients&lt;/li&gt;
&lt;li&gt;Q Glover: Why only go to 40K?&lt;/li&gt;
&lt;li&gt;A: Divergence of beam limits temperature&lt;/li&gt;
&lt;/ul&gt;
&lt;/dd&gt;
&lt;/dl&gt;
&lt;/div&gt;
&lt;div class="section" id="laboratory-studies-on-electron-collisions-of-atomic-and-molecular-ions-15-andreas-wolf-mpik-heidelberg"&gt;
&lt;h2&gt;Laboratory studies on electron collisions of atomic and molecular ions 15': Andreas Wolf (MPIK, Heidelberg)&lt;/h2&gt;
&lt;dl class="docutils"&gt;
&lt;dt&gt;HD formation&lt;/dt&gt;
&lt;dd&gt;&lt;ul class="first last simple"&gt;
&lt;li&gt;need cooled vacuum chamber to match ISM conditions&lt;/li&gt;
&lt;/ul&gt;
&lt;/dd&gt;
&lt;/dl&gt;
&lt;/div&gt;
&lt;div class="section" id="chemical-processes-in-the-ism-gas-and-molecules-30-simon-glover-zah-ita-university-of-heidelberg"&gt;
&lt;h2&gt;Chemical processes in the ISM: Gas and molecules 30': Simon Glover (ZAH/ITA University of Heidelberg)&lt;/h2&gt;
&lt;p&gt;Noble gas molecule in ISM: ArH+ in SNR
Why are molecular clouds cool?&lt;/p&gt;
&lt;blockquote&gt;
&lt;ul class="simple"&gt;
&lt;li&gt;Molecular clouds are cool because of dust shielding, NOT CO cooling
+ C+, CI are just as efficient as CO
+ CO allows you to cool from 20 to 10K at n~10^2-10^3&lt;/li&gt;
&lt;li&gt;production of high-density material drives CO formation&lt;/li&gt;
&lt;/ul&gt;
&lt;/blockquote&gt;
&lt;dl class="docutils"&gt;
&lt;dt&gt;Chemistry as a tracer of physical conditions in the ISM&lt;/dt&gt;
&lt;dd&gt;&lt;ul class="first last simple"&gt;
&lt;li&gt;CR rate measurement tool: H3+ -&amp;gt; CR rate
+ &lt;em&gt;if&lt;/em&gt; you can measure C+
+ diffuse sightlines have values &amp;gt;&amp;gt; &amp;quot;canonical dark cloud value&amp;quot; = 10^-17&lt;/li&gt;
&lt;li&gt;HF: most evil substance imaginable - seep through skin, melt bones
+ exothermic: most fluorine lands in HF
+ depleted in dense gas&lt;/li&gt;
&lt;li&gt;CH+ puzzler: formation slow, destruction fast
+ overabundant by 3-4 orders of magnitude&lt;/li&gt;
&lt;li&gt;Isotopologue chemistry for CO
+ Fractionation: O prefers to be in 13CO.  Can convert 12CO-&amp;gt;13CO
+ photodissociation: less self shielding in 13CO, 13CO-&amp;gt;12CO&lt;/li&gt;
&lt;li&gt;Uncertainties:
+ Need good rate coefficients
+ Chemistry not in steady state: memory effects
+ PDR modeling done with GCs treated as slabs&lt;/li&gt;
&lt;li&gt;Q: Are there molecules for which the uncertainties are likely small enough &lt;em&gt;now&lt;/em&gt;?&lt;/li&gt;
&lt;li&gt;A: H2 cooling doesn't play a significant role in the thermal balance of the cloud&lt;/li&gt;
&lt;li&gt;Q: Matthew Bate: Can observers use H2 (HF?) to deal with dark gas?&lt;/li&gt;
&lt;li&gt;A: Not clear yet.&lt;/li&gt;
&lt;li&gt;Q: Deuteration important?  Influence... things?&lt;/li&gt;
&lt;li&gt;A: Timer for core collapse&lt;/li&gt;
&lt;li&gt;Q Edith Falgarone: Disagree.  We know C-shocks are heating gas to few
hundred K, contributes to C+ emission.  Need additional heating source.
Balance not between ionization...?&lt;/li&gt;
&lt;li&gt;A: Depends on assumptions of photoelectric heating efficiency.  We find
shock dissipation not important in dense stuff.  H2 may be important in
diffuse gas.&lt;/li&gt;
&lt;/ul&gt;
&lt;/dd&gt;
&lt;/dl&gt;
&lt;/div&gt;
&lt;div class="section" id="chemical-processes-in-the-ism-dust-30-speaker-thomas-henning-mpia-heidelberg"&gt;
&lt;h2&gt;Chemical processes in the ISM: Dust 30' Speaker: Thomas Henning (MPIA Heidelberg)&lt;/h2&gt;
&lt;p&gt;Small particles heat the gas
Formation/destruction balance&lt;/p&gt;
&lt;blockquote&gt;
&lt;ul class="simple"&gt;
&lt;li&gt;AGB star dust formation not efficient enough to balance dust destruction&lt;/li&gt;
&lt;li&gt;NIR extinction law: Fritz et al 2011 towards GC
+ dust towards GC is different&lt;/li&gt;
&lt;li&gt;Particles in mol clds grow to few microns at most&lt;/li&gt;
&lt;/ul&gt;
&lt;/blockquote&gt;
&lt;dl class="docutils"&gt;
&lt;dt&gt;Why is there dust in the ISM?&lt;/dt&gt;
&lt;dd&gt;&lt;ul class="first last simple"&gt;
&lt;li&gt;Cold ISM formation?&lt;/li&gt;
&lt;li&gt;Or core-collapse SNe?
+ Formation agrees with predictions, destruction too much...&lt;/li&gt;
&lt;li&gt;Low-temperature dust formation?
+ works for SiO2 in the lab&lt;/li&gt;
&lt;/ul&gt;
&lt;/dd&gt;
&lt;dt&gt;Grain models:&lt;/dt&gt;
&lt;dd&gt;&lt;ul class="first last simple"&gt;
&lt;li&gt;composite grains with different size distributions&lt;/li&gt;
&lt;li&gt;mixture of graphitic and silicate grains...&lt;/li&gt;
&lt;li&gt;Q: SNe still not enough for other galaxies.&lt;/li&gt;
&lt;li&gt;A: Our galaxy needs 0.5 per SNe.  More of a problem for low metallicity.&lt;/li&gt;
&lt;li&gt;Q Falgarone: ???&lt;/li&gt;
&lt;li&gt;Q Zinnecker: Dusty wolf-rayet stars.  Also dust factories?&lt;/li&gt;
&lt;li&gt;A: Not in normal environments.  O-stars may be a solution for high-Z galaxies.&lt;/li&gt;
&lt;li&gt;Q: How much oxygen in dust?&lt;/li&gt;
&lt;li&gt;A: More in silicate.&lt;/li&gt;
&lt;/ul&gt;
&lt;/dd&gt;
&lt;/dl&gt;
&lt;/div&gt;
&lt;div class="section" id="galactic-dust-as-seen-by-planck-15-marta-alves"&gt;
&lt;h2&gt;Galactic dust as seen by Planck 15': Marta Alves&lt;/h2&gt;
&lt;dl class="docutils"&gt;
&lt;dt&gt;All-sky dust temperature map&lt;/dt&gt;
&lt;dd&gt;&lt;ul class="first last simple"&gt;
&lt;li&gt;outer galaxy cold, inner galaxy warmish&lt;/li&gt;
&lt;li&gt;increase of dust temperature towards poles&lt;/li&gt;
&lt;li&gt;dust opacity anticorrelated with temperature
+ not correlated with luminosity&lt;/li&gt;
&lt;li&gt;Planck extinction maps&lt;/li&gt;
&lt;li&gt;Flattening of SED at mm wavelengths&lt;/li&gt;
&lt;li&gt;Q Rahul: Have you accounted for degeneracies in fits?&lt;/li&gt;
&lt;li&gt;A: Beta map was observed at low-resolution, then did a second run of the fit to extrapolate down to high resolution&lt;/li&gt;
&lt;/ul&gt;
&lt;/dd&gt;
&lt;/dl&gt;
&lt;/div&gt;
&lt;div class="section" id="formation-signatures-and-carbon-budget-of-molecular-clouds-15-henrik-beuther"&gt;
&lt;h2&gt;Formation signatures and carbon budget of molecular clouds 15': Henrik Beuther&lt;/h2&gt;
&lt;dl class="docutils"&gt;
&lt;dt&gt;Signatures for cloud formation&lt;/dt&gt;
&lt;dd&gt;&lt;ul class="first last simple"&gt;
&lt;li&gt;CI, CO, C+ observations of 4 IRDCs&lt;/li&gt;
&lt;li&gt;G11.11 IRDC
+ ionized lines very narrow&lt;/li&gt;
&lt;li&gt;[CII]/[CI]/CO = 1/5/70
+ ionized carbon measurement unknown&lt;/li&gt;
&lt;/ul&gt;
&lt;/dd&gt;
&lt;/dl&gt;
&lt;/div&gt;
&lt;div class="section" id="svitlana-zhukovska"&gt;
&lt;h2&gt;Svitlana Zhukovska&lt;/h2&gt;
&lt;blockquote&gt;
&lt;ul class="simple"&gt;
&lt;li&gt;Q Zinnecker: Gas to dust ratio varies from dense to diffuse gas (Meixner LMC).&lt;/li&gt;
&lt;li&gt;A: Yes,there is dependence&lt;/li&gt;
&lt;/ul&gt;
&lt;/blockquote&gt;
&lt;/div&gt;
&lt;div class="section" id="dependence-of-star-formation-on-ism-properties-40-adam-leroy-nrao-charlottesville"&gt;
&lt;h2&gt;Dependence of star formation on ISM properties 40': Adam Leroy (NRAO Charlottesville)&lt;/h2&gt;
&lt;dl class="docutils"&gt;
&lt;dt&gt;&amp;quot;Two Bottleneck&amp;quot; view&lt;/dt&gt;
&lt;dd&gt;&lt;ul class="first last simple"&gt;
&lt;li&gt;Atomic Gas -&amp;gt; Molecular Gas -&amp;gt; Dense Gas&lt;/li&gt;
&lt;li&gt;cloud formation is the first regulating step&lt;/li&gt;
&lt;li&gt;more molecular = more star forming&lt;/li&gt;
&lt;li&gt;IR/CO vs HCN/CO... weakly correlated&lt;/li&gt;
&lt;li&gt;HCN/IR approximately constant over wide range of scales&lt;/li&gt;
&lt;li&gt;factor of 2 scatter in SFE&lt;/li&gt;
&lt;/ul&gt;
&lt;/dd&gt;
&lt;/dl&gt;
&lt;/div&gt;
&lt;div class="section" id="sarah-ragan"&gt;
&lt;h2&gt;Sarah Ragan&lt;/h2&gt;
&lt;blockquote&gt;
&lt;ul class="simple"&gt;
&lt;li&gt;Q Semadeni: different surface density -&amp;gt; different evolutionary stages?
Scaling law depends on how you define objects&lt;/li&gt;
&lt;/ul&gt;
&lt;/blockquote&gt;
&lt;/div&gt;
&lt;div class="section" id="amy-stutzki"&gt;
&lt;h2&gt;Amy Stutzki&lt;/h2&gt;
&lt;blockquote&gt;
&lt;ul class="simple"&gt;
&lt;li&gt;Q Semadeni: Higher lum implies higher SFR?&lt;/li&gt;
&lt;li&gt;A: lum higher, but maybe that means shorter accretion time.&lt;/li&gt;
&lt;/ul&gt;
&lt;/blockquote&gt;
&lt;/div&gt;
</content><category term="ismpp"></category><category term="conference"></category><category term="ismpp"></category></entry><entry><title>Notes from the ISM-PP conference</title><link href="https://keflavich.github.io/blog/notes-from-the-ism-pp-conference.html" rel="alternate"></link><published>2013-10-21T00:00:00-06:00</published><updated>2013-10-21T00:00:00-06:00</updated><author><name>Adam Ginsburg</name></author><id>tag:keflavich.github.io,2013-10-21:/blog/notes-from-the-ism-pp-conference.html</id><summary type="html">&lt;div class="section" id="the-thickness-distribution-of-interstellar-filaments-evangelia-ntormousi"&gt;
&lt;h2&gt;The thickness distribution of interstellar filaments: Evangelia Ntormousi&lt;/h2&gt;
&lt;p&gt;Filament decomposition&lt;/p&gt;
&lt;blockquote&gt;
&lt;ul class="simple"&gt;
&lt;li&gt;RAMSES MHD with/without ambipolar diffusion (AD)
+ effect of ambipolar diffusion is smoothing
+ AD builds &lt;em&gt;very slight&lt;/em&gt; secondary peak&lt;/li&gt;
&lt;li&gt;Q Crutcher:  How strong B-fields?  AD driven by turbulence (or what drives it)?&lt;/li&gt;
&lt;li&gt;A: Yes, turbulence drives it.  B-fields ???&lt;/li&gt;
&lt;li&gt;Q MacLow …&lt;/li&gt;&lt;/ul&gt;&lt;/blockquote&gt;&lt;/div&gt;</summary><content type="html">&lt;div class="section" id="the-thickness-distribution-of-interstellar-filaments-evangelia-ntormousi"&gt;
&lt;h2&gt;The thickness distribution of interstellar filaments: Evangelia Ntormousi&lt;/h2&gt;
&lt;p&gt;Filament decomposition&lt;/p&gt;
&lt;blockquote&gt;
&lt;ul class="simple"&gt;
&lt;li&gt;RAMSES MHD with/without ambipolar diffusion (AD)
+ effect of ambipolar diffusion is smoothing
+ AD builds &lt;em&gt;very slight&lt;/em&gt; secondary peak&lt;/li&gt;
&lt;li&gt;Q Crutcher:  How strong B-fields?  AD driven by turbulence (or what drives it)?&lt;/li&gt;
&lt;li&gt;A: Yes, turbulence drives it.  B-fields ???&lt;/li&gt;
&lt;li&gt;Q MacLow: Alfven waves suppressed by AD, but magnetosonic go through &amp;amp; drive small flows.
Oishi &amp;amp; MacLow: no break in power-spectrum at small scales. Consistent with
small difference.&lt;/li&gt;
&lt;li&gt;A: Yes, maybe smaller scale motions.&lt;/li&gt;
&lt;li&gt;Q Keto: Keep B-fields coherent.  But don't need to keep them coherent.
How does B-field keep filaments coherent?  Argues that they only last a
crossing time.&lt;/li&gt;
&lt;li&gt;A: magnetic tension, resists shear.  Filaments would reexpand without
B-fields.  We don't see observed reexpansion.&lt;/li&gt;
&lt;/ul&gt;
&lt;/blockquote&gt;
&lt;/div&gt;
&lt;div class="section" id="anomalous-extinction-the-degeneracy-between-dust-composition-and-geometry-15-peter-scicluna-eso"&gt;
&lt;h2&gt;Anomalous extinction: The degeneracy between dust composition and geometry 15': Peter Scicluna (ESO)&lt;/h2&gt;
&lt;p&gt;Forward scattering by dust&lt;/p&gt;
&lt;blockquote&gt;
&lt;ul class="simple"&gt;
&lt;li&gt;direct forward scattering favored&lt;/li&gt;
&lt;li&gt;flatter extinction curve when optically thick&lt;/li&gt;
&lt;li&gt;Q Keto: Wavelength dependence of scattering?  Mostly absorption -&amp;gt; IR reemission?&lt;/li&gt;
&lt;li&gt;A: absorption is treated.  Heating.&lt;/li&gt;
&lt;li&gt;Q Star outside scattering into LOS?&lt;/li&gt;
&lt;li&gt;A: Yes, but probably not &lt;em&gt;as&lt;/em&gt; significant&lt;/li&gt;
&lt;/ul&gt;
&lt;/blockquote&gt;
&lt;/div&gt;
&lt;div class="section" id="latest-great-results-from-sofia-15-hans-zinnecker"&gt;
&lt;h2&gt;Latest GREAT results from SOFIA 15': Hans Zinnecker&lt;/h2&gt;
&lt;dl class="docutils"&gt;
&lt;dt&gt;SOFIA summary... 1000 hrs/year&lt;/dt&gt;
&lt;dd&gt;&lt;ul class="first last simple"&gt;
&lt;li&gt;Germany DLR 20% + US&lt;/li&gt;
&lt;/ul&gt;
&lt;/dd&gt;
&lt;dt&gt;GREAT results&lt;/dt&gt;
&lt;dd&gt;&lt;ul class="first simple"&gt;
&lt;li&gt;M17sw C+, CO 13-12
+ CII more distributed&lt;/li&gt;
&lt;li&gt;G5.89 CO 11-10 outflow&lt;/li&gt;
&lt;li&gt;Inverse P-Cygni at NH3 1810 GHz in G34.26+0.15&lt;/li&gt;
&lt;li&gt;OH ground state absorption towards W49
+ Wiesemeyer 2012 AA 542 L7&lt;/li&gt;
&lt;li&gt;OD detected towards IRAS1629A&lt;/li&gt;
&lt;li&gt;CND in dust with SOFIA: Requenna-Torres&lt;/li&gt;
&lt;li&gt;Southern targets: NGC 3603, LMC&lt;/li&gt;
&lt;li&gt;CO &amp;amp; C+ maps of NGC3603 (cool!)&lt;/li&gt;
&lt;/ul&gt;
&lt;p class="last"&gt;Q Vazquez-Semadeni: What happens when plane hits turbulence?
A: Counterweight keeps telescope pointed in the right place&lt;/p&gt;
&lt;/dd&gt;
&lt;/dl&gt;
&lt;/div&gt;
&lt;div class="section" id="molecular-cloud-properties-40-alvaro-hacar"&gt;
&lt;h2&gt;Molecular cloud properties 40': Alvaro Hacar&lt;/h2&gt;
&lt;p&gt;Skipped&lt;/p&gt;
&lt;/div&gt;
&lt;div class="section" id="the-structure-of-molecular-clouds-from-1000-au-to-orion-15-joao-alves"&gt;
&lt;h2&gt;The structure of molecular clouds from 1000 AU to Orion 15': Joao Alves&lt;/h2&gt;
&lt;dl class="docutils"&gt;
&lt;dt&gt;Extinction Mapping (in Orion)&lt;/dt&gt;
&lt;dd&gt;&lt;ul class="first last"&gt;
&lt;li&gt;&lt;p class="first"&gt;Stars at 2um are colorless&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p class="first"&gt;Bias: not sensitive to densest part of cloud
+ NICEST accounts for background population&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p class="first"&gt;PIPE: high temperatures in the low-column stuff&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p class="first"&gt;Barnard 68 is a bonnor ebert - 2001 result..
+ TP role of B68!&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p class="first"&gt;Most BE cores are stable (Lada 2008)
+ pressure confined&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p class="first"&gt;CMF claim...
+ &amp;quot;same thing seen by Andre 2011&amp;quot;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p class="first"&gt;Burkert Alves 2009: merging cores&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p class="first"&gt;Hacar 2013: multiple LOS velocity components along a single filament
+ friends-of-friends velocity components: subsonic
+ broad line consists of spaghetti
+ most filaments have no cores&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p class="first"&gt;summary of Lada, Lombardi led papers&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p class="first"&gt;Corona Australis cloud (Avles et al submitted)
+ PDF very lognormal with a tiny power-law excess
+ Kainulainen did the PDF work...&lt;/p&gt;
&lt;blockquote&gt;
&lt;ul class="simple"&gt;
&lt;li&gt;sometimes loglog gives insight...&lt;/li&gt;
&lt;/ul&gt;
&lt;/blockquote&gt;
&lt;ul class="simple"&gt;
&lt;li&gt;mentioned my poster as rejecting lognormal (oops - that result changed since I wrote the abstract...)&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p class="first"&gt;NICEST future?
+ GNICER
+ do it to other galaxies?&lt;/p&gt;
&lt;blockquote&gt;
&lt;ul class="simple"&gt;
&lt;li&gt;nice extinction mapping in CNR of M83&lt;/li&gt;
&lt;/ul&gt;
&lt;/blockquote&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p class="first"&gt;Bally CMZ...
+ M83 analogy?&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p class="first"&gt;Q Herschel maps: larger dynamic range&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p class="first"&gt;A: VLT + Spitzer -&amp;gt; A_V ~ 100&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p class="first"&gt;Q: Features in PDF are clearly associated with individual objects.  PDFs extremely useful...&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p class="first"&gt;A: Still throwing away second dimension.  Justin Bieber has same PDF as Pipe Nebula.  Hat tip to Chris Beaumont&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p class="first"&gt;Q Falgarone: Search for thinning of filaments?  Change of spinning?&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p class="first"&gt;A: 1km/s/pc still...&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p class="first"&gt;Q Vazquez-Semadeni: Is B68 inside an HII region or not?&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p class="first"&gt;A: No.  Herschel data shows tail of warm dust being blown away.  Some
external agent removed filament B68 was born in.
External pressure is higher outside B68 than in, e.g., Taurus.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p class="first"&gt;Q Zinnecker: B68.  Structure more complex?  Niel Boch?  Not isothermal?&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p class="first"&gt;A: BE are isothermal; fit cores well a lot.  BE still decent representation.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p class="first"&gt;Q Klessen: Degeneracy distribution highly degenerate.  Possible to reproduce
from turbulence without contained sphere.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p class="first"&gt;A: No change in B68.  Long, subsonic things.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p class="first"&gt;&amp;quot;Danger is applying one model to everything.&amp;quot; -Klessen&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p class="first"&gt;&amp;quot;Shouldn't apply turbulence to everything.&amp;quot; -Alves&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p class="first"&gt;Keto: Non-isothermal = factor of 2?  Numerical models say doesn't strongly
affect dynamics, still acts BE-like.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p class="first"&gt;Vasquez-Semadeni: We are taking turbulence too far!  But these are not
stable either.&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/dd&gt;
&lt;/dl&gt;
&lt;/div&gt;
&lt;div class="section" id="herschel-view-of-mol-cld-structure-sf-nicola-schneider"&gt;
&lt;h2&gt;Herschel view of mol cld structure &amp;amp; SF: Nicola Schneider&lt;/h2&gt;
&lt;dl class="docutils"&gt;
&lt;dt&gt;Unscheduled talk.&lt;/dt&gt;
&lt;dd&gt;&lt;ul class="first last simple"&gt;
&lt;li&gt;massive stars at junctinos of filaments&lt;/li&gt;
&lt;li&gt;DR21, Taurus
+ &amp;quot;striations&amp;quot; correlated with B-fields&lt;/li&gt;
&lt;li&gt;Herschel PDF goes to higher density&lt;/li&gt;
&lt;li&gt;ChamII: subtract sources, get lognormal (kinda)
+ &amp;quot;weak&amp;quot; slope difference in power law tails&lt;/li&gt;
&lt;li&gt;compressed shells -&amp;gt; double-peak, broadened PDF&lt;/li&gt;
&lt;li&gt;Q Joao: 2 power laws.  Coincide with OB stars.  Could it be unaccounted for temperature increase?&lt;/li&gt;
&lt;li&gt;A:&lt;/li&gt;
&lt;li&gt;Q Kainulainen Cham II: Subtracted bound cores.&lt;/li&gt;
&lt;li&gt;A: A_V &amp;gt; 10 is core collapse&lt;/li&gt;
&lt;li&gt;Q: in PDFs, are the pixels all independent, or does the PDF from a single bright source contribute to many bins?&lt;/li&gt;
&lt;li&gt;A: Too many pixels&lt;/li&gt;
&lt;/ul&gt;
&lt;/dd&gt;
&lt;/dl&gt;
&lt;/div&gt;
&lt;div class="section" id="properties-of-interstellar-filaments-observed-with-herschel-and-3d-magnetic-field-structure-derived-from-the-polarization-parameters-observed-with-planck-15-doris-arzoumanian"&gt;
&lt;h2&gt;Properties of interstellar filaments observed with Herschel and 3D magnetic field structure derived from the polarization parameters observed with Planck 15': Doris Arzoumanian&lt;/h2&gt;
&lt;dl class="docutils"&gt;
&lt;dt&gt;Constant filament width&lt;/dt&gt;
&lt;dd&gt;&lt;ul class="first last simple"&gt;
&lt;li&gt;0.1 pc&lt;/li&gt;
&lt;/ul&gt;
&lt;/dd&gt;
&lt;dt&gt;B-fields in filaments&lt;/dt&gt;
&lt;dd&gt;&lt;ul class="first last simple"&gt;
&lt;li&gt;geometry of field can lead to depolarization&lt;/li&gt;
&lt;li&gt;Q Crutcher: Polarization fraction is much higher than observed in cores.  Very minor effect.&lt;/li&gt;
&lt;li&gt;A: Cores would be lower.&lt;/li&gt;
&lt;/ul&gt;
&lt;/dd&gt;
&lt;/dl&gt;
&lt;/div&gt;
&lt;div class="section" id="magnetic-fields-in-bok-globules-15-gesa-bertrang"&gt;
&lt;h2&gt;Magnetic Fields in Bok globules 15': Gesa Bertrang&lt;/h2&gt;
&lt;dl class="docutils"&gt;
&lt;dt&gt;Supercritical: B-fields play no role&lt;/dt&gt;
&lt;dd&gt;&lt;ul class="first last simple"&gt;
&lt;li&gt;comparison of NIR and submm poln&lt;/li&gt;
&lt;li&gt;VLT/ISAAC poln&lt;/li&gt;
&lt;li&gt;Q Zinnecker: IR poln vector vs B-field.  Radiative acceleration vs B-field alignment?&lt;/li&gt;
&lt;li&gt;Q Keto: How do you know surrounding gas is associated with core?&lt;/li&gt;
&lt;li&gt;A: We don't see anything else in the images.  The globules are very isolated&lt;/li&gt;
&lt;/ul&gt;
&lt;/dd&gt;
&lt;/dl&gt;
&lt;p&gt;&amp;quot;Bok Globules&amp;quot; sounds very like &amp;quot;Buckyballs&amp;quot;&lt;/p&gt;
&lt;/div&gt;
&lt;div class="section" id="effect-of-turbulence-on-the-density-statistics-of-molecular-clouds-an-observational-view-j-kainulainen"&gt;
&lt;h2&gt;Effect of turbulence on the density statistics of molecular clouds: an observational view: J Kainulainen&lt;/h2&gt;
&lt;dl class="docutils"&gt;
&lt;dt&gt;Density structure dominated by turbulent motions&lt;/dt&gt;
&lt;dd&gt;&lt;ul class="first last simple"&gt;
&lt;li&gt;Yields a lognormal function&lt;/li&gt;
&lt;li&gt;powerlaw tail from gravity&lt;/li&gt;
&lt;li&gt;assume that 2D pdf can be used to yield 3D pdf&lt;/li&gt;
&lt;li&gt;Can't use background stars at N kpc...
+ high dynamic range: 3-120x10^21 cm^-2
+ 2&amp;quot; res&lt;/li&gt;
&lt;li&gt;avoid LOS contamination by using a column cutoff&lt;/li&gt;
&lt;li&gt;use 8 clouds to determine b&lt;/li&gt;
&lt;li&gt;&amp;quot;First direct observation determination of b&amp;quot;&lt;/li&gt;
&lt;li&gt;Dense gas mass fraction
+ lognormal PDF -&amp;gt; exponential DGMF
+ IRDCs have greater &amp;quot;fraction&amp;quot; of high density gas&lt;/li&gt;
&lt;li&gt;COMMENT: You CAN estimate the volume density.&lt;/li&gt;
&lt;li&gt;Yes, I agree, I can do it too.&lt;/li&gt;
&lt;li&gt;Q: Vazquez-Semadeni.  Low b suggests more solenoidal than compressive.&lt;/li&gt;
&lt;li&gt;A: B-field squishes PDF.&lt;/li&gt;
&lt;li&gt;A: b-parameter drives SF.  B-field close second.&lt;/li&gt;
&lt;li&gt;Q: How do you handle projection effects?&lt;/li&gt;
&lt;li&gt;A: Not observationally, but simulations seem to show we're doing OK&lt;/li&gt;
&lt;li&gt;Q Hennebelle: Equation of state.  Higher adiabatic index leads to different PDF.&lt;/li&gt;
&lt;li&gt;A: Should repeat experiment...&lt;/li&gt;
&lt;li&gt;Q Nicola Schneider: How do you get Mach number?  I get much lower Mach
number.  Why is there no clearly defined power-law tail?&lt;/li&gt;
&lt;li&gt;A: Mach #: line width, assume temperature, -&amp;gt; 3D vel dispersion.&lt;/li&gt;
&lt;li&gt;A: We need quantitative comparison between Herschel &amp;amp; extinction map.
Depends on scale.  We could fit with power-laws.  But, looks like lognormal..&lt;/li&gt;
&lt;li&gt;A: MAYBE powerlaw tails due to gravity.  Maybe not!  Maybe young IRDCs not
dominated by gravity.&lt;/li&gt;
&lt;/ul&gt;
&lt;/dd&gt;
&lt;/dl&gt;
&lt;/div&gt;
&lt;div class="section" id="filamentary-structures-in-the-ism-15-rowan-smith"&gt;
&lt;h2&gt;Filamentary Structures in the ISM 15: Rowan Smith&lt;/h2&gt;
&lt;dl class="docutils"&gt;
&lt;dt&gt;Arepo!&lt;/dt&gt;
&lt;dd&gt;&lt;ul class="first last simple"&gt;
&lt;li&gt;time dependent chemistry&lt;/li&gt;
&lt;li&gt;molecular cloud factory&lt;/li&gt;
&lt;li&gt;filamentary structures generated&lt;/li&gt;
&lt;li&gt;filaments examined with DiSPERSE
+ can generate filaments with shallow profiles with or without B-fields&lt;/li&gt;
&lt;li&gt;How do 2D filaments match 3D filaments?&lt;/li&gt;
&lt;li&gt;DiSPERSE connects maxima: Cores are forced onto filaments!&lt;/li&gt;
&lt;li&gt;Question for the audience: How do you fit a filament with a gaussian?&lt;/li&gt;
&lt;li&gt;3D reasonably consistent with 2D?
+ but major degeneracy between R-flat and p&lt;/li&gt;
&lt;li&gt;Q Hennebelle: Why do you need B-fields for a shallow profile?&lt;/li&gt;
&lt;li&gt;A: You &lt;em&gt;don't&lt;/em&gt; need B-fields for shallow profiles.&lt;/li&gt;
&lt;li&gt;(more conversation that was probably important but I missed it)&lt;/li&gt;
&lt;li&gt;Q: filaments embedded in hot medium, not same as mol cloud filaments&lt;/li&gt;
&lt;li&gt;Q: Xu - We found a filamentary wisp just like what you saw&lt;/li&gt;
&lt;li&gt;Q: Adam Leroy: Why did you pick a particular number for the CO?&lt;/li&gt;
&lt;li&gt;A: &lt;em&gt;If&lt;/em&gt; my sensitivity to CO is a certain value, how much gas do I miss?
Cumulative plots help avoid &amp;quot;threshold&amp;quot;&lt;/li&gt;
&lt;li&gt;Q Adam: Would you make this back up by filling beam with faint CO?&lt;/li&gt;
&lt;li&gt;A: Haven't looked at beam sizes yet.&lt;/li&gt;
&lt;li&gt;Q Zinnecker: How do you get H2 at such low CO values?  Such low extinction, shouldn't H2 go away?&lt;/li&gt;
&lt;li&gt;A: Very well self-shielding&lt;/li&gt;
&lt;/ul&gt;
&lt;/dd&gt;
&lt;/dl&gt;
&lt;/div&gt;
&lt;div class="section" id="turbulence-in-the-ism-30-fabian-heitsch"&gt;
&lt;h2&gt;Turbulence in the ISM 30': Fabian Heitsch&lt;/h2&gt;
&lt;dl class="docutils"&gt;
&lt;dt&gt;Turbulent mixing -&amp;gt; serious resolution issues?&lt;/dt&gt;
&lt;dd&gt;&lt;ul class="first last simple"&gt;
&lt;li&gt;Fragmentation rather than support&lt;/li&gt;
&lt;li&gt;lognormals are easy to generate&lt;/li&gt;
&lt;/ul&gt;
&lt;/dd&gt;
&lt;dt&gt;How is turbulence driven? (how does it arise?)&lt;/dt&gt;
&lt;dd&gt;&lt;ul class="first last simple"&gt;
&lt;li&gt;Hydrodynamic eqns -&amp;gt; dispersive and curly components
1. Gradients in the velocity field (shear)
2. Angular momentum conservation term: vorticity increases when gas compressed.  Make something smaller -&amp;gt; spin up
3. Pressure / density misaligned -&amp;gt; turbulence.  Thermal instability.&lt;/li&gt;
&lt;li&gt;&amp;quot;Turbulence in the ISM is a &lt;em&gt;consequence&lt;/em&gt;&amp;quot;&lt;/li&gt;
&lt;/ul&gt;
&lt;/dd&gt;
&lt;dt&gt;Turbulence decays&lt;/dt&gt;
&lt;dd&gt;&lt;ul class="first last simple"&gt;
&lt;li&gt;On a dynamical timescale?
+ lifetime can be extended somehow...&lt;/li&gt;
&lt;li&gt;Drivers?
+ Expansion of shells
+ Global graviational instability&lt;/li&gt;
&lt;li&gt;Vazquez-Semadeni simulation: gravitational collapse drives turbulence in a &amp;quot;core&amp;quot;&lt;/li&gt;
&lt;/ul&gt;
&lt;/dd&gt;
&lt;dt&gt;How is turbulence driven in the models?&lt;/dt&gt;
&lt;dd&gt;&lt;ul class="first last simple"&gt;
&lt;li&gt;Local: Driven / fourier forcing
+ Choose amplitude in fourier space (Kolmogorov or Burgers)
+ Uniform random phase in fourier space
+ transform to real
+ apply forcing at every timestep (at constant luminosity)&lt;/li&gt;
&lt;li&gt;Large scales feed smaller scales&lt;/li&gt;
&lt;li&gt;Problems:
+ phases should be coherent (HII region shells are coherent)
+ driving is volume-filling!  (bow shocks!)
+ only makes sense if accretion timescale longer than crossing time (this is OK)
+ periodic box: uncertain jeans mass, virial parameter.&lt;/li&gt;
&lt;li&gt;Alternative: cloud formation by colliding flows.&lt;/li&gt;
&lt;/ul&gt;
&lt;/dd&gt;
&lt;dt&gt;Support vs Fragmentation&lt;/dt&gt;
&lt;dd&gt;&lt;ul class="first last simple"&gt;
&lt;li&gt;assume turbulence is an extra support parameter
+ if true, one core should form 1 star instead of 100 (? this doesn't make sense to me)
+ Energy from out-&amp;gt;in.  How does this yield support?
+ Turbulence isotropic on small scales?  Not true.  Most energy on largest scales.
+ mildly supersonic turbulence CAN support cores... M=10 doesn't&lt;/li&gt;
&lt;/ul&gt;
&lt;/dd&gt;
&lt;dt&gt;Turbulence doesn't work, so...?&lt;/dt&gt;
&lt;dd&gt;&lt;ul class="first last simple"&gt;
&lt;li&gt;turbulent support is line splitting... no hair splitting&lt;/li&gt;
&lt;li&gt;turbulence REALLY leads to fragmentation&lt;/li&gt;
&lt;li&gt;Q Jouni Kainulainen: Should we (observers) stop measuring CO line widths and
calling it turbulent energy?&lt;/li&gt;
&lt;li&gt;A: Don't stop measuring.  Turbulence support can't come from gravity-driven turbulence.&lt;/li&gt;
&lt;li&gt;Q: Assumed anisotropic turbulence.    In B-fields, turbulence could be 2D.&lt;/li&gt;
&lt;li&gt;A: Yes, but need dynamically dominant B-fields&lt;/li&gt;
&lt;li&gt;Q Phillip Girichidis: Detailed description of how to model turbulence in
simulations.  Matters whether &lt;em&gt;acceleration&lt;/em&gt; or &lt;em&gt;force&lt;/em&gt;.&lt;/li&gt;
&lt;li&gt;A: We know what the difference is...&lt;/li&gt;
&lt;li&gt;A Vazquez-Semadeni: Force -&amp;gt; acceleration depends on density.  Only get a
lognormal when you have acceleration, &lt;em&gt;not&lt;/em&gt; force.  Force -&amp;gt; dense regions
accelerated less -&amp;gt; powerlaw.&lt;/li&gt;
&lt;/ul&gt;
&lt;/dd&gt;
&lt;/dl&gt;
&lt;/div&gt;
&lt;div class="section" id="molecular-cloud-formation-in-converging-flows-30-patrick-hennebelle-sap-cea-saclay"&gt;
&lt;h2&gt;Molecular cloud formation in converging flows 30': Patrick Hennebelle (SAp/CEA Saclay)&lt;/h2&gt;
&lt;dl class="docutils"&gt;
&lt;dt&gt;Converging flows&lt;/dt&gt;
&lt;dd&gt;&lt;ul class="first last simple"&gt;
&lt;li&gt;convert WNM -&amp;gt; CNM in &amp;quot;converging flows&amp;quot; (not shocks?)&lt;/li&gt;
&lt;li&gt;alternative: bistable medium..&lt;/li&gt;
&lt;li&gt;polytropic EOS -&amp;gt; powerlaw
+ 2-phase is strongly non-lognormal
+ but they consist of two separated lognormals&lt;/li&gt;
&lt;li&gt;molecular clouds are 2-phase: HI and H2 spatially coincident&lt;/li&gt;
&lt;li&gt;Mass spectrum &amp;quot;Higher order statistics&amp;quot;&lt;/li&gt;
&lt;li&gt;mass-size-velocity dispersion relations &amp;quot;consistent with larson relation&amp;quot;
+ scatter still huge&lt;/li&gt;
&lt;li&gt;Accretion of HI is adequate in early stages
+ maybe feedback is needed in later stages?&lt;/li&gt;
&lt;li&gt;Magnetization is mass-dependent?&lt;/li&gt;
&lt;/ul&gt;
&lt;/dd&gt;
&lt;/dl&gt;
&lt;p&gt;SF in colliding flows?&lt;/p&gt;
&lt;dl class="docutils"&gt;
&lt;dt&gt;Filaments in MHD turbulence&lt;/dt&gt;
&lt;dd&gt;&lt;ul class="first last simple"&gt;
&lt;li&gt;don't need converging flows to get filaments&lt;/li&gt;
&lt;li&gt;filaments from intersection of shocked sheets?
+ HD vs MHD: filaments form in HD, but they live longer in MHD&lt;/li&gt;
&lt;li&gt;filament identification: inertia matrix -&amp;gt; eigenvectors -&amp;gt; filament direction&lt;/li&gt;
&lt;li&gt;MHD -&amp;gt; greater elongation
+ B-field keeps filaments more coherent
+ B-fields weaken shocks, therefore shocks are not the formation driver of filaments&lt;/li&gt;
&lt;li&gt;Q:Burkhert Coherence length scale in galaxies&lt;/li&gt;
&lt;li&gt;Vazquez-Semadeni: Colliding flows are just a representation for any style of converging flow (e.g., grav instability)&lt;/li&gt;
&lt;li&gt;Jin Koda: 500pc scale cloud formation, would expect GMC to follow flow.  But, we find retrograde &amp;amp; prograde.&lt;/li&gt;
&lt;li&gt;A: Why do you expect spin?  Local turbulent motions...  at 500 pc, local turbulence comparable to shear.&lt;/li&gt;
&lt;li&gt;Q Keto: If cloud initially forms as Jeans mass by grav frag process, so converging flows isn't really the explanation.&lt;/li&gt;
&lt;li&gt;A: converging flows generated by gravitational collapse are still converging flows.&lt;/li&gt;
&lt;li&gt;Q Klessen: distribution of spins arise naturally (because of curvature?)&lt;/li&gt;
&lt;/ul&gt;
&lt;/dd&gt;
&lt;/dl&gt;
&lt;/div&gt;
&lt;div class="section" id="on-the-characteristic-mass-of-stars-in-stellar-clusters-15-paul-clark"&gt;
&lt;h2&gt;On the characteristic mass of stars in stellar clusters 15': Paul Clark&lt;/h2&gt;
&lt;dl class="docutils"&gt;
&lt;dt&gt;Try to take low density clouds (~100) and collapse them&lt;/dt&gt;
&lt;dd&gt;&lt;ul class="first last simple"&gt;
&lt;li&gt;Bate 2008 showed radiation limited fragmentation&lt;/li&gt;
&lt;li&gt;heating/coolring rate strong function of density
+ photoelectric heating dominant&lt;/li&gt;
&lt;li&gt;ISM physics in AREPO&lt;/li&gt;
&lt;li&gt;vary turbulent driving (b=0.3, 0.5, 1)&lt;/li&gt;
&lt;li&gt;take into account shielding&lt;/li&gt;
&lt;li&gt;compressive, weak/strong G0: more small-scale filaments in low-G0 field&lt;/li&gt;
&lt;li&gt;solenoidal: SF takes longer, more shreddy
+ solenoidal vs compressive take very different amts of time to create stars&lt;/li&gt;
&lt;li&gt;difference in mass function at high mass
+ compressive with high G0 forms more massive stars
+ compressive case leaves gaps: more internal heating&lt;/li&gt;
&lt;li&gt;systematically offset from Chabrier IMF: deficit of low-mass stars
+ not forming enough low-mass stars
+ Why? sinks prevent binary formation&lt;/li&gt;
&lt;/ul&gt;
&lt;/dd&gt;
&lt;dt&gt;Q: Is the solenoidal driving less mass to high density?  i.e., is the density distribution still the driver of SF?&lt;/dt&gt;
&lt;dd&gt;&lt;ul class="first last simple"&gt;
&lt;li&gt;Q Zinnecker:&lt;/li&gt;
&lt;li&gt;A: isothermal doesn't work (especially at high densities)&lt;/li&gt;
&lt;li&gt;Q What about binaries?&lt;/li&gt;
&lt;li&gt;A: Yes, that's it.&lt;/li&gt;
&lt;/ul&gt;
&lt;/dd&gt;
&lt;/dl&gt;
&lt;/div&gt;
&lt;div class="section" id="photoionization-of-the-diffuse-ionised-gas-in-an-mhd-supernova-driven-turbulent-interstellar-medium-jo-barnes-university-of-st-andrews"&gt;
&lt;h2&gt;Photoionization of the diffuse ionised gas in an MHD supernova-driven turbulent Interstellar Medium Jo Barnes (University of St Andrews)&lt;/h2&gt;
&lt;dl class="docutils"&gt;
&lt;dt&gt;1st year phd&lt;/dt&gt;
&lt;dd&gt;&lt;ul class="first last simple"&gt;
&lt;li&gt;explaining [N II]/Halpha line ratios, etc.&lt;/li&gt;
&lt;li&gt;scattered light
+ HII region -&amp;gt; dust -&amp;gt; us
+ diffuse gas -&amp;gt; dust -&amp;gt; us&lt;/li&gt;
&lt;li&gt;scattered/total ~ 0.5 at midplane.  at super high latitudes, can be 20% again&lt;/li&gt;
&lt;li&gt;Q: Could low scale height be because SNe are not blown up together?&lt;/li&gt;
&lt;li&gt;A: We use average SN rate, but arms should be enhanced&lt;/li&gt;
&lt;/ul&gt;
&lt;/dd&gt;
&lt;/dl&gt;
&lt;/div&gt;
&lt;div class="section" id="the-molecular-richness-of-diffuse-ism-a-tracer-of-turbulent-dissipation-15-edith-falgarone"&gt;
&lt;h2&gt;The molecular richness of diffuse ISM: a tracer of turbulent dissipation 15': Edith Falgarone&lt;/h2&gt;
&lt;dl class="docutils"&gt;
&lt;dt&gt;Discussing diffuse medium&lt;/dt&gt;
&lt;dd&gt;&lt;ul class="first last simple"&gt;
&lt;li&gt;large range in physical scale of clouds&lt;/li&gt;
&lt;li&gt;5 order of magnitude scatter in transfer rate of kinetic energy.
+ No trends with scale.&lt;/li&gt;
&lt;li&gt;All forms of Larson relation fail at scales &amp;lt;0.1 pc&lt;/li&gt;
&lt;li&gt;intermittency... most dissipation occurs in very small volume
+ dissipation occurs on filamentary structures
+ resolve pairs of CO-emitting regions corresponding to the dissipative high velocity shears&lt;/li&gt;
&lt;li&gt;CH+ cation - known for 70 years, but poorly understood
+ highly endothermic formation
+ rapidly destroyed by H2, in ~1yr
+ requires extremely efficient formation rate
+ detected to be far too abundant&lt;/li&gt;
&lt;li&gt;M82 LOS: detected in high latitude cloud!
+ gigantic inverse P-cygni from M82
+ infalling HVC tracer?&lt;/li&gt;
&lt;li&gt;also detected CH+ to another galaxy at high latitude&lt;/li&gt;
&lt;li&gt;Associated with HI (same line shape)&lt;/li&gt;
&lt;li&gt;highly non-equilibrium chemistry&lt;/li&gt;
&lt;li&gt;&amp;quot;TDR&amp;quot; = Turbulence Dissipation Region models&lt;/li&gt;
&lt;/ul&gt;
&lt;/dd&gt;
&lt;/dl&gt;
&lt;p&gt;Q: CH+ seen drastically enhanced in diffuse clouds.  Should we expect gigantic abundance variations in dense molecular clouds too?&lt;/p&gt;
&lt;blockquote&gt;
&lt;ul class="simple"&gt;
&lt;li&gt;Q CH+ + B-fields?&lt;/li&gt;
&lt;li&gt;Q Frequency of events?&lt;/li&gt;
&lt;li&gt;A: 1% of gas&lt;/li&gt;
&lt;/ul&gt;
&lt;/blockquote&gt;
&lt;/div&gt;
</content><category term="ismpp"></category><category term="conference"></category><category term="ismpp"></category></entry><entry><title>Late Night Ideas, Oct 6 2013</title><link href="https://keflavich.github.io/blog/late-night-ideas-oct-6-2013.html" rel="alternate"></link><published>2013-10-07T01:00:00-06:00</published><updated>2013-10-07T01:00:00-06:00</updated><author><name>Adam Ginsburg</name></author><id>tag:keflavich.github.io,2013-10-07:/blog/late-night-ideas-oct-6-2013.html</id><summary type="html">&lt;p&gt;Coffee at 7 pm usually isn't a problem...&lt;/p&gt;
&lt;blockquote&gt;
&lt;ol class="arabic simple"&gt;
&lt;li&gt;Dendrogram analysis of turbulent simulations.  What do the structures look
like?  Mostly for visualization in a talk, but perhaps the start of a paper.
Are the high-density substructures too small to collapse?  Too hot?&lt;/li&gt;
&lt;li&gt;A deep GBT+AO observation of the center …&lt;/li&gt;&lt;/ol&gt;&lt;/blockquote&gt;</summary><content type="html">&lt;p&gt;Coffee at 7 pm usually isn't a problem...&lt;/p&gt;
&lt;blockquote&gt;
&lt;ol class="arabic simple"&gt;
&lt;li&gt;Dendrogram analysis of turbulent simulations.  What do the structures look
like?  Mostly for visualization in a talk, but perhaps the start of a paper.
Are the high-density substructures too small to collapse?  Too hot?&lt;/li&gt;
&lt;li&gt;A deep GBT+AO observation of the center of the G49 40km/s cloud.  Can we
perform the same measurement as I did originally against a uniform
backlight?  Will that provide new information&lt;/li&gt;
&lt;li&gt;Corollary to 2: In simulations, what effect does a varying size and
brightness backlight have on the inferred density?&lt;/li&gt;
&lt;li&gt;Measure the distance to the G49 cloud with NIR extinction.  Keep working
with Jonathan Foster on that...&lt;/li&gt;
&lt;li&gt;Test the Cepheid / RR Lyrae distance method on the G49 cloud.  It's close
enough that the targets should be bright.  Start off with 1-hour pilot
(DD?) on the most distant star with a &amp;quot;guaranteed&amp;quot; CO detection, then
propose a longer project to begin using the bisector approach to determine
its true distance.&lt;/li&gt;
&lt;li&gt;Eta Car ALMA.  Basically, same thing, but now invoke the SN 1987A CO
detection.  Eta is the closer laboratory, and it must have similar shock
physics...&lt;/li&gt;
&lt;li&gt;H3+ in the CMZ with Juergen.  Talk to Tom Geballe about H3+ and CO
absorption.  Is it possible to measure CO absorption to red giants?&lt;/li&gt;
&lt;/ol&gt;
&lt;/blockquote&gt;
</content><category term="misc"></category><category term="ideas"></category></entry><entry><title>Installing MultiNest on Mac OS X 10.7</title><link href="https://keflavich.github.io/blog/installing-multinest-on-mac-os-x-107.html" rel="alternate"></link><published>2013-10-06T15:25:00-06:00</published><updated>2013-10-06T15:25:00-06:00</updated><author><name>Adam Ginsburg</name></author><id>tag:keflavich.github.io,2013-10-06:/blog/installing-multinest-on-mac-os-x-107.html</id><summary type="html">&lt;p&gt;Installing multinest &amp;amp; pymultinest has proved non-trivial.&lt;/p&gt;
&lt;p&gt;First, you probably can't build using the default mac gcc; a gcc version &amp;gt;4.5
is probably needed.  The error I got installing MultiNest only turned up one
useful result on google... it was a &lt;a class="reference external" href="https://github.com/hyperion-rt/hyperion/issues/23"&gt;question I had asked&lt;/a&gt; on the &lt;a class="reference external" href="https://github.com/hyperion-rt"&gt;hyperion github
page …&lt;/a&gt;&lt;/p&gt;</summary><content type="html">&lt;p&gt;Installing multinest &amp;amp; pymultinest has proved non-trivial.&lt;/p&gt;
&lt;p&gt;First, you probably can't build using the default mac gcc; a gcc version &amp;gt;4.5
is probably needed.  The error I got installing MultiNest only turned up one
useful result on google... it was a &lt;a class="reference external" href="https://github.com/hyperion-rt/hyperion/issues/23"&gt;question I had asked&lt;/a&gt; on the &lt;a class="reference external" href="https://github.com/hyperion-rt"&gt;hyperion github
page&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;To get around that, I installed the &lt;a class="reference external" href="http://hpc.sourceforge.net/"&gt;hpc compilers&lt;/a&gt; (4.7 since I'm on OS X 10.7) into
&lt;cite&gt;/usr/local/hpc/&lt;/cite&gt; to keep them distinct from the system gcc, which is needed
for many other things.&lt;/p&gt;
&lt;p&gt;I then installed the &lt;a class="reference external" href="http://www.open-mpi.org/"&gt;openMPI compilers&lt;/a&gt; to &lt;cite&gt;/usr/local/openmpi&lt;/cite&gt;:&lt;/p&gt;
&lt;pre class="literal-block"&gt;
./configure --prefix=/usr/local/openmpi
make
sudo make install
&lt;/pre&gt;
&lt;p&gt;Then I tried installing pymultinest&lt;/p&gt;
&lt;pre class="literal-block"&gt;
dor ~/repos/MultiNest cmake/master$ mkdir build
dor ~/repos/MultiNest cmake/master$ cd build/
dor ~/repos/MultiNest/build cmake/master$ which mpif90
/usr/local/openmpi/bin/mpif90
dor ~/repos/MultiNest/build cmake/master$ which gfortran
/usr/local/hpc/bin//gfortran
dor ~/repos/MultiNest/build cmake/master$ which gcc
/usr/local/hpc/bin//gcc
dor ~/repos/MultiNest/build cmake/master$ cmake -DCMAKE_{C,CXX}_FLAGS=&amp;quot;-arch x86_64&amp;quot; -DCMAKE_Fortran_FLAGS=&amp;quot;-m64&amp;quot; ..
-- The Fortran compiler identification is GNU
-- The C compiler identification is GNU 4.7.1
-- The CXX compiler identification is GNU 4.7.1
-- Check for working Fortran compiler: /usr/local/hpc/bin/gfortran
-- Check for working Fortran compiler: /usr/local/hpc/bin/gfortran  -- works
-- Detecting Fortran compiler ABI info
-- Detecting Fortran compiler ABI info - done
-- Checking whether /usr/local/hpc/bin/gfortran supports Fortran 90
-- Checking whether /usr/local/hpc/bin/gfortran supports Fortran 90 -- yes
-- Checking whether C compiler has -isysroot
-- Checking whether C compiler has -isysroot - yes
-- Checking whether C compiler supports OSX deployment target flag
-- Checking whether C compiler supports OSX deployment target flag - yes
-- Check for working C compiler: /usr/local/hpc/bin/gcc
-- Check for working C compiler: /usr/local/hpc/bin/gcc -- works
-- Detecting C compiler ABI info
-- Detecting C compiler ABI info - done
-- Checking whether CXX compiler has -isysroot
-- Checking whether CXX compiler has -isysroot - yes
-- Checking whether CXX compiler supports OSX deployment target flag
-- Checking whether CXX compiler supports OSX deployment target flag - yes
-- Check for working CXX compiler: /usr/local/hpc/bin/g++
-- Check for working CXX compiler: /usr/local/hpc/bin/g++ -- works
-- Detecting CXX compiler ABI info
-- Detecting CXX compiler ABI info - done
-- Looking for Fortran dgemm
-- Looking for Fortran dgemm - found
-- Looking for include file pthread.h
-- Looking for include file pthread.h - found
-- Looking for pthread_create
-- Looking for pthread_create - found
-- Found Threads: TRUE
-- A library with BLAS API found.
-- Looking for Fortran cheev
-- Looking for Fortran cheev - found
-- A library with LAPACK API found.
-- Detected gfortran, adding -ffree-line-length-none compiler option.
-- Found MPI_C: /usr/local/openmpi/lib/libmpi.dylib;/usr/lib/libm.dylib
-- Found MPI_CXX: /usr/local/openmpi/lib/libmpi_cxx.dylib;/usr/local/openmpi/lib/libmpi.dylib;/usr/lib/libm.dylib
-- Found MPI_Fortran: /usr/local/openmpi/lib/libmpi_f90.a;/usr/local/openmpi/lib/libmpi_f77.dylib;/usr/local/openmpi/lib/libmpi.dylib;/usr/lib/libm.dylib
-- Configuring done
-- Generating done
-- Build files have been written to: /Users/adam/repos/MultiNest/build
dor ~/repos/MultiNest/build cmake/master$ make
Scanning dependencies of target multinest_mpi_shared
[  1%] Building Fortran object src/CMakeFiles/multinest_mpi_shared.dir/utils.f90.o
[  3%] Building Fortran object src/CMakeFiles/multinest_mpi_shared.dir/utils1.f90.o
[  5%] Building Fortran object src/CMakeFiles/multinest_mpi_shared.dir/kmeans_clstr.f90.o
[  6%] Building Fortran object src/CMakeFiles/multinest_mpi_shared.dir/xmeans_clstr.f90.o
[  8%] Building Fortran object src/CMakeFiles/multinest_mpi_shared.dir/posterior.F90.o
[ 10%] Building Fortran object src/CMakeFiles/multinest_mpi_shared.dir/priors.f90.o
[ 12%] Building Fortran object src/CMakeFiles/multinest_mpi_shared.dir/nested.F90.o
[ 13%] Building Fortran object src/CMakeFiles/multinest_mpi_shared.dir/cwrapper.f90.o
Linking Fortran shared library ../../lib/libmultinest_mpi.dylib
[ 13%] Built target multinest_mpi_shared
Scanning dependencies of target multinest_mpi_static
[ 15%] Building Fortran object src/CMakeFiles/multinest_mpi_static.dir/utils.f90.o
[ 17%] Building Fortran object src/CMakeFiles/multinest_mpi_static.dir/utils1.f90.o
[ 18%] Building Fortran object src/CMakeFiles/multinest_mpi_static.dir/kmeans_clstr.f90.o
[ 20%] Building Fortran object src/CMakeFiles/multinest_mpi_static.dir/xmeans_clstr.f90.o
[ 22%] Building Fortran object src/CMakeFiles/multinest_mpi_static.dir/posterior.F90.o
[ 24%] Building Fortran object src/CMakeFiles/multinest_mpi_static.dir/priors.f90.o
[ 25%] Building Fortran object src/CMakeFiles/multinest_mpi_static.dir/nested.F90.o
[ 27%] Building Fortran object src/CMakeFiles/multinest_mpi_static.dir/cwrapper.f90.o
Linking Fortran static library ../../lib/libmultinest_mpi.a
[ 27%] Built target multinest_mpi_static
Scanning dependencies of target multinest_shared
[ 29%] Building Fortran object src/CMakeFiles/multinest_shared.dir/utils.f90.o
[ 31%] Building Fortran object src/CMakeFiles/multinest_shared.dir/utils1.f90.o
[ 32%] Building Fortran object src/CMakeFiles/multinest_shared.dir/kmeans_clstr.f90.o
[ 34%] Building Fortran object src/CMakeFiles/multinest_shared.dir/xmeans_clstr.f90.o
[ 36%] Building Fortran object src/CMakeFiles/multinest_shared.dir/posterior.F90.o
[ 37%] Building Fortran object src/CMakeFiles/multinest_shared.dir/priors.f90.o
[ 39%] Building Fortran object src/CMakeFiles/multinest_shared.dir/nested.F90.o
[ 41%] Building Fortran object src/CMakeFiles/multinest_shared.dir/cwrapper.f90.o
Linking Fortran shared library ../../lib/libmultinest.dylib
[ 41%] Built target multinest_shared
Scanning dependencies of target multinest_static
[ 43%] Building Fortran object src/CMakeFiles/multinest_static.dir/utils.f90.o
[ 44%] Building Fortran object src/CMakeFiles/multinest_static.dir/utils1.f90.o
[ 46%] Building Fortran object src/CMakeFiles/multinest_static.dir/kmeans_clstr.f90.o
[ 48%] Building Fortran object src/CMakeFiles/multinest_static.dir/xmeans_clstr.f90.o
[ 50%] Building Fortran object src/CMakeFiles/multinest_static.dir/posterior.F90.o
[ 51%] Building Fortran object src/CMakeFiles/multinest_static.dir/priors.f90.o
[ 53%] Building Fortran object src/CMakeFiles/multinest_static.dir/nested.F90.o
[ 55%] Building Fortran object src/CMakeFiles/multinest_static.dir/cwrapper.f90.o
Linking Fortran static library ../../lib/libmultinest.a
Error copying file &amp;quot;/Users/adam/repos/MultiNest/build/src/kmeans_clstr.mod&amp;quot; to &amp;quot;/Users/adam/repos/MultiNest/modules/&amp;quot;.
make[2]: *** [../lib/libmultinest.a] Error 1
make[1]: *** [src/CMakeFiles/multinest_static.dir/all] Error 2
make: *** [all] Error 2
&lt;/pre&gt;
&lt;p&gt;The approach that worked:&lt;/p&gt;
&lt;pre class="literal-block"&gt;
mkdir -p build lib modules bin/chains
cd build
cmake -DCMAKE_{C,CXX}_FLAGS=&amp;quot;-arch x86_64&amp;quot; -DCMAKE_Fortran_FLAGS=&amp;quot;-m64&amp;quot; ..
make
sudo make install
cd ../lib
ln -s libmultinest.dylib libmultinest.so
export DYLD_LIBRARY_PATH=$DYLD_LIBRARY_PATH:/usr/local/hpc/lib:/usr/local/openmpi/lib/
export LD_LIBRARY_PATH=/Users/adam/repos/MultiNest/lib
&lt;/pre&gt;
&lt;p&gt;At this point, multinest imports but doesn't run the tests...&lt;/p&gt;
</content><category term="misc"></category></entry><entry><title>Tuesday Afternoon Talks</title><link href="https://keflavich.github.io/blog/tuesday-afternoon-talks.html" rel="alternate"></link><published>2013-10-01T16:15:00-06:00</published><updated>2013-10-01T16:15:00-06:00</updated><author><name>Adam Ginsburg</name></author><id>tag:keflavich.github.io,2013-10-01:/blog/tuesday-afternoon-talks.html</id><summary type="html">&lt;div class="section" id="pm-tobias-fritz-germany-nuclear-cluster-of-the-milky-way-15-5-minutes"&gt;
&lt;h2&gt;4:15-4:35 pm Tobias Fritz (Germany): Nuclear Cluster of the Milky Way (15 + 5 minutes)&lt;/h2&gt;
&lt;img alt="" src="https://keflavich.github.io/blog/iau303/images/fritz.jpg" style="width: 800px;" /&gt;
&lt;dl class="docutils"&gt;
&lt;dt&gt;Model fitting of nuclear cluster: Sersic, etc.&lt;/dt&gt;
&lt;dd&gt;&lt;ul class="first last simple"&gt;
&lt;li&gt;unusually bright nuclear cluster for its size&lt;/li&gt;
&lt;/ul&gt;
&lt;/dd&gt;
&lt;/dl&gt;
&lt;p&gt;Globular cluster origin of nuclear cluster&lt;/p&gt;
&lt;div class="section" id="questions"&gt;
&lt;h3&gt;Questions:&lt;/h3&gt;
&lt;blockquote&gt;
&lt;ul class="simple"&gt;
&lt;li&gt;Q: Round component consistent with inspiraling globular cluster.  What about
spectral properties?&lt;/li&gt;
&lt;li&gt;A …&lt;/li&gt;&lt;/ul&gt;&lt;/blockquote&gt;&lt;/div&gt;&lt;/div&gt;</summary><content type="html">&lt;div class="section" id="pm-tobias-fritz-germany-nuclear-cluster-of-the-milky-way-15-5-minutes"&gt;
&lt;h2&gt;4:15-4:35 pm Tobias Fritz (Germany): Nuclear Cluster of the Milky Way (15 + 5 minutes)&lt;/h2&gt;
&lt;img alt="" src="https://keflavich.github.io/blog/iau303/images/fritz.jpg" style="width: 800px;" /&gt;
&lt;dl class="docutils"&gt;
&lt;dt&gt;Model fitting of nuclear cluster: Sersic, etc.&lt;/dt&gt;
&lt;dd&gt;&lt;ul class="first last simple"&gt;
&lt;li&gt;unusually bright nuclear cluster for its size&lt;/li&gt;
&lt;/ul&gt;
&lt;/dd&gt;
&lt;/dl&gt;
&lt;p&gt;Globular cluster origin of nuclear cluster&lt;/p&gt;
&lt;div class="section" id="questions"&gt;
&lt;h3&gt;Questions:&lt;/h3&gt;
&lt;blockquote&gt;
&lt;ul class="simple"&gt;
&lt;li&gt;Q: Round component consistent with inspiraling globular cluster.  What about
spectral properties?&lt;/li&gt;
&lt;li&gt;A: No.  Metallicity difficult.&lt;/li&gt;
&lt;/ul&gt;
&lt;/blockquote&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="section" id="pm-tuan-do-canada-measuring-the-physical-properties-of-the-milky-way-nuclear-star-cluster-with-3d-stellar-kinematics-15-5-minutes"&gt;
&lt;h2&gt;4:35-4:55 pm Tuan Do (Canada): Measuring the physical properties of the Milky Way Nuclear Star Cluster with 3D stellar kinematics (15 + 5 minutes)&lt;/h2&gt;
&lt;img alt="" src="https://keflavich.github.io/blog/iau303/images/do.jpg" style="width: 800px;" /&gt;
&lt;dl class="docutils"&gt;
&lt;dt&gt;Dynamics of CMZ stars&lt;/dt&gt;
&lt;dd&gt;&lt;ul class="first last simple"&gt;
&lt;li&gt;Massive black hole affects dynamics of a cluster&lt;/li&gt;
&lt;li&gt;testing presence of cusps
+ old stars have no cusp
+ young stars have a cusp, but not dynamically relaxed&lt;/li&gt;
&lt;li&gt;what is the true stellar density profile?
+ can't determine by counting
+ kinematics can help
+ old stars randomly distributed
+ young stars concentrated&lt;/li&gt;
&lt;li&gt;did the stats right
+ no binning
+ individual likelihoods
+ unfortunately, this is new&lt;/li&gt;
&lt;li&gt;flat slope, no anisotropy&lt;/li&gt;
&lt;li&gt;correlation between parameters, particularly the slope and BH mass&lt;/li&gt;
&lt;li&gt;edge of core poorly constrained&lt;/li&gt;
&lt;li&gt;infalling IMBH or SMBH destroys stellar cusp
+ observational constraints on IMBHs poor&lt;/li&gt;
&lt;li&gt;QUESTION: Do the fits improve at all if you impose a GC distance?
+ Answered: Can merge with PDF from stellar orbits&lt;/li&gt;
&lt;/ul&gt;
&lt;/dd&gt;
&lt;/dl&gt;
&lt;div class="section" id="question"&gt;
&lt;h3&gt;Question&lt;/h3&gt;
&lt;blockquote&gt;
&lt;ul class="simple"&gt;
&lt;li&gt;Q: Inconsistent with 7.7 kpc distance to CMZ?&lt;/li&gt;
&lt;li&gt;A: no, consistent within 1-sigma&lt;/li&gt;
&lt;li&gt;Q: How do you contrain R_0 with this approach?&lt;/li&gt;
&lt;li&gt;A: radial velocities give absolute scale.  Proper motions must also have
some scale.  Match the scales to get R_0&lt;/li&gt;
&lt;li&gt;Q: Don't use any information outside 0.5 parsecs.  Shouldn't you include it?
I get the right mass if I do&lt;/li&gt;
&lt;li&gt;A: Will help, but velocity dispersion dominated by nearest stars&lt;/li&gt;
&lt;li&gt;Q: Anisotropy in cluster.  Get rid of red supergiants somehow?  Tangential
or radial?&lt;/li&gt;
&lt;li&gt;A: Hard to know.  Very little anisotropy.&lt;/li&gt;
&lt;/ul&gt;
&lt;/blockquote&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="section" id="pm-mark-wardle-australia-star-formation-within-0-5-pc-of-sgra-15-5-minutes"&gt;
&lt;h2&gt;4:55-5:15 pm Mark Wardle (Australia): Star Formation within 0.5 pc of SgrA* (15 + 5 minutes)&lt;/h2&gt;
&lt;img alt="" src="https://keflavich.github.io/blog/iau303/images/wardle.jpg" style="width: 800px;" /&gt;
&lt;p&gt;&amp;quot;Highest I've ever been for a talk&amp;quot;&lt;/p&gt;
&lt;dl class="docutils"&gt;
&lt;dt&gt;High densities needed to overcome tidal shear&lt;/dt&gt;
&lt;dd&gt;&lt;ul class="first last simple"&gt;
&lt;li&gt;big cloud -&amp;gt; Hoyle-Littleton accretion
+ self-intersecting orbit on the backside of the cloud&lt;/li&gt;
&lt;li&gt;central hole because accreted?&lt;/li&gt;
&lt;li&gt;high magnetic pressure in disk: 10x greater than gas&lt;/li&gt;
&lt;li&gt;B-fields suppress fragmentation&lt;/li&gt;
&lt;li&gt;Black hole takes bite out of cloud&lt;/li&gt;
&lt;li&gt;optically thick disk: sigma T_eff^4 cooling
+ heating due to starlight, accretion&lt;/li&gt;
&lt;li&gt;twisting knobs to figure out where accretion disk turns into fragmenting disk
+ inside, magnetically active / supported
+ outside (0.04 pc) fragmenting
+ further out: grav stable&lt;/li&gt;
&lt;li&gt;maybe high accretion rate drove fermi bubble&lt;/li&gt;
&lt;li&gt;accretion rate consistent with 10^6 Msun/Gyr -&amp;gt; build Sgr A*&lt;/li&gt;
&lt;/ul&gt;
&lt;/dd&gt;
&lt;/dl&gt;
&lt;div class="section" id="questions-1"&gt;
&lt;h3&gt;Questions&lt;/h3&gt;
&lt;blockquote&gt;
&lt;ul class="simple"&gt;
&lt;li&gt;Q Mitch: Grav unstable region globally unstable?&lt;/li&gt;
&lt;li&gt;A: Has to do with the disk height.  h/r very small, not an issue&lt;/li&gt;
&lt;li&gt;Q Fred Lo: We don't see any of this observationally.  All history?&lt;/li&gt;
&lt;li&gt;A: Yes, this all happened a few Myr ago.&lt;/li&gt;
&lt;li&gt;Q: Eddington accretion: what happens to rest of star formation and the disk?&lt;/li&gt;
&lt;li&gt;A: I think it's OK - star formation 10^4-10^5 years, but dump time 10^5-10^6 yrs&lt;/li&gt;
&lt;li&gt;Q: Bonnel &amp;amp; Rice did simulations.  Why need more?&lt;/li&gt;
&lt;li&gt;A: B-fields?  Eqn of state?  Radiative cooling?  Crazy enough initial conditions?&lt;/li&gt;
&lt;li&gt;A Farhad: didn't include radial distribution of stars&lt;/li&gt;
&lt;li&gt;Q: How do you start with 0-angular-momentum cloud?&lt;/li&gt;
&lt;li&gt;A: Lots of junk around, maybe collisions do it.  I don't have a good answer.
Depends on how big a fluffy cloud you use.&lt;/li&gt;
&lt;li&gt;Q Fred Lo: What observational signature remains?&lt;/li&gt;
&lt;li&gt;A: Maybe kinematics&lt;/li&gt;
&lt;/ul&gt;
&lt;/blockquote&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="section" id="pm-andrea-ghez-usa-probing-general-relativity-with-short-period-stars-at-the-galactic-center-15-5-minutes"&gt;
&lt;h2&gt;5:15-5:35 pm Andrea Ghez (USA): Probing General Relativity with Short Period Stars at the Galactic Center (15 + 5 minutes)&lt;/h2&gt;
&lt;!-- .. image:: |static|/iau303/images/ghez.jpg --&gt;
&lt;!-- :width: 800px --&gt;
&lt;dl class="docutils"&gt;
&lt;dt&gt;Why continue studies of GC stars?&lt;/dt&gt;
&lt;dd&gt;&lt;ul class="first last"&gt;
&lt;li&gt;&lt;p class="first"&gt;Test GR&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p class="first"&gt;Role of BH in galaxies&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p class="first"&gt;Depth of potential 100x greater, on mass scale 10^6 larger than other tests&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p class="first"&gt;simplest tests
+ Relativistic redshift (easy)
+ Precession of periapse&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p class="first"&gt;SO-2 &amp;quot;star of the show&amp;quot;
+ next close approach in 2018.5
+ relativistic signal ~200 km/s
+ need very accurate keplerian orbit first
+ radial velocity from BrG&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p class="first"&gt;absolute reference frame is tough
+ masers give the reference frame, but require larger field&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p class="first"&gt;full orbital coverage with astrometry
+ 13-parameter model&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p class="first"&gt;Systematic drift in reference frame
+ There is a major source of systematic error
+ Spatial variation in PSF (AO issue) is the worst systematic
+ drift term prevents bias
+ 5 km/s uncertainty projected by 2018&lt;/p&gt;
&lt;blockquote&gt;
&lt;ul class="simple"&gt;
&lt;li&gt;5-sigma GR detection&lt;/li&gt;
&lt;/ul&gt;
&lt;/blockquote&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p class="first"&gt;GEMS to make reference frame&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p class="first"&gt;TMT could do 2-yr orbits&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/dd&gt;
&lt;/dl&gt;
&lt;div class="section" id="questions-2"&gt;
&lt;h3&gt;Questions&lt;/h3&gt;
&lt;blockquote&gt;
&lt;ul class="simple"&gt;
&lt;li&gt;Q Ostriker: Could the SMBH be sloshing?  Can you allow for that?  What about acceleration?&lt;/li&gt;
&lt;li&gt;A: Mark Reid did calculation.  Limit ~3 km/s for present BH velocity.
Problem: assume linear velocities, but that is not always a safe assumption.
If BH accelerating, would create &amp;quot;nonphysical&amp;quot; accelerations.&lt;/li&gt;
&lt;li&gt;Q: Many things spiral into center, will lead to oscillations in BH motion&lt;/li&gt;
&lt;li&gt;Q Stocke: How big an effect is blending with unseen stars?&lt;/li&gt;
&lt;li&gt;A: We simulate it. But, trying to simulate something we don't understand.  &amp;lt;0.1 mas&lt;/li&gt;
&lt;li&gt;Q: Contributions from resonant relaxation, encounters with other stars.&lt;/li&gt;
&lt;li&gt;A: Skipped the slide that shows this.  For GR, insignificant, but for
precession of periapse, have to worry.&lt;/li&gt;
&lt;li&gt;Q: What about the velocity component?&lt;/li&gt;
&lt;li&gt;A: small effect on velocity.&lt;/li&gt;
&lt;/ul&gt;
&lt;/blockquote&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="section" id="discussion-section"&gt;
&lt;h2&gt;Discussion Section&lt;/h2&gt;
&lt;blockquote&gt;
&lt;ul class="simple"&gt;
&lt;li&gt;Q: IMFs shallower than salpeter.&lt;/li&gt;
&lt;li&gt;A Lu: Hard to decouple from dynamical history.  push on spectroscopy to
lower masses.  Decouple young and old populations&lt;/li&gt;
&lt;li&gt;A Fritz: instrument sensitivity limit... VLT can detect CO bandheads...?&lt;/li&gt;
&lt;li&gt;How well do we know it's 2 populations, or maybe it's just 1 population?
Assumptions disagree, not measurements&lt;/li&gt;
&lt;li&gt;Stocke: Background is changing in center.  Can you use fluctuation analysis
to determine brightness of lower mass stars?&lt;/li&gt;
&lt;li&gt;Lu: Very challenging for young stars because they're a small fraction of the
total luminosity.   Foal(?) et al did good work on older star populations&lt;/li&gt;
&lt;li&gt;Arches cluster: Hui Dong found 4 runaways of same mass as the 12 stars in
the Arches cluster.  Maybe as many runaways as cluster stars?  Half of
cluster stars kicked out.  Do dynamical models predict this?&lt;/li&gt;
&lt;li&gt;[silence]&lt;/li&gt;
&lt;li&gt;Find massive stars in &amp;quot;other 3/4&amp;quot; (I'm lost...). Need spectroscopy&lt;/li&gt;
&lt;li&gt;Ghez: Role of binary stars in ejections.&lt;/li&gt;
&lt;li&gt;Missing half of cluster mass?&lt;/li&gt;
&lt;li&gt;Ghez: Role of interaction with black hole?  Clusters not evolving in isolation&lt;/li&gt;
&lt;li&gt;Arches 2.5 Myr old.  Largest stars could just start... evolving?&lt;/li&gt;
&lt;li&gt;Most difficult objects to explain are LBVs.  LBVs outside of cores of
clusters.  How do you get very massive binaries out of cores?
All LBVs found are outside cores.&lt;/li&gt;
&lt;li&gt;Role of binaries.  New evolutionary models.  LBVs that must be &amp;lt;2 Myr, WCs
must be &amp;gt;4 Myr.  Contradiction?&lt;/li&gt;
&lt;li&gt;New evolutionary models say many stars come from rejuvenation.  Massive blue
stragglers.&lt;/li&gt;
&lt;li&gt;In situ formation?  What fraction should be expected to be formed in situ?&lt;/li&gt;
&lt;li&gt;How confident are we about mass-luminosity relation for stars?&lt;/li&gt;
&lt;li&gt;Lu: On main sequence, confident, but post-main-sequence is uncertain.  We
drop them in our analysis.  Pre-main sequence is a problem in Arches.
Arches fitted with only main-sequence stars&lt;/li&gt;
&lt;li&gt;very difficult with rotation included&lt;/li&gt;
&lt;li&gt;Distance to the Galactic center &amp;quot;decreasing at an alarming rate&amp;quot;.  Does determination
conflict with any other indicators?  What does that mean?&lt;/li&gt;
&lt;li&gt;Ghez: Mark Reid likes lower R_0.  All consistent within uncertainties&lt;/li&gt;
&lt;li&gt;Do simulations for S stars include interactions between stars?&lt;/li&gt;
&lt;li&gt;Ghez: Not in most recent version, but in an earlier version&lt;/li&gt;
&lt;li&gt;How does this test of GR compare with other tests of GR around Sgr A*?&lt;/li&gt;
&lt;li&gt;Ghez: Event Horizon Telescope, GRAVITY.&lt;/li&gt;
&lt;li&gt;Different systematics.&lt;/li&gt;
&lt;li&gt;Are HST data consistent with BH at center?&lt;/li&gt;
&lt;li&gt;Tuan Do: Same reference frame.  BH defined to be at center.  Velocity can
drift, but not position&lt;/li&gt;
&lt;/ul&gt;
&lt;/blockquote&gt;
&lt;/div&gt;
</content><category term="iau303"></category><category term="iau303"></category></entry><entry><title>Ann-Marie Madigan: On the Origin of Young Stars in the Galactic Center</title><link href="https://keflavich.github.io/blog/ann-marie-madigan-on-the-origin-of-young-stars-in-the-galactic-center.html" rel="alternate"></link><published>2013-10-01T15:05:00-06:00</published><updated>2013-10-01T15:05:00-06:00</updated><author><name>Adam Ginsburg</name></author><id>tag:keflavich.github.io,2013-10-01:/blog/ann-marie-madigan-on-the-origin-of-young-stars-in-the-galactic-center.html</id><summary type="html">&lt;img alt="" src="https://keflavich.github.io/blog/iau303/images/madigan.jpg" style="width: 800px;" /&gt;
&lt;dl class="docutils"&gt;
&lt;dt&gt;Central pc cluster&lt;/dt&gt;
&lt;dd&gt;&lt;ul class="first last simple"&gt;
&lt;li&gt;orbital parameters&lt;/li&gt;
&lt;li&gt;disk of O/WR stars
+ distinct from S stars: circular-ish orbits&lt;/li&gt;
&lt;li&gt;binary disruption formation of S-stars
+ hypervelocity ejected star
+ other star has eccentricity &amp;gt; 0.98&lt;/li&gt;
&lt;li&gt;further stars?
+ &amp;quot;memory&amp;quot; of initial eccentricity &amp;quot;stored&amp;quot; at large radii
+ relaxation times increase
+ can't measure eccentricity directly because of long …&lt;/li&gt;&lt;/ul&gt;&lt;/dd&gt;&lt;/dl&gt;</summary><content type="html">&lt;img alt="" src="https://keflavich.github.io/blog/iau303/images/madigan.jpg" style="width: 800px;" /&gt;
&lt;dl class="docutils"&gt;
&lt;dt&gt;Central pc cluster&lt;/dt&gt;
&lt;dd&gt;&lt;ul class="first last simple"&gt;
&lt;li&gt;orbital parameters&lt;/li&gt;
&lt;li&gt;disk of O/WR stars
+ distinct from S stars: circular-ish orbits&lt;/li&gt;
&lt;li&gt;binary disruption formation of S-stars
+ hypervelocity ejected star
+ other star has eccentricity &amp;gt; 0.98&lt;/li&gt;
&lt;li&gt;further stars?
+ &amp;quot;memory&amp;quot; of initial eccentricity &amp;quot;stored&amp;quot; at large radii
+ relaxation times increase
+ can't measure eccentricity directly because of long orbital timescales&lt;/li&gt;
&lt;li&gt;Simulations of young stars orbiting
+ initial high eccentricity (disruption formation)
+ initial low eccentricity (disk formation)&lt;/li&gt;
&lt;li&gt;Depending on the stellar mass, both origins are possible.
+ lower masses better fit for disruption mechanism&lt;/li&gt;
&lt;li&gt;IMF in disk
+ different formation mechanism would imply they should not be included in IMF measurements&lt;/li&gt;
&lt;li&gt;start in eccentric, relax into circular
+ depends on density profile
+ can infer density profile&lt;/li&gt;
&lt;li&gt;&amp;quot;h-statistic&amp;quot;
+ angular momentum vector = ±1 if circular orbit, 0 on plunging &amp;quot;orbit&amp;quot;
+ degeneracy between inclination and eccentricity&lt;/li&gt;
&lt;li&gt;&amp;quot;special purpose&amp;quot; n-body code
+ high-mass stars consistent with disk
+ low-mass stars more like binary disruption&lt;/li&gt;
&lt;li&gt;implies top-heavier IMF&lt;/li&gt;
&lt;/ul&gt;
&lt;/dd&gt;
&lt;/dl&gt;
&lt;div class="section" id="questions"&gt;
&lt;h2&gt;Questions&lt;/h2&gt;
&lt;blockquote&gt;
&lt;ul class="simple"&gt;
&lt;li&gt;Q Cuadra: What tells you about the cuspiness?  Precession?&lt;/li&gt;
&lt;li&gt;A: Yes.  Orbits closer to black hole have long precession scales.  Leads to
more rapid change in eccentricity (and less precession).&lt;/li&gt;
&lt;li&gt;Q: What is timescale for thermalization to eccentricity?&lt;/li&gt;
&lt;li&gt;A: Depends on radius.  S-stars, already relaxed.  &amp;gt;0.02 pc, takes Myrs&lt;/li&gt;
&lt;li&gt;Q Farhad: Radial profile of the S-cluster B-stars?&lt;/li&gt;
&lt;li&gt;A: Haven't looked at that; similar to O and WR stars.&lt;/li&gt;
&lt;li&gt;A: R^-2?  Poisson limited.  R^-1.5?&lt;/li&gt;
&lt;/ul&gt;
&lt;/blockquote&gt;
&lt;/div&gt;
</content><category term="iau303"></category><category term="iau303"></category></entry><entry><title>Hui Dong (USA): Unveiling the massive stars beyond the three young massive star clusters</title><link href="https://keflavich.github.io/blog/hui-dong-usa-unveiling-the-massive-stars-beyond-the-three-young-massive-star-clusters.html" rel="alternate"></link><published>2013-10-01T14:50:00-06:00</published><updated>2013-10-01T14:50:00-06:00</updated><author><name>Adam Ginsburg</name></author><id>tag:keflavich.github.io,2013-10-01:/blog/hui-dong-usa-unveiling-the-massive-stars-beyond-the-three-young-massive-star-clusters.html</id><summary type="html">&lt;img alt="" src="https://keflavich.github.io/blog/iau303/images/dong.jpg" style="width: 800px;" /&gt;
&lt;dl class="docutils"&gt;
&lt;dt&gt;HST/NICMOS PaA GC survey&lt;/dt&gt;
&lt;dd&gt;&lt;ul class="first last simple"&gt;
&lt;li&gt;Color-based stellar classification
+ WN,WC stars&lt;/li&gt;
&lt;li&gt;Isolated WN stars
+ ejected from clusters&lt;/li&gt;
&lt;li&gt;spectroscopy of 8 &amp;quot;isolated&amp;quot; stars
+ LOS velocity to determine memberships...&lt;/li&gt;
&lt;li&gt;new Of I star&lt;/li&gt;
&lt;/ul&gt;
&lt;/dd&gt;
&lt;/dl&gt;
&lt;div class="section" id="questions"&gt;
&lt;h2&gt;Questions&lt;/h2&gt;
&lt;blockquote&gt;
&lt;ul class="simple"&gt;
&lt;li&gt;Q: Mass segregation?  Do you expect such a large number of stars kicked out?&lt;/li&gt;
&lt;li&gt;A: Yes.  High density …&lt;/li&gt;&lt;/ul&gt;&lt;/blockquote&gt;&lt;/div&gt;</summary><content type="html">&lt;img alt="" src="https://keflavich.github.io/blog/iau303/images/dong.jpg" style="width: 800px;" /&gt;
&lt;dl class="docutils"&gt;
&lt;dt&gt;HST/NICMOS PaA GC survey&lt;/dt&gt;
&lt;dd&gt;&lt;ul class="first last simple"&gt;
&lt;li&gt;Color-based stellar classification
+ WN,WC stars&lt;/li&gt;
&lt;li&gt;Isolated WN stars
+ ejected from clusters&lt;/li&gt;
&lt;li&gt;spectroscopy of 8 &amp;quot;isolated&amp;quot; stars
+ LOS velocity to determine memberships...&lt;/li&gt;
&lt;li&gt;new Of I star&lt;/li&gt;
&lt;/ul&gt;
&lt;/dd&gt;
&lt;/dl&gt;
&lt;div class="section" id="questions"&gt;
&lt;h2&gt;Questions&lt;/h2&gt;
&lt;blockquote&gt;
&lt;ul class="simple"&gt;
&lt;li&gt;Q: Mass segregation?  Do you expect such a large number of stars kicked out?&lt;/li&gt;
&lt;li&gt;A: Yes.  High density of massive stars in cores, 3-body interaction common there&lt;/li&gt;
&lt;li&gt;Q: NIII and HeII lines?  Stellar wind effects move the centroid&lt;/li&gt;
&lt;li&gt;Q: Radial velocities are isolated stars on one side of Arches cluster.  Is
that expected?&lt;/li&gt;
&lt;li&gt;A: I don't know if we expect that.&lt;/li&gt;
&lt;li&gt;Q: What stellar masses of escaped stars?&lt;/li&gt;
&lt;li&gt;A: Not measured yet.&lt;/li&gt;
&lt;li&gt;A Cornelia: many are radio-continuum detected.  Consistent with stellar wind predictions&lt;/li&gt;
&lt;li&gt;Q Farhad: Star formation rate from runaways?&lt;/li&gt;
&lt;li&gt;A: Half of the stars come from clusters.  Double the SFR from the clusters.  0.05 Msun/yr&lt;/li&gt;
&lt;li&gt;Q Mark Pound (?): Orbital histories.  Are any of the orbits more likely than the others?&lt;/li&gt;
&lt;li&gt;A: Some could have been members.&lt;/li&gt;
&lt;/ul&gt;
&lt;/blockquote&gt;
&lt;/div&gt;
</content><category term="iau303"></category><category term="iau303"></category></entry><entry><title>Anja Feldmeier: The Milky Way Nuclear Star Cluster Beyond 1 pc</title><link href="https://keflavich.github.io/blog/anja-feldmeier-the-milky-way-nuclear-star-cluster-beyond-1-pc.html" rel="alternate"></link><published>2013-10-01T14:30:00-06:00</published><updated>2013-10-01T14:30:00-06:00</updated><author><name>Adam Ginsburg</name></author><id>tag:keflavich.github.io,2013-10-01:/blog/anja-feldmeier-the-milky-way-nuclear-star-cluster-beyond-1-pc.html</id><summary type="html">&lt;img alt="" src="https://keflavich.github.io/blog/iau303/images/feldmeier.jpg" style="width: 800px;" /&gt;
&lt;dl class="docutils"&gt;
&lt;dt&gt;Observing the cluster&lt;/dt&gt;
&lt;dd&gt;&lt;ul class="first last simple"&gt;
&lt;li&gt;slit-scanning the central cluster with ISAAC&lt;/li&gt;
&lt;li&gt;foreground removal based on colors&lt;/li&gt;
&lt;li&gt;included Q-branch H2 lines, stellar CO absorption lines&lt;/li&gt;
&lt;li&gt;CO -&amp;gt; stellar velocity dispersions&lt;/li&gt;
&lt;li&gt;flat velocity dispersion profile
+ fitting profile -&amp;gt; underestimate of BH mass
+ may affect other galaxies&lt;/li&gt;
&lt;/ul&gt;
&lt;/dd&gt;
&lt;/dl&gt;
&lt;div class="section" id="questions"&gt;
&lt;h2&gt;Questions&lt;/h2&gt;
&lt;blockquote&gt;
&lt;ul class="simple"&gt;
&lt;li&gt;Q Fred Lo: Method vs external galaxies.  Couldn't understand …&lt;/li&gt;&lt;/ul&gt;&lt;/blockquote&gt;&lt;/div&gt;</summary><content type="html">&lt;img alt="" src="https://keflavich.github.io/blog/iau303/images/feldmeier.jpg" style="width: 800px;" /&gt;
&lt;dl class="docutils"&gt;
&lt;dt&gt;Observing the cluster&lt;/dt&gt;
&lt;dd&gt;&lt;ul class="first last simple"&gt;
&lt;li&gt;slit-scanning the central cluster with ISAAC&lt;/li&gt;
&lt;li&gt;foreground removal based on colors&lt;/li&gt;
&lt;li&gt;included Q-branch H2 lines, stellar CO absorption lines&lt;/li&gt;
&lt;li&gt;CO -&amp;gt; stellar velocity dispersions&lt;/li&gt;
&lt;li&gt;flat velocity dispersion profile
+ fitting profile -&amp;gt; underestimate of BH mass
+ may affect other galaxies&lt;/li&gt;
&lt;/ul&gt;
&lt;/dd&gt;
&lt;/dl&gt;
&lt;div class="section" id="questions"&gt;
&lt;h2&gt;Questions&lt;/h2&gt;
&lt;blockquote&gt;
&lt;ul class="simple"&gt;
&lt;li&gt;Q Fred Lo: Method vs external galaxies.  Couldn't understand.&lt;/li&gt;
&lt;li&gt;Q: What is the error on the anisotropy?&lt;/li&gt;
&lt;li&gt;A: can fit with different anisotropy&lt;/li&gt;
&lt;li&gt;Q Lu(?): What happens if you include IR7?&lt;/li&gt;
&lt;li&gt;A: v disp drops towards center.  Problem.&lt;/li&gt;
&lt;li&gt;Q Soo(?): Does model allow stellar rotation?&lt;/li&gt;
&lt;li&gt;A: ???&lt;/li&gt;
&lt;/ul&gt;
&lt;/blockquote&gt;
&lt;/div&gt;
</content><category term="iau303"></category><category term="iau303"></category></entry><entry><title>Overview Talk Jessica Lu: Young Stars in the Galactic Center</title><link href="https://keflavich.github.io/blog/overview-talk-jessica-lu-young-stars-in-the-galactic-center.html" rel="alternate"></link><published>2013-10-01T14:00:00-06:00</published><updated>2013-10-01T14:00:00-06:00</updated><author><name>Adam Ginsburg</name></author><id>tag:keflavich.github.io,2013-10-01:/blog/overview-talk-jessica-lu-young-stars-in-the-galactic-center.html</id><summary type="html">&lt;img alt="" src="https://keflavich.github.io/blog/iau303/images/lu.jpg" style="width: 800px;" /&gt;
&lt;dl class="docutils"&gt;
&lt;dt&gt;Why care about cmz young stars?&lt;/dt&gt;
&lt;dd&gt;&lt;ul class="first last simple"&gt;
&lt;li&gt;lots of them, compared to elsewhere&lt;/li&gt;
&lt;li&gt;fate of clusters?&lt;/li&gt;
&lt;li&gt;IMF, stars affected by environment?&lt;/li&gt;
&lt;li&gt;interaction with SMBH?&lt;/li&gt;
&lt;/ul&gt;
&lt;/dd&gt;
&lt;dt&gt;Nuclear cluster&lt;/dt&gt;
&lt;dd&gt;&lt;ul class="first last"&gt;
&lt;li&gt;&lt;p class="first"&gt;HST image covers CND&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p class="first"&gt;spectroscopic census of stars with IFUs&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p class="first"&gt;mass limit ~8-10 msun&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p class="first"&gt;astrometry great
+ pm 1 km/s&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p class="first"&gt;Models of formation
+ in situ …&lt;/p&gt;&lt;/li&gt;&lt;/ul&gt;&lt;/dd&gt;&lt;/dl&gt;</summary><content type="html">&lt;img alt="" src="https://keflavich.github.io/blog/iau303/images/lu.jpg" style="width: 800px;" /&gt;
&lt;dl class="docutils"&gt;
&lt;dt&gt;Why care about cmz young stars?&lt;/dt&gt;
&lt;dd&gt;&lt;ul class="first last simple"&gt;
&lt;li&gt;lots of them, compared to elsewhere&lt;/li&gt;
&lt;li&gt;fate of clusters?&lt;/li&gt;
&lt;li&gt;IMF, stars affected by environment?&lt;/li&gt;
&lt;li&gt;interaction with SMBH?&lt;/li&gt;
&lt;/ul&gt;
&lt;/dd&gt;
&lt;dt&gt;Nuclear cluster&lt;/dt&gt;
&lt;dd&gt;&lt;ul class="first last"&gt;
&lt;li&gt;&lt;p class="first"&gt;HST image covers CND&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p class="first"&gt;spectroscopic census of stars with IFUs&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p class="first"&gt;mass limit ~8-10 msun&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p class="first"&gt;astrometry great
+ pm 1 km/s&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p class="first"&gt;Models of formation
+ in situ? inward migration?
+ circular orbits?  eccentric?&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p class="first"&gt;messier now
+ sharp radial fall-off favors in-situ models
+ eccentricity rejects in-situ models
+ &amp;quot;wild dump&amp;quot; of molecular material&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p class="first"&gt;IMF variation?
+ claimed very top-heavy mass function&lt;/p&gt;
&lt;blockquote&gt;
&lt;ul class="simple"&gt;
&lt;li&gt;rejected by UCLA group&lt;/li&gt;
&lt;/ul&gt;
&lt;/blockquote&gt;
&lt;ul class="simple"&gt;
&lt;li&gt;fit luminosity function with bayesian model approach&lt;/li&gt;
&lt;li&gt;modeling required including multiplicity&lt;ul&gt;
&lt;li&gt;stars brighter than brightest possible unless multiples included&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;salpeter ruled out at 4-sigma significance&lt;ul&gt;
&lt;li&gt;slope ~1.7&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p class="first"&gt;Future?
+ pre-main-sequence should be doable in photometry
+ astrometry, spectra getting better
+ can start to measure multiplicity&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/dd&gt;
&lt;dt&gt;Arches cluster&lt;/dt&gt;
&lt;dd&gt;&lt;ul class="first last"&gt;
&lt;li&gt;&lt;p class="first"&gt;membership determined via proper motion measurements
+ Stolte 2008, Clarkson 2012&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p class="first"&gt;PMS stars in Arches
+ disk fraction ~6%
+ disk evaporation&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p class="first"&gt;velocity dispersion measurement ~5 km/s
+ dynamical mass 10^4 msun
+ compare to photometric mass to get IMF
+ IMF can't be normal.&lt;/p&gt;
&lt;blockquote&gt;
&lt;ul class="simple"&gt;
&lt;li&gt;could be top-heavy or bottom-light&lt;/li&gt;
&lt;/ul&gt;
&lt;/blockquote&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p class="first"&gt;Both arches and quintuplet are moving away from Sgr A* in approximately the
same direction &amp;amp; amplitude
+ track orbits backward
+ Could have common origin (arches &amp;amp; quintuplet)&lt;/p&gt;
&lt;blockquote&gt;
&lt;ul class="simple"&gt;
&lt;li&gt;may be in outer x2 orbit, maybe x1/x2 intersection&lt;/li&gt;
&lt;/ul&gt;
&lt;/blockquote&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p class="first"&gt;Future:
+ HST: measure tidal radius
+ HST: Measure IMF to 1 msun in outer parts&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/dd&gt;
&lt;dt&gt;Ages&lt;/dt&gt;
&lt;dd&gt;&lt;ul class="first last simple"&gt;
&lt;li&gt;all seen are young
+ where are the old?
+ nonexistent?  Or dispersed?
+ triggering 2-6 Myr ago?&lt;/li&gt;
&lt;/ul&gt;
&lt;/dd&gt;
&lt;dt&gt;SMBH interaction&lt;/dt&gt;
&lt;dd&gt;&lt;ul class="first last simple"&gt;
&lt;li&gt;most uncertain component&lt;/li&gt;
&lt;/ul&gt;
&lt;/dd&gt;
&lt;dt&gt;Young stars around nuclei of other galaxies&lt;/dt&gt;
&lt;dd&gt;&lt;ul class="first last simple"&gt;
&lt;li&gt;M31 core cluster
+ but no gas&lt;/li&gt;
&lt;/ul&gt;
&lt;/dd&gt;
&lt;/dl&gt;
&lt;div class="section" id="questions"&gt;
&lt;h2&gt;Questions&lt;/h2&gt;
&lt;p&gt;I wasn't allowed to ask this question.  Apparently I'm invisible to the chair.
QUESTION: Can you infer &lt;em&gt;which&lt;/em&gt; stars are likely binaries via the IMF modeling?
Do spectra velocities agree?&lt;/p&gt;
&lt;blockquote&gt;
&lt;ul class="simple"&gt;
&lt;li&gt;Q Evidence for distorted IMF.  But you see PDMF.  Could it be dynamical?&lt;/li&gt;
&lt;li&gt;A: in YNC, solid, but not 100%.  How do ejection mechanisms scale with mass?
Unknown.  YNC is the best case.   Arches, remains a real concern.  Assumption
is cluster in equilibrium, may not be true&lt;/li&gt;
&lt;li&gt;Q Fred Lo: What's the SFR?&lt;/li&gt;
&lt;li&gt;A: Sgr B2 is forming a massive star cluster today.  Continuous as can be.
No major evidence for stochasticity.&lt;/li&gt;
&lt;li&gt;A from the crowd: 3 orders of magnitude scatter.&lt;/li&gt;
&lt;li&gt;A Gallagher: 0.1-0.01&lt;/li&gt;
&lt;li&gt;Q Gallagher: How does this compare to M82F?  Velocity dispersion too small
for luminosity.  40-60 Myr old.  Bottom-light IMF&lt;/li&gt;
&lt;li&gt;A: super star cluster similar&lt;/li&gt;
&lt;li&gt;Q: When you consider binaries or multiples, are the evolutionary tracks for
binaries?  Maybe all clusters same age.&lt;/li&gt;
&lt;li&gt;A: Didn't have them yet, so singles.&lt;/li&gt;
&lt;li&gt;Q: Correlation between stars and molecular gas?&lt;/li&gt;
&lt;li&gt;A: no.&lt;/li&gt;
&lt;li&gt;Q J Ostriker: Given age of clusters, expect 1000x more of them in the
galaxy.  IF you take number of clusters divided by age, do you get too much
mass?  If current rate is typical, was there 1000x more in the past?&lt;/li&gt;
&lt;li&gt;A: IF you add them up, no...?  Is SFR now consistent with past?  not constant SFR
Lower and higher.&lt;/li&gt;
&lt;/ul&gt;
&lt;/blockquote&gt;
&lt;/div&gt;
</content><category term="iau303"></category><category term="iau303"></category></entry><entry><title>General Discussion (day 2)</title><link href="https://keflavich.github.io/blog/general-discussion-day-2.html" rel="alternate"></link><published>2013-10-01T12:00:00-06:00</published><updated>2013-10-01T12:00:00-06:00</updated><author><name>Adam Ginsburg</name></author><id>tag:keflavich.github.io,2013-10-01:/blog/general-discussion-day-2.html</id><summary type="html">&lt;dl class="docutils"&gt;
&lt;dt&gt;Farhad discussion points:&lt;/dt&gt;
&lt;dd&gt;&lt;ul class="first last simple"&gt;
&lt;li&gt;Fraction of dense molecular gas in CMZ?&lt;/li&gt;
&lt;li&gt;Volume filling factor of dense gas?&lt;/li&gt;
&lt;li&gt;Abundances in CMZ?&lt;/li&gt;
&lt;li&gt;Lada 2012 plot: SFR vs Molecular Gas Mass.  Density is crucial&lt;ul&gt;
&lt;li&gt;Steve: Not volume, column density.  Assumptions about 3rd dimension.  All
gas above Lada's column density threshold.&lt;/li&gt;
&lt;li&gt;Gallagher: exgal community correlates …&lt;/li&gt;&lt;/ul&gt;&lt;/li&gt;&lt;/ul&gt;&lt;/dd&gt;&lt;/dl&gt;</summary><content type="html">&lt;dl class="docutils"&gt;
&lt;dt&gt;Farhad discussion points:&lt;/dt&gt;
&lt;dd&gt;&lt;ul class="first last simple"&gt;
&lt;li&gt;Fraction of dense molecular gas in CMZ?&lt;/li&gt;
&lt;li&gt;Volume filling factor of dense gas?&lt;/li&gt;
&lt;li&gt;Abundances in CMZ?&lt;/li&gt;
&lt;li&gt;Lada 2012 plot: SFR vs Molecular Gas Mass.  Density is crucial&lt;ul&gt;
&lt;li&gt;Steve: Not volume, column density.  Assumptions about 3rd dimension.  All
gas above Lada's column density threshold.&lt;/li&gt;
&lt;li&gt;Gallagher: exgal community correlates surface density with SFR.
Variations on local scales&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;Aalto: HCN as dense gas tracer in ULIRGs - problem.&lt;/li&gt;
&lt;li&gt;Steve: comparison to centers of other galaxies... rings have low volume
filling factor, not pancakes but rings&lt;ul&gt;
&lt;li&gt;unlikely that column density uniformly distributed along line of sight;
likely to be clumped&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;Bally: comment on face-on views.  Mostly filaments.  Filaments tend to be
end-on on positive side, face-on on negative side.  Could Brick be an end-on
filament?
+ Gallagher: +1&lt;/li&gt;
&lt;li&gt;Mills: ALMA data can answer that with excitation.  NH3 thought of as
high-density tracer, but not in CMZ.
+ plug by me&lt;/li&gt;
&lt;li&gt;Juergen Ott: Interferometer and single-dish, 10% filling factor&lt;/li&gt;
&lt;li&gt;Gallagher: Density limit on SF from star clusters.  10^6-ish, high SFE.
Star clusters may imply upper bound&lt;/li&gt;
&lt;li&gt;Farhad: Mass of molecular clouds from dust emission.  Mass of low and high
density gas
+ Rathborne: Opacity, chemistry very tough&lt;/li&gt;
&lt;li&gt;Aalto: &amp;quot;Medusa merger&amp;quot; large-scale, very high efficiency.  Timescales are a
problem: no high-density gas tracers seen, but plenty of star formation is
seen&lt;/li&gt;
&lt;li&gt;Mills: How do you trace this highest density gas, then?
+ Aalto: H2CO, Ao et al.  Weak chemical variation.
+ Rathborne: &amp;quot;Million dollar question&amp;quot;.  H2CS follows continuum better than other tracers&lt;/li&gt;
&lt;li&gt;Dust normally considered better tracer of mass.  Do we really know dust to
gas ratio?   Factor of 2 at best&lt;/li&gt;
&lt;li&gt;Farhad: Question raised yesterday... asymmetry of SFR/mass
How do we explain distribution&lt;ul&gt;
&lt;li&gt;Steve: How measure SFR?&lt;/li&gt;
&lt;li&gt;Farhad: YSOs counting&lt;/li&gt;
&lt;li&gt;Bally: You sure they're YSOs?&lt;/li&gt;
&lt;li&gt;Farhad: Yes, best we can do, age ~few 10^5 yrs.  Maybe YSOs obscured?  If
not, interesting issues&lt;/li&gt;
&lt;li&gt;Steve: Could YSOs have moved after they formed?  Dynamical time...&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;What's the extinciton at 24um?  Selection effect?
+ Farhad: Could be selection.  Sgr B2 makes things worst.
+ Not clear 24um sources come from same volume&lt;/li&gt;
&lt;li&gt;Dust is the best measure for mass.  Only free parameter is temperature.  KS
not very fundamental.&lt;/li&gt;
&lt;/ul&gt;
&lt;/dd&gt;
&lt;/dl&gt;
</content><category term="iau303"></category><category term="iau303"></category></entry><entry><title>Rei Enokiya: Large scale and high sensitivity multi line CO surveys toward the Galactic Center</title><link href="https://keflavich.github.io/blog/rei-enokiya-large-scale-and-high-sensitivity-multi-line-co-surveys-toward-the-galactic-center.html" rel="alternate"></link><published>2013-10-01T11:50:00-06:00</published><updated>2013-10-01T11:50:00-06:00</updated><author><name>Adam Ginsburg</name></author><id>tag:keflavich.github.io,2013-10-01:/blog/rei-enokiya-large-scale-and-high-sensitivity-multi-line-co-surveys-toward-the-galactic-center.html</id><summary type="html">&lt;img alt="" src="https://keflavich.github.io/blog/iau303/images/enokiya.jpg" style="width: 800px;" /&gt;
&lt;dl class="docutils"&gt;
&lt;dt&gt;NANTEN2 CO survey&lt;/dt&gt;
&lt;dd&gt;&lt;ul class="first last simple"&gt;
&lt;li&gt;12CO 1-0, 3' beam, 0.43 K&lt;/li&gt;
&lt;li&gt;high latitude clouds with vlsr -200 to +150 km/s
+ 24um filaments traced by CO&lt;/li&gt;
&lt;li&gt;Double Helix nebula (Morris, Uchida, Do 2006)
+ Torional alfven wave?
+ polarized lobe from radio arc?
+ CO detected&lt;/li&gt;
&lt;li&gt;Other molecular columns tie back to Sgr A …&lt;/li&gt;&lt;/ul&gt;&lt;/dd&gt;&lt;/dl&gt;</summary><content type="html">&lt;img alt="" src="https://keflavich.github.io/blog/iau303/images/enokiya.jpg" style="width: 800px;" /&gt;
&lt;dl class="docutils"&gt;
&lt;dt&gt;NANTEN2 CO survey&lt;/dt&gt;
&lt;dd&gt;&lt;ul class="first last simple"&gt;
&lt;li&gt;12CO 1-0, 3' beam, 0.43 K&lt;/li&gt;
&lt;li&gt;high latitude clouds with vlsr -200 to +150 km/s
+ 24um filaments traced by CO&lt;/li&gt;
&lt;li&gt;Double Helix nebula (Morris, Uchida, Do 2006)
+ Torional alfven wave?
+ polarized lobe from radio arc?
+ CO detected&lt;/li&gt;
&lt;li&gt;Other molecular columns tie back to Sgr A*&lt;/li&gt;
&lt;li&gt;&amp;quot;Magnetic Tower&amp;quot; model
+ accretion around BH
+ CND creates B-field, spins it up vertically
+ 25 km/s outflow speed&lt;/li&gt;
&lt;/ul&gt;
&lt;/dd&gt;
&lt;/dl&gt;
&lt;div class="section" id="questions"&gt;
&lt;h2&gt;Questions&lt;/h2&gt;
&lt;blockquote&gt;
&lt;ul class="simple"&gt;
&lt;li&gt;Q McClure-Griffiths: can you distinguish between magnetic and stellar wind models?&lt;/li&gt;
&lt;li&gt;A: No,not really&lt;/li&gt;
&lt;li&gt;Q Bally: Do you worry that the LSR velocities are close to local gas and
spiral arms?  Could foreground confuse?  Linewidths consistent with CMZ?&lt;/li&gt;
&lt;li&gt;A: Star-counting extinction distance estimate gives 8±2 kpc.&lt;/li&gt;
&lt;li&gt;Q: What evidence for jet?&lt;/li&gt;
&lt;li&gt;A: no direct evidence.&lt;/li&gt;
&lt;li&gt;Q Farhad: Could it be infalling rather than outflowing?  Maybe hard to tell.&lt;/li&gt;
&lt;li&gt;A: ...&lt;/li&gt;
&lt;/ul&gt;
&lt;/blockquote&gt;
&lt;/div&gt;
</content><category term="iau303"></category><category term="iau303"></category></entry><entry><title>Denise Riquelme Vasquez: Disk/Halo Interactions: Molecular Clouds in the Galactic Center</title><link href="https://keflavich.github.io/blog/denise-riquelme-vasquez-diskhalo-interactions-molecular-clouds-in-the-galactic-center.html" rel="alternate"></link><published>2013-10-01T11:30:00-06:00</published><updated>2013-10-01T11:30:00-06:00</updated><author><name>Adam Ginsburg</name></author><id>tag:keflavich.github.io,2013-10-01:/blog/denise-riquelme-vasquez-diskhalo-interactions-molecular-clouds-in-the-galactic-center.html</id><summary type="html">&lt;img alt="" src="https://keflavich.github.io/blog/iau303/images/riquelme.jpg" style="width: 800px;" /&gt;
&lt;dl class="docutils"&gt;
&lt;dt&gt;CMZ mol clds&lt;/dt&gt;
&lt;dd&gt;&lt;ul class="first last simple"&gt;
&lt;li&gt;SiO emission, large linewidth, ...&lt;/li&gt;
&lt;li&gt;Giant molecular loops
+ magnetic buoyancy
+ Parker instability&lt;/li&gt;
&lt;li&gt;NANTEN 4m large-scale survey&lt;/li&gt;
&lt;li&gt;X1 &amp;amp; X2 velocities...&lt;/li&gt;
&lt;li&gt;NH3 measurements of &amp;quot;connection points&amp;quot; of loops&lt;/li&gt;
&lt;li&gt;attempt to measure heating mechanisms
+ turbulence decay
+ CR&lt;/li&gt;
&lt;li&gt;High isotopic ratios towards halo&lt;/li&gt;
&lt;li&gt;High temperatures at interaction points&lt;/li&gt;
&lt;/ul&gt;
&lt;/dd&gt;
&lt;/dl&gt;
&lt;div class="section" id="questions"&gt;
&lt;h2&gt;Questions&lt;/h2&gt;
&lt;blockquote&gt;
&lt;ul class="simple"&gt;
&lt;li&gt;Q Farhad: Shocked …&lt;/li&gt;&lt;/ul&gt;&lt;/blockquote&gt;&lt;/div&gt;</summary><content type="html">&lt;img alt="" src="https://keflavich.github.io/blog/iau303/images/riquelme.jpg" style="width: 800px;" /&gt;
&lt;dl class="docutils"&gt;
&lt;dt&gt;CMZ mol clds&lt;/dt&gt;
&lt;dd&gt;&lt;ul class="first last simple"&gt;
&lt;li&gt;SiO emission, large linewidth, ...&lt;/li&gt;
&lt;li&gt;Giant molecular loops
+ magnetic buoyancy
+ Parker instability&lt;/li&gt;
&lt;li&gt;NANTEN 4m large-scale survey&lt;/li&gt;
&lt;li&gt;X1 &amp;amp; X2 velocities...&lt;/li&gt;
&lt;li&gt;NH3 measurements of &amp;quot;connection points&amp;quot; of loops&lt;/li&gt;
&lt;li&gt;attempt to measure heating mechanisms
+ turbulence decay
+ CR&lt;/li&gt;
&lt;li&gt;High isotopic ratios towards halo&lt;/li&gt;
&lt;li&gt;High temperatures at interaction points&lt;/li&gt;
&lt;/ul&gt;
&lt;/dd&gt;
&lt;/dl&gt;
&lt;div class="section" id="questions"&gt;
&lt;h2&gt;Questions&lt;/h2&gt;
&lt;blockquote&gt;
&lt;ul class="simple"&gt;
&lt;li&gt;Q Farhad: Shocked gas seen everywhere in loop?&lt;/li&gt;
&lt;li&gt;A: need to observe complete loop to get gradient temperature&lt;/li&gt;
&lt;/ul&gt;
&lt;/blockquote&gt;
&lt;/div&gt;
</content><category term="iau303"></category><category term="iau303"></category></entry><entry><title>Kazushi Sakamoto: The Kinematics and Dynamics of Molecular Gas in Galactic Centers</title><link href="https://keflavich.github.io/blog/kazushi-sakamoto-the-kinematics-and-dynamics-of-molecular-gas-in-galactic-centers.html" rel="alternate"></link><published>2013-10-01T11:00:00-06:00</published><updated>2013-10-01T11:00:00-06:00</updated><author><name>Adam Ginsburg</name></author><id>tag:keflavich.github.io,2013-10-01:/blog/kazushi-sakamoto-the-kinematics-and-dynamics-of-molecular-gas-in-galactic-centers.html</id><summary type="html">&lt;img alt="" src="https://keflavich.github.io/blog/iau303/images/sakomoto.jpg" style="width: 800px;" /&gt;
&lt;dl class="docutils"&gt;
&lt;dt&gt;Driving gas into Galactic centers&lt;/dt&gt;
&lt;dd&gt;&lt;ul class="first last simple"&gt;
&lt;li&gt;opposing torques at corotation point drives gas inward&lt;/li&gt;
&lt;li&gt;observational evidence from nearby galaxies&lt;/li&gt;
&lt;li&gt;barred galaxies have greater concentration (Sheth et al 2005)&lt;/li&gt;
&lt;li&gt;observations of CO gas kinematics in M83, NGC 1097
+ FCRAO Quarry obs&lt;/li&gt;
&lt;li&gt;ALMA concentration to M83 core...
+ high velocity gas near core
+ southern …&lt;/li&gt;&lt;/ul&gt;&lt;/dd&gt;&lt;/dl&gt;</summary><content type="html">&lt;img alt="" src="https://keflavich.github.io/blog/iau303/images/sakomoto.jpg" style="width: 800px;" /&gt;
&lt;dl class="docutils"&gt;
&lt;dt&gt;Driving gas into Galactic centers&lt;/dt&gt;
&lt;dd&gt;&lt;ul class="first last simple"&gt;
&lt;li&gt;opposing torques at corotation point drives gas inward&lt;/li&gt;
&lt;li&gt;observational evidence from nearby galaxies&lt;/li&gt;
&lt;li&gt;barred galaxies have greater concentration (Sheth et al 2005)&lt;/li&gt;
&lt;li&gt;observations of CO gas kinematics in M83, NGC 1097
+ FCRAO Quarry obs&lt;/li&gt;
&lt;li&gt;ALMA concentration to M83 core...
+ high velocity gas near core
+ southern nucleus has spatially distinct outflow lobes&lt;/li&gt;
&lt;/ul&gt;
&lt;/dd&gt;
&lt;/dl&gt;
&lt;div class="section" id="questions"&gt;
&lt;h2&gt;Questions&lt;/h2&gt;
&lt;blockquote&gt;
&lt;ul class="simple"&gt;
&lt;li&gt;Q Fred Lo: Can you distinguish between streamline convergence and cloud
collisions?  Can you determine what happens when clouds collide?&lt;/li&gt;
&lt;li&gt;A: Yes, with ALMA.&lt;/li&gt;
&lt;li&gt;Q Farhad: Physical conditions in NGC 253.  Temperature distribution?  All
warm?&lt;/li&gt;
&lt;li&gt;A: Our obs don't measure temperature. CO gives 50K on 10's of pc scales, so
at least that temperature.&lt;/li&gt;
&lt;li&gt;Q: Big bubbles in NGC 253.  Are there clusters near them?&lt;/li&gt;
&lt;li&gt;A: Didn't find any in original data.&lt;/li&gt;
&lt;/ul&gt;
&lt;/blockquote&gt;
&lt;/div&gt;
</content><category term="iau303"></category><category term="iau303"></category></entry><entry><title>Betsy Mills: Hot Gas, Masers, and Cloud Collisions: The extreme properties of molecular gas at the heart of the Milky Way Galaxy</title><link href="https://keflavich.github.io/blog/betsy-mills-hot-gas-masers-and-cloud-collisions-the-extreme-properties-of-molecular-gas-at-the-heart-of-the-milky-way-galaxy.html" rel="alternate"></link><published>2013-10-01T09:50:00-06:00</published><updated>2013-10-01T09:50:00-06:00</updated><author><name>Adam Ginsburg</name></author><id>tag:keflavich.github.io,2013-10-01:/blog/betsy-mills-hot-gas-masers-and-cloud-collisions-the-extreme-properties-of-molecular-gas-at-the-heart-of-the-milky-way-galaxy.html</id><summary type="html">&lt;img alt="" src="https://keflavich.github.io/blog/iau303/images/mills.jpg" style="width: 800px;" /&gt;
&lt;dl class="docutils"&gt;
&lt;dt&gt;VLA Survey&lt;/dt&gt;
&lt;dd&gt;&lt;ul class="first last"&gt;
&lt;li&gt;&lt;p class="first"&gt;DnC at 24-36 GHz&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p class="first"&gt;Brick NH3
+ very high temperatures in brick: 100's of K
+ optically thin 4-4,5-5,7-7
+ brightest, densest clumps have lowest temperatures
+ 300K gas, but no SF&lt;/p&gt;
&lt;blockquote&gt;
&lt;ul class="simple"&gt;
&lt;li&gt;CR heating?&lt;/li&gt;
&lt;li&gt;Shock heating?&lt;/li&gt;
&lt;/ul&gt;
&lt;/blockquote&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p class="first"&gt;36 GHz methanol maser
+ shock excited
+ dozens of point sources
+ 75 candidates, 29 T …&lt;/p&gt;&lt;/li&gt;&lt;/ul&gt;&lt;/dd&gt;&lt;/dl&gt;</summary><content type="html">&lt;img alt="" src="https://keflavich.github.io/blog/iau303/images/mills.jpg" style="width: 800px;" /&gt;
&lt;dl class="docutils"&gt;
&lt;dt&gt;VLA Survey&lt;/dt&gt;
&lt;dd&gt;&lt;ul class="first last"&gt;
&lt;li&gt;&lt;p class="first"&gt;DnC at 24-36 GHz&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p class="first"&gt;Brick NH3
+ very high temperatures in brick: 100's of K
+ optically thin 4-4,5-5,7-7
+ brightest, densest clumps have lowest temperatures
+ 300K gas, but no SF&lt;/p&gt;
&lt;blockquote&gt;
&lt;ul class="simple"&gt;
&lt;li&gt;CR heating?&lt;/li&gt;
&lt;li&gt;Shock heating?&lt;/li&gt;
&lt;/ul&gt;
&lt;/blockquote&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p class="first"&gt;36 GHz methanol maser
+ shock excited
+ dozens of point sources
+ 75 candidates, 29 T_B &amp;gt; 1000K (masing)&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p class="first"&gt;why so many masers?
+ large-scale shocks?
+ 80 km/s velocity gradient across cloud
+ methanol &amp;amp; ammonia emission dominated by convergence point of velocities&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p class="first"&gt;class I methanol masers usually show SF&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/dd&gt;
&lt;dt&gt;SF in the Brick?&lt;/dt&gt;
&lt;dd&gt;&lt;ul class="first last simple"&gt;
&lt;li&gt;7 VLA continuum sources
+ peaks in a more distributed set of continuum emission&lt;/li&gt;
&lt;li&gt;25 GHz continuum
+ most continuum outside of the molecular gas
+ external ionization&lt;/li&gt;
&lt;/ul&gt;
&lt;/dd&gt;
&lt;dt&gt;Rest of the CMZ&lt;/dt&gt;
&lt;dd&gt;&lt;ul class="first last simple"&gt;
&lt;li&gt;Pistol &amp;amp; Quintuplet continuum with streaks from the nonthermal filaments
+ second LBV seen in radio&lt;/li&gt;
&lt;li&gt;NH3 near Sgr A*
+ NH3 traces edges of Sgr A East SNR
+ some SF in 50km/s cloud and 20km/s cloud&lt;/li&gt;
&lt;li&gt;CND not in HC3N, weakly in ammonia&lt;/li&gt;
&lt;li&gt;no NH3 or HC3N at brightest submm clump&lt;/li&gt;
&lt;li&gt;nonthermal 3-3 line&lt;/li&gt;
&lt;/ul&gt;
&lt;/dd&gt;
&lt;dt&gt;Sgr B2&lt;/dt&gt;
&lt;dd&gt;&lt;ul class="first last simple"&gt;
&lt;li&gt;CH3OH only non-self-absorbed against hot core
+ shell structure&lt;/li&gt;
&lt;li&gt;NH3 2-2 maser&lt;/li&gt;
&lt;/ul&gt;
&lt;/dd&gt;
&lt;/dl&gt;
&lt;div class="section" id="questions"&gt;
&lt;h2&gt;Questions&lt;/h2&gt;
&lt;blockquote&gt;
&lt;ul class="simple"&gt;
&lt;li&gt;Q Walsh: NH3 3-3 maser.  Expected more of those.  Were there others?&lt;/li&gt;
&lt;li&gt;A: yes, there are at least 2 others&lt;/li&gt;
&lt;li&gt;Q: Temperatures of ammonia.  Is ammonia the only tracer that gives high
temperature towards the Brick?&lt;/li&gt;
&lt;li&gt;A: Yes, only one towards brick.  400-600K from H2 from Rodriguez-Fernandez.
400K in Sgr A from NH3 too.&lt;/li&gt;
&lt;li&gt;Q: Formation pumping?&lt;/li&gt;
&lt;li&gt;A: yes, possible.  Need to form on short timescales.&lt;/li&gt;
&lt;li&gt;Q: Need hefty CR for that heating.  Can you expand on what VLA is good for?&lt;/li&gt;
&lt;li&gt;A: CRs 10^-14, 10^-15.  May happen.  Hard to explain 100's K&lt;/li&gt;
&lt;li&gt;A: VLA gets NH3 transitions for temperatures.  ALMA gives density.  VLA
gives free-free. No overlap in frequency&lt;/li&gt;
&lt;li&gt;Q: Is the brick a cloud?  Is this really a transient colliding flow?&lt;/li&gt;
&lt;li&gt;A: I don't claim that it's bound.&lt;/li&gt;
&lt;/ul&gt;
&lt;/blockquote&gt;
&lt;/div&gt;
</content><category term="iau303"></category><category term="iau303"></category></entry><entry><title>Jill Rathborne: ALMA’s view of the initial conditions within a massive protocluster</title><link href="https://keflavich.github.io/blog/jill-rathborne-almas-view-of-the-initial-conditions-within-a-massive-protocluster.html" rel="alternate"></link><published>2013-10-01T09:30:00-06:00</published><updated>2013-10-01T09:30:00-06:00</updated><author><name>Adam Ginsburg</name></author><id>tag:keflavich.github.io,2013-10-01:/blog/jill-rathborne-almas-view-of-the-initial-conditions-within-a-massive-protocluster.html</id><summary type="html">&lt;img alt="" src="https://keflavich.github.io/blog/iau303/images/rathborne.jpg" style="width: 800px;" /&gt;
&lt;dl class="docutils"&gt;
&lt;dt&gt;The Brick / Lima Bean&lt;/dt&gt;
&lt;dd&gt;&lt;ul class="first last simple"&gt;
&lt;li&gt;deep extinction feature&lt;/li&gt;
&lt;li&gt;Tdust 20K&lt;/li&gt;
&lt;li&gt;MALT90 gas gives different T than dust
+ HNCO usually traces 70K gas at n~10^6
+ 0.3 pc resolution&lt;/li&gt;
&lt;/ul&gt;
&lt;/dd&gt;
&lt;dt&gt;ALMA 13pt mosaic&lt;/dt&gt;
&lt;dd&gt;&lt;ul class="first last simple"&gt;
&lt;li&gt;1.7&amp;quot;, dv=3.5 km/s, 20 microJy/bm&lt;/li&gt;
&lt;li&gt;column pdf is fairly lognormal
+ tiny excess on …&lt;/li&gt;&lt;/ul&gt;&lt;/dd&gt;&lt;/dl&gt;</summary><content type="html">&lt;img alt="" src="https://keflavich.github.io/blog/iau303/images/rathborne.jpg" style="width: 800px;" /&gt;
&lt;dl class="docutils"&gt;
&lt;dt&gt;The Brick / Lima Bean&lt;/dt&gt;
&lt;dd&gt;&lt;ul class="first last simple"&gt;
&lt;li&gt;deep extinction feature&lt;/li&gt;
&lt;li&gt;Tdust 20K&lt;/li&gt;
&lt;li&gt;MALT90 gas gives different T than dust
+ HNCO usually traces 70K gas at n~10^6
+ 0.3 pc resolution&lt;/li&gt;
&lt;/ul&gt;
&lt;/dd&gt;
&lt;dt&gt;ALMA 13pt mosaic&lt;/dt&gt;
&lt;dd&gt;&lt;ul class="first last simple"&gt;
&lt;li&gt;1.7&amp;quot;, dv=3.5 km/s, 20 microJy/bm&lt;/li&gt;
&lt;li&gt;column pdf is fairly lognormal
+ tiny excess on the tail
+ tail is only location of active SF&lt;/li&gt;
&lt;li&gt;lognormal is predicted...&lt;/li&gt;
&lt;li&gt;will form stars (already forming some)&lt;/li&gt;
&lt;/ul&gt;
&lt;/dd&gt;
&lt;dt&gt;Gallery of data&lt;/dt&gt;
&lt;dd&gt;&lt;ul class="first last simple"&gt;
&lt;li&gt;rgb slice movies&lt;/li&gt;
&lt;li&gt;cold absorption filaments
+ huge aspect ratio &amp;amp; line width
+ only seen in HCO+
+ approximately perpendicular to polarization&lt;/li&gt;
&lt;/ul&gt;
&lt;/dd&gt;
&lt;/dl&gt;
&lt;div class="section" id="questions"&gt;
&lt;h2&gt;Questions&lt;/h2&gt;
&lt;blockquote&gt;
&lt;ul class="simple"&gt;
&lt;li&gt;Q Mitch: Any qualtitative feel for the bulk velocity field?  Rotation, shear, compression?&lt;/li&gt;
&lt;li&gt;A: Probably shear.&lt;/li&gt;
&lt;li&gt;Q: Estimate mach number of shocks?&lt;/li&gt;
&lt;li&gt;A: yes can but haven't yet.&lt;/li&gt;
&lt;li&gt;A Steve: M~70&lt;/li&gt;
&lt;li&gt;Q: Column to volume densities.  What range?&lt;/li&gt;
&lt;li&gt;A: 10^6 cm^-3 from the dust, up to 10^7&lt;/li&gt;
&lt;li&gt;A: Only one transition of each molecule, haven't done local density estimates&lt;/li&gt;
&lt;li&gt;Q Lang: Is the absorption filament a continuum feature?&lt;/li&gt;
&lt;li&gt;A: Doesn't line up with anything in particular.&lt;/li&gt;
&lt;li&gt;A Betsy: There's a parallel filament.&lt;/li&gt;
&lt;li&gt;Q Farhad:  What is happening at the one site of SF?&lt;/li&gt;
&lt;li&gt;A: 80 blobs throughout the cloud, sizes ~0.3 pc, masses 10-100 msun.  1
water maser with 85 msun.  No YSO correspondence&lt;/li&gt;
&lt;/ul&gt;
&lt;/blockquote&gt;
&lt;/div&gt;
</content><category term="iau303"></category><category term="iau303"></category></entry><entry><title>Steve Longmore: Conversion of Gas into Stars in the Galactic Center</title><link href="https://keflavich.github.io/blog/steve-longmore-conversion-of-gas-into-stars-in-the-galactic-center.html" rel="alternate"></link><published>2013-10-01T09:00:00-06:00</published><updated>2013-10-01T09:00:00-06:00</updated><author><name>Adam Ginsburg</name></author><id>tag:keflavich.github.io,2013-10-01:/blog/steve-longmore-conversion-of-gas-into-stars-in-the-galactic-center.html</id><summary type="html">&lt;img alt="" src="https://keflavich.github.io/blog/iau303/images/longmore.jpg" style="width: 800px;" /&gt;
&lt;dl class="docutils"&gt;
&lt;dt&gt;Is SF different in disk?&lt;/dt&gt;
&lt;dd&gt;&lt;ul class="first last simple"&gt;
&lt;li&gt;5-10% of gas in CMZ&lt;/li&gt;
&lt;li&gt;5-10% of SF in CMZ&lt;/li&gt;
&lt;li&gt;Density in CMZ 2 orders of magnitude higher&lt;/li&gt;
&lt;/ul&gt;
&lt;/dd&gt;
&lt;dt&gt;Suppressing Mechanisms in the CMZ&lt;/dt&gt;
&lt;dd&gt;&lt;ul class="first last simple"&gt;
&lt;li&gt;Stars dominate grav potential
+ outside &amp;quot;ring&amp;quot;, gas is not self-gravitating
+ Within 100 pc, gas is self-grav&lt;/li&gt;
&lt;li&gt;Local suppression dominated by turbulence by …&lt;/li&gt;&lt;/ul&gt;&lt;/dd&gt;&lt;/dl&gt;</summary><content type="html">&lt;img alt="" src="https://keflavich.github.io/blog/iau303/images/longmore.jpg" style="width: 800px;" /&gt;
&lt;dl class="docutils"&gt;
&lt;dt&gt;Is SF different in disk?&lt;/dt&gt;
&lt;dd&gt;&lt;ul class="first last simple"&gt;
&lt;li&gt;5-10% of gas in CMZ&lt;/li&gt;
&lt;li&gt;5-10% of SF in CMZ&lt;/li&gt;
&lt;li&gt;Density in CMZ 2 orders of magnitude higher&lt;/li&gt;
&lt;/ul&gt;
&lt;/dd&gt;
&lt;dt&gt;Suppressing Mechanisms in the CMZ&lt;/dt&gt;
&lt;dd&gt;&lt;ul class="first last simple"&gt;
&lt;li&gt;Stars dominate grav potential
+ outside &amp;quot;ring&amp;quot;, gas is not self-gravitating
+ Within 100 pc, gas is self-grav&lt;/li&gt;
&lt;li&gt;Local suppression dominated by turbulence by orders of magnitude&lt;/li&gt;
&lt;li&gt;Dense gas PDF from Kritsuk
+ dispersion set by Mach number&lt;/li&gt;
&lt;li&gt;Threshold for SF in CMZ very high: ~10^8 cm^-3&lt;/li&gt;
&lt;/ul&gt;
&lt;/dd&gt;
&lt;dt&gt;Turbulence&lt;/dt&gt;
&lt;dd&gt;&lt;ul class="first last simple"&gt;
&lt;li&gt;dissipates in a crossing time
+ what drives it?
+ MRI, GI, outflows, Sne all orders of magnitude too low
+ steady-state gas inflow also too small&lt;/li&gt;
&lt;li&gt;&amp;quot;acoustic instabilities&amp;quot; large enough
+ outside inner lindblad resonance, spiral waves driven by grav instabilities&lt;/li&gt;
&lt;li&gt;&lt;a class="reference external" href="http://adsabs.harvard.edu/abs/1999ApJ...520..592M"&gt;Montenegro, Yuan, Elmegreen 1999 model&lt;/a&gt;
+ gas falling into stellar potential
+ &amp;quot;acoustic instability&amp;quot;&lt;/li&gt;
&lt;/ul&gt;
&lt;/dd&gt;
&lt;dt&gt;Quiescent vs Starburst phase&lt;/dt&gt;
&lt;dd&gt;&lt;ul class="first last simple"&gt;
&lt;li&gt;&amp;quot;simple idea&amp;quot;&lt;/li&gt;
&lt;/ul&gt;
&lt;/dd&gt;
&lt;dt&gt;CMZ in Cosmological Context&lt;/dt&gt;
&lt;dd&gt;&lt;ul class="first last simple"&gt;
&lt;li&gt;velocity dispersion vs density?
+ high redshift clouds and CMZ clouds occupy same parameter space&lt;/li&gt;
&lt;li&gt;&amp;quot;CMZ is inditinguishable from high-redshift starburst&amp;quot;&lt;/li&gt;
&lt;/ul&gt;
&lt;/dd&gt;
&lt;dt&gt;Details of stellar mass assembly&lt;/dt&gt;
&lt;dd&gt;&lt;ul class="first last simple"&gt;
&lt;li&gt;Molinari Ring picture: 2 vertical oscillations per orbit&lt;/li&gt;
&lt;li&gt;map mass density along orbit&lt;/li&gt;
&lt;li&gt;gas compressed at pericenter&lt;/li&gt;
&lt;li&gt;PPV structure extraction...
+ orbital fitting
+ can't fit Molinari ring
+ closed orbits not possible: precession
+ can't fit P-V wiggle
+ doesn't fit Sgr B2&lt;/li&gt;
&lt;li&gt;Pericenter passage SPH sim
+ VERTICAL compression
+ retrograde, counterrotating gas due to shear&lt;/li&gt;
&lt;li&gt;dense gas fraction vs orbit...
+ prediction of density vs orbital position
+ Plug for Ginsburg et al VLA/GBT H2CO densitometry&lt;/li&gt;
&lt;li&gt;IMF variation interesting future avenue&lt;/li&gt;
&lt;/ul&gt;
&lt;/dd&gt;
&lt;/dl&gt;
&lt;div class="section" id="questions"&gt;
&lt;h2&gt;Questions&lt;/h2&gt;
&lt;blockquote&gt;
&lt;ul class="simple"&gt;
&lt;li&gt;Q: On pc scales, fits with Ken-Schmidt relation&lt;/li&gt;
&lt;li&gt;A: Depends on geometry.  Donut vs pancake geometry.&lt;/li&gt;
&lt;li&gt;Q: Isn't there gas that is more efficient at forming stars?&lt;/li&gt;
&lt;li&gt;A: Doesn't fit...&lt;/li&gt;
&lt;li&gt;Q: KS relation doesn't work for CMZs in other galaxies.  How did you measure
dispersion for high-Z clouds?&lt;/li&gt;
&lt;li&gt;A: Some high-z clouds with direct measurements.  Otherwise, assume virial
equilibrium.  Robust no matter how you derive it.&lt;/li&gt;
&lt;li&gt;Q: Struggling in nearby galaxies, particularly because of outflows.&lt;/li&gt;
&lt;li&gt;A: best we can do&lt;/li&gt;
&lt;li&gt;Q: CMZ is similar to high-z objects.  GC in pre-starburst phase.  So we
should have a starburst soon.&lt;/li&gt;
&lt;li&gt;A: Either gas won't form stars, or will do so in bursty fashion&lt;/li&gt;
&lt;li&gt;Q: Predicts lots of very dense gas in Galactic center, n~10^8.&lt;/li&gt;
&lt;li&gt;A: See Jill's talk.&lt;/li&gt;
&lt;li&gt;Q Wardle: Turbulence damps on vertical crossing time (0.5 Myr).  20km/s
linewidth disappear in 0.5 Myr?  Do you see dead clouds?  Don't travel very far,
so should damp.&lt;/li&gt;
&lt;li&gt;A: [should have answered: it's driven!]&lt;/li&gt;
&lt;/ul&gt;
&lt;/blockquote&gt;
&lt;/div&gt;
</content><category term="iau303"></category><category term="iau303"></category></entry><entry><title>Wednesday Morning talks: G2</title><link href="https://keflavich.github.io/blog/wednesday-morning-talks-g2.html" rel="alternate"></link><published>2013-10-01T09:00:00-06:00</published><updated>2013-10-01T09:00:00-06:00</updated><author><name>Adam Ginsburg</name></author><id>tag:keflavich.github.io,2013-10-01:/blog/wednesday-morning-talks-g2.html</id><summary type="html">&lt;div class="section" id="am-stefan-gillessen-germany-overview-talk-observations-of-the-g2-cloud-at-sgra-25-5-minutes"&gt;
&lt;h2&gt;9:00-9:30 am Stefan Gillessen (Germany): Overview Talk Observations of the G2 Cloud at SgrA* (25 + 5 minutes)&lt;/h2&gt;
&lt;img alt="" src="https://keflavich.github.io/blog/iau303/images/gillessen.jpg" style="width: 800px;" /&gt;
&lt;dl class="docutils"&gt;
&lt;dt&gt;Summary of measurements...&lt;/dt&gt;
&lt;dd&gt;&lt;ul class="first last"&gt;
&lt;li&gt;&lt;p class="first"&gt;Mass of BH known &amp;quot;better than your own mass&amp;quot;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p class="first"&gt;SINFONI data&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p class="first"&gt;ALMA cycle 0 data misses G2 b/c of redshift&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p class="first"&gt;date, location of periapse uncertain by ~months …&lt;/p&gt;&lt;/li&gt;&lt;/ul&gt;&lt;/dd&gt;&lt;/dl&gt;&lt;/div&gt;</summary><content type="html">&lt;div class="section" id="am-stefan-gillessen-germany-overview-talk-observations-of-the-g2-cloud-at-sgra-25-5-minutes"&gt;
&lt;h2&gt;9:00-9:30 am Stefan Gillessen (Germany): Overview Talk Observations of the G2 Cloud at SgrA* (25 + 5 minutes)&lt;/h2&gt;
&lt;img alt="" src="https://keflavich.github.io/blog/iau303/images/gillessen.jpg" style="width: 800px;" /&gt;
&lt;dl class="docutils"&gt;
&lt;dt&gt;Summary of measurements...&lt;/dt&gt;
&lt;dd&gt;&lt;ul class="first last"&gt;
&lt;li&gt;&lt;p class="first"&gt;Mass of BH known &amp;quot;better than your own mass&amp;quot;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p class="first"&gt;SINFONI data&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p class="first"&gt;ALMA cycle 0 data misses G2 b/c of redshift&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p class="first"&gt;date, location of periapse uncertain by ~months, factor of 2 in radii
+ radius ~100 AU
+ optically thin
+ ionized
+ 3 earth masses
+ density 10^5&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p class="first"&gt;PaA detected!  redshifted into visible band&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p class="first"&gt;PV-diagram evolution with SINFONI&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p class="first"&gt;Some gas has passed pericenter
+ pericenter is prolonged - 1 yr&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p class="first"&gt;no x-ray heating detected yet&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p class="first"&gt;rotation measure still constant&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p class="first"&gt;wiki page for project idea: &lt;a class="reference external" href="https://wiki.mpe.mpg.de/gascloud"&gt;MPE wiki&lt;/a&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p class="first"&gt;Where does it come from?
+ wind interaction creating clumps?&lt;/p&gt;
&lt;blockquote&gt;
&lt;ul class="simple"&gt;
&lt;li&gt;S91, IRS16SW have winds that could do it&lt;/li&gt;
&lt;/ul&gt;
&lt;/blockquote&gt;
&lt;ul class="simple"&gt;
&lt;li&gt;infalling jet material?&lt;/li&gt;
&lt;li&gt;form not at apocenter, but halfway in at high velocity&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p class="first"&gt;Proplyd?
+ predicted rising flux; this didn't happen&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p class="first"&gt;T Tauri star?&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p class="first"&gt;Star inside?
+ so far, evidence says no
+ gas is not presently bound&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p class="first"&gt;Sgr A* flares nightly&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/dd&gt;
&lt;/dl&gt;
&lt;div class="section" id="questions"&gt;
&lt;h3&gt;Questions&lt;/h3&gt;
&lt;blockquote&gt;
&lt;ul class="simple"&gt;
&lt;li&gt;Q: current velocity inconsistent with current model&lt;/li&gt;
&lt;li&gt;A: Maybe internal velocity has changed.  Some gas on other side.  Maybe
things have changed now that there is no longer a single source&lt;/li&gt;
&lt;li&gt;Q Farhard: Estimate of density of sheared gas when on opposite side from the
BrG?&lt;/li&gt;
&lt;li&gt;A: Haven't done that yet.  Evolution is mostly radial (line-of-sight)&lt;/li&gt;
&lt;li&gt;Q Bally: Will the trailing gas continue to fall in?  What is it?&lt;/li&gt;
&lt;li&gt;A: It is there, orbital motion slow, but close to overall BrG emission and
confused with ambient.  20 years to infall&lt;/li&gt;
&lt;li&gt;Q: Are B-fields dynamically important?&lt;/li&gt;
&lt;li&gt;A: Talk tomorrow - various scenarios, possible that magnetized.  Don't think
we will see directly.&lt;/li&gt;
&lt;li&gt;Q: Predicting X-ray flares.  Can you determine how much mass infalls?&lt;/li&gt;
&lt;li&gt;A: Not an easily invertible problem.&lt;/li&gt;
&lt;li&gt;Q Fred Lo: Infall of cloud to 1000 schwarzchild radii.  Can you say anything about
interior?&lt;/li&gt;
&lt;li&gt;A: Can't see anything yet.  Should theoretically be &amp;quot;sea&amp;quot; of NS, BH around
SMBH.  Maybe will intersect?&lt;/li&gt;
&lt;li&gt;Q Mitch:  If star in center, what limits on wind speed?&lt;/li&gt;
&lt;li&gt;A: First observations were unresolved.  Rather low wind speed, 50-100 km/s&lt;/li&gt;
&lt;/ul&gt;
&lt;/blockquote&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="section" id="am-leo-meyer-usa-keck-observations-of-g2-and-sgra-15-5-minutes"&gt;
&lt;h2&gt;9:30-9:50 am Leo Meyer (USA): Keck Observations of G2 and SgrA (15 + 5 minutes)&lt;/h2&gt;
&lt;img alt="" src="https://keflavich.github.io/blog/iau303/images/meyer.jpg" style="width: 800px;" /&gt;
&lt;dl class="docutils"&gt;
&lt;dt&gt;Agree on some things:&lt;/dt&gt;
&lt;dd&gt;&lt;ul class="first last simple"&gt;
&lt;li&gt;red source&lt;/li&gt;
&lt;li&gt;evolving FWHM&lt;/li&gt;
&lt;li&gt;tidal interaction&lt;/li&gt;
&lt;li&gt;eccentric orbit&lt;/li&gt;
&lt;/ul&gt;
&lt;/dd&gt;
&lt;dt&gt;Uncertainties:&lt;/dt&gt;
&lt;dd&gt;&lt;ul class="first last simple"&gt;
&lt;li&gt;How much gas is there?&lt;/li&gt;
&lt;li&gt;compact gas cloud?  How survived in the environment?&lt;/li&gt;
&lt;li&gt;Or is it a star?&lt;/li&gt;
&lt;li&gt;Will it have observable impact on Sgr A*'s emission&lt;/li&gt;
&lt;/ul&gt;
&lt;/dd&gt;
&lt;dt&gt;2013 data&lt;/dt&gt;
&lt;dd&gt;&lt;ul class="first last simple"&gt;
&lt;li&gt;doesn't change anything&lt;/li&gt;
&lt;li&gt;BrG for radial vel and proper motion
+ bias in L' phot&lt;/li&gt;
&lt;li&gt;so far purely keplerian orbit
+ why would a gas cloud follow keplerian?&lt;/li&gt;
&lt;li&gt;slight changes to orbital parameters, mostly because of reference frame&lt;/li&gt;
&lt;/ul&gt;
&lt;/dd&gt;
&lt;dt&gt;G2 tail&lt;/dt&gt;
&lt;dd&gt;&lt;ul class="first last simple"&gt;
&lt;li&gt;PV diagram criticism: doesn't show spatial association&lt;/li&gt;
&lt;li&gt;tail not on the orbit&lt;/li&gt;
&lt;li&gt;claim that there is unassociated, independent gas&lt;/li&gt;
&lt;/ul&gt;
&lt;/dd&gt;
&lt;dt&gt;Blueshifted emission&lt;/dt&gt;
&lt;dd&gt;&lt;ul class="first last simple"&gt;
&lt;li&gt;wrong location?&lt;/li&gt;
&lt;li&gt;Residual of SO2?&lt;/li&gt;
&lt;li&gt;may not be what is seen in SINFONI data&lt;/li&gt;
&lt;/ul&gt;
&lt;/dd&gt;
&lt;dt&gt;G2 not unique&lt;/dt&gt;
&lt;dd&gt;&lt;ul class="first last simple"&gt;
&lt;li&gt;~5 sources clearly seen&lt;/li&gt;
&lt;li&gt;[but G2 is the only one with high velocity]&lt;/li&gt;
&lt;/ul&gt;
&lt;/dd&gt;
&lt;dt&gt;Sgr A* brightness&lt;/dt&gt;
&lt;dd&gt;&lt;ul class="first last simple"&gt;
&lt;li&gt;currently as faint as ever seen&lt;/li&gt;
&lt;li&gt;new &amp;quot;hidden markov&amp;quot; model&lt;/li&gt;
&lt;li&gt;Sgr A* has only one state&lt;/li&gt;
&lt;/ul&gt;
&lt;/dd&gt;
&lt;/dl&gt;
&lt;div class="section" id="questions-1"&gt;
&lt;h3&gt;Questions&lt;/h3&gt;
&lt;blockquote&gt;
&lt;ul class="simple"&gt;
&lt;li&gt;Q: Can you predict rate of G2-like interactions?&lt;/li&gt;
&lt;li&gt;A: No, but they don't explain flaring.  1-2 every 20 years?&lt;/li&gt;
&lt;li&gt;Q: New inclination angle closer to 90.  Maybe more extended in radial direction.&lt;/li&gt;
&lt;li&gt;Q: Spectrum of G1?&lt;/li&gt;
&lt;li&gt;A: not ready to show yet&lt;/li&gt;
&lt;li&gt;Q: Caution about position-velocity diagram.  If disrupted, shouldn't be
keplerian in all pieces.&lt;/li&gt;
&lt;li&gt;A: it's the slit width in the PV diagram that's a problem&lt;/li&gt;
&lt;li&gt;Q: State transitions - can you incorporate multiwavelength data?&lt;/li&gt;
&lt;li&gt;A: &amp;quot;very general&amp;quot; model.  Needs to be calibrated for other wavelengths&lt;/li&gt;
&lt;/ul&gt;
&lt;/blockquote&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="section" id="am-andreas-eckart-germany-the-infrared-k-band-identification-of-the-dso-g2-source-from-vlt-and-keck-data-15-5-minutes"&gt;
&lt;h2&gt;9:50-10:10 am Andreas Eckart (Germany): The infrared K-band identification of the DSO/G2 source from VLT and Keck data (15 + 5 minutes)&lt;/h2&gt;
&lt;img alt="" src="https://keflavich.github.io/blog/iau303/images/eckart.jpg" style="width: 800px;" /&gt;
&lt;dl class="docutils"&gt;
&lt;dt&gt;Proper motions of &amp;quot;dusty sources&amp;quot;&lt;/dt&gt;
&lt;dd&gt;&lt;ul class="first last simple"&gt;
&lt;li&gt;K-band detection of G2 cloud&lt;/li&gt;
&lt;li&gt;prior to 2008, confused with S63&lt;/li&gt;
&lt;/ul&gt;
&lt;/dd&gt;
&lt;dt&gt;Possibilities for &amp;quot;DSO&amp;quot; = G2&lt;/dt&gt;
&lt;dd&gt;&lt;ul class="first last simple"&gt;
&lt;li&gt;externally heated
+ expect extended dust emission
+ not observed&lt;/li&gt;
&lt;li&gt;internally heated
+ expect compact K-band (observed)
+ requires internal heating source: star&lt;/li&gt;
&lt;li&gt;massive star possible&lt;/li&gt;
&lt;li&gt;accretion of material?&lt;/li&gt;
&lt;li&gt;&amp;quot;Tail emission&amp;quot; part of background?&lt;/li&gt;
&lt;li&gt;interacting disk models suggest tail is part of interacting disks&lt;/li&gt;
&lt;li&gt;X3, X7 clouds...&lt;/li&gt;
&lt;li&gt;Where from?
+ compact clouds in CND
+ clouds collide -&amp;gt; high eccentricity infall
+ compression -&amp;gt; star formation
+ &amp;quot;beads&amp;quot; of stars falling in...&lt;/li&gt;
&lt;/ul&gt;
&lt;/dd&gt;
&lt;/dl&gt;
&lt;div class="section" id="questions-2"&gt;
&lt;h3&gt;Questions&lt;/h3&gt;
&lt;blockquote&gt;
&lt;ul class="simple"&gt;
&lt;li&gt;Q: Extension of 0.2&amp;quot; in BrG.  20mas from Gillessen?&lt;/li&gt;
&lt;li&gt;A: Extended emission is from the tail&lt;/li&gt;
&lt;li&gt;Q: Movie - how possible to form stars at the close approach because of the
short timescale of SF&lt;/li&gt;
&lt;li&gt;A: Orbital compression&lt;/li&gt;
&lt;li&gt;Q: Compressing gas - does that inhibit other SF?  Prevent continuous SF?&lt;/li&gt;
&lt;li&gt;A: Short event... this model ongoing sf at lower level.... IRS13N young
objects&lt;/li&gt;
&lt;li&gt;Q: Jupiter-like object?&lt;/li&gt;
&lt;li&gt;A: couple Lsun - 20-30 Lsun, points towards more massive object than a Jupiter&lt;/li&gt;
&lt;li&gt;Q Bally: Gas densities in simulation?&lt;/li&gt;
&lt;li&gt;A: intial density of clump n~10^5.  Look at poster&lt;/li&gt;
&lt;li&gt;Q Ghez comment: analysis of images, not real data...&lt;/li&gt;
&lt;li&gt;A: Data downloaded from Keck archive&lt;/li&gt;
&lt;li&gt;Ghez: see anna bailey's poster, which shows technique for getting limits.
We don't see G2.&lt;/li&gt;
&lt;li&gt;A: We see 19th magnitude &amp;quot;DSO&amp;quot;&lt;/li&gt;
&lt;/ul&gt;
&lt;/blockquote&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="section" id="am-darryl-haggard-usa-g2-as-a-probe-of-sgr-a-s-hot-environs-a-view-from-chandra-and-jvla-15-5-minutes"&gt;
&lt;h2&gt;10:10-10:30 am Darryl Haggard (USA): G2 as a Probe of Sgr A*'s Hot Environs: A View from Chandra and JVLA (15 + 5 minutes)&lt;/h2&gt;
&lt;img alt="" src="https://keflavich.github.io/blog/iau303/images/haggard.jpg" style="width: 800px;" /&gt;
&lt;dl class="docutils"&gt;
&lt;dt&gt;Predicted possible x-ray emission&lt;/dt&gt;
&lt;dd&gt;&lt;ul class="first last simple"&gt;
&lt;li&gt;multi-PI Chandra campaign&lt;/li&gt;
&lt;li&gt;X-ray view of CMZ: magnetar next to Sgr A*
+ confusion, overlapping PSFs
+ multi-hit issues (pile-up)&lt;/li&gt;
&lt;li&gt;no hints of G2 in X-ray&lt;/li&gt;
&lt;li&gt;one crazy bright flare&lt;/li&gt;
&lt;li&gt;magnetar can be used to probe LOS to Sgr A*&lt;/li&gt;
&lt;li&gt;simultaneous Chandra/VLA&lt;/li&gt;
&lt;/ul&gt;
&lt;/dd&gt;
&lt;/dl&gt;
&lt;div class="section" id="questions-3"&gt;
&lt;h3&gt;Questions&lt;/h3&gt;
&lt;blockquote&gt;
&lt;ul class="simple"&gt;
&lt;li&gt;Q: VLA obs over past year.  No evidence for flux density of Sgr A*.  No bow
shock emission.&lt;/li&gt;
&lt;li&gt;Q: Column density estimates.  Associated with flare?  Associated with Sgr A*?  LOS?&lt;/li&gt;
&lt;li&gt;A: Conflation&lt;/li&gt;
&lt;li&gt;Q: Can you explain emission with single age (?)&lt;/li&gt;
&lt;li&gt;A: Separate fits are statistically equivalent&lt;/li&gt;
&lt;/ul&gt;
&lt;/blockquote&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="section" id="am-coffee-break"&gt;
&lt;h2&gt;10:30-11:00 am Coffee Break&lt;/h2&gt;
&lt;/div&gt;
&lt;div class="section" id="am-gunther-witzel-usa-ir-observations-and-variability-of-sgra-20-5-minutes"&gt;
&lt;h2&gt;11:00-11:25 am Gunther Witzel (USA): IR observations and variability of SgrA* (20 + 5 minutes)&lt;/h2&gt;
&lt;dl class="docutils"&gt;
&lt;dt&gt;NIR var Sgr A*&lt;/dt&gt;
&lt;dd&gt;&lt;ul class="first last simple"&gt;
&lt;li&gt;NIR spectral index...&lt;/li&gt;
&lt;li&gt;Power law distribution of brightness...&lt;/li&gt;
&lt;li&gt;time behavior, structure function of spectral indices&lt;/li&gt;
&lt;li&gt;Break in PSD
+ 150, 500 minute break points&lt;/li&gt;
&lt;li&gt;simultaneous observations in L and H band
+ time-resolved measurements of spectral index
+ Very constant spectral index across all simultaneous measurements&lt;/li&gt;
&lt;/ul&gt;
&lt;/dd&gt;
&lt;/dl&gt;
&lt;div class="section" id="questions-4"&gt;
&lt;h3&gt;Questions&lt;/h3&gt;
&lt;blockquote&gt;
&lt;ul class="simple"&gt;
&lt;li&gt;Q: Can you combine VLT and Keck data to extend a night?&lt;/li&gt;
&lt;li&gt;A: I've tried that....&lt;/li&gt;
&lt;li&gt;Q: Red curve below black, black below red on some plots.  What's happening
to the spectral index?&lt;/li&gt;
&lt;li&gt;A: spectral index variations are significant.  Small compared to... other
publications&lt;/li&gt;
&lt;li&gt;C: Amazing how constant spectral index is&lt;/li&gt;
&lt;/ul&gt;
&lt;/blockquote&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="section" id="pm-banafsheh-shahzamanian-germany-nir-polarized-observations-of-sagittarius-a-15-5-minutes"&gt;
&lt;h2&gt;11:25-11:45 pm Banafsheh Shahzamanian (Germany): NIR polarized observations of Sagittarius A* (15 + 5 minutes)&lt;/h2&gt;
&lt;dl class="docutils"&gt;
&lt;dt&gt;NACO polarization measurements&lt;/dt&gt;
&lt;dd&gt;&lt;ul class="first last simple"&gt;
&lt;li&gt;Sgr A* highly polarized&lt;/li&gt;
&lt;li&gt;Polarized flux density has lognormal + power-law distr.&lt;/li&gt;
&lt;li&gt;polarization and total flux density (weakly) anticorrelated
+ adding noise flattens correlation
+ confirms real... &amp;gt;3-sigma detection&lt;/li&gt;
&lt;li&gt;theory: depolarization at high flux comes from relativistic boosting&lt;/li&gt;
&lt;/ul&gt;
&lt;/dd&gt;
&lt;/dl&gt;
&lt;div class="section" id="questions-5"&gt;
&lt;h3&gt;Questions&lt;/h3&gt;
&lt;blockquote&gt;
&lt;ul class="simple"&gt;
&lt;li&gt;Q: How does anticorrelation fit with the explanation of high-flux -&amp;gt; high pol?&lt;/li&gt;
&lt;li&gt;&lt;dl class="first docutils"&gt;
&lt;dt&gt;A: Highly polarized flux is from bright flares at high total flux densities&lt;/dt&gt;
&lt;dd&gt;[I didn't understand]&lt;/dd&gt;
&lt;/dl&gt;
&lt;/li&gt;
&lt;li&gt;Q Fred Lo: Any idea what radius flares are coming from?&lt;/li&gt;
&lt;li&gt;A: 6 Schwarzchild radii in the model&lt;/li&gt;
&lt;li&gt;Q: What constraints?&lt;/li&gt;
&lt;li&gt;A: (from audience) variability timescale&lt;/li&gt;
&lt;li&gt;Q: Is there a preferred vector position angle?&lt;/li&gt;
&lt;li&gt;A: ...?&lt;/li&gt;
&lt;li&gt;Q Sacha: Anticorrelation between &amp;quot;degree of correlation&amp;quot; and &amp;quot;flux&amp;quot;
translates between polarized flux and total emission.  We have interpreted
as different components of an outflow, bright and high degree of
polarization and faint with low degree of poln.  Is this consistent?&lt;/li&gt;
&lt;li&gt;Q: 40-50% of time, flux is noise-dominated.  Could there be noise-dominated
state bias?&lt;/li&gt;
&lt;li&gt;A: We have tested by adding noise&lt;/li&gt;
&lt;li&gt;Q: Would individual flares track up and down the anticorrelation?  Or is it
only for large # of flares?&lt;/li&gt;
&lt;li&gt;A: only for composite.&lt;/li&gt;
&lt;li&gt;Q Mitch: What kind of correlation do you see related to position angle?&lt;/li&gt;
&lt;li&gt;A: Not included in our analysis&lt;/li&gt;
&lt;/ul&gt;
&lt;/blockquote&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="section" id="pm-kazunori-akiyama-japan-long-term-monitoring-of-sgr-a-at-43ghz-with-vera-and-kvn-vera-15-5-minutes"&gt;
&lt;h2&gt;11:45-12:05 pm Kazunori Akiyama (Japan): Long-term monitoring of Sgr A* at 43GHz with VERA and KVN+VERA (15 + 5 minutes)&lt;/h2&gt;
&lt;dl class="docutils"&gt;
&lt;dt&gt;Sgr A* with VLBI&lt;/dt&gt;
&lt;dd&gt;&lt;ul class="first last simple"&gt;
&lt;li&gt;larger at lower frequencies&lt;/li&gt;
&lt;li&gt;variability correlated with spectral index&lt;/li&gt;
&lt;li&gt;single component for 3 years
+ size not correlated with radio flux&lt;/li&gt;
&lt;li&gt;flares come from component emerging from optically thick region?&lt;/li&gt;
&lt;li&gt;Flares with G2?
+ maybe detected bowshock?&lt;/li&gt;
&lt;li&gt;VERA shows consistent major axis size&lt;/li&gt;
&lt;li&gt;KVN + VERA: comparable to VLBA&lt;/li&gt;
&lt;/ul&gt;
&lt;/dd&gt;
&lt;/dl&gt;
&lt;div class="section" id="questions-6"&gt;
&lt;h3&gt;Questions&lt;/h3&gt;
&lt;blockquote&gt;
&lt;ul class="simple"&gt;
&lt;li&gt;Q: Variation of intrinsic size with flux... difficult measurement to make.
VLA+ALMA observations of radio flares requires relativistic...&lt;/li&gt;
&lt;li&gt;Q: HET hasn't passed 10% of material (??)&lt;/li&gt;
&lt;li&gt;Q: Size doesn't increase with flux.  But that's interstellar scattering
size.  Could intrinsic size have changed by 10-15% without being detected?&lt;/li&gt;
&lt;li&gt;A: ???&lt;/li&gt;
&lt;li&gt;Q Fred Lo: intrinsic size measured.  Any elongation/ellipticity?&lt;/li&gt;
&lt;li&gt;A: Just a 1-dimensional measurement&lt;/li&gt;
&lt;/ul&gt;
&lt;/blockquote&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="section" id="pm-salome-dibi-netherlands-exploring-plasma-behavior-around-sgr-a"&gt;
&lt;h2&gt;12:05-12:25 pm Salomé Dibi (Netherlands): Exploring plasma behavior around Sgr A*&lt;/h2&gt;
&lt;dl class="docutils"&gt;
&lt;dt&gt;Sgr A* in context...&lt;/dt&gt;
&lt;dd&gt;&lt;ul class="first last simple"&gt;
&lt;li&gt;only flaring AGN&lt;/li&gt;
&lt;li&gt;discussion of particle distrbution related to SED &amp;amp; state&lt;/li&gt;
&lt;li&gt;accretion flow injecting electrons into plasma&lt;/li&gt;
&lt;li&gt;nonthermal synchrotron with cooling break is best distribution&lt;/li&gt;
&lt;/ul&gt;
&lt;/dd&gt;
&lt;/dl&gt;
&lt;div class="section" id="questions-7"&gt;
&lt;h3&gt;Questions&lt;/h3&gt;
&lt;blockquote&gt;
&lt;ul class="simple"&gt;
&lt;li&gt;Q Broderick: Should be able to produce both observed features of flares...&lt;/li&gt;
&lt;li&gt;A: Tried to reproduce spectral index.  Flaring in infrared could provide
strong constraints&lt;/li&gt;
&lt;li&gt;Q: Spectral index should evolve in your model, but we heard that it is not
changing&lt;/li&gt;
&lt;li&gt;C: Radio spectrum has gone even lower... falls on power law, useful for
modeling.  Makes deviation even more severe.&lt;/li&gt;
&lt;li&gt;C: spectral index measurements - flares measured with spectral indices don't
have X-ray counterparts.  Maybe X-ray bright flares may have non-constant
spectral indices.&lt;/li&gt;
&lt;li&gt;C: Fit within 2 R_G, so radio is not relevant (optically thick)&lt;/li&gt;
&lt;li&gt;Q Ostriker: 1-zone model.  What is the geometry?&lt;/li&gt;
&lt;li&gt;Event close to BH.&lt;/li&gt;
&lt;/ul&gt;
&lt;/blockquote&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="section" id="pm-jim-moran-usa-history-of-high-resolution-imaging-of-sgra-15-5-min"&gt;
&lt;h2&gt;12:25-12:45 pm Jim Moran (USA): History of High Resolution Imaging of SgrA* (15+5 min)&lt;/h2&gt;
&lt;dl class="docutils"&gt;
&lt;dt&gt;History&lt;/dt&gt;
&lt;dd&gt;&lt;ul class="first last simple"&gt;
&lt;li&gt;1951 Cygnus A: resolved double&lt;/li&gt;
&lt;li&gt;looking for compact structure in HII regions with 35km Green Bank
interferometer&lt;/li&gt;
&lt;li&gt;simple observation -&amp;gt; 0.1&amp;quot; size, 10^7K T_B&lt;/li&gt;
&lt;li&gt;OVRO group found HII regions, but searching for BH, Balick &amp;amp; Brown searching
for HII and found SMBH
+ Fred Lo 3.7cm found Sgr A*, T_B ~ 10^8K, &amp;lt;0.02&amp;quot;&lt;/li&gt;
&lt;li&gt;Jodrell Bank -&amp;gt; size ~ freq^-2&lt;/li&gt;
&lt;li&gt;Fish et al: early 1.3mm VLBI
+ consistent with Gaussian or annulus&lt;/li&gt;
&lt;li&gt;annular radii not at all constrained by short baselines&lt;/li&gt;
&lt;/ul&gt;
&lt;/dd&gt;
&lt;/dl&gt;
&lt;div class="section" id="questions-8"&gt;
&lt;h3&gt;Questions&lt;/h3&gt;
&lt;blockquote&gt;
&lt;ul class="simple"&gt;
&lt;li&gt;C Fred Lo: Explanation of series of events.  Obstacle for detecting
structure of Sgr A* is scattering.&lt;/li&gt;
&lt;li&gt;If you can characterize the Gaussian interstellar scattering, you could in
principle deconvolve&lt;/li&gt;
&lt;li&gt;C Farhad: Variability of Sgr A* is a problem.  230 GHz has high, hourly
variability&lt;/li&gt;
&lt;li&gt;Goal should be testing models on 10min timescales&lt;/li&gt;
&lt;/ul&gt;
&lt;/blockquote&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="section" id="discussion-section"&gt;
&lt;h2&gt;Discussion Section&lt;/h2&gt;
&lt;blockquote&gt;
&lt;ul class="simple"&gt;
&lt;li&gt;We agree on some things:
+ source is infalling
+ L-band source
+ Br-G detected&lt;/li&gt;
&lt;li&gt;Controversy:&lt;ul&gt;
&lt;li&gt;K-band detection is controversial.  Can we sort that out?  If it's there,
will it change interpretation a lot?&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;K-band source would be compatible with hot dust.  H-band is the real
discriminator&lt;/li&gt;
&lt;li&gt;What is the source we detect?  There are K-band sources, but their natures
are unclear&lt;/li&gt;
&lt;li&gt;Extinction makes it extra hard&lt;/li&gt;
&lt;li&gt;Ghez: What is G2?  Very similar to S-star orbits.  Orbital characteristics
of binary exchange.  Perhaps just a close binary, soon to form an S-star?
Tidally disrupt atmosphere, but be a star underneath&lt;ul&gt;
&lt;li&gt;Problem: star not that big.  If it's a star, very cool star dominated by
dust, difficult to detect.&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;Closest approach is no closer than S-stars
+ orbit also matches disk&lt;/li&gt;
&lt;li&gt;Dusty, looks like an S-star
+ No, it is a GAS source, not a dust source.  Gas is directly detected&lt;/li&gt;
&lt;li&gt;As it travels by Sgr A*, do I care if it has anything inside?&lt;/li&gt;
&lt;li&gt;Ghez: forces us to consider role of binaries at cmz&lt;/li&gt;
&lt;li&gt;Comment: wait and see what happens
+ What if nothing happens?  Will that resolve the issue?&lt;/li&gt;
&lt;li&gt;Are we just seeing weather in Sgr A*?
+ eh, maybe?&lt;/li&gt;
&lt;li&gt;Are we agreeing on emission mechanism?&lt;ul&gt;
&lt;li&gt;continuously variable source.   No quiescent vs flaring state in IR; more
prominent in X-ray&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/blockquote&gt;
&lt;/div&gt;
</content><category term="iau303"></category><category term="iau303"></category></entry><entry><title>General Discussion (Day 1)</title><link href="https://keflavich.github.io/blog/general-discussion-day-1.html" rel="alternate"></link><published>2013-09-30T17:05:00-06:00</published><updated>2013-09-30T17:05:00-06:00</updated><author><name>Adam Ginsburg</name></author><id>tag:keflavich.github.io,2013-09-30:/blog/general-discussion-day-1.html</id><summary type="html">&lt;div class="section" id="large-scale"&gt;
&lt;h2&gt;Large-scale:&lt;/h2&gt;
&lt;blockquote&gt;
&lt;ul class="simple"&gt;
&lt;li&gt;Q: incomprehensible.&lt;/li&gt;
&lt;li&gt;&lt;dl class="first docutils"&gt;
&lt;dt&gt;A Kim: turbulent nuclear rings are found... if angular momentum large... ring&lt;/dt&gt;
&lt;dd&gt;can be very close to center&lt;/dd&gt;
&lt;/dl&gt;
&lt;/li&gt;
&lt;li&gt;Q: Best guess for age of molecular torus in Herschel data?&lt;/li&gt;
&lt;li&gt;A Kim: Simulations for external galaxies, didn't run for our Galaxy.&lt;/li&gt;
&lt;li&gt;Q Morris: Asymmetry in distribution of molecular …&lt;/li&gt;&lt;/ul&gt;&lt;/blockquote&gt;&lt;/div&gt;</summary><content type="html">&lt;div class="section" id="large-scale"&gt;
&lt;h2&gt;Large-scale:&lt;/h2&gt;
&lt;blockquote&gt;
&lt;ul class="simple"&gt;
&lt;li&gt;Q: incomprehensible.&lt;/li&gt;
&lt;li&gt;&lt;dl class="first docutils"&gt;
&lt;dt&gt;A Kim: turbulent nuclear rings are found... if angular momentum large... ring&lt;/dt&gt;
&lt;dd&gt;can be very close to center&lt;/dd&gt;
&lt;/dl&gt;
&lt;/li&gt;
&lt;li&gt;Q: Best guess for age of molecular torus in Herschel data?&lt;/li&gt;
&lt;li&gt;A Kim: Simulations for external galaxies, didn't run for our Galaxy.&lt;/li&gt;
&lt;li&gt;Q Morris: Asymmetry in distribution of molecular gas.  No asymmetry in
stellar distribution.  Implies m=1 mode / asymmetry in CMZ.  Has the
asymmetry been worked into models?&lt;/li&gt;
&lt;li&gt;A Kim: ????&lt;/li&gt;
&lt;/ul&gt;
&lt;/blockquote&gt;
&lt;dl class="docutils"&gt;
&lt;dt&gt;[ I can barely understand this discussion ]&lt;/dt&gt;
&lt;dd&gt;&lt;ul class="first last simple"&gt;
&lt;li&gt;Q: X1/X2; Kim sees mainly X2, but dust may be X1.  Does the ring form at transition?&lt;/li&gt;
&lt;li&gt;A: No, rarely forms at transition radius.&lt;/li&gt;
&lt;li&gt;Q: Weak bar case, lindlbad resonance is where x1/x2 change.  But with strong bar,
that approximation doesn't work.&lt;/li&gt;
&lt;li&gt;A: Don't know if X2 orbits exist outside of inner lindblad resonance&lt;/li&gt;
&lt;li&gt;Q: Dust lane on x1, ring on x2&lt;/li&gt;
&lt;li&gt;Q: What is the filling factor of molecular gas in the inner region?&lt;/li&gt;
&lt;li&gt;A Bally: 10%-30% very dense, with &amp;quot;soup&amp;quot; of low-density molecular gas.  H3+
indicates ionized molecular gas present.&lt;/li&gt;
&lt;li&gt;Q Which phase dominates?&lt;/li&gt;
&lt;li&gt;A Bally: Megakelvin plasma must fill the volume (X-ray measurements), thermal free-free emission,
plenty of ionized gas.  30-60% ionized gas filling factor&lt;/li&gt;
&lt;li&gt;A Farhad: controversial what filling factor of mol gas is.  Oka, Geballe: 1%&lt;/li&gt;
&lt;li&gt;A Geballe: 1% along &lt;em&gt;one&lt;/em&gt; line of sight, towards Sgr A*&lt;/li&gt;
&lt;li&gt;A John: Area filling factor is 1, volume filling factor is open question&lt;/li&gt;
&lt;li&gt;Q Farhad: Twisted ring.  Problem with this idea.  Where is Sgr B2 w.r.t. X2 orbits?&lt;/li&gt;
&lt;li&gt;&lt;dl class="first docutils"&gt;
&lt;dt&gt;A Bally: Sgr B2 is in the x2 orbit.  Not at apocenter yet, Sgr B2 not at&lt;/dt&gt;
&lt;dd&gt;tangent point, still moving out.&lt;/dd&gt;
&lt;/dl&gt;
&lt;/li&gt;
&lt;li&gt;Q Crocker: Radius for ring?&lt;/li&gt;
&lt;li&gt;A Bally: 140, 150 pc?  At least a degree&lt;/li&gt;
&lt;li&gt;A Longmore: I'll show tomorrow inner ~100 pc&lt;/li&gt;
&lt;/ul&gt;
&lt;/dd&gt;
&lt;/dl&gt;
&lt;/div&gt;
&lt;div class="section" id="smaller-scale"&gt;
&lt;h2&gt;Smaller Scale&lt;/h2&gt;
&lt;blockquote&gt;
&lt;ul class="simple"&gt;
&lt;li&gt;Q Longmore: What is the connection between the 100pc and 1pc ring?&lt;/li&gt;
&lt;li&gt;A Ott: 20 km/s cloud is connected to the CND.  May be where molecular gas is exchanged&lt;/li&gt;
&lt;li&gt;A Requen-Torres: John showed work from Rodriguez-Fernandez&lt;/li&gt;
&lt;li&gt;A Bally: Streamers connected to CND.  Why's it called a disk?  It's a ring!&lt;/li&gt;
&lt;li&gt;Q: What's the origin of the cirmnuclear disk?&lt;/li&gt;
&lt;li&gt;A Bally: Matter that's losing angular momentum.  Dynamic friction, magnetic stresses, etc.&lt;/li&gt;
&lt;li&gt;A Lacy: Suggestion of why gas drives into center....&lt;/li&gt;
&lt;li&gt;A Kim: Collision between molecular clouds, B-fields too&lt;/li&gt;
&lt;li&gt;A Morris: Room for controversy.  Transient feature because shear timescale
is short, but the CND seems to be in some sort of dynamical equilibrium.  Is
it long-lived, in which stabilities create clumps that are sheared out, or
if this is just an infalling cloud that has recently circularized.&lt;/li&gt;
&lt;li&gt;Requen-Torres: Inclination, two different areas (disks?) inclined to each other&lt;/li&gt;
&lt;li&gt;Q Any evidence for ring evaporation?&lt;/li&gt;
&lt;/ul&gt;
&lt;/blockquote&gt;
&lt;dl class="docutils"&gt;
&lt;dt&gt;[ most interesting point of the conference so far ]&lt;/dt&gt;
&lt;dd&gt;&lt;ul class="first last simple"&gt;
&lt;li&gt;Q: Gas dynamics in Galactic center complicated... creates bias related to BH
mass.  How worried should we be about BH mass measurements using gas?&lt;/li&gt;
&lt;li&gt;A Lacy: If we see gas preferentially at apocenter, we will underestimate BH mass&lt;/li&gt;
&lt;/ul&gt;
&lt;/dd&gt;
&lt;/dl&gt;
&lt;/div&gt;
</content><category term="iau303"></category><category term="iau303"></category></entry><entry><title>Thibault Paumard: Regularized OSIRIS 3D spectroscopy at the Circumnuclear Disk ionization front</title><link href="https://keflavich.github.io/blog/thibault-paumard-regularized-osiris-3d-spectroscopy-at-the-circumnuclear-disk-ionization-front.html" rel="alternate"></link><published>2013-09-30T16:45:00-06:00</published><updated>2013-09-30T16:45:00-06:00</updated><author><name>Adam Ginsburg</name></author><id>tag:keflavich.github.io,2013-09-30:/blog/thibault-paumard-regularized-osiris-3d-spectroscopy-at-the-circumnuclear-disk-ionization-front.html</id><summary type="html">&lt;img alt="" src="https://keflavich.github.io/blog/iau303/images/paumard.jpg" style="width: 800px;" /&gt;
&lt;dl class="docutils"&gt;
&lt;dt&gt;CND&lt;/dt&gt;
&lt;dd&gt;&lt;ul class="first last simple"&gt;
&lt;li&gt;clumpy, but how clumpy?&lt;/li&gt;
&lt;li&gt;self-gravitating, n~10^8?&lt;/li&gt;
&lt;li&gt;examine small-scale structures in CND
+ clump-size power spectrum&lt;/li&gt;
&lt;/ul&gt;
&lt;/dd&gt;
&lt;dt&gt;Method description&lt;/dt&gt;
&lt;dd&gt;&lt;ul class="first last simple"&gt;
&lt;li&gt;noisy image: difficult to fit&lt;/li&gt;
&lt;li&gt;smoothing bad: spectral resolution varies across OSIRIS field
+ really, really ugly spectral resolution map&lt;/li&gt;
&lt;li&gt;Smoothing &amp;quot;during fitting&amp;quot;&lt;/li&gt;
&lt;li&gt;GOAL: maps of velocity, width, density
+ similar to deconvolution …&lt;/li&gt;&lt;/ul&gt;&lt;/dd&gt;&lt;/dl&gt;</summary><content type="html">&lt;img alt="" src="https://keflavich.github.io/blog/iau303/images/paumard.jpg" style="width: 800px;" /&gt;
&lt;dl class="docutils"&gt;
&lt;dt&gt;CND&lt;/dt&gt;
&lt;dd&gt;&lt;ul class="first last simple"&gt;
&lt;li&gt;clumpy, but how clumpy?&lt;/li&gt;
&lt;li&gt;self-gravitating, n~10^8?&lt;/li&gt;
&lt;li&gt;examine small-scale structures in CND
+ clump-size power spectrum&lt;/li&gt;
&lt;/ul&gt;
&lt;/dd&gt;
&lt;dt&gt;Method description&lt;/dt&gt;
&lt;dd&gt;&lt;ul class="first last simple"&gt;
&lt;li&gt;noisy image: difficult to fit&lt;/li&gt;
&lt;li&gt;smoothing bad: spectral resolution varies across OSIRIS field
+ really, really ugly spectral resolution map&lt;/li&gt;
&lt;li&gt;Smoothing &amp;quot;during fitting&amp;quot;&lt;/li&gt;
&lt;li&gt;GOAL: maps of velocity, width, density
+ similar to deconvolution&lt;/li&gt;
&lt;li&gt;decomposed into linewidth, centroid, and amplitude
+ High, narrow peaks&lt;/li&gt;
&lt;/ul&gt;
&lt;/dd&gt;
&lt;dt&gt;Result&lt;/dt&gt;
&lt;dd&gt;&lt;ul class="first last simple"&gt;
&lt;li&gt;HII / H2 decorrelated
+ BrG traces low-H2 regions&lt;/li&gt;
&lt;li&gt;thin filaments with narrow line widths&lt;/li&gt;
&lt;/ul&gt;
&lt;/dd&gt;
&lt;/dl&gt;
&lt;div class="section" id="questions"&gt;
&lt;h2&gt;Questions&lt;/h2&gt;
&lt;blockquote&gt;
&lt;ul class="simple"&gt;
&lt;li&gt;Q Farhad: Any asymmetric velocity profiles towards positions, i.e. outflow signatures?&lt;/li&gt;
&lt;li&gt;A: No asymmetry noted.&lt;/li&gt;
&lt;li&gt;Q: How unique is the solution?&lt;/li&gt;
&lt;li&gt;A: If S/N good, fairly unique&lt;/li&gt;
&lt;/ul&gt;
&lt;/blockquote&gt;
&lt;/div&gt;
</content><category term="iau303"></category><category term="iau303"></category></entry><entry><title>Friday Talks</title><link href="https://keflavich.github.io/blog/friday-talks.html" rel="alternate"></link><published>2013-09-30T16:30:00-06:00</published><updated>2013-09-30T16:30:00-06:00</updated><author><name>Adam Ginsburg</name></author><id>tag:keflavich.github.io,2013-09-30:/blog/friday-talks.html</id><summary type="html">&lt;div class="section" id="doug-finkbeiner-the-fermi-bubbles"&gt;
&lt;h2&gt;Doug Finkbeiner - the Fermi Bubbles&lt;/h2&gt;
&lt;dl class="docutils"&gt;
&lt;dt&gt;Discovered bubbles&lt;/dt&gt;
&lt;dd&gt;&lt;ul class="first last simple"&gt;
&lt;li&gt;many explanations... e- e+, protons, agn, sf&lt;/li&gt;
&lt;li&gt;&amp;quot;evidence for&amp;quot; but not &amp;quot;discovery of&amp;quot; a jet&lt;/li&gt;
&lt;/ul&gt;
&lt;/dd&gt;
&lt;/dl&gt;
&lt;/div&gt;
&lt;div class="section" id="am-mateusz-ruszkowski-usa-the-fermi-bubbles-gamma-ray-microwave-and-polarization-signatures-of-leptonic-agn-jets-15-5-minutes"&gt;
&lt;h2&gt;9:30-9:50 am Mateusz Ruszkowski (USA): The Fermi Bubbles: Gamma-ray, Microwave, and Polarization Signatures of Leptonic AGN Jets (15 + 5 minutes)&lt;/h2&gt;
&lt;dl class="docutils"&gt;
&lt;dt&gt;Using simulation to fit to the …&lt;/dt&gt;&lt;/dl&gt;&lt;/div&gt;</summary><content type="html">&lt;div class="section" id="doug-finkbeiner-the-fermi-bubbles"&gt;
&lt;h2&gt;Doug Finkbeiner - the Fermi Bubbles&lt;/h2&gt;
&lt;dl class="docutils"&gt;
&lt;dt&gt;Discovered bubbles&lt;/dt&gt;
&lt;dd&gt;&lt;ul class="first last simple"&gt;
&lt;li&gt;many explanations... e- e+, protons, agn, sf&lt;/li&gt;
&lt;li&gt;&amp;quot;evidence for&amp;quot; but not &amp;quot;discovery of&amp;quot; a jet&lt;/li&gt;
&lt;/ul&gt;
&lt;/dd&gt;
&lt;/dl&gt;
&lt;/div&gt;
&lt;div class="section" id="am-mateusz-ruszkowski-usa-the-fermi-bubbles-gamma-ray-microwave-and-polarization-signatures-of-leptonic-agn-jets-15-5-minutes"&gt;
&lt;h2&gt;9:30-9:50 am Mateusz Ruszkowski (USA): The Fermi Bubbles: Gamma-ray, Microwave, and Polarization Signatures of Leptonic AGN Jets (15 + 5 minutes)&lt;/h2&gt;
&lt;dl class="docutils"&gt;
&lt;dt&gt;Using simulation to fit to the fermi bubble&lt;/dt&gt;
&lt;dd&gt;&lt;ul class="first last simple"&gt;
&lt;li&gt;&amp;quot;double jet&amp;quot; much better fit than single&lt;/li&gt;
&lt;/ul&gt;
&lt;/dd&gt;
&lt;/dl&gt;
&lt;/div&gt;
&lt;div class="section" id="am-brian-lacki-usa-sturm-und-drang-the-turbulent-magnetic-tempest-in-the-galactic-center-15-5-minutes"&gt;
&lt;h2&gt;9:50-10:10 am Brian Lacki (USA): Sturm und Drang: The Turbulent, Magnetic Tempest in the Galactic Center (15 + 5 minutes)&lt;/h2&gt;
&lt;dl class="docutils"&gt;
&lt;dt&gt;Pressure balance&lt;/dt&gt;
&lt;dd&gt;&lt;ul class="first last simple"&gt;
&lt;li&gt;equipartition in MW&lt;/li&gt;
&lt;li&gt;100x in CMZ&lt;/li&gt;
&lt;li&gt;1000x in M82, 1e6x in Arp 220
+ yet still equipartition&lt;/li&gt;
&lt;li&gt;turbulence dissipates in a flow-crossing time
+ turbulent plasma drives b-field toward equipart&lt;/li&gt;
&lt;li&gt;Q Steve: What is your outer scale?  Most of molecular gas at radii of 100pc...&lt;/li&gt;
&lt;li&gt;A: radii go outward... thickness of disk in 3D turbulence sets your upper scale.&lt;/li&gt;
&lt;/ul&gt;
&lt;/dd&gt;
&lt;/dl&gt;
&lt;/div&gt;
&lt;div class="section" id="am-timothy-linden-usa-dark-matter-in-the-galactic-center-20-5-minutes"&gt;
&lt;h2&gt;11:15-11:40 am Timothy Linden (USA): Dark Matter in the Galactic Center (20 + 5 minutes)&lt;/h2&gt;
&lt;dl class="docutils"&gt;
&lt;dt&gt;Dark matter cross-section&lt;/dt&gt;
&lt;dd&gt;&lt;ul class="first last simple"&gt;
&lt;li&gt;significant only as a nonthermal energy source&lt;/li&gt;
&lt;li&gt;dark matter is the source of electrons in the nonthermal filaments (Linden 2011)&lt;/li&gt;
&lt;li&gt;Q Gillessen: Does NFW fit Fermi?&lt;/li&gt;
&lt;li&gt;A: Yes, but requires adiabatic contraction and almost doesn't fit&lt;/li&gt;
&lt;li&gt;Q: Baganoff: What is the dark matter energy injection?&lt;/li&gt;
&lt;li&gt;A: 10^36 erg/s over 1 degree in 1-10 GeV electrons&lt;/li&gt;
&lt;li&gt;Q: Wardle: predict sharp spectral cutoff below 100 GHz.&lt;/li&gt;
&lt;li&gt;A: MHD makes filament, dark matter feeds electrons into it.  Need to find sharp turnover&lt;/li&gt;
&lt;li&gt;Q Farhad: Only a few nonthermal filaments have X-ray counterparts.  Maybe a
result of interaction.&lt;/li&gt;
&lt;li&gt;A: Filaments will be hardest where they are dimmest&lt;/li&gt;
&lt;/ul&gt;
&lt;/dd&gt;
&lt;/dl&gt;
&lt;/div&gt;
&lt;div class="section" id="pm-chris-gordon-uk-dark-matter-and-pulsar-model-constraints-from-galactic-center-fermi-lat-gamma-ray-observations-15-5-minutes"&gt;
&lt;h2&gt;11:40-12:00 pm Chris Gordon (UK): Dark Matter and Pulsar Model Constraints from Galactic Center Fermi-LAT Gamma Ray Observations (15 + 5 minutes)&lt;/h2&gt;
&lt;/div&gt;
&lt;div class="section" id="pm-miwa-goto-germany-the-cosmic-ray-ionization-rate-in-the-central-parsec-of-the-galaxy-how-we-could-deal-with-10-4-discrepancy-15-5-minutes"&gt;
&lt;h2&gt;12:20-12:40 pm Miwa Goto (Germany): The cosmic-ray ionization rate in the Central parsec of the Galaxy - how we could deal with 10^4 discrepancy? (15 + 5 minutes)&lt;/h2&gt;
&lt;dl class="docutils"&gt;
&lt;dt&gt;CR rate 1.6e-15 near Sgr A*&lt;/dt&gt;
&lt;dd&gt;&lt;ul class="first last simple"&gt;
&lt;li&gt;disk CR rate: ~1x10-17&lt;/li&gt;
&lt;li&gt;Uncertainties in extrapolated CR spectrum&lt;/li&gt;
&lt;li&gt;Chemistry may be way off&lt;/li&gt;
&lt;/ul&gt;
&lt;/dd&gt;
&lt;/dl&gt;
&lt;/div&gt;
&lt;div class="section" id="pm-andrew-lehmann-australia-the-galactic-centre-molecular-cloud-g0-13-0-13-a-laboratory-for-understanding-cosmic-ray-electron-acceleration-and"&gt;
&lt;h2&gt;2:00-2:20 pm Andrew Lehmann (Australia): The Galactic Centre molecular cloud G0.13-0.13: a laboratory for understanding cosmic-ray electron acceleration and&lt;/h2&gt;
&lt;dl class="docutils"&gt;
&lt;dt&gt;Clouds fluoresce in 6.4 keV Fe K-alpha line&lt;/dt&gt;
&lt;dd&gt;&lt;ul class="first last simple"&gt;
&lt;li&gt;electrons from either SN or arc&lt;/li&gt;
&lt;li&gt;electron losses very fast at low energies
+ only high energies can penetrate the cloud
+ Arc electrons higher energy, penetrate further&lt;/li&gt;
&lt;li&gt;Q: how do electrons escape?  field line diffusion?  wandering?&lt;/li&gt;
&lt;li&gt;A: Unknown&lt;/li&gt;
&lt;li&gt;Q: B-field?&lt;/li&gt;
&lt;li&gt;A: Turbulent, so diffusion holds&lt;/li&gt;
&lt;/ul&gt;
&lt;/dd&gt;
&lt;/dl&gt;
&lt;/div&gt;
&lt;div class="section" id="pm-chuck-hailey-usa-first-results-from-the-nustar-mini-survey-of-the-galactic-center-region-15-5-minutes"&gt;
&lt;h2&gt;2:20-2:40 pm Chuck Hailey (USA): First Results from the NuSTAR &amp;quot;Mini-Survey&amp;quot; of the Galactic Center Region (15 + 5 minutes)&lt;/h2&gt;
&lt;blockquote&gt;
&lt;ul class="simple"&gt;
&lt;li&gt;cannonball: not detected, swamped&lt;/li&gt;
&lt;li&gt;x-ray filament&lt;/li&gt;
&lt;li&gt;&amp;quot;GeV results for the PWN in the CMZ&amp;quot;&lt;/li&gt;
&lt;li&gt;Sgr A-E a magnetic flux tube?
+ Where do you get 50 TeV electrons?&lt;/li&gt;
&lt;li&gt;HESS TeV source: everything &amp;gt;40 keV is from a pwn
+ INTEGRAL source was an artifact&lt;/li&gt;
&lt;/ul&gt;
&lt;/blockquote&gt;
&lt;/div&gt;
&lt;div class="section" id="pm-shep-doeleman-usa-science-with-the-event-horizon-telescope-20-5-minutes"&gt;
&lt;h2&gt;3:30-3:55 pm Shep Doeleman (USA): Science with the Event Horizon Telescope (20 + 5 minutes)&lt;/h2&gt;
&lt;blockquote&gt;
&lt;ul class="simple"&gt;
&lt;li&gt;pierce the scattering screen&lt;/li&gt;
&lt;li&gt;intrinsic size larger than scattering&lt;/li&gt;
&lt;/ul&gt;
&lt;/blockquote&gt;
&lt;/div&gt;
&lt;div class="section" id="pm-geoff-bower-usa-the-galactic-center-pulsar-sgr-1745-29-15-5-minutes"&gt;
&lt;h2&gt;3:55-4:15 pm Geoff Bower (USA): The Galactic Center Pulsar, SGR 1745-29 (15 + 5 minutes)&lt;/h2&gt;
&lt;blockquote&gt;
&lt;ul class="simple"&gt;
&lt;li&gt;Limit of 20% on pointlike contribution to Sgr A* emission&lt;/li&gt;
&lt;/ul&gt;
&lt;/blockquote&gt;
&lt;/div&gt;
&lt;div class="section" id="diffuse-x-rays-in-the-cmz-nir-comparison"&gt;
&lt;h2&gt;Diffuse X-rays in the CMZ / NIR comparison&lt;/h2&gt;
&lt;dl class="docutils"&gt;
&lt;dt&gt;&amp;quot;GCDX&amp;quot;&lt;/dt&gt;
&lt;dd&gt;&lt;ul class="first last simple"&gt;
&lt;li&gt;7x10^7 K gas.&lt;/li&gt;
&lt;li&gt;gas can freely escape&lt;/li&gt;
&lt;li&gt;extinction-corrected stellar number density map&lt;/li&gt;
&lt;li&gt;awesome extinction-polarization maps
+ Hatano et al2013&lt;/li&gt;
&lt;/ul&gt;
&lt;/dd&gt;
&lt;/dl&gt;
&lt;/div&gt;
&lt;div class="section" id="discussion"&gt;
&lt;h2&gt;Discussion&lt;/h2&gt;
&lt;p&gt;Farhad: Morphology in inner 1.5&amp;quot;
&amp;quot;Missing Pulsar&amp;quot; problem.
Dispersion Measure problem: hard to see pulsars&lt;/p&gt;
&lt;/div&gt;
&lt;div class="section" id="pm-mitch-begelman-usa-symposium-summary-25-minutes"&gt;
&lt;h2&gt;5:00-5:25 pm Mitch Begelman (USA): Symposium Summary (25 minutes)&lt;/h2&gt;
&lt;blockquote&gt;
&lt;ul class="simple"&gt;
&lt;li&gt;&amp;quot;Maybe the solar system is in the Galactic center...&amp;quot;&lt;/li&gt;
&lt;li&gt;Galactic &amp;quot;Center&amp;quot;: dynamical&lt;/li&gt;
&lt;li&gt;CMZ: Characterized by physical conditions - amount of molecular gas and extreme conditions&lt;/li&gt;
&lt;li&gt;CMZ vs starbursts: 10-100x lower pressure, 10^-4 gamma rays&lt;/li&gt;
&lt;li&gt;CMZ disagrees with &amp;quot;sacred&amp;quot; KS law (or Krumholz-McKee law)&lt;/li&gt;
&lt;li&gt;Supsersonic turbulence accepted in the CMZ... not in Mitch's circles&lt;/li&gt;
&lt;li&gt;intermittent SF: turbulent, cloud-cloud collisions&lt;/li&gt;
&lt;li&gt;turbulent clouds are transient&lt;/li&gt;
&lt;li&gt;starbursts = global conditions, local: cloud collisions&lt;/li&gt;
&lt;li&gt;pressure gradient in the CMZ -&amp;gt; wind&lt;/li&gt;
&lt;li&gt;could wind-strength be the trigger?
+ put threshold at 10x tidal limit
+ wind luminosity required = L_w = 10 (c_s^2 sigma^3 / G) T_100 sigma_150^3 erg/s
+ bimodal: feedback drives further SF&lt;/li&gt;
&lt;li&gt;CND - CMZ connection...&lt;/li&gt;
&lt;li&gt;Central nuclear cluster: formed from binaries?
+ tidal limit on SF
+ tidal compression -&amp;gt; tiny jeans mass&lt;/li&gt;
&lt;li&gt;G2
+ Mitch thinks it contains a star
+ high eccentricity means hard to form close-in
+ plausible star with 50km/s 10^-7 msun/yr&lt;/li&gt;
&lt;/ul&gt;
&lt;/blockquote&gt;
&lt;/div&gt;
</content><category term="iau303"></category><category term="iau303"></category></entry><entry><title>IAU 303 Thursday notes</title><link href="https://keflavich.github.io/blog/iau-303-thursday-notes.html" rel="alternate"></link><published>2013-09-30T16:30:00-06:00</published><updated>2013-09-30T16:30:00-06:00</updated><author><name>Adam Ginsburg</name></author><id>tag:keflavich.github.io,2013-09-30:/blog/iau-303-thursday-notes.html</id><summary type="html">&lt;p&gt;Many good talks today, but I was too tired to take complete notes.&lt;/p&gt;
&lt;div class="section" id="roman-shcherbakov-and-alessandro-ballone"&gt;
&lt;h2&gt;Roman Shcherbakov and Alessandro Ballone&lt;/h2&gt;
&lt;p&gt;Models of the G2 cloud, particularly using CLOUDY.&lt;/p&gt;
&lt;/div&gt;
&lt;div class="section" id="thaisa-storchi-bergmann-brasil-feeding-versus-feedback-in-nearby-agns"&gt;
&lt;h2&gt;Thaisa Storchi-Bergmann (Brasil): Feeding versus Feedback in Nearby AGNs&lt;/h2&gt;
&lt;p&gt;IFU views of central 100-ish pc in a number of normal spiral galaxies,
e.g …&lt;/p&gt;&lt;/div&gt;</summary><content type="html">&lt;p&gt;Many good talks today, but I was too tired to take complete notes.&lt;/p&gt;
&lt;div class="section" id="roman-shcherbakov-and-alessandro-ballone"&gt;
&lt;h2&gt;Roman Shcherbakov and Alessandro Ballone&lt;/h2&gt;
&lt;p&gt;Models of the G2 cloud, particularly using CLOUDY.&lt;/p&gt;
&lt;/div&gt;
&lt;div class="section" id="thaisa-storchi-bergmann-brasil-feeding-versus-feedback-in-nearby-agns"&gt;
&lt;h2&gt;Thaisa Storchi-Bergmann (Brasil): Feeding versus Feedback in Nearby AGNs&lt;/h2&gt;
&lt;p&gt;IFU views of central 100-ish pc in a number of normal spiral galaxies,
e.g. NGC 1068.  Outflow rates exceed infall rates: indicates mass-loading
in the outflow.&lt;/p&gt;
&lt;/div&gt;
&lt;div class="section" id="mark-morris"&gt;
&lt;h2&gt;Mark Morris&lt;/h2&gt;
&lt;p&gt;Impressive images of the central few pc at 6cm. &amp;quot;Smoke Rings&amp;quot; indicating Sgr
A*'s outflow.&lt;/p&gt;
&lt;/div&gt;
&lt;div class="section" id="jorge-cuadra"&gt;
&lt;h2&gt;Jorge Cuadra&lt;/h2&gt;
&lt;p&gt;Formation of G2-like clumps via WR wind collisions.  Most form far out, though?&lt;/p&gt;
&lt;/div&gt;
&lt;div class="section" id="jerry-ostriker"&gt;
&lt;h2&gt;Jerry Ostriker&lt;/h2&gt;
&lt;dl class="docutils"&gt;
&lt;dt&gt;Bondi solution inadequate: angular momentum&lt;/dt&gt;
&lt;dd&gt;&lt;ul class="first last simple"&gt;
&lt;li&gt;boundary conditions are a problem&lt;/li&gt;
&lt;li&gt;self-similarity fails because bondi radius &amp;gt;&amp;gt; centrifugal radius&lt;/li&gt;
&lt;li&gt;at low accretion rates, 1/250 of mass hits SMBH, most gets outflow'd&lt;/li&gt;
&lt;li&gt;vast majority of time spent at tiny fraction of eddington...&lt;/li&gt;
&lt;li&gt;Equatorial outflow of angular momentum&lt;/li&gt;
&lt;li&gt;C Thaisa: observations include equatorial outflow&lt;/li&gt;
&lt;li&gt;Q Fred Lo: Compare to what we see in CMZ?&lt;/li&gt;
&lt;li&gt;A: Mark Morris's outflows fit the picture.  Equatorial outflow may not be
generic.&lt;/li&gt;
&lt;li&gt;Jets unimportant for galaxies, only important for IGM&lt;/li&gt;
&lt;/ul&gt;
&lt;/dd&gt;
&lt;/dl&gt;
&lt;/div&gt;
&lt;div class="section" id="dan-marrone-usa-the-millimeter-wavelength-polarization-of-sgr-a"&gt;
&lt;h2&gt;Dan Marrone (USA): The Millimeter-Wavelength Polarization of Sgr A*&lt;/h2&gt;
&lt;dl class="docutils"&gt;
&lt;dt&gt;Accretion flow causes polarization rotation of Sgr A* backlight&lt;/dt&gt;
&lt;dd&gt;&lt;ul class="first last simple"&gt;
&lt;li&gt;JCMT polarimeter first detection of linear poln&lt;/li&gt;
&lt;li&gt;there is circular poln in Sgr A*&lt;/li&gt;
&lt;/ul&gt;
&lt;/dd&gt;
&lt;/dl&gt;
&lt;/div&gt;
&lt;div class="section" id="joey-neilsen"&gt;
&lt;h2&gt;Joey Neilsen&lt;/h2&gt;
&lt;dl class="docutils"&gt;
&lt;dt&gt;&amp;quot;fundamental plane&amp;quot; is correlation between BH mass, X-ray, and radio luminosity&lt;/dt&gt;
&lt;dd&gt;&lt;ul class="first last simple"&gt;
&lt;li&gt;Sgr A* fits it only in flare mode&lt;/li&gt;
&lt;/ul&gt;
&lt;/dd&gt;
&lt;/dl&gt;
&lt;/div&gt;
</content><category term="iau303"></category><category term="iau303"></category></entry><entry><title>Miquel Requena-Torres: Opening again the debate: the transient nature of the circumnuclear disk</title><link href="https://keflavich.github.io/blog/miquel-requena-torres-opening-again-the-debate-the-transient-nature-of-the-circumnuclear-disk.html" rel="alternate"></link><published>2013-09-30T16:30:00-06:00</published><updated>2013-09-30T16:30:00-06:00</updated><author><name>Adam Ginsburg</name></author><id>tag:keflavich.github.io,2013-09-30:/blog/miquel-requena-torres-opening-again-the-debate-the-transient-nature-of-the-circumnuclear-disk.html</id><summary type="html">&lt;img alt="" src="https://keflavich.github.io/blog/iau303/images/requentorres.jpg" style="width: 800px;" /&gt;
&lt;dl class="docutils"&gt;
&lt;dt&gt;Data from many sources&lt;/dt&gt;
&lt;dd&gt;&lt;ul class="first last simple"&gt;
&lt;li&gt;IRAM, APEX, Herschel&lt;/li&gt;
&lt;li&gt;SOFIA now: FORCAST &amp;amp; GREAT&lt;/li&gt;
&lt;/ul&gt;
&lt;/dd&gt;
&lt;dt&gt;CO SED&lt;/dt&gt;
&lt;dd&gt;&lt;ul class="first last simple"&gt;
&lt;li&gt;Measure up to CO 21-20&lt;/li&gt;
&lt;li&gt;Model with LVG&lt;/li&gt;
&lt;li&gt;Needs multiple components&lt;ul&gt;
&lt;li&gt;but no high-density components&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/dd&gt;
&lt;dt&gt;HNC/HCO+&lt;/dt&gt;
&lt;dd&gt;&lt;ul class="first last simple"&gt;
&lt;li&gt;Mills et al, 2013... on arxiv tomorrow&lt;/li&gt;
&lt;li&gt;Vibrationally excited H3CN&lt;/li&gt;
&lt;li&gt;RADEX -&amp;gt; n~10^5.3-6.5&lt;/li&gt;
&lt;li&gt;most of CND not …&lt;/li&gt;&lt;/ul&gt;&lt;/dd&gt;&lt;/dl&gt;</summary><content type="html">&lt;img alt="" src="https://keflavich.github.io/blog/iau303/images/requentorres.jpg" style="width: 800px;" /&gt;
&lt;dl class="docutils"&gt;
&lt;dt&gt;Data from many sources&lt;/dt&gt;
&lt;dd&gt;&lt;ul class="first last simple"&gt;
&lt;li&gt;IRAM, APEX, Herschel&lt;/li&gt;
&lt;li&gt;SOFIA now: FORCAST &amp;amp; GREAT&lt;/li&gt;
&lt;/ul&gt;
&lt;/dd&gt;
&lt;dt&gt;CO SED&lt;/dt&gt;
&lt;dd&gt;&lt;ul class="first last simple"&gt;
&lt;li&gt;Measure up to CO 21-20&lt;/li&gt;
&lt;li&gt;Model with LVG&lt;/li&gt;
&lt;li&gt;Needs multiple components&lt;ul&gt;
&lt;li&gt;but no high-density components&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/dd&gt;
&lt;dt&gt;HNC/HCO+&lt;/dt&gt;
&lt;dd&gt;&lt;ul class="first last simple"&gt;
&lt;li&gt;Mills et al, 2013... on arxiv tomorrow&lt;/li&gt;
&lt;li&gt;Vibrationally excited H3CN&lt;/li&gt;
&lt;li&gt;RADEX -&amp;gt; n~10^5.3-6.5&lt;/li&gt;
&lt;li&gt;most of CND not tidally stable&lt;/li&gt;
&lt;li&gt;High temperatures (120-150K) required to excite vibrationally excited gas&lt;/li&gt;
&lt;/ul&gt;
&lt;/dd&gt;
&lt;dt&gt;Many works indicate CND not stable&lt;/dt&gt;
&lt;dd&gt;&lt;ul class="first last simple"&gt;
&lt;li&gt;[Lacy indicated: doesn't need to be gravitationally stable; is formed by shear]&lt;/li&gt;
&lt;li&gt;Betsy proposing HCN ladder with ALMA&lt;/li&gt;
&lt;/ul&gt;
&lt;/dd&gt;
&lt;/dl&gt;
&lt;div class="section" id="questions"&gt;
&lt;h2&gt;Questions&lt;/h2&gt;
&lt;blockquote&gt;
&lt;ul class="simple"&gt;
&lt;li&gt;Q: If densities below Roche densities, maybe clumps are not virialized but
they contain virialized cores.&lt;/li&gt;
&lt;li&gt;A: In very close...&lt;/li&gt;
&lt;li&gt;Q: Model - black hole compresses clumps when they get closer to BH&lt;/li&gt;
&lt;/ul&gt;
&lt;/blockquote&gt;
&lt;/div&gt;
</content><category term="iau303"></category><category term="iau303"></category></entry><entry><title>Nanase Harada: Molecules in CND (Theory)</title><link href="https://keflavich.github.io/blog/nanase-harada-molecules-in-cnd-theory.html" rel="alternate"></link><published>2013-09-30T16:05:00-06:00</published><updated>2013-09-30T16:05:00-06:00</updated><author><name>Adam Ginsburg</name></author><id>tag:keflavich.github.io,2013-09-30:/blog/nanase-harada-molecules-in-cnd-theory.html</id><summary type="html">&lt;img alt="" src="https://keflavich.github.io/blog/iau303/images/harada.jpg" style="width: 800px;" /&gt;
&lt;dl class="docutils"&gt;
&lt;dt&gt;Line survey in the southwest lobe of the CND&lt;/dt&gt;
&lt;dd&gt;&lt;ul class="first last simple"&gt;
&lt;li&gt;IRAM + APEX&lt;/li&gt;
&lt;li&gt;RADEX LVG analysis&lt;/li&gt;
&lt;li&gt;&lt;dl class="first docutils"&gt;
&lt;dt&gt;Assumed source size&lt;/dt&gt;
&lt;dd&gt;&lt;ul class="first last"&gt;
&lt;li&gt;density 10^5&lt;/li&gt;
&lt;li&gt;grav unstable&lt;/li&gt;
&lt;/ul&gt;
&lt;/dd&gt;
&lt;/dl&gt;
&lt;/li&gt;
&lt;li&gt;column densities in many molecules&lt;/li&gt;
&lt;/ul&gt;
&lt;/dd&gt;
&lt;dt&gt;Physics affecting the chemistry&lt;/dt&gt;
&lt;dd&gt;&lt;ul class="first last simple"&gt;
&lt;li&gt;cosmic ray ionization rate&lt;/li&gt;
&lt;li&gt;X-ray ionization
+ Less penetrating&lt;/li&gt;
&lt;li&gt;UV photons
+ highly dependent on extinction
+ 10^4-10^5 G_0 …&lt;/li&gt;&lt;/ul&gt;&lt;/dd&gt;&lt;/dl&gt;</summary><content type="html">&lt;img alt="" src="https://keflavich.github.io/blog/iau303/images/harada.jpg" style="width: 800px;" /&gt;
&lt;dl class="docutils"&gt;
&lt;dt&gt;Line survey in the southwest lobe of the CND&lt;/dt&gt;
&lt;dd&gt;&lt;ul class="first last simple"&gt;
&lt;li&gt;IRAM + APEX&lt;/li&gt;
&lt;li&gt;RADEX LVG analysis&lt;/li&gt;
&lt;li&gt;&lt;dl class="first docutils"&gt;
&lt;dt&gt;Assumed source size&lt;/dt&gt;
&lt;dd&gt;&lt;ul class="first last"&gt;
&lt;li&gt;density 10^5&lt;/li&gt;
&lt;li&gt;grav unstable&lt;/li&gt;
&lt;/ul&gt;
&lt;/dd&gt;
&lt;/dl&gt;
&lt;/li&gt;
&lt;li&gt;column densities in many molecules&lt;/li&gt;
&lt;/ul&gt;
&lt;/dd&gt;
&lt;dt&gt;Physics affecting the chemistry&lt;/dt&gt;
&lt;dd&gt;&lt;ul class="first last simple"&gt;
&lt;li&gt;cosmic ray ionization rate&lt;/li&gt;
&lt;li&gt;X-ray ionization
+ Less penetrating&lt;/li&gt;
&lt;li&gt;UV photons
+ highly dependent on extinction
+ 10^4-10^5 G_0&lt;/li&gt;
&lt;li&gt;Shocks
+ shock chemical models
+ gas &amp;amp; dust phase shock chem&lt;/li&gt;
&lt;/ul&gt;
&lt;/dd&gt;
&lt;dt&gt;Concl&lt;/dt&gt;
&lt;dd&gt;&lt;ul class="first last simple"&gt;
&lt;li&gt;High CR rates favored (zeta = 10^-14/s)
+ lower acceptable if UV included (zeta = 10^-15/s)&lt;/li&gt;
&lt;/ul&gt;
&lt;/dd&gt;
&lt;/dl&gt;
&lt;div class="section" id="questions"&gt;
&lt;h2&gt;Questions&lt;/h2&gt;
&lt;blockquote&gt;
&lt;ul class="simple"&gt;
&lt;li&gt;Q: Ionization provides external pressure on clumps.&lt;/li&gt;
&lt;li&gt;A: Would like to include in model...?&lt;/li&gt;
&lt;li&gt;Q: Gamma ray ionization could do something.  Considered?&lt;/li&gt;
&lt;li&gt;A: No, but cross-section is low.  Need lots of gamma rays.&lt;/li&gt;
&lt;li&gt;Q Farhad: Age of molecular ring based on chemical model?&lt;/li&gt;
&lt;li&gt;A: Assumed some age from CR turn-on, not age of CND&lt;/li&gt;
&lt;li&gt;Q: More extreme CR ionization rate near Arches cluster, etc.  What is the
best chemical approach for higher CR rate?&lt;/li&gt;
&lt;li&gt;A: If CR rate too high, can't form molecules / will destroy molecules&lt;/li&gt;
&lt;/ul&gt;
&lt;/blockquote&gt;
&lt;/div&gt;
</content><category term="iau303"></category><category term="iau303"></category></entry><entry><title>John Lacy: Gas Motions in Inner 2 pc of SgrA West</title><link href="https://keflavich.github.io/blog/john-lacy-gas-motions-in-inner-2-pc-of-sgra-west.html" rel="alternate"></link><published>2013-09-30T15:45:00-06:00</published><updated>2013-09-30T15:45:00-06:00</updated><author><name>Adam Ginsburg</name></author><id>tag:keflavich.github.io,2013-09-30:/blog/john-lacy-gas-motions-in-inner-2-pc-of-sgra-west.html</id><summary type="html">&lt;img alt="" src="https://keflavich.github.io/blog/iau303/images/lacy.jpg" style="width: 800px;" /&gt;
&lt;p&gt;NeII 12um line&lt;/p&gt;
&lt;dl class="docutils"&gt;
&lt;dt&gt;Observationally, little has changed.  Interpretation has changed a lot&lt;/dt&gt;
&lt;dd&gt;&lt;ul class="first last simple"&gt;
&lt;li&gt;Ne II and 6cm continuum look identical&lt;/li&gt;
&lt;li&gt;data avilable from Irons et al erratum&lt;/li&gt;
&lt;/ul&gt;
&lt;/dd&gt;
&lt;dt&gt;Two models&lt;/dt&gt;
&lt;dd&gt;&lt;ul class="first last simple"&gt;
&lt;li&gt;elliptical orbit&lt;/li&gt;
&lt;li&gt;spiral density wave
+ both assume same plane as CND&lt;/li&gt;
&lt;li&gt;northern arm offset in PV diagram, but matched slope
+ similar in …&lt;/li&gt;&lt;/ul&gt;&lt;/dd&gt;&lt;/dl&gt;</summary><content type="html">&lt;img alt="" src="https://keflavich.github.io/blog/iau303/images/lacy.jpg" style="width: 800px;" /&gt;
&lt;p&gt;NeII 12um line&lt;/p&gt;
&lt;dl class="docutils"&gt;
&lt;dt&gt;Observationally, little has changed.  Interpretation has changed a lot&lt;/dt&gt;
&lt;dd&gt;&lt;ul class="first last simple"&gt;
&lt;li&gt;Ne II and 6cm continuum look identical&lt;/li&gt;
&lt;li&gt;data avilable from Irons et al erratum&lt;/li&gt;
&lt;/ul&gt;
&lt;/dd&gt;
&lt;dt&gt;Two models&lt;/dt&gt;
&lt;dd&gt;&lt;ul class="first last simple"&gt;
&lt;li&gt;elliptical orbit&lt;/li&gt;
&lt;li&gt;spiral density wave
+ both assume same plane as CND&lt;/li&gt;
&lt;li&gt;northern arm offset in PV diagram, but matched slope
+ similar in western arm&lt;/li&gt;
&lt;li&gt;model assumes gas moving along ellipse
+ reality: probably moving at some angle to the ellipse&lt;/li&gt;
&lt;li&gt;spiral model same as infalling streamer, something close to circle...
+ linear spiral
+ Eastern arm doesn't fit the model&lt;/li&gt;
&lt;/ul&gt;
&lt;/dd&gt;
&lt;dt&gt;Is there a physical explanation for a 1-arm spiral density wave?&lt;/dt&gt;
&lt;dd&gt;&lt;ul class="first last"&gt;
&lt;li&gt;&lt;p class="first"&gt;1-armed spiral is dominant instability in a keplerian disk&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p class="first"&gt;perturber needed: gas not self-gravitating, so can't be same as disk
+ B-field perturber?&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p class="first"&gt;dynamical model
+ orbits precess with power-law mass distribution
+ orbit crowding near apocenter -&amp;gt; spiral formation
+ 2e5 yrs to develop&lt;/p&gt;
&lt;blockquote&gt;
&lt;ul class="simple"&gt;
&lt;li&gt;persists for a long time: the precession timescale&lt;/li&gt;
&lt;/ul&gt;
&lt;/blockquote&gt;
&lt;ul class="simple"&gt;
&lt;li&gt;fitting with Keplerian velocity is wrong&lt;ul&gt;
&lt;li&gt;gas is seen at the apocenter of its elliptical orbit&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p class="first"&gt;inflow rate is small&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/dd&gt;
&lt;/dl&gt;
&lt;p&gt;[Exercise: reproduce his simulation &amp;amp; movie]&lt;/p&gt;
&lt;div class="section" id="questions"&gt;
&lt;h2&gt;Questions&lt;/h2&gt;
&lt;blockquote&gt;
&lt;ul class="simple"&gt;
&lt;li&gt;Q: Clumps in CND interacting with each other?&lt;/li&gt;
&lt;li&gt;A: Spiral density wave fails at 2pc from center.  Should not persist outside
of 2pc, but accidental spirals should persist because there is no
differential precession&lt;/li&gt;
&lt;li&gt;Q Fred Lo: Trying to explain gas, that is not collisionless.&lt;/li&gt;
&lt;li&gt;A: People here know how to do HD, MHD.&lt;/li&gt;
&lt;li&gt;Q: Not a complete explanation.  What about western arm?&lt;/li&gt;
&lt;li&gt;A: Maybe magnetically controlled structure?  Not in the same plane.&lt;/li&gt;
&lt;li&gt;Q: Not a density wave in the Western arm&lt;/li&gt;
&lt;li&gt;Q: What is the source of ionization?&lt;/li&gt;
&lt;li&gt;A: Assumed massive stars.  But, too bright.  Maybe shock ionization?&lt;/li&gt;
&lt;/ul&gt;
&lt;/blockquote&gt;
&lt;/div&gt;
</content><category term="iau303"></category><category term="iau303"></category></entry><entry><title>Jay Gallagher: Lessons from Comparisons between the Nuclear Region of the Milky Way and Those in Nearby Spirals</title><link href="https://keflavich.github.io/blog/jay-gallagher-lessons-from-comparisons-between-the-nuclear-region-of-the-milky-way-and-those-in-nearby-spirals.html" rel="alternate"></link><published>2013-09-30T14:40:00-06:00</published><updated>2013-09-30T14:40:00-06:00</updated><author><name>Adam Ginsburg</name></author><id>tag:keflavich.github.io,2013-09-30:/blog/jay-gallagher-lessons-from-comparisons-between-the-nuclear-region-of-the-milky-way-and-those-in-nearby-spirals.html</id><summary type="html">&lt;img alt="" src="https://keflavich.github.io/blog/iau303/images/gallagher.jpg" style="width: 800px;" /&gt;
&lt;p&gt;Investigation to understand assumptions made in extragalactic obs&lt;/p&gt;
&lt;blockquote&gt;
&lt;ul class="simple"&gt;
&lt;li&gt;MW single example - what is unique, what general?&lt;/li&gt;
&lt;li&gt;SNR / CR interaction model works in M82 &amp;amp; NGC 253, not in MW&lt;/li&gt;
&lt;li&gt;MW SFR?  Is it right?&lt;/li&gt;
&lt;li&gt;lots of nearby SAB moderately-barred spirals moderately analogous to MW&lt;/li&gt;
&lt;li&gt;Maffei 2
+ 5x10^7 msun mol gas …&lt;/li&gt;&lt;/ul&gt;&lt;/blockquote&gt;</summary><content type="html">&lt;img alt="" src="https://keflavich.github.io/blog/iau303/images/gallagher.jpg" style="width: 800px;" /&gt;
&lt;p&gt;Investigation to understand assumptions made in extragalactic obs&lt;/p&gt;
&lt;blockquote&gt;
&lt;ul class="simple"&gt;
&lt;li&gt;MW single example - what is unique, what general?&lt;/li&gt;
&lt;li&gt;SNR / CR interaction model works in M82 &amp;amp; NGC 253, not in MW&lt;/li&gt;
&lt;li&gt;MW SFR?  Is it right?&lt;/li&gt;
&lt;li&gt;lots of nearby SAB moderately-barred spirals moderately analogous to MW&lt;/li&gt;
&lt;li&gt;Maffei 2
+ 5x10^7 msun mol gas in rotating core&lt;/li&gt;
&lt;li&gt;NGC 253
+ 10^8 msun molecular gas&lt;/li&gt;
&lt;li&gt;MW
+ 3-4x10^7&lt;/li&gt;
&lt;/ul&gt;
&lt;/blockquote&gt;
&lt;p&gt;Similar molecular and stellar content&lt;/p&gt;
&lt;dl class="docutils"&gt;
&lt;dt&gt;Major differences&lt;/dt&gt;
&lt;dd&gt;&lt;ul class="first last simple"&gt;
&lt;li&gt;MW: SFR 0.01 Msun/yr [my comment: this seems low?]&lt;/li&gt;
&lt;li&gt;IC 342 &amp;amp; Maffei 2: 1 Msun/yr&lt;/li&gt;
&lt;li&gt;NGC 253, M82: 3-8 msun/yr
+ nuclei don't follow CO vs SFR&lt;/li&gt;
&lt;li&gt;NGC 253: huge wind (almost naked eye)
+ 10-100x MW CMZ thermal pressure&lt;/li&gt;
&lt;li&gt;Gamma rays: MW overluminous at low energies?&lt;/li&gt;
&lt;/ul&gt;
&lt;/dd&gt;
&lt;/dl&gt;
&lt;p&gt;Statement: &amp;quot;No correlation.  Extragalactic relation totally fails&amp;quot; on a plot with 5 data points...&lt;/p&gt;
&lt;blockquote&gt;
&lt;ul class="simple"&gt;
&lt;li&gt;not tied to CO&lt;/li&gt;
&lt;li&gt;Must be a large range in SF efficiency&lt;/li&gt;
&lt;li&gt;SFR not correlated with nuclear stellar mass&lt;/li&gt;
&lt;li&gt;MW in SFR low-state&lt;/li&gt;
&lt;/ul&gt;
&lt;/blockquote&gt;
&lt;dl class="docutils"&gt;
&lt;dt&gt;Episodic SF&lt;/dt&gt;
&lt;dd&gt;&lt;ul class="first last simple"&gt;
&lt;li&gt;Physical state varies
+ Chemical transition?
+ driven by chemistry rather than mass?&lt;/li&gt;
&lt;li&gt;SF bimodal?  Need larger sample&lt;/li&gt;
&lt;li&gt;Unexpected SMBH impacts?&lt;/li&gt;
&lt;/ul&gt;
&lt;/dd&gt;
&lt;/dl&gt;
&lt;p&gt;Advertisement: AJ - interested in improving figure distribution.  &lt;a class="reference external" href="mailto:aj&amp;#64;astro.wisc.edu"&gt;aj&amp;#64;astro.wisc.edu&lt;/a&gt;&lt;/p&gt;
&lt;div class="section" id="questions"&gt;
&lt;h2&gt;Questions&lt;/h2&gt;
&lt;blockquote&gt;
&lt;ul class="simple"&gt;
&lt;li&gt;Q: Comment - SF adequate to explain energetics seen&lt;/li&gt;
&lt;li&gt;Q Longmore: Idea for what's stopping SF in our own galaxy.  Rate limiting factor is that gas is not self-gravitating.&lt;/li&gt;
&lt;li&gt;A: turbulent, yeah.&lt;/li&gt;
&lt;li&gt;Q Mitch: Positive feedback.  SF starts, gets intensified.  Squeezed by external pressures.&lt;/li&gt;
&lt;li&gt;A: Agree&lt;/li&gt;
&lt;li&gt;Q: SFR density of mol gas.&lt;/li&gt;
&lt;li&gt;A: Cloud production mechanism is different (rather than SF &amp;quot;relation&amp;quot; breaking down)&lt;/li&gt;
&lt;li&gt;Q: Large range in star formation.  Is wind/outflow to SFR more constant?&lt;/li&gt;
&lt;li&gt;A: would like to know.  Outflows not well-measured.&lt;/li&gt;
&lt;li&gt;Q: Constant at what value?&lt;/li&gt;
&lt;li&gt;A: Outflow/SFR constant&lt;/li&gt;
&lt;li&gt;Q Farhad: Dense gas in other galaxies?&lt;/li&gt;
&lt;li&gt;A: Not known yet.  Need to know dense gas fractions&lt;/li&gt;
&lt;li&gt;Q Farhad:  Need to know fraction of &lt;em&gt;dense&lt;/em&gt; gas.&lt;/li&gt;
&lt;li&gt;A: Bigger debate in N253&lt;/li&gt;
&lt;/ul&gt;
&lt;/blockquote&gt;
&lt;/div&gt;
</content><category term="iau303"></category><category term="iau303"></category></entry><entry><title>Deokkeun An: The Galactic Center: Not an active galactic nucleus</title><link href="https://keflavich.github.io/blog/deokkeun-an-the-galactic-center-not-an-active-galactic-nucleus.html" rel="alternate"></link><published>2013-09-30T14:20:00-06:00</published><updated>2013-09-30T14:20:00-06:00</updated><author><name>Adam Ginsburg</name></author><id>tag:keflavich.github.io,2013-09-30:/blog/deokkeun-an-the-galactic-center-not-an-active-galactic-nucleus.html</id><summary type="html">&lt;img alt="" src="https://keflavich.github.io/blog/iau303/images/an.jpg" style="width: 800px;" /&gt;
&lt;dl class="docutils"&gt;
&lt;dt&gt;Focus on infrared&lt;/dt&gt;
&lt;dd&gt;&lt;ul class="first last simple"&gt;
&lt;li&gt;high gas surface density&lt;/li&gt;
&lt;li&gt;cloud-cloud collisions&lt;/li&gt;
&lt;/ul&gt;
&lt;/dd&gt;
&lt;dt&gt;Spitzer IRS survey of CMZ&lt;/dt&gt;
&lt;dd&gt;&lt;ul class="first last simple"&gt;
&lt;li&gt;107 candidates&lt;/li&gt;
&lt;li&gt;35 YSOs discovered&lt;/li&gt;
&lt;li&gt;half of observing time spent on background&lt;ul&gt;
&lt;li&gt;428 total spectra on ISM lines of sight&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;NeII, SII, SiII maps&lt;/li&gt;
&lt;li&gt;parameter maps:&lt;ul&gt;
&lt;li&gt;ionization state&lt;/li&gt;
&lt;li&gt;electron density&lt;/li&gt;
&lt;li&gt;rad field hardness&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/dd&gt;
&lt;dt&gt;Comparison to IRS …&lt;/dt&gt;&lt;/dl&gt;</summary><content type="html">&lt;img alt="" src="https://keflavich.github.io/blog/iau303/images/an.jpg" style="width: 800px;" /&gt;
&lt;dl class="docutils"&gt;
&lt;dt&gt;Focus on infrared&lt;/dt&gt;
&lt;dd&gt;&lt;ul class="first last simple"&gt;
&lt;li&gt;high gas surface density&lt;/li&gt;
&lt;li&gt;cloud-cloud collisions&lt;/li&gt;
&lt;/ul&gt;
&lt;/dd&gt;
&lt;dt&gt;Spitzer IRS survey of CMZ&lt;/dt&gt;
&lt;dd&gt;&lt;ul class="first last simple"&gt;
&lt;li&gt;107 candidates&lt;/li&gt;
&lt;li&gt;35 YSOs discovered&lt;/li&gt;
&lt;li&gt;half of observing time spent on background&lt;ul&gt;
&lt;li&gt;428 total spectra on ISM lines of sight&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;NeII, SII, SiII maps&lt;/li&gt;
&lt;li&gt;parameter maps:&lt;ul&gt;
&lt;li&gt;ionization state&lt;/li&gt;
&lt;li&gt;electron density&lt;/li&gt;
&lt;li&gt;rad field hardness&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/dd&gt;
&lt;dt&gt;Comparison to IRS observations of other galaxies&lt;/dt&gt;
&lt;dd&gt;&lt;ul class="first last simple"&gt;
&lt;li&gt;SINGS comparison
+ NeIII/NeII ratio vs O/H abundance
+ Galactic center is moderately inconsistent with AGN&lt;/li&gt;
&lt;li&gt;Other line ratios (FeII/NeII vs SiII/SIII) - GC offset from AGNagain
+ Most CMZ points look like &amp;quot;normal&amp;quot; star forming regions
+ lots of scatter, but trend with longitude&lt;/li&gt;
&lt;li&gt;photoionization by hot stars &amp;amp; shocks explain colors&lt;/li&gt;
&lt;/ul&gt;
&lt;/dd&gt;
&lt;/dl&gt;
&lt;div class="section" id="questions"&gt;
&lt;h2&gt;Questions&lt;/h2&gt;
&lt;blockquote&gt;
&lt;ul class="simple"&gt;
&lt;li&gt;Q: Is there any significance to the idea that high-latitude are most similar
to AGN?&lt;/li&gt;
&lt;li&gt;A: ...didn't understand question... talked about oxygen abundance
determinations and statistical significance&lt;/li&gt;
&lt;li&gt;Q: Is there any &lt;em&gt;physical&lt;/em&gt; significance to the high-latitude points having
AGN colors?  Could it be from AGN being &amp;quot;turned off&amp;quot; years ago?&lt;/li&gt;
&lt;li&gt;A: you tell me.  Could be X-ray binaries, wolf-rayet stars.  No clear
evidence that Sgr A* excited it.&lt;/li&gt;
&lt;li&gt;Q: Need bright source.  XRBs would have to be very bright.&lt;/li&gt;
&lt;li&gt;A: Our obs don't show much.  Distance unknown.  Could be foreground.&lt;/li&gt;
&lt;li&gt;Q Stocke: - detections of Ne V.  Couldn't see.  How many had Ne V definitely
detected?  In infrared or diffuse?&lt;/li&gt;
&lt;li&gt;A: ~12 out of 400 detected.  Mostly Ne V in ISM, not in point sources.&lt;/li&gt;
&lt;li&gt;Q Farhad: What does # of detected YSOs tell you about SFR?  How are they
distributed in plane?&lt;/li&gt;
&lt;li&gt;A: Consistent with Schmidt law.  Not far from Farhad's measurement.
YSOs selected on IR photometry.  50% of sources from near Sgr B.
Asymmetry: YSOs on left&lt;/li&gt;
&lt;/ul&gt;
&lt;/blockquote&gt;
&lt;/div&gt;
</content><category term="iau303"></category><category term="iau303"></category></entry><entry><title>Naomi McClure Griffiths: HI Outflows from the Galactic Center (20 + 5 minutes)</title><link href="https://keflavich.github.io/blog/naomi-mcclure-griffiths-hi-outflows-from-the-galactic-center-20-5-minutes.html" rel="alternate"></link><published>2013-09-30T14:00:00-06:00</published><updated>2013-09-30T14:00:00-06:00</updated><author><name>Adam Ginsburg</name></author><id>tag:keflavich.github.io,2013-09-30:/blog/naomi-mcclure-griffiths-hi-outflows-from-the-galactic-center-20-5-minutes.html</id><summary type="html">&lt;img alt="" src="https://keflavich.github.io/blog/iau303/images/mccluregriffiths.jpg" style="width: 800px;" /&gt;
&lt;p&gt;Outflows - M82 example&lt;/p&gt;
&lt;p&gt;Our Galaxy&lt;/p&gt;
&lt;blockquote&gt;
&lt;ul class="simple"&gt;
&lt;li&gt;8.3um correlated with radio continuum&lt;/li&gt;
&lt;li&gt;Fermi bubbles&lt;/li&gt;
&lt;li&gt;Radio polarization - magnetized bubble&lt;/li&gt;
&lt;li&gt;ATCA + Parkes HI survey&lt;/li&gt;
&lt;li&gt;HI data publicly available: &lt;a class="reference external" href="http://arxiv.org/abs/1201.2438"&gt;http://arxiv.org/abs/1201.2438&lt;/a&gt;, &lt;a class="reference external" href="http://www.atnf.csiro.au/research/HI/sgps/queryForm.html"&gt;http://www.atnf.csiro.au/research/HI/sgps/queryForm.html&lt;/a&gt;
+ 86 high latitude clouds that are completely distinct from …&lt;/li&gt;&lt;/ul&gt;&lt;/blockquote&gt;</summary><content type="html">&lt;img alt="" src="https://keflavich.github.io/blog/iau303/images/mccluregriffiths.jpg" style="width: 800px;" /&gt;
&lt;p&gt;Outflows - M82 example&lt;/p&gt;
&lt;p&gt;Our Galaxy&lt;/p&gt;
&lt;blockquote&gt;
&lt;ul class="simple"&gt;
&lt;li&gt;8.3um correlated with radio continuum&lt;/li&gt;
&lt;li&gt;Fermi bubbles&lt;/li&gt;
&lt;li&gt;Radio polarization - magnetized bubble&lt;/li&gt;
&lt;li&gt;ATCA + Parkes HI survey&lt;/li&gt;
&lt;li&gt;HI data publicly available: &lt;a class="reference external" href="http://arxiv.org/abs/1201.2438"&gt;http://arxiv.org/abs/1201.2438&lt;/a&gt;, &lt;a class="reference external" href="http://www.atnf.csiro.au/research/HI/sgps/queryForm.html"&gt;http://www.atnf.csiro.au/research/HI/sgps/queryForm.html&lt;/a&gt;
+ 86 high latitude clouds that are completely distinct from the rest
+ ± 200 km/s
+ negative velocities at the bottom
+ size ~15 pc, ~few hundred Msun
+ 4000K clouds
+ n~1cm^-3
+ not in circular orbits&lt;/li&gt;
&lt;/ul&gt;
&lt;/blockquote&gt;
&lt;dl class="docutils"&gt;
&lt;dt&gt;Lockman &amp;quot;very dumb simulation&amp;quot;&lt;/dt&gt;
&lt;dd&gt;&lt;ul class="first last simple"&gt;
&lt;li&gt;model as outflowing clouds&lt;/li&gt;
&lt;li&gt;wind velocity, outflow angle&lt;/li&gt;
&lt;li&gt;min/max velocity plots: look for clouds beyond the min/max vel
+ wind velocities 150-270 km/s can reproduce population&lt;/li&gt;
&lt;/ul&gt;
&lt;/dd&gt;
&lt;dt&gt;Cooper 2008, Melioli 2013&lt;/dt&gt;
&lt;dd&gt;&lt;ul class="first last simple"&gt;
&lt;li&gt;simulations predict entrainment of dense gas&lt;/li&gt;
&lt;li&gt;cold wind is responsible&lt;/li&gt;
&lt;li&gt;2 Myr to get clouds to observed height&lt;/li&gt;
&lt;/ul&gt;
&lt;/dd&gt;
&lt;dt&gt;Wind dynamics&lt;/dt&gt;
&lt;dd&gt;&lt;ul class="first last simple"&gt;
&lt;li&gt;cold clumps entrained in hot outflow
total mass ~4x10^4, but completeness loss -&amp;gt; 10^5 msun&lt;/li&gt;
&lt;li&gt;energy total ~10^52 erg&lt;/li&gt;
&lt;li&gt;easily supplied by present SFR&lt;/li&gt;
&lt;/ul&gt;
&lt;/dd&gt;
&lt;dt&gt;Future&lt;/dt&gt;
&lt;dd&gt;&lt;ul class="first last simple"&gt;
&lt;li&gt;can look further in both lat &amp;amp; long
+ determine lifetime
+ constrain opening angle&lt;/li&gt;
&lt;/ul&gt;
&lt;/dd&gt;
&lt;/dl&gt;
&lt;div class="section" id="questions"&gt;
&lt;h2&gt;Questions&lt;/h2&gt;
&lt;blockquote&gt;
&lt;ul class="simple"&gt;
&lt;li&gt;Q: Where does the mass come from?  Is it hard to resupply?  Where does it go?&lt;/li&gt;
&lt;li&gt;Q: Do you see any warm gas (H-alpha)?&lt;/li&gt;
&lt;li&gt;A: looked at WHAM, but resolution too poor.  Not clear yet.&lt;/li&gt;
&lt;li&gt;&lt;dl class="first docutils"&gt;
&lt;dt&gt;Q Mitch: 600 km/s.  Injected explosively or must go through a sonic point&lt;/dt&gt;
&lt;dd&gt;with a grav. potential, which would imply that it's coming from a black hole&lt;/dd&gt;
&lt;/dl&gt;
&lt;/li&gt;
&lt;li&gt;A: OK, great, someone else give me the theoretical explanation&lt;/li&gt;
&lt;li&gt;&lt;dl class="first docutils"&gt;
&lt;dt&gt;Q Stocke: Warm component has been detected in absorption against AGN; velocities consistent.&lt;/dt&gt;
&lt;dd&gt;Gas goes up to 12 kpc on either side and does not escape.
Hot wind requires Chandra, not yet successful.&lt;/dd&gt;
&lt;/dl&gt;
&lt;/li&gt;
&lt;li&gt;Q: for Stocke - How much gas in hot wind?&lt;/li&gt;
&lt;li&gt;A: Not detected&lt;/li&gt;
&lt;li&gt;Q: Could this be inflow?&lt;/li&gt;
&lt;li&gt;A: We don't see this around other parts of the galaxy except around superbubbles.
No conspiracy accreting towards CMZ&lt;/li&gt;
&lt;li&gt;Q Farhad: We've looked at RRLs in inner degree.   Don't see any
high-velocity ionized gas.  Must be accelerated away from disk.&lt;/li&gt;
&lt;li&gt;Q Namir Kassim: High energy emission from cosmic rays impacting these clouds?&lt;/li&gt;
&lt;li&gt;A: Possibly, we'd like to look at that more&lt;/li&gt;
&lt;/ul&gt;
&lt;/blockquote&gt;
&lt;/div&gt;
</content><category term="iau303"></category><category term="iau303"></category></entry><entry><title>Mathieu de Naurois: TeV Observations of GC and Starburst Systems</title><link href="https://keflavich.github.io/blog/mathieu-de-naurois-tev-observations-of-gc-and-starburst-systems.html" rel="alternate"></link><published>2013-09-30T11:30:00-06:00</published><updated>2013-09-30T11:30:00-06:00</updated><author><name>Adam Ginsburg</name></author><id>tag:keflavich.github.io,2013-09-30:/blog/mathieu-de-naurois-tev-observations-of-gc-and-starburst-systems.html</id><summary type="html">&lt;img alt="" src="https://keflavich.github.io/blog/iau303/images/naurois.jpg" style="width: 800px;" /&gt;
&lt;dl class="docutils"&gt;
&lt;dt&gt;TeV observations&lt;/dt&gt;
&lt;dd&gt;&lt;ul class="first last simple"&gt;
&lt;li&gt;scintillation in air (Cherenkov)&lt;/li&gt;
&lt;li&gt;Hadron detection&lt;/li&gt;
&lt;li&gt;watching for light showers&lt;/li&gt;
&lt;li&gt;HESS camera is huge: 1.5m across (fast photometers)&lt;/li&gt;
&lt;li&gt;HESS, VERITAS, MAGIC dominate&lt;/li&gt;
&lt;/ul&gt;
&lt;/dd&gt;
&lt;dt&gt;Galactic Center&lt;/dt&gt;
&lt;dd&gt;&lt;ul class="first last simple"&gt;
&lt;li&gt;high energy density (100 eV cm^-3)&lt;/li&gt;
&lt;li&gt;dense GMCs &amp;amp; starburst activity&lt;/li&gt;
&lt;li&gt;HESS CMZ good...&lt;/li&gt;
&lt;li&gt;VERITAS CMZ 18-sigma in 46h&lt;/li&gt;
&lt;li&gt;HESS, mol clds trace …&lt;/li&gt;&lt;/ul&gt;&lt;/dd&gt;&lt;/dl&gt;</summary><content type="html">&lt;img alt="" src="https://keflavich.github.io/blog/iau303/images/naurois.jpg" style="width: 800px;" /&gt;
&lt;dl class="docutils"&gt;
&lt;dt&gt;TeV observations&lt;/dt&gt;
&lt;dd&gt;&lt;ul class="first last simple"&gt;
&lt;li&gt;scintillation in air (Cherenkov)&lt;/li&gt;
&lt;li&gt;Hadron detection&lt;/li&gt;
&lt;li&gt;watching for light showers&lt;/li&gt;
&lt;li&gt;HESS camera is huge: 1.5m across (fast photometers)&lt;/li&gt;
&lt;li&gt;HESS, VERITAS, MAGIC dominate&lt;/li&gt;
&lt;/ul&gt;
&lt;/dd&gt;
&lt;dt&gt;Galactic Center&lt;/dt&gt;
&lt;dd&gt;&lt;ul class="first last simple"&gt;
&lt;li&gt;high energy density (100 eV cm^-3)&lt;/li&gt;
&lt;li&gt;dense GMCs &amp;amp; starburst activity&lt;/li&gt;
&lt;li&gt;HESS CMZ good...&lt;/li&gt;
&lt;li&gt;VERITAS CMZ 18-sigma in 46h&lt;/li&gt;
&lt;li&gt;HESS, mol clds trace similar areas&lt;/li&gt;
&lt;li&gt;Local excess of 10 TeV -&amp;gt; requires local source of CRs&lt;/li&gt;
&lt;li&gt;Correlation between mol clds great in Sgr B, Sgr A, but poor in Sgr D
+ no TeV emission at |l|&amp;gt;1 degree
+ Propagation from central source? not enough propagation time
+ Maybe CRs directly accelerated?&lt;/li&gt;
&lt;/ul&gt;
&lt;/dd&gt;
&lt;dt&gt;Central Source&lt;/dt&gt;
&lt;dd&gt;&lt;ul class="first last simple"&gt;
&lt;li&gt;Could be Sgr A*, Sgr A East SNR, or other&lt;/li&gt;
&lt;li&gt;best fit position is 6&amp;quot;rms around Sgr A*
+ Sgr A East ruled out with CCD-guiding based observations&lt;/li&gt;
&lt;li&gt;No variability detected&lt;/li&gt;
&lt;li&gt;in general, only middle part of SED variable&lt;/li&gt;
&lt;li&gt;Pulsar Wind Nebula ruled out with Chandra?&lt;/li&gt;
&lt;/ul&gt;
&lt;/dd&gt;
&lt;dt&gt;Dark Matter search&lt;/dt&gt;
&lt;dd&gt;&lt;ul class="first last simple"&gt;
&lt;li&gt;exclude central region with diffuse CR-driven emission&lt;/li&gt;
&lt;li&gt;search at |b|&amp;gt;0.5&lt;/li&gt;
&lt;li&gt;no positive detection; see Friday talks&lt;/li&gt;
&lt;/ul&gt;
&lt;/dd&gt;
&lt;dt&gt;Testing SFR&lt;/dt&gt;
&lt;dd&gt;&lt;ul class="first last simple"&gt;
&lt;li&gt;TeV detections of M82 (Veritas), NGC 253 (HESS)&lt;/li&gt;
&lt;li&gt;NGC 253 approximately pointlike
+ 0.5% crab
+ Linear from gamma ray to TeV
+ hard spectrum
+ 3 orders of magnitude more luminous than CMZ
+ 2x10^38 vs 10^35&lt;/li&gt;
&lt;li&gt;M82 VERITAS
+ 0.9% crab
+ more luminous: 2x10^39 ergs&lt;/li&gt;
&lt;li&gt;Why brighter?
+ Higher B-field?  Higher CR density?&lt;/li&gt;
&lt;li&gt;Starburst could be calorimetric; Sgr A cannot be
+ [Unclear - does that mean CRs escape in the Galaxy?]&lt;/li&gt;
&lt;/ul&gt;
&lt;/dd&gt;
&lt;dt&gt;HESS II&lt;/dt&gt;
&lt;dd&gt;&lt;ul class="first last simple"&gt;
&lt;li&gt;bigger telescopes&lt;/li&gt;
&lt;li&gt;lower energy threshold&lt;/li&gt;
&lt;li&gt;better res &amp;amp; sens&lt;/li&gt;
&lt;li&gt;10m+ optical dish&lt;/li&gt;
&lt;/ul&gt;
&lt;/dd&gt;
&lt;dt&gt;Sgr A* with HESS II&lt;/dt&gt;
&lt;dd&gt;&lt;ul class="first last simple"&gt;
&lt;li&gt;3 hrs so far...&lt;/li&gt;
&lt;li&gt;lines up with Fermi spectrum&lt;/li&gt;
&lt;/ul&gt;
&lt;/dd&gt;
&lt;dt&gt;Questions&lt;/dt&gt;
&lt;dd&gt;&lt;ul class="first last simple"&gt;
&lt;li&gt;Can you model with no pulsar wind nebula (all emission in black hole)?&lt;/li&gt;
&lt;li&gt;A: PWN can explain GeV but not TeV.  PWN not needed for TeV.  But, PWN could
still account for some GeV emission.&lt;/li&gt;
&lt;li&gt;GeV and TeV could be different.  Which has worse resolution?&lt;/li&gt;
&lt;li&gt;Similar resolution.  Fermi around 200 MeV ~ HESS 100 GeV.  Both have better
resolution at higher energy.&lt;/li&gt;
&lt;li&gt;Consistent with Sgr A*...&lt;/li&gt;
&lt;li&gt;Fermi problem is the diffuse background; HESS doesn't have that problem&lt;/li&gt;
&lt;li&gt;Q Farhad: What is the energy density of CRs for diffuse TeV emission?&lt;/li&gt;
&lt;li&gt;about 100 eV cm^-3, maybe&lt;/li&gt;
&lt;li&gt;Q Stocke: How much loss is there between us and CMZ due to electron/positron?  For TeV rays?&lt;/li&gt;
&lt;li&gt;&amp;lt;10%.  Main absorber is CMB?&lt;/li&gt;
&lt;li&gt;Maybe more photons from CMZ -&amp;gt; greater absorption than CMZ&lt;/li&gt;
&lt;li&gt;~5% loss at highest energy only&lt;/li&gt;
&lt;/ul&gt;
&lt;/dd&gt;
&lt;/dl&gt;
</content><category term="iau303"></category><category term="iau303"></category></entry><entry><title>Fred Baganoff: X-ray Visionary Project: SgrA*</title><link href="https://keflavich.github.io/blog/fred-baganoff-x-ray-visionary-project-sgra.html" rel="alternate"></link><published>2013-09-30T11:00:00-06:00</published><updated>2013-09-30T11:00:00-06:00</updated><author><name>Adam Ginsburg</name></author><id>tag:keflavich.github.io,2013-09-30:/blog/fred-baganoff-x-ray-visionary-project-sgra.html</id><summary type="html">&lt;img alt="" src="https://keflavich.github.io/blog/iau303/images/baganoff.jpg" style="width: 800px;" /&gt;
&lt;dl class="docutils"&gt;
&lt;dt&gt;High-res x-ray spectra of Sgr A* &amp;amp; surrounding emission&lt;/dt&gt;
&lt;dd&gt;&lt;ul class="first last simple"&gt;
&lt;li&gt;Radio pol obs: most accreting matter doesn't reach event horizon&lt;/li&gt;
&lt;li&gt;3 Ms exposure&lt;/li&gt;
&lt;li&gt;specific roll-angles required because Chandra has no slit&lt;/li&gt;
&lt;li&gt;detected 6.67 keV Helium-like Fe K-alpha
+ hi-res rules out 6.4 keV emission model&lt;/li&gt;
&lt;/ul&gt;
&lt;/dd&gt;
&lt;dt&gt;What mechanism drives Sgr A* flares …&lt;/dt&gt;&lt;/dl&gt;</summary><content type="html">&lt;img alt="" src="https://keflavich.github.io/blog/iau303/images/baganoff.jpg" style="width: 800px;" /&gt;
&lt;dl class="docutils"&gt;
&lt;dt&gt;High-res x-ray spectra of Sgr A* &amp;amp; surrounding emission&lt;/dt&gt;
&lt;dd&gt;&lt;ul class="first last simple"&gt;
&lt;li&gt;Radio pol obs: most accreting matter doesn't reach event horizon&lt;/li&gt;
&lt;li&gt;3 Ms exposure&lt;/li&gt;
&lt;li&gt;specific roll-angles required because Chandra has no slit&lt;/li&gt;
&lt;li&gt;detected 6.67 keV Helium-like Fe K-alpha
+ hi-res rules out 6.4 keV emission model&lt;/li&gt;
&lt;/ul&gt;
&lt;/dd&gt;
&lt;dt&gt;What mechanism drives Sgr A* flares?&lt;/dt&gt;
&lt;dd&gt;&lt;ul class="first last simple"&gt;
&lt;li&gt;what x-ray emission mechanism?  Thermal?  Compton? Synchro?   etc.&lt;/li&gt;
&lt;li&gt;X-ray/NIR variable&lt;/li&gt;
&lt;li&gt;mm/radio events weaker, longer timescale, optically thick&lt;/li&gt;
&lt;li&gt;do mm/radio lead or lag?&lt;/li&gt;
&lt;li&gt;What determines flare cycle?&lt;/li&gt;
&lt;li&gt;What triggers flares?&lt;/li&gt;
&lt;/ul&gt;
&lt;/dd&gt;
&lt;dt&gt;Observations&lt;/dt&gt;
&lt;dd&gt;&lt;ul class="first last simple"&gt;
&lt;li&gt;Backgrounds are a big problem&lt;/li&gt;
&lt;li&gt;Details about order sorting,  etc.&lt;/li&gt;
&lt;/ul&gt;
&lt;/dd&gt;
&lt;/dl&gt;
&lt;p&gt;Questions&lt;/p&gt;
&lt;blockquote&gt;
&lt;ul class="simple"&gt;
&lt;li&gt;Farhad: Discovered a lot of X-ray binaries.  Find any sources within 1'?&lt;/li&gt;
&lt;li&gt;Found the old recurrent ones.  Magnetar is new.  No new bright ones,
searching for faint ones.  Vast population of faint variables.&lt;/li&gt;
&lt;li&gt;Q: Underlying physical mechanism still unknown.  Where are we going?  How do
we figure it out?&lt;/li&gt;
&lt;li&gt;A: NuStar will help. Very narrow window; can't see optical or UV.   This campaign
gives more examples.&lt;/li&gt;
&lt;li&gt;Cornelia: Is anyone working on the diffuse?  Nonthermal filament sticks out brightly&lt;/li&gt;
&lt;li&gt;Yes.  Sgr E &amp;amp; F sources.  Studying with NuStar team.&lt;/li&gt;
&lt;li&gt;Q: Can you create images with 3Ms spectra?&lt;/li&gt;
&lt;li&gt;A: Not much better; the grating reduces raw sensitivity.&lt;/li&gt;
&lt;li&gt;Q: Dismissed possibility of periodicity.  Have you carefully looked?
Lomb-Scargle?&lt;/li&gt;
&lt;li&gt;A: Lots of times with no flaring obvious.  But, maybe a lot missed below the
noise of the DC signal.  Brightest peaks are not periodic.  Peaks put into
Lomb-Scargle, but not enough data for that.  Will look at power spectrum
though.&lt;/li&gt;
&lt;/ul&gt;
&lt;/blockquote&gt;
</content><category term="iau303"></category><category term="iau303"></category></entry><entry><title>Woong-Tae Kim: Star Formation in Nuclear Rings</title><link href="https://keflavich.github.io/blog/woong-tae-kim-star-formation-in-nuclear-rings.html" rel="alternate"></link><published>2013-09-30T11:00:00-06:00</published><updated>2013-09-30T11:00:00-06:00</updated><author><name>Adam Ginsburg</name></author><id>tag:keflavich.github.io,2013-09-30:/blog/woong-tae-kim-star-formation-in-nuclear-rings.html</id><summary type="html">&lt;img alt="" src="https://keflavich.github.io/blog/iau303/images/kim.jpg" style="width: 800px;" /&gt;
&lt;p&gt;Nuclear Rings&lt;/p&gt;
&lt;blockquote&gt;
&lt;ul class="simple"&gt;
&lt;li&gt;Form by resonant interactions with barred potentials
+ but bar torque is low near inner lindbland resonances
+ resonance is very long timescale&lt;/li&gt;
&lt;li&gt;claim that bar strength controls bar substructure&lt;/li&gt;
&lt;li&gt;bar potential modeled by &amp;quot;Ferrers Prolates&amp;quot;&lt;/li&gt;
&lt;li&gt;Q_B is the &amp;quot;controlling parameter&amp;quot;
+ Q_B = 0.23 yields really cool looking …&lt;/li&gt;&lt;/ul&gt;&lt;/blockquote&gt;</summary><content type="html">&lt;img alt="" src="https://keflavich.github.io/blog/iau303/images/kim.jpg" style="width: 800px;" /&gt;
&lt;p&gt;Nuclear Rings&lt;/p&gt;
&lt;blockquote&gt;
&lt;ul class="simple"&gt;
&lt;li&gt;Form by resonant interactions with barred potentials
+ but bar torque is low near inner lindbland resonances
+ resonance is very long timescale&lt;/li&gt;
&lt;li&gt;claim that bar strength controls bar substructure&lt;/li&gt;
&lt;li&gt;bar potential modeled by &amp;quot;Ferrers Prolates&amp;quot;&lt;/li&gt;
&lt;li&gt;Q_B is the &amp;quot;controlling parameter&amp;quot;
+ Q_B = 0.23 yields really cool looking models&lt;/li&gt;
&lt;li&gt;stronger bar leads to smaller radius ring
+ pushes more gas inward&lt;/li&gt;
&lt;li&gt;range of SFR
+ age gradient within nuclear rings&lt;/li&gt;
&lt;/ul&gt;
&lt;/blockquote&gt;
&lt;p&gt;Two models of ring SF&lt;/p&gt;
&lt;blockquote&gt;
&lt;ul class="simple"&gt;
&lt;li&gt;popcorn model
+ randomly distributed
+ no age gradient&lt;/li&gt;
&lt;li&gt;pearls-on-a-string model
+ SF at contact point
+ age gradient&lt;/li&gt;
&lt;li&gt;age gradient &amp;lt;-&amp;gt; lower SFR&lt;/li&gt;
&lt;li&gt;simulation generating 10^5 msun clusters&lt;/li&gt;
&lt;/ul&gt;
&lt;/blockquote&gt;
&lt;p&gt;Sim results&lt;/p&gt;
&lt;blockquote&gt;
&lt;ul class="simple"&gt;
&lt;li&gt;presence or absence of age gradient depends on SFR
+ no age gradient if SFR &amp;gt; 1 Myr
+ corresponds to maximum SFR at a contact point&lt;/li&gt;
&lt;li&gt;prolonged SF requires prolonged feeding
+ HVCs (accretion of primordial gas)
+ ang mom dissipation by spiral arms
+ Galactic fountains&lt;/li&gt;
&lt;li&gt;If corotation radius at large R, can feed spiral arms into ring&lt;/li&gt;
&lt;/ul&gt;
&lt;/blockquote&gt;
&lt;div class="section" id="questions"&gt;
&lt;h2&gt;Questions&lt;/h2&gt;
&lt;blockquote&gt;
&lt;ul class="simple"&gt;
&lt;li&gt;Q: Sims are pure hydro.  Speculate on B-fields.  Chuckle.&lt;/li&gt;
&lt;li&gt;A: Ring would be smaller&lt;/li&gt;
&lt;li&gt;Q: Typical velocity of gas along bar in model?&lt;/li&gt;
&lt;li&gt;A: 50-100 km/s&lt;/li&gt;
&lt;li&gt;Q: Do you mean no need for x2 orbit?&lt;/li&gt;
&lt;li&gt;A: no, need X2 to form ring.  Formation mechanism of ring is not related to resonance.&lt;/li&gt;
&lt;li&gt;Q: Ring on x2 orbit?&lt;/li&gt;
&lt;li&gt;A: yes&lt;/li&gt;
&lt;li&gt;Q: is there observation evidence of age gradients in nuclear rings?&lt;/li&gt;
&lt;li&gt;A: Yes, Mazzuca '08 shows gradient in H-alpha EQW&lt;/li&gt;
&lt;li&gt;Q Farhad:  Can you form the circumnuclear disk (2pc) with the same mechanism?&lt;/li&gt;
&lt;li&gt;A: Can't answer now.  Need to run the simulation with the right size-scale&lt;/li&gt;
&lt;li&gt;Q: Would the bar be unstable to bending instabilities in 3D?&lt;/li&gt;
&lt;li&gt;A: We ran 3D, and didn't see any difference.  But, with different initial
conditions, may see dynamical difference..&lt;/li&gt;
&lt;li&gt;Q: Have you modeled where the bar meets the arm?&lt;/li&gt;
&lt;li&gt;A: No, couldn't do that, only treated stellar.&lt;/li&gt;
&lt;/ul&gt;
&lt;/blockquote&gt;
&lt;/div&gt;
</content><category term="iau303"></category><category term="iau303"></category></entry><entry><title>Fiona Harrison: NuSTAR Results: From the Galactic Center to Local Starbursts</title><link href="https://keflavich.github.io/blog/fiona-harrison-nustar-results-from-the-galactic-center-to-local-starbursts.html" rel="alternate"></link><published>2013-09-30T10:00:00-06:00</published><updated>2013-09-30T10:00:00-06:00</updated><author><name>Adam Ginsburg</name></author><id>tag:keflavich.github.io,2013-09-30:/blog/fiona-harrison-nustar-results-from-the-galactic-center-to-local-starbursts.html</id><summary type="html">&lt;img alt="" src="https://keflavich.github.io/blog/iau303/images/harrison.png" style="width: 800px;" /&gt;
&lt;dl class="docutils"&gt;
&lt;dt&gt;NuStar&lt;/dt&gt;
&lt;dd&gt;&lt;ul class="first last simple"&gt;
&lt;li&gt;Explorer class&lt;/li&gt;
&lt;li&gt;PI-led&lt;/li&gt;
&lt;li&gt;Will have guest investigator program&lt;/li&gt;
&lt;li&gt;First focusing telescope in high-energy X-ray band&lt;/li&gt;
&lt;li&gt;100x improvement in 3-79 keV&lt;/li&gt;
&lt;li&gt;Previous telescopes: detector was larger than collecting area of telescope&lt;/li&gt;
&lt;li&gt;~18&amp;quot; resolution, 12.5' fov&lt;/li&gt;
&lt;/ul&gt;
&lt;/dd&gt;
&lt;dt&gt;Our CMZ: Multicolor cmz vs INTEGRAL&lt;/dt&gt;
&lt;dd&gt;&lt;ul class="first last simple"&gt;
&lt;li&gt;NUstar FOV = Integral resolution&lt;/li&gt;
&lt;li&gt;Survey Muno field (CMZ …&lt;/li&gt;&lt;/ul&gt;&lt;/dd&gt;&lt;/dl&gt;</summary><content type="html">&lt;img alt="" src="https://keflavich.github.io/blog/iau303/images/harrison.png" style="width: 800px;" /&gt;
&lt;dl class="docutils"&gt;
&lt;dt&gt;NuStar&lt;/dt&gt;
&lt;dd&gt;&lt;ul class="first last simple"&gt;
&lt;li&gt;Explorer class&lt;/li&gt;
&lt;li&gt;PI-led&lt;/li&gt;
&lt;li&gt;Will have guest investigator program&lt;/li&gt;
&lt;li&gt;First focusing telescope in high-energy X-ray band&lt;/li&gt;
&lt;li&gt;100x improvement in 3-79 keV&lt;/li&gt;
&lt;li&gt;Previous telescopes: detector was larger than collecting area of telescope&lt;/li&gt;
&lt;li&gt;~18&amp;quot; resolution, 12.5' fov&lt;/li&gt;
&lt;/ul&gt;
&lt;/dd&gt;
&lt;dt&gt;Our CMZ: Multicolor cmz vs INTEGRAL&lt;/dt&gt;
&lt;dd&gt;&lt;ul class="first last simple"&gt;
&lt;li&gt;NUstar FOV = Integral resolution&lt;/li&gt;
&lt;li&gt;Survey Muno field (CMZ surey covering negative longitudes)&lt;/li&gt;
&lt;/ul&gt;
&lt;/dd&gt;
&lt;dt&gt;Sgr A*&lt;/dt&gt;
&lt;dd&gt;&lt;ul class="first last simple"&gt;
&lt;li&gt;Flares show it obviously&lt;/li&gt;
&lt;li&gt;~1hr/day&lt;/li&gt;
&lt;li&gt;detection of flare at &amp;gt;10 keV&lt;/li&gt;
&lt;/ul&gt;
&lt;/dd&gt;
&lt;dt&gt;Gamma ray pulse in Galactic Center&lt;/dt&gt;
&lt;dd&gt;&lt;ul class="first last simple"&gt;
&lt;li&gt;enhanced X-ray emission&lt;/li&gt;
&lt;li&gt;pulsations detected&lt;/li&gt;
&lt;li&gt;3.7 second pulsations&lt;/li&gt;
&lt;li&gt;3&amp;quot; distant magnetar: SGR J1745-29&lt;/li&gt;
&lt;li&gt;Associated with disk of massive stars near Sgr A*?&lt;/li&gt;
&lt;/ul&gt;
&lt;/dd&gt;
&lt;dt&gt;HESS J1640-465&lt;/dt&gt;
&lt;dd&gt;&lt;ul class="first last simple"&gt;
&lt;li&gt;being observed right now&lt;/li&gt;
&lt;li&gt;TeV source&lt;/li&gt;
&lt;li&gt;possible evidence from NuStar for a pulsar&lt;/li&gt;
&lt;/ul&gt;
&lt;/dd&gt;
&lt;dt&gt;Nearby Starburst Galaxies&lt;/dt&gt;
&lt;dd&gt;&lt;ul class="first last simple"&gt;
&lt;li&gt;Observations coordinated with Chandra&lt;/li&gt;
&lt;li&gt;NGC 253, Arp 299, M82, NGC 3310, NGC 3256&lt;/li&gt;
&lt;li&gt;AGN may only be visible at high energies b/c of absorption at lower energies&lt;/li&gt;
&lt;li&gt;sampling range in mass, sfr&lt;/li&gt;
&lt;/ul&gt;
&lt;/dd&gt;
&lt;dt&gt;NGC 253&lt;/dt&gt;
&lt;dd&gt;&lt;ul class="first last simple"&gt;
&lt;li&gt;Lehmer et al 2013&lt;/li&gt;
&lt;li&gt;Where is the nucleus?  Crowded core, hard to determine&lt;/li&gt;
&lt;li&gt;Chandra obscured X-ray source &amp;quot;off-center&amp;quot; compared to Radio&lt;/li&gt;
&lt;li&gt;dynamical center determined; Chandra sees one source near it
+ variability driven by that source
+ nustar spectrum by assuming all variability associated with it
+ classical ULX source: binary star + BH
+ Either IMBH or super-eddington accretion&lt;/li&gt;
&lt;li&gt;nuclear emission overestimated due to ULXs&lt;/li&gt;
&lt;/ul&gt;
&lt;/dd&gt;
&lt;dt&gt;Arp 299&lt;/dt&gt;
&lt;dd&gt;&lt;ul class="first last simple"&gt;
&lt;li&gt;Only &amp;quot;B&amp;quot; nucleus visible at high X-ray energies&lt;/li&gt;
&lt;li&gt;Only one nucleus currently active&lt;/li&gt;
&lt;/ul&gt;
&lt;/dd&gt;
&lt;/dl&gt;
&lt;p&gt;Questions:&lt;/p&gt;
&lt;blockquote&gt;
&lt;ul class="simple"&gt;
&lt;li&gt;Farhad: Will Nu-Star look at gamma-ray bubble?&lt;/li&gt;
&lt;li&gt;A: Two problems: 1. too extended, too much time, can't contribute much&lt;/li&gt;
&lt;li&gt;Is there a possibility of other magnetars not yet detected?&lt;/li&gt;
&lt;li&gt;A: Various types of magnetars.  Undetectable in quiescence.  Difficult to
constrain overall population.
Raises questions: unlikely by chance; do we not understand magnetar population&lt;/li&gt;
&lt;li&gt;What is the diffuse emission detected with INTEGRAL?  In Sgr E?&lt;/li&gt;
&lt;li&gt;A: We don't see hard x-ray emission coincident with INTEGRAL source.
Centroid of INTEGRAL source offset from diffuse emission&lt;/li&gt;
&lt;/ul&gt;
&lt;/blockquote&gt;
</content><category term="iau303"></category><category term="iau303"></category></entry><entry><title>Susanne Aalto: Physical Conditions and Chemistry of Molecular Gas in Galactic Centers</title><link href="https://keflavich.github.io/blog/susanne-aalto-physical-conditions-and-chemistry-of-molecular-gas-in-galactic-centers.html" rel="alternate"></link><published>2013-09-30T09:30:00-06:00</published><updated>2013-09-30T09:30:00-06:00</updated><author><name>Adam Ginsburg</name></author><id>tag:keflavich.github.io,2013-09-30:/blog/susanne-aalto-physical-conditions-and-chemistry-of-molecular-gas-in-galactic-centers.html</id><summary type="html">&lt;p&gt;Physical conditions &amp;amp; chemistry&lt;/p&gt;
&lt;dl class="docutils"&gt;
&lt;dt&gt;Astrochemistry as a diagnostic...&lt;/dt&gt;
&lt;dd&gt;&lt;ul class="first last simple"&gt;
&lt;li&gt;50+ molecules detected exgalactically&lt;/li&gt;
&lt;li&gt;CO n&amp;gt;10^2, HCN n&amp;gt;10^4&lt;/li&gt;
&lt;li&gt;temperature NH3, H2CO&lt;/li&gt;
&lt;li&gt;Only works if molecules excited by collisions&lt;/li&gt;
&lt;li&gt;12CO/13CO increases towards GC because more diffuse gas [my q: integrated?]&lt;/li&gt;
&lt;/ul&gt;
&lt;/dd&gt;
&lt;dt&gt;&amp;quot;Raisin Roll&amp;quot; view:&lt;/dt&gt;
&lt;dd&gt;&lt;ul class="first last simple"&gt;
&lt;li&gt;Mol massin dense clumps, HI diffuse …&lt;/li&gt;&lt;/ul&gt;&lt;/dd&gt;&lt;/dl&gt;</summary><content type="html">&lt;p&gt;Physical conditions &amp;amp; chemistry&lt;/p&gt;
&lt;dl class="docutils"&gt;
&lt;dt&gt;Astrochemistry as a diagnostic...&lt;/dt&gt;
&lt;dd&gt;&lt;ul class="first last simple"&gt;
&lt;li&gt;50+ molecules detected exgalactically&lt;/li&gt;
&lt;li&gt;CO n&amp;gt;10^2, HCN n&amp;gt;10^4&lt;/li&gt;
&lt;li&gt;temperature NH3, H2CO&lt;/li&gt;
&lt;li&gt;Only works if molecules excited by collisions&lt;/li&gt;
&lt;li&gt;12CO/13CO increases towards GC because more diffuse gas [my q: integrated?]&lt;/li&gt;
&lt;/ul&gt;
&lt;/dd&gt;
&lt;dt&gt;&amp;quot;Raisin Roll&amp;quot; view:&lt;/dt&gt;
&lt;dd&gt;&lt;ul class="first last simple"&gt;
&lt;li&gt;Mol massin dense clumps, HI diffuse throughout&lt;/li&gt;
&lt;li&gt;HCO+, H3O+, HNC, HC3N, CN, SiO, H2O&lt;/li&gt;
&lt;/ul&gt;
&lt;/dd&gt;
&lt;dt&gt;General Trends&lt;/dt&gt;
&lt;dd&gt;&lt;ul class="first last simple"&gt;
&lt;li&gt;HNC 1-0 anticorrelated with HCN+ 1-0&lt;/li&gt;
&lt;li&gt;C2H ubiquitous&lt;/li&gt;
&lt;/ul&gt;
&lt;/dd&gt;
&lt;dt&gt;&amp;quot;Hot Cores&amp;quot;&lt;/dt&gt;
&lt;dd&gt;&lt;ul class="first last simple"&gt;
&lt;li&gt;Arp 220&lt;/li&gt;
&lt;li&gt;Drive outflows&lt;/li&gt;
&lt;li&gt;&amp;quot;Boring&amp;quot; NGC 1377 (optically)
+ has very deep SiO absorption
+ molecular outflow M~10^7 Msun
+ 860um optically thick core&lt;/li&gt;
&lt;li&gt;NGC 4418 &amp;quot;Ugly Duckling&amp;quot; galaxy
+ optically thick &amp;quot;atmosphere&amp;quot; dust core surrounded by molecular disk
+ N~10^25 cm^-2
+ inner temp ~200-300K
+ molecular &amp;quot;disk&amp;quot; ~50K&lt;/li&gt;
&lt;li&gt;unclear how common optically thick cores are
+ can be studied with vibrationally excited molecules&lt;/li&gt;
&lt;li&gt;NGC 4418
+ Global spectrum dominated by vibrationally excited HC3N&lt;/li&gt;
&lt;li&gt;Mrk231
+ HCN outflow, 1000 km/s
+ vibrationally excited HCN in core&lt;/li&gt;
&lt;li&gt;vibrationally excited lines trace warped disk&lt;/li&gt;
&lt;li&gt;Arp 220W: amplified IR-pumped HNC&lt;/li&gt;
&lt;/ul&gt;
&lt;/dd&gt;
&lt;dt&gt;ALMA NGC 4418 &amp;quot;spectral scan&amp;quot;&lt;/dt&gt;
&lt;dd&gt;&lt;ul class="first last simple"&gt;
&lt;li&gt;dominated by vibrational lines&lt;/li&gt;
&lt;/ul&gt;
&lt;/dd&gt;
&lt;dt&gt;SMA spectral scanning in Arp 220&lt;/dt&gt;
&lt;dd&gt;&lt;ul class="first last simple"&gt;
&lt;li&gt;problematic: wide lines&lt;/li&gt;
&lt;li&gt;vibrational lines are the new standard&lt;/li&gt;
&lt;/ul&gt;
&lt;/dd&gt;
&lt;dt&gt;Less obscured galaxies&lt;/dt&gt;
&lt;dd&gt;&lt;ul class="first last simple"&gt;
&lt;li&gt;NGC 253, IC 342, Maffei 2, NGC 1068...&lt;/li&gt;
&lt;li&gt;same chemistry can trace outflows or star formation&lt;/li&gt;
&lt;li&gt;HNC, HCN, HCO+ correlated with 3mm continuum: trace SF&lt;/li&gt;
&lt;li&gt;HNCO, CH3OH, SiO anti-correlated with SF: probably trace outflows&lt;/li&gt;
&lt;li&gt;N2H+ - &amp;quot;warm gas&amp;quot; and &amp;quot;warm dust&amp;quot;.  Not the same in our galaxy &amp;amp; others&lt;/li&gt;
&lt;/ul&gt;
&lt;/dd&gt;
&lt;dt&gt;NGC 1068&lt;/dt&gt;
&lt;dd&gt;&lt;ul class="first last simple"&gt;
&lt;li&gt;PdBI Spirals around center&lt;/li&gt;
&lt;li&gt;ALMA bar + spirals
+ central cirumnuclear disk&lt;/li&gt;
&lt;li&gt;complicated chemistry towards true center&lt;/li&gt;
&lt;li&gt;noncircular motions&lt;/li&gt;
&lt;/ul&gt;
&lt;/dd&gt;
&lt;dt&gt;More results:&lt;/dt&gt;
&lt;dd&gt;&lt;ul class="first last simple"&gt;
&lt;li&gt;ALMA + ATCA towards Cen A&lt;/li&gt;
&lt;li&gt;NGC 1097&lt;/li&gt;
&lt;li&gt;HC3N in Mrk 231&lt;/li&gt;
&lt;li&gt;HCN in wind... extreme hcn abundance&lt;/li&gt;
&lt;/ul&gt;
&lt;/dd&gt;
&lt;/dl&gt;
&lt;p&gt;Questions:&lt;/p&gt;
&lt;blockquote&gt;
&lt;ul class="simple"&gt;
&lt;li&gt;Inner NGC 1068 ring - what resolution can you get with ALMA?  Can you see kinematics?&lt;/li&gt;
&lt;li&gt;A: Yes, can see kinematics.  0.1&amp;quot;, can do ~10x better eventually.  400 km/s&lt;/li&gt;
&lt;li&gt;Draw attention to MOPRA MALT-90: good comparison survey for galaxies&lt;/li&gt;
&lt;li&gt;Thanks&lt;/li&gt;
&lt;/ul&gt;
&lt;/blockquote&gt;
</content><category term="iau303"></category><category term="iau303"></category></entry><entry><title>John Bally - Hi-Gal CMZ</title><link href="https://keflavich.github.io/blog/john-bally-hi-gal-cmz.html" rel="alternate"></link><published>2013-09-30T09:00:00-06:00</published><updated>2013-09-30T09:00:00-06:00</updated><author><name>Adam Ginsburg</name></author><id>tag:keflavich.github.io,2013-09-30:/blog/john-bally-hi-gal-cmz.html</id><summary type="html">&lt;img alt="" src="https://keflavich.github.io/blog/iau303/images/bally.png" style="width: 800px;" /&gt;
&lt;dl class="docutils"&gt;
&lt;dt&gt;Summary of Hi-Gal:&lt;/dt&gt;
&lt;dd&gt;&lt;ul class="first last simple"&gt;
&lt;li&gt;900hrs,&lt;/li&gt;
&lt;li&gt;inner ±60 deg, then outer ±60 deg, then full 360 deg.&lt;/li&gt;
&lt;li&gt;Release scheduled late in 2013.&lt;/li&gt;
&lt;li&gt;0.5 million band-merged sources&lt;/li&gt;
&lt;/ul&gt;
&lt;/dd&gt;
&lt;/dl&gt;
&lt;p&gt;The CMZ:&lt;/p&gt;
&lt;blockquote&gt;
&lt;ul class="simple"&gt;
&lt;li&gt;we live in a mildly barred galaxy&lt;/li&gt;
&lt;li&gt;NGC 1097 as an analog&lt;/li&gt;
&lt;li&gt;our CMZ less symmetric&lt;/li&gt;
&lt;/ul&gt;
&lt;/blockquote&gt;
&lt;p&gt;Multiwave comparison:&lt;/p&gt;
&lt;blockquote&gt;
&lt;ul class="simple"&gt;
&lt;li&gt;asymmetry: 24, 70 right; gas …&lt;/li&gt;&lt;/ul&gt;&lt;/blockquote&gt;</summary><content type="html">&lt;img alt="" src="https://keflavich.github.io/blog/iau303/images/bally.png" style="width: 800px;" /&gt;
&lt;dl class="docutils"&gt;
&lt;dt&gt;Summary of Hi-Gal:&lt;/dt&gt;
&lt;dd&gt;&lt;ul class="first last simple"&gt;
&lt;li&gt;900hrs,&lt;/li&gt;
&lt;li&gt;inner ±60 deg, then outer ±60 deg, then full 360 deg.&lt;/li&gt;
&lt;li&gt;Release scheduled late in 2013.&lt;/li&gt;
&lt;li&gt;0.5 million band-merged sources&lt;/li&gt;
&lt;/ul&gt;
&lt;/dd&gt;
&lt;/dl&gt;
&lt;p&gt;The CMZ:&lt;/p&gt;
&lt;blockquote&gt;
&lt;ul class="simple"&gt;
&lt;li&gt;we live in a mildly barred galaxy&lt;/li&gt;
&lt;li&gt;NGC 1097 as an analog&lt;/li&gt;
&lt;li&gt;our CMZ less symmetric&lt;/li&gt;
&lt;/ul&gt;
&lt;/blockquote&gt;
&lt;p&gt;Multiwave comparison:&lt;/p&gt;
&lt;blockquote&gt;
&lt;ul class="simple"&gt;
&lt;li&gt;asymmetry: 24, 70 right; gas left&lt;/li&gt;
&lt;li&gt;snrs, evolved stars, nonthermal filaments, arched filaments...&lt;/li&gt;
&lt;/ul&gt;
&lt;/blockquote&gt;
&lt;p&gt;The Gas:&lt;/p&gt;
&lt;blockquote&gt;
&lt;ul&gt;
&lt;li&gt;&lt;p class="first"&gt;10^7 Msun&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p class="first"&gt;CMZ clouds more massive, more turbulent&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p class="first"&gt;Cold gas to the left of Sgr B2, warmer to the right&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p class="first"&gt;Column density somewhat flat from l=1.5 to l=0
+ &amp;quot;Optically thick as a brick&amp;quot;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p class="first"&gt;Molinari &amp;quot;ring&amp;quot; - column density, some evidence from velocities
+ vertical oscillation = 2x circular speed
+ offset...
+ predicts Sgr B2 at tangent of ring&lt;/p&gt;
&lt;blockquote&gt;
&lt;ul class="simple"&gt;
&lt;li&gt;velocity of Sgr B2 too slow&lt;/li&gt;
&lt;li&gt;Sgr B2 has significant proper motion: 80 km/s&lt;/li&gt;
&lt;/ul&gt;
&lt;/blockquote&gt;
&lt;ul class="simple"&gt;
&lt;li&gt;Molinari ring falsified: must extend to larger long&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p class="first"&gt;Few point sources in the Arched Filaments&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/blockquote&gt;
&lt;dl class="docutils"&gt;
&lt;dt&gt;Sofue-Handa ('84) lobe:&lt;/dt&gt;
&lt;dd&gt;&lt;ul class="first last simple"&gt;
&lt;li&gt;brightest super-bubble in galaxy&lt;/li&gt;
&lt;li&gt;powered by AGN or starburst?&lt;/li&gt;
&lt;li&gt;Warning: Lots of foreground towards CMZ.
+ Sco-Cen group
+ radio emission associated with wall of scocen&lt;/li&gt;
&lt;/ul&gt;
&lt;/dd&gt;
&lt;dt&gt;Sgr B2 spectroscopy:&lt;/dt&gt;
&lt;dd&gt;&lt;ul class="first last simple"&gt;
&lt;li&gt;Two temperature components in Sgr B2&lt;/li&gt;
&lt;li&gt;PACS sees 300K CO&lt;/li&gt;
&lt;/ul&gt;
&lt;/dd&gt;
&lt;/dl&gt;
&lt;p&gt;Sgr C mention&lt;/p&gt;
&lt;dl class="docutils"&gt;
&lt;dt&gt;Bania's clump&lt;/dt&gt;
&lt;dd&gt;&lt;ul class="first last simple"&gt;
&lt;li&gt;200 km/s linewidth&lt;/li&gt;
&lt;/ul&gt;
&lt;/dd&gt;
&lt;dt&gt;The Brick&lt;/dt&gt;
&lt;dd&gt;&lt;ul class="first last simple"&gt;
&lt;li&gt;most extreme IRDC&lt;/li&gt;
&lt;li&gt;24, 70 opaque&lt;/li&gt;
&lt;li&gt;HCO+ cubes&lt;/li&gt;
&lt;/ul&gt;
&lt;/dd&gt;
&lt;dt&gt;Dust&lt;/dt&gt;
&lt;dd&gt;&lt;ul class="first last simple"&gt;
&lt;li&gt;Are dust grains different?&lt;/li&gt;
&lt;li&gt;Temperature differs between gas and dust&lt;/li&gt;
&lt;/ul&gt;
&lt;/dd&gt;
&lt;dt&gt;Questions:&lt;/dt&gt;
&lt;dd&gt;&lt;ul class="first last simple"&gt;
&lt;li&gt;COMMENT: NGC 1068 has 100 pc molecular ring, will mention later in discussion&lt;/li&gt;
&lt;li&gt;Lang: Sources in arched filaments - are they aligned with filament?&lt;/li&gt;
&lt;li&gt;A: Yes, 50-60 in filament.  SEDs look like protostars.&lt;/li&gt;
&lt;li&gt;Jerry (?): Note - hard to avoid conical wind from Sgr A* dynamically.&lt;/li&gt;
&lt;li&gt;Bally: Yes.  High-latitude CO gas off-plane: entrained.  Starburst likely, AGN
unlikely to entrain it.&lt;/li&gt;
&lt;li&gt;Jay Gallagher: M82 energy density ~100x higher than in MW, driving wind out of
smaller potential.  Galaxy requires huge pressure change.&lt;/li&gt;
&lt;li&gt;Bally: Yes, wimpy nucleus&lt;/li&gt;
&lt;li&gt;Michael: Evidence for bar from cobe &amp;amp; spitzer.  Is it related to gas bar?&lt;/li&gt;
&lt;li&gt;Bally: Related.  Gas bar 20 ±3 from line of sight, but infrared stellar bar
more like 45 degrees.  Why offset? controversial.  Generically related.&lt;/li&gt;
&lt;/ul&gt;
&lt;/dd&gt;
&lt;/dl&gt;
</content><category term="iau303"></category><category term="iau303"></category></entry><entry><title>Position-Velocity Diagrams</title><link href="https://keflavich.github.io/blog/position-velocity-diagrams.html" rel="alternate"></link><published>2013-09-24T00:00:00-06:00</published><updated>2013-09-24T00:00:00-06:00</updated><author><name>Adam Ginsburg (adam.g.ginsburg@gmail.com)</name></author><id>tag:keflavich.github.io,2013-09-24:/blog/position-velocity-diagrams.html</id><summary type="html">&lt;p&gt;tl;dr version: IPython notebook &lt;a class="reference external" href="http://keflavich.github.io/pvextractor/examples/IRAS05358Slicing.html"&gt;here&lt;/a&gt;, code &lt;a class="reference external" href="http://keflavich.github.io/pvextractor/"&gt;available on github&lt;/a&gt;&lt;/p&gt;
&lt;div class="section" id="current-state-of-affairs"&gt;
&lt;h2&gt;Current state of affairs&lt;/h2&gt;
&lt;p&gt;Position-velocity diagrams with arbitrary position axes have been a common tool
for studying spectra for a long time, probably because the &amp;quot;native&amp;quot; format of
long-slit spectra on CCDs is effectively a position-velocity diagram.&lt;/p&gt;
&lt;p&gt;It's becoming more …&lt;/p&gt;&lt;/div&gt;</summary><content type="html">&lt;p&gt;tl;dr version: IPython notebook &lt;a class="reference external" href="http://keflavich.github.io/pvextractor/examples/IRAS05358Slicing.html"&gt;here&lt;/a&gt;, code &lt;a class="reference external" href="http://keflavich.github.io/pvextractor/"&gt;available on github&lt;/a&gt;&lt;/p&gt;
&lt;div class="section" id="current-state-of-affairs"&gt;
&lt;h2&gt;Current state of affairs&lt;/h2&gt;
&lt;p&gt;Position-velocity diagrams with arbitrary position axes have been a common tool
for studying spectra for a long time, probably because the &amp;quot;native&amp;quot; format of
long-slit spectra on CCDs is effectively a position-velocity diagram.&lt;/p&gt;
&lt;p&gt;It's becoming more common now to have data cubes (PPV) than 1D or 2D spectra.
But PV diagrams still have utility.  Unfortunately, there aren't very good
tools to produce them.&lt;/p&gt;
&lt;p&gt;There are plenty of tools that can slice along any of the native axes of a data
cube.  If you take your data cube in RA/Dec space, extracting along lines of
constant RA or Dec is trivial (&lt;a class="reference external" href="http://star-www.dur.ac.uk/~pdraper/gaia/gaia.html"&gt;GAIA&lt;/a&gt; can do it natively, but it's easy to
slice a cube in IDL or python).&lt;/p&gt;
&lt;p&gt;However, if you wanted to slice along lines of constant GLON or GLAT, you'd
have to reproject the cube to use this approach.  There are nice tools that
implement cube rotation: CASA has an &lt;a class="reference external" href="http://star-www.dur.ac.uk/~pdraper/gaia/gaia.html"&gt;imrebin recipe&lt;/a&gt; and STARLINK has a
rotation tool (though I can't find it now...).&lt;/p&gt;
&lt;p&gt;However, this approach is terribly inefficient if you want slices at multiple
different angles, and it's outright awful if you want to track a filament.&lt;/p&gt;
&lt;/div&gt;
&lt;div class="section" id="an-alternative-approach"&gt;
&lt;h2&gt;An alternative approach&lt;/h2&gt;
&lt;p&gt;The alternative is to interpolate between pixels along a specified axis.  This
can be done very efficiently in python using scipy's &lt;a class="reference external" href="http://docs.scipy.org/doc/scipy/reference/generated/scipy.ndimage.interpolation.map_coordinates.html"&gt;map_coordinates&lt;/a&gt;, which
by default does a cubic-spline interpolation at the specified points.&lt;/p&gt;
&lt;p&gt;I've started to build a tool to extract position-velocity diagrams on this
basis.  It's fully functional, but doesn't do anything interactive just yet.
&lt;a class="reference external" href="https://github.com/keflavich/pvextractor"&gt;pvextractor&lt;/a&gt; is &lt;a class="reference external" href="http://keflavich.github.io/pvextractor/"&gt;available on github&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;There is a complete example demonstrating its use &lt;a class="reference external" href="http://keflavich.github.io/pvextractor/examples/IRAS05358Slicing.html"&gt;here&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;In short, though, it allows you to describe paths like this:&lt;/p&gt;
&lt;img alt="" src="https://keflavich.github.io/blog/images/paths_i05358.png" style="width: 800px;" /&gt;
&lt;p&gt;and extract them into position-velocity diagrams like this:&lt;/p&gt;
&lt;img alt="" src="https://keflavich.github.io/blog/images/pv_i05358.png" style="width: 800px;" /&gt;
&lt;/div&gt;
&lt;div class="section" id="postscript-figshare"&gt;
&lt;h2&gt;Postscript: Figshare&lt;/h2&gt;
&lt;p&gt;(note: postscript as in &amp;quot;P.S.&amp;quot;, not &amp;quot;.ps&amp;quot;)&lt;/p&gt;
&lt;p&gt;In order to create the example document (&lt;a class="reference external" href="http://keflavich.github.io/pvextractor/examples/IRAS05358Slicing.html"&gt;here&lt;/a&gt;), I needed a small data cube
that could easily be downloaded. &lt;a class="reference external" href="theastrodata.org"&gt;Dataverse&lt;/a&gt; hosts the &lt;a class="reference external" href="http://www.cfa.harvard.edu/COMPLETE/"&gt;COMPLETE&lt;/a&gt; survey, but
they make you jump through a javascript hoop to download their data, which
means that it is not possible to write an easily reproducible script.  Too bad,
since I would have used them except for this minor interface issue.&lt;/p&gt;
&lt;p&gt;Instead, I've found that &lt;a class="reference external" href="http://figshare.com"&gt;figshare&lt;/a&gt; has fixed up their interface since I last
used them.  It was easy enough that I decided to upload my &lt;a class="reference external" href="http://figshare.com/articles/IRAS_05358_3543_Data_Cubes/806315"&gt;IRAS 05358+3543
data cubes&lt;/a&gt; and had no trouble at all.  I also posted an update to the &lt;a class="reference external" href="http://arxiv.org/abs/0910.2990"&gt;arxiv&lt;/a&gt;
page for the article indictating that the data are freely shared.  I'll do my
best to share the data for the rest of my papers too, though it will take some
time and I'll hit data limits for W5 pretty quickly.&lt;/p&gt;
&lt;/div&gt;
</content><category term="misc"></category><category term="python"></category><category term="spectra"></category></entry><entry><title>Blogging from IPython</title><link href="https://keflavich.github.io/blog/blogging-from-ipython.html" rel="alternate"></link><published>2013-09-22T00:00:00-06:00</published><updated>2013-09-22T00:00:00-06:00</updated><author><name>Adam &lt;keflavich@gmail.com&gt;</name></author><id>tag:keflavich.github.io,2013-09-22:/blog/blogging-from-ipython.html</id><summary type="html">&lt;p&gt;[ &lt;a class="reference external" href="http://nbviewer.ipython.org/urls/raw.github.com/keflavich/blog/master/content/BloggingFromIPython.ipynb"&gt;Notebook Form of this
post&lt;/a&gt;
]&lt;/p&gt;
&lt;p&gt;There have been
&lt;a class="reference external" href="http://jmcarp.github.io/blog/2013/07/07/hello-world/"&gt;many&lt;/a&gt;
&lt;a class="reference external" href="http://danielfrg.github.io/blog/2013/02/16/blogging-pelican-ipython-notebook/"&gt;other&lt;/a&gt;
&lt;a class="reference external" href="http://danielfrg.github.io/blog/2013/03/08/pelican-ipython-notebook-plugin/"&gt;posts&lt;/a&gt;
about blogging in ipython, but they all included more overhead than I
really wanted to deal with.&lt;/p&gt;
&lt;p&gt;Instead, I've gone directly to &lt;a class="reference external" href="http://nbviewer.ipython.org/urls/raw.github.com/Carreau/posts/master/06-NBconvert-Doc-Draft.ipynb"&gt;the
source&lt;/a&gt;
and used nbconvert in ipython 2.0 to convert my notebooks to rst, then
put …&lt;/p&gt;</summary><content type="html">&lt;p&gt;[ &lt;a class="reference external" href="http://nbviewer.ipython.org/urls/raw.github.com/keflavich/blog/master/content/BloggingFromIPython.ipynb"&gt;Notebook Form of this
post&lt;/a&gt;
]&lt;/p&gt;
&lt;p&gt;There have been
&lt;a class="reference external" href="http://jmcarp.github.io/blog/2013/07/07/hello-world/"&gt;many&lt;/a&gt;
&lt;a class="reference external" href="http://danielfrg.github.io/blog/2013/02/16/blogging-pelican-ipython-notebook/"&gt;other&lt;/a&gt;
&lt;a class="reference external" href="http://danielfrg.github.io/blog/2013/03/08/pelican-ipython-notebook-plugin/"&gt;posts&lt;/a&gt;
about blogging in ipython, but they all included more overhead than I
really wanted to deal with.&lt;/p&gt;
&lt;p&gt;Instead, I've gone directly to &lt;a class="reference external" href="http://nbviewer.ipython.org/urls/raw.github.com/Carreau/posts/master/06-NBconvert-Doc-Draft.ipynb"&gt;the
source&lt;/a&gt;
and used nbconvert in ipython 2.0 to convert my notebooks to rst, then
put them through pelican.&lt;/p&gt;
&lt;p&gt;This post outlines my workflow.&lt;/p&gt;
&lt;p&gt;First, and most inconvenient, it is necessary to head any blog post with
metadata. I don't have any convenient workflow to deal with that, I just
write it in by hand in a raw text box (ctrl-m, t) as you can see above.
&lt;a class="reference external" href="http://danielfrg.github.io/"&gt;Daniel Rodriguez&lt;/a&gt; took a &lt;a class="reference external" href="http://danielfrg.github.io/blog/2013/03/08/pelican-ipython-notebook-plugin/"&gt;different
approach&lt;/a&gt;
using the ipython metadata directly and an ipython plugin, but I didn't
want to have to worry about installing plugins and I am definitely
worried about breaking notebooks by messing with the
&lt;a class="reference external" href="https://github.com/ipython/ipython/wiki/IPEP-20%3A-Informal-structure-of-cell-metadata"&gt;metadata&lt;/a&gt;
as the ipy devs give some fairly &lt;a class="reference external" href="https://gist.github.com/Carreau/4437348"&gt;strict
warnings&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;Next, the ipynb -&amp;gt; rst step is fairly straightforward. I modified the
rst template because I don't want to see the &lt;tt class="docutils literal"&gt;&lt;span class="pre"&gt;In[#]:&lt;/span&gt;&lt;/tt&gt; and &lt;tt class="docutils literal"&gt;&lt;span class="pre"&gt;Out[#]:&lt;/span&gt;&lt;/tt&gt;
prefixes around my code. I also use &lt;tt class="docutils literal"&gt;.. &lt;span class="pre"&gt;code-block::&lt;/span&gt;&lt;/tt&gt; rather than
&lt;tt class="docutils literal"&gt;.. code::&lt;/tt&gt;.&lt;/p&gt;
&lt;p&gt;This very simple function below makes sure that my local &lt;tt class="docutils literal"&gt;rst.tbl&lt;/tt&gt;
file is seen before ipython's. Their templates are in
&lt;tt class="docutils literal"&gt;IPython/nbconvert/templates&lt;/tt&gt;. Note that you could normally use Jinja2
templating and &amp;quot;Extend&amp;quot; their template, but I wanted to remove rather
than extend.&lt;/p&gt;
&lt;p&gt;[
&lt;a class="reference external" href="https://github.com/keflavich/blog/blob/master/nbconverter.py"&gt;Source&lt;/a&gt;
]&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="kn"&gt;from&lt;/span&gt; &lt;span class="nn"&gt;IPython.nbconvert.exporters&lt;/span&gt; &lt;span class="kn"&gt;import&lt;/span&gt; &lt;span class="n"&gt;RSTExporter&lt;/span&gt;

&lt;span class="k"&gt;def&lt;/span&gt; &lt;span class="nf"&gt;export&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;nbname&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;outfilename&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="kc"&gt;None&lt;/span&gt;&lt;span class="p"&gt;):&lt;/span&gt;
    &lt;span class="n"&gt;exportRST&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;RSTExporter&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;
    &lt;span class="c1"&gt;# exclude default paths&lt;/span&gt;
    &lt;span class="n"&gt;exportRST&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;template_path&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;.&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;/Users/adam/repos/blog&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt;

    &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;body&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="n"&gt;resources&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;exportRST&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;from_filename&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;nbname&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;

    &lt;span class="k"&gt;if&lt;/span&gt; &lt;span class="n"&gt;outfilename&lt;/span&gt; &lt;span class="ow"&gt;is&lt;/span&gt; &lt;span class="kc"&gt;None&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
        &lt;span class="n"&gt;outfilename&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;nbname&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;replace&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;ipynb&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;rst&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;

    &lt;span class="k"&gt;with&lt;/span&gt; &lt;span class="nb"&gt;open&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;outfilename&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;w&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="k"&gt;as&lt;/span&gt; &lt;span class="n"&gt;f&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
        &lt;span class="n"&gt;f&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;write&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;body&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;

    &lt;span class="k"&gt;return&lt;/span&gt; &lt;span class="n"&gt;body&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="n"&gt;resources&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;I then run the script from the command line:
&lt;tt class="docutils literal"&gt;&lt;span class="pre"&gt;~/virtual-ipydev/bin/ipython&lt;/span&gt; ./nbconverter.py content/GenerateCVExample.ipynb&lt;/tt&gt;&lt;/p&gt;
&lt;p&gt;I'm using a virtual environment with ipython 2 installed because I'm not
yet ready to make the jump to the dev version of ipython (though these
days, with Travis and Jenkins around, it's probably safe to assume the
dev version won't break anything).&lt;/p&gt;
&lt;p&gt;With this rst file generated, the only remaining step is
&lt;a class="reference external" href="http://blog.getpelican.com/"&gt;pelican&lt;/a&gt;, which only requires a
&lt;tt class="docutils literal"&gt;make github&lt;/tt&gt; command in the blog directory. Installing &amp;amp; setting up
pelican is reasonably easy, but not the topic of this post.&lt;/p&gt;
&lt;p&gt;I've made my own &lt;a class="reference external" href="https://github.com/keflavich/pelican-themes/tree/master/mine"&gt;custom pelican
theme&lt;/a&gt;,
so I generally need to update the theme before building:&lt;/p&gt;
&lt;p&gt;&lt;tt class="docutils literal"&gt;&lt;span class="pre"&gt;pelican-themes&lt;/span&gt; &lt;span class="pre"&gt;--upgrade&lt;/span&gt; &lt;span class="pre"&gt;/Users/adam/repos/pelican-themes/mine&lt;/span&gt; &amp;amp;&amp;amp; make github&lt;/tt&gt;&lt;/p&gt;
</content><category term="misc"></category><category term="python"></category><category term="blogging"></category><category term="meta"></category></entry><entry><title>Generating a CV using the ADS Labs API</title><link href="https://keflavich.github.io/blog/generating-a-cv-using-the-ads-labs-api.html" rel="alternate"></link><published>2013-09-21T00:00:00-06:00</published><updated>2013-09-21T00:00:00-06:00</updated><author><name>Adam (keflavich@gmail.com)</name></author><id>tag:keflavich.github.io,2013-09-21:/blog/generating-a-cv-using-the-ads-labs-api.html</id><summary type="html">&lt;ul class="simple"&gt;
&lt;li&gt;[ &lt;a class="reference external" href="https://github.com/keflavich/generate_cv"&gt;Source code related to this
post&lt;/a&gt; ]&lt;/li&gt;
&lt;li&gt;[ &lt;a class="reference external" href="http://nbviewer.ipython.org/urls/raw.github.com/keflavich/generate_cv/master/examples/GenerateCVExample.ipynb"&gt;Notebook
form&lt;/a&gt;
]&lt;/li&gt;
&lt;li&gt;[ &lt;a class="reference external" href="http://www.adamgginsburg.com/cv.htm"&gt;CV partly generated from this
post&lt;/a&gt; ]&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;At &lt;a class="reference external" href="http://dotastronomy.com/"&gt;.astronomy&lt;/a&gt; this past week, the keynote
speaker was &lt;a class="reference external" href="https://www.cfa.harvard.edu/~alberto/"&gt;Alberto
Accomazzi&lt;/a&gt;, introducing ADS
Labs and &lt;a class="reference external" href="http://labs.adsabs.harvard.edu/adsabs/"&gt;ADS 2.0&lt;/a&gt;, which are
really quite impressive.&lt;/p&gt;
&lt;p&gt;I was inspired to use ADS Labs to help me auto-generate a nicely …&lt;/p&gt;</summary><content type="html">&lt;ul class="simple"&gt;
&lt;li&gt;[ &lt;a class="reference external" href="https://github.com/keflavich/generate_cv"&gt;Source code related to this
post&lt;/a&gt; ]&lt;/li&gt;
&lt;li&gt;[ &lt;a class="reference external" href="http://nbviewer.ipython.org/urls/raw.github.com/keflavich/generate_cv/master/examples/GenerateCVExample.ipynb"&gt;Notebook
form&lt;/a&gt;
]&lt;/li&gt;
&lt;li&gt;[ &lt;a class="reference external" href="http://www.adamgginsburg.com/cv.htm"&gt;CV partly generated from this
post&lt;/a&gt; ]&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;At &lt;a class="reference external" href="http://dotastronomy.com/"&gt;.astronomy&lt;/a&gt; this past week, the keynote
speaker was &lt;a class="reference external" href="https://www.cfa.harvard.edu/~alberto/"&gt;Alberto
Accomazzi&lt;/a&gt;, introducing ADS
Labs and &lt;a class="reference external" href="http://labs.adsabs.harvard.edu/adsabs/"&gt;ADS 2.0&lt;/a&gt;, which are
really quite impressive.&lt;/p&gt;
&lt;p&gt;I was inspired to use ADS Labs to help me auto-generate a nicely
formatted CV for myself. I used &lt;a class="reference external" href="https://twitter.com/astrowizicist"&gt;Andy
Casey's&lt;/a&gt;
&lt;a class="reference external" href="https://github.com/andycasey/ads-python"&gt;ADS-python&lt;/a&gt; as a starting
point: he introduces a useful convention of storing your &lt;a class="reference external" href="https://github.com/adsabs/adsabs-dev-api#signup--access"&gt;ADS API
Key&lt;/a&gt;:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="kn"&gt;import&lt;/span&gt; &lt;span class="nn"&gt;os&lt;/span&gt;

&lt;span class="k"&gt;def&lt;/span&gt; &lt;span class="nf"&gt;get_dev_key&lt;/span&gt;&lt;span class="p"&gt;():&lt;/span&gt;
&lt;span class="w"&gt;    &lt;/span&gt;&lt;span class="sd"&gt;&amp;quot;&amp;quot;&amp;quot; A convenience function for accessing a system-wide ADS Developer&amp;#39;s Key &amp;quot;&amp;quot;&amp;quot;&lt;/span&gt;

    &lt;span class="n"&gt;ads_dev_key_filename&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;os&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;path&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;abspath&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;os&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;path&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;expanduser&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;~/.ads/dev_key&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;))&lt;/span&gt;

    &lt;span class="k"&gt;if&lt;/span&gt; &lt;span class="n"&gt;os&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;path&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;exists&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;ads_dev_key_filename&lt;/span&gt;&lt;span class="p"&gt;):&lt;/span&gt;
        &lt;span class="k"&gt;with&lt;/span&gt; &lt;span class="nb"&gt;open&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;ads_dev_key_filename&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s1"&gt;&amp;#39;r&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="k"&gt;as&lt;/span&gt; &lt;span class="n"&gt;fp&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
            &lt;span class="n"&gt;dev_key&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;fp&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;readline&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;rstrip&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;

        &lt;span class="k"&gt;return&lt;/span&gt; &lt;span class="n"&gt;dev_key&lt;/span&gt;

    &lt;span class="k"&gt;if&lt;/span&gt; &lt;span class="s1"&gt;&amp;#39;ADS_DEV_KEY&amp;#39;&lt;/span&gt; &lt;span class="ow"&gt;in&lt;/span&gt; &lt;span class="n"&gt;os&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;environ&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
        &lt;span class="k"&gt;return&lt;/span&gt; &lt;span class="n"&gt;os&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;environ&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;ADS_DEV_KEY&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt;

    &lt;span class="k"&gt;raise&lt;/span&gt; &lt;span class="ne"&gt;IOError&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;no ADS API key found in ~/.ads/dev_key&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;We'll use &lt;tt class="docutils literal"&gt;requests&lt;/tt&gt; to send the request to ADS, then &lt;tt class="docutils literal"&gt;json&lt;/tt&gt; to
parse the data.&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="kn"&gt;import&lt;/span&gt; &lt;span class="nn"&gt;requests&lt;/span&gt;
&lt;span class="kn"&gt;import&lt;/span&gt; &lt;span class="nn"&gt;json&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;We then query the database using a keyword query (parameter &lt;tt class="docutils literal"&gt;q&lt;/tt&gt;)
specifying the author. Other required parameters are the API key
(&lt;tt class="docutils literal"&gt;dev_key&lt;/tt&gt;) and a filter to select only astronomy articles. The
maximum number of rows returned in the API is 200 right now, which I
have set (the default is 10 or 20).&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="n"&gt;response&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;requests&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;post&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;http://adslabs.org/adsabs/api/search/&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;
                         &lt;span class="n"&gt;params&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="p"&gt;{&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;q&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;author:ginsburg, a&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;
                                 &lt;span class="s1"&gt;&amp;#39;dev_key&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="n"&gt;get_dev_key&lt;/span&gt;&lt;span class="p"&gt;(),&lt;/span&gt;
                                 &lt;span class="s1"&gt;&amp;#39;rows&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="mi"&gt;200&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;
                                 &lt;span class="s1"&gt;&amp;#39;filter&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;database:astronomy&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;})&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="n"&gt;J&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;response&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;json&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;
&lt;span class="n"&gt;J&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;keys&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;pre class="literal-block"&gt;
[u'meta', u'results']
&lt;/pre&gt;
&lt;p&gt;The JSON 'meta' key is just metadata about the query, include the number
of matches and execution time.&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="n"&gt;J&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;meta&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;pre class="literal-block"&gt;
{u'api-version': u'0.1',
 u'count': 54,
 u'hits': 54,
 u'qtime': 7,
 u'query': u'author:ginsburg, a'}
&lt;/pre&gt;
&lt;p&gt;The 'results' key includes what we're actually interested in, under
another key 'docs'.&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="n"&gt;J&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;results&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;keys&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;pre class="literal-block"&gt;
[u'docs']
&lt;/pre&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="n"&gt;datalist&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;J&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;results&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;][&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;docs&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt;
&lt;span class="nb"&gt;type&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;datalist&lt;/span&gt;&lt;span class="p"&gt;),&lt;/span&gt; &lt;span class="nb"&gt;len&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;datalist&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;pre class="literal-block"&gt;
(list, 54)
&lt;/pre&gt;
&lt;p&gt;&lt;tt class="docutils literal"&gt;datalist&lt;/tt&gt; is a list of the retrieved bibliographic entries.&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="n"&gt;datalist&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;keys&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;pre class="literal-block"&gt;
[u'bibcode',
 u'keyword',
 u'pubdate',
 u'bibstem',
 u'property',
 u'aff',
 u'author',
 u'citation_count',
 u'pub',
 u'page',
 u'volume',
 u'database',
 u'doi',
 u'year',
 u'abstract',
 u'title',
 u'identifier',
 u'issue',
 u'id']
&lt;/pre&gt;
&lt;p&gt;At this point, most of the remaining work is building up a nicely
formatted output. We'll start with a web-specific example, using HTML
unordered lists.&lt;/p&gt;
&lt;p&gt;In this example, we'll make a list item that creates a hyperlink for the
author names and uses a reasonably standard bibliographic format:&lt;/p&gt;
&lt;pre class="literal-block"&gt;
Authors Month, Year, Journal
Title
&lt;/pre&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="n"&gt;fmt&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="sa"&gt;u&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;                &amp;#39;&lt;/span&gt;
&lt;span class="sa"&gt;u&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;&amp;lt;li&amp;gt;&amp;lt;a class=&amp;quot;norm&amp;quot; href=&amp;quot;http://adsabs.harvard.edu/abs/&lt;/span&gt;&lt;span class="si"&gt;{adsbibid}&lt;/span&gt;&lt;span class="s1"&gt;&amp;quot;&amp;gt;&lt;/span&gt;&lt;span class="si"&gt;{creator}&lt;/span&gt;&lt;span class="s1"&gt;&amp;lt;/a&amp;gt;&amp;#39;&lt;/span&gt;
&lt;span class="sa"&gt;u&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39; &lt;/span&gt;&lt;span class="si"&gt;{month}&lt;/span&gt;&lt;span class="s1"&gt;, &amp;lt;b&amp;gt;&lt;/span&gt;&lt;span class="si"&gt;{year}&lt;/span&gt;&lt;span class="s1"&gt;&amp;lt;/b&amp;gt; &lt;/span&gt;&lt;span class="si"&gt;{journal}&lt;/span&gt;&lt;span class="se"&gt;\n&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;&lt;/span&gt;
&lt;span class="sa"&gt;u&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;                &amp;lt;br&amp;gt;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;&lt;/span&gt;&lt;span class="si"&gt;{titlestring}&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;We need to do a little data wrangling to get the individual JSON entries
into the appropriate format:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="k"&gt;def&lt;/span&gt; &lt;span class="nf"&gt;wrangle&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;data&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;authorname&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;Ginsburg&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;):&lt;/span&gt;
&lt;span class="w"&gt;    &lt;/span&gt;&lt;span class="sd"&gt;&amp;quot;&amp;quot;&amp;quot; Create new fields from the input data to insert into the format string &amp;quot;&amp;quot;&amp;quot;&lt;/span&gt;
    &lt;span class="n"&gt;data&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;month&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;data&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;pubdate&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;][&lt;/span&gt;&lt;span class="mi"&gt;5&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="mi"&gt;7&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt;
    &lt;span class="c1"&gt;# Generally, the last identifier is the published version,&lt;/span&gt;
    &lt;span class="c1"&gt;# while the first is an arXiv identifier&lt;/span&gt;
    &lt;span class="c1"&gt;# (data[&amp;#39;identifier&amp;#39;] is a list)&lt;/span&gt;
    &lt;span class="n"&gt;data&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;adsbibid&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;data&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;identifier&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;][&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt;
    &lt;span class="c1"&gt;# data[&amp;#39;title&amp;#39;] &amp;amp; [&amp;#39;pub&amp;#39;] are also lists&lt;/span&gt;
    &lt;span class="n"&gt;data&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;titlestring&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;data&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;title&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;][&lt;/span&gt;&lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt;
    &lt;span class="n"&gt;data&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;journal&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;data&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;bibstem&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;][&lt;/span&gt;&lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt;
    &lt;span class="c1"&gt;# This trick bolds my name in the list of authors&lt;/span&gt;
    &lt;span class="n"&gt;data&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;authors&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;&amp;lt;b&amp;gt;&lt;/span&gt;&lt;span class="si"&gt;{}&lt;/span&gt;&lt;span class="s1"&gt;&amp;lt;/b&amp;gt;&amp;#39;&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;format&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;x&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="k"&gt;if&lt;/span&gt; &lt;span class="n"&gt;authorname&lt;/span&gt; &lt;span class="ow"&gt;in&lt;/span&gt; &lt;span class="n"&gt;x&lt;/span&gt; &lt;span class="k"&gt;else&lt;/span&gt; &lt;span class="n"&gt;x&lt;/span&gt; &lt;span class="k"&gt;for&lt;/span&gt; &lt;span class="n"&gt;x&lt;/span&gt; &lt;span class="ow"&gt;in&lt;/span&gt; &lt;span class="n"&gt;data&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;author&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;]]&lt;/span&gt;
    &lt;span class="c1"&gt;# Separate names by semicolons&lt;/span&gt;
    &lt;span class="n"&gt;data&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;creator&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="sa"&gt;u&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;; &amp;quot;&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;join&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;data&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;authors&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;])&lt;/span&gt;
    &lt;span class="k"&gt;return&lt;/span&gt; &lt;span class="n"&gt;data&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;The return from &lt;tt class="docutils literal"&gt;wrangle&lt;/tt&gt; is a dict with new keys that match the
keywords in the format string. The python &lt;tt class="docutils literal"&gt;string.format&lt;/tt&gt; method will
nicely ignore any extra keywords that we're uninterested in.&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="n"&gt;fmt&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;format&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="o"&gt;**&lt;/span&gt;&lt;span class="n"&gt;wrangle&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;datalist&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="p"&gt;]))&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;pre class="literal-block"&gt;
u'                &amp;lt;li&amp;gt;&amp;lt;a class=&amp;quot;norm&amp;quot; href=&amp;quot;&lt;a class="reference external" href="http://adsabs.harvard.edu/abs/2013ApJ...773..102F"&gt;http://adsabs.harvard.edu/abs/2013ApJ...773..102F&lt;/a&gt;&amp;quot;&amp;gt;Fallscheer, C.; Reid, M. A.; Di Francesco, J.; Martin, P. G.; Hill, T.; Hennemann, M.; Nguyen-Luong, Q.; Motte, F.; Men'shchikov, A.; Andrxe9, Ph.; Ward-Thompson, D.; Griffin, M.; Kirk, J.; Konyves, V.; Rygl, K. L. J.; Sadavoy, S.; Sauvage, M.; Schneider, N.; Anderson, L. D.; Benedettini, M.; Bernard, J. -P.; Bontemps, S.; &amp;lt;b&amp;gt;Ginsburg, A.&amp;lt;/b&amp;gt;; Molinari, S.; Polychroni, D.; Rivera-Ingraham, A.; Roussel, H.; Testi, L.; White, G.; Williams, J. P.; Wilson, C. D.; Wong, M.; Zavagno, A.&amp;lt;/a&amp;gt; 08, &amp;lt;b&amp;gt;2013&amp;lt;/b&amp;gt; ApJn                &amp;lt;br&amp;gt;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;Herschel Reveals Massive Cold Clumps in NGCxa07538'
&lt;/pre&gt;
&lt;p&gt;Now to show it in the notebook...&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="kn"&gt;import&lt;/span&gt; &lt;span class="nn"&gt;IPython.display&lt;/span&gt;
&lt;span class="n"&gt;IPython&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;display&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;HTML&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;fmt&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;format&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="o"&gt;**&lt;/span&gt;&lt;span class="n"&gt;wrangle&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;datalist&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="p"&gt;])))&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;You can make a complete bibliography by looping over a few entries. The
ordered list (&lt;tt class="docutils literal"&gt;&amp;lt;ol&amp;gt;&lt;/tt&gt;) tag makes a numbered list.&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="n"&gt;html&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="s2"&gt;&amp;quot;&amp;lt;ol&amp;gt;&amp;quot;&lt;/span&gt; &lt;span class="o"&gt;+&lt;/span&gt; &lt;span class="s2"&gt;&amp;quot;&lt;/span&gt;&lt;span class="se"&gt;\n&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;join&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;fmt&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;format&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="o"&gt;**&lt;/span&gt;&lt;span class="n"&gt;wrangle&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;datalist&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="n"&gt;ii&lt;/span&gt;&lt;span class="p"&gt;]))&lt;/span&gt; &lt;span class="k"&gt;for&lt;/span&gt; &lt;span class="n"&gt;ii&lt;/span&gt; &lt;span class="ow"&gt;in&lt;/span&gt; &lt;span class="n"&gt;xrange&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="mi"&gt;3&lt;/span&gt;&lt;span class="p"&gt;))&lt;/span&gt; &lt;span class="o"&gt;+&lt;/span&gt; &lt;span class="s2"&gt;&amp;quot;&amp;lt;/ol&amp;gt;&amp;quot;&lt;/span&gt;
&lt;span class="n"&gt;IPython&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;display&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;HTML&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;html&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;If you want to make sure you only include refereed articles, use the
'property' tag.&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="nb"&gt;print&lt;/span&gt; &lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;REFEREED&amp;#39;&lt;/span&gt; &lt;span class="ow"&gt;in&lt;/span&gt; &lt;span class="n"&gt;d&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;property&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt; &lt;span class="k"&gt;for&lt;/span&gt; &lt;span class="n"&gt;d&lt;/span&gt; &lt;span class="ow"&gt;in&lt;/span&gt; &lt;span class="n"&gt;datalist&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;pre class="literal-block"&gt;
[True, False, True, False, False, False, True, True, False, False, False, False, True, True, True, False, False, True, True, False, False, True, True, True, False, False, False, False, True, False, False, True, True, True, True, True, True, False, False, False, False, False, False, True, True, False, False, False, False, False, True, False, False, True]
&lt;/pre&gt;
&lt;p&gt;And don't forget that you can also include the citation count:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="nb"&gt;print&lt;/span&gt; &lt;span class="s2"&gt;&amp;quot;&lt;/span&gt;&lt;span class="se"&gt;\n&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;join&lt;/span&gt;&lt;span class="p"&gt;([&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;&lt;/span&gt;&lt;span class="si"&gt;{}&lt;/span&gt;&lt;span class="s2"&gt; &lt;/span&gt;&lt;span class="si"&gt;{}&lt;/span&gt;&lt;span class="s2"&gt;: &lt;/span&gt;&lt;span class="si"&gt;{}&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;format&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;d&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;author&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;][&lt;/span&gt;&lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="p"&gt;],&lt;/span&gt;&lt;span class="n"&gt;d&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;year&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;],&lt;/span&gt;&lt;span class="n"&gt;d&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;citation_count&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;])&lt;/span&gt;
                &lt;span class="k"&gt;for&lt;/span&gt; &lt;span class="n"&gt;d&lt;/span&gt; &lt;span class="ow"&gt;in&lt;/span&gt; &lt;span class="n"&gt;datalist&lt;/span&gt;
                &lt;span class="k"&gt;if&lt;/span&gt; &lt;span class="s1"&gt;&amp;#39;citation_count&amp;#39;&lt;/span&gt; &lt;span class="ow"&gt;in&lt;/span&gt; &lt;span class="n"&gt;d&lt;/span&gt; &lt;span class="ow"&gt;and&lt;/span&gt; &lt;span class="s1"&gt;&amp;#39;REFEREED&amp;#39;&lt;/span&gt; &lt;span class="ow"&gt;in&lt;/span&gt; &lt;span class="n"&gt;d&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;property&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;]])&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;pre class="literal-block"&gt;
Fallscheer, C. 2013: 0
Ellsworth-Bowers, Timothy P. 2013: 2
Smith, Nathan 2013: 0
Harvey, Paul M. 2013: 2
Bressert, E. 2012: 10
Ginsburg, A. 2012: 11
Bally, John 2012: 0
Ginsburg, Adam 2011: 5
Battersby, C. 2011: 22
Schlingman, Wayne M. 2011: 17
Ginsburg, Adam 2011: 6
van Aarle, E. 2011: 12
Aguirre, James E. 2011: 72
Bally, John 2010: 36
Battersby, Cara 2010: 30
Yan, Chi-Hung 2010: 5
Bally, J. 2010: 20
Dunham, Miranda K. 2010: 27
Rosolowsky, Erik 2010: 80
Ginsburg, Adam G. 2009: 10
Rubin, D. 2009: 23
van de Steene, G. C. 2008: 4
Golitsyn, G. S. 1985: 4
&lt;/pre&gt;
&lt;div class="section" id="wishlist"&gt;
&lt;h2&gt;Wishlist&lt;/h2&gt;
&lt;p&gt;There are a few other features that would be nice to add to the CV, but
some are not yet well-supported.&lt;/p&gt;
&lt;ol class="arabic simple"&gt;
&lt;li&gt;You can get the full name, but right now not the short name
('bibstem'), of the journal&lt;/li&gt;
&lt;li&gt;The bibtex entry is important for generating tex versions of CVs.
Currently, it is not possible to completely reproduce one, largely
because of point #1.&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;However, the ADS folks will certainly change this soon. You can find out
if they have by querying their API settings. If the query below returns
&amp;quot;True&amp;quot;, then you can access the bibstem.&lt;/p&gt;
&lt;p&gt;UPDATE 9/23/2013: Jay Luker &amp;#64;ADS &lt;a class="reference external" href="https://twitter.com/lbjay/status/382138570632204291"&gt;added 'bibstem' to the allowed return
entries&lt;/a&gt;&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="n"&gt;permissions_response&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;requests&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;post&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;http://adslabs.org/adsabs/api/settings/&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="n"&gt;params&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="p"&gt;{&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;dev_key&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="n"&gt;get_dev_key&lt;/span&gt;&lt;span class="p"&gt;()})&lt;/span&gt;
&lt;span class="n"&gt;permissions&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;permissions_response&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;json&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;
&lt;span class="s1"&gt;&amp;#39;bibstem&amp;#39;&lt;/span&gt; &lt;span class="ow"&gt;in&lt;/span&gt; &lt;span class="n"&gt;permissions&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;allowed_fields&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;pre class="literal-block"&gt;
True
&lt;/pre&gt;
&lt;p&gt;In the meantime, you can get most of the way there. We'll create
&amp;quot;Article&amp;quot; entries for any articles or eprints and ignore abstracts
(e.g., conference abstracts). I don't have any books, but for others
that might be useful.&lt;/p&gt;
&lt;p&gt;The approach we'll use is also a good way to reject unwanted articles in
the HTML bibliography above.&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="n"&gt;bibfmt&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="sa"&gt;u&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;&amp;quot;&amp;quot;@article{{&lt;/span&gt;&lt;span class="si"&gt;{tagname}&lt;/span&gt;&lt;span class="s2"&gt;,&lt;/span&gt;
&lt;span class="s2"&gt;abstract={{&lt;/span&gt;&lt;span class="si"&gt;{abstract}&lt;/span&gt;&lt;span class="s2"&gt;}},&lt;/span&gt;
&lt;span class="s2"&gt;author={{&lt;/span&gt;&lt;span class="si"&gt;{bibtexauthors}&lt;/span&gt;&lt;span class="s2"&gt;}},&lt;/span&gt;
&lt;span class="s2"&gt;month={{&lt;/span&gt;&lt;span class="si"&gt;{month}&lt;/span&gt;&lt;span class="s2"&gt;}},&lt;/span&gt;
&lt;span class="s2"&gt;pages={{&lt;/span&gt;&lt;span class="si"&gt;{page}&lt;/span&gt;&lt;span class="s2"&gt;}},&lt;/span&gt;
&lt;span class="s2"&gt;title={{&lt;/span&gt;&lt;span class="si"&gt;{titlestring}&lt;/span&gt;&lt;span class="s2"&gt;}},&lt;/span&gt;
&lt;span class="s2"&gt;year={{&lt;/span&gt;&lt;span class="si"&gt;{year}&lt;/span&gt;&lt;span class="s2"&gt;}},&lt;/span&gt;
&lt;span class="s2"&gt;volume={{&lt;/span&gt;&lt;span class="si"&gt;{volume}&lt;/span&gt;&lt;span class="s2"&gt;}},&lt;/span&gt;
&lt;span class="s2"&gt;journal={{&lt;/span&gt;&lt;span class="se"&gt;\\&lt;/span&gt;&lt;span class="si"&gt;{lowercasejournal}&lt;/span&gt;&lt;span class="s2"&gt;}}&lt;/span&gt;
&lt;span class="s2"&gt;}}&amp;quot;&amp;quot;&amp;quot;&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Of course, it's necessary to wrangle the data again for the appropriate
author list formatting for bibtex:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="k"&gt;def&lt;/span&gt; &lt;span class="nf"&gt;wrangleauthors&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;authorlist&lt;/span&gt;&lt;span class="p"&gt;):&lt;/span&gt;
&lt;span class="w"&gt;    &lt;/span&gt;&lt;span class="sd"&gt;&amp;quot;&amp;quot;&amp;quot; Fit the author list into a bibtex-friendly format.&lt;/span&gt;
&lt;span class="sd"&gt;    Not the cleanest hack, since we need to allow for single-name&lt;/span&gt;
&lt;span class="sd"&gt;    authors (e.g., astropy collaboration, Planck collaboration, etc.)&lt;/span&gt;
&lt;span class="sd"&gt;    The triple braces are needed because TeX uses them&amp;quot;&amp;quot;&amp;quot;&lt;/span&gt;
    &lt;span class="n"&gt;splita&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="p"&gt;[[&lt;/span&gt;&lt;span class="n"&gt;b&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;strip&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt; &lt;span class="k"&gt;for&lt;/span&gt; &lt;span class="n"&gt;b&lt;/span&gt; &lt;span class="ow"&gt;in&lt;/span&gt; &lt;span class="n"&gt;a&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;split&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;,&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;)]&lt;/span&gt; &lt;span class="k"&gt;for&lt;/span&gt; &lt;span class="n"&gt;a&lt;/span&gt; &lt;span class="ow"&gt;in&lt;/span&gt; &lt;span class="n"&gt;authorlist&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt;
    &lt;span class="n"&gt;bracketed&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="sa"&gt;u&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;{{&lt;/span&gt;&lt;span class="si"&gt;{}&lt;/span&gt;&lt;span class="s1"&gt;}}, &lt;/span&gt;&lt;span class="si"&gt;{}&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;format&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;a&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="p"&gt;],&lt;/span&gt; &lt;span class="n"&gt;a&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;replace&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot; &amp;quot;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;~&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;))&lt;/span&gt;
                 &lt;span class="k"&gt;if&lt;/span&gt; &lt;span class="nb"&gt;len&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;a&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="o"&gt;&amp;gt;&lt;/span&gt; &lt;span class="mi"&gt;1&lt;/span&gt;
                 &lt;span class="k"&gt;else&lt;/span&gt; &lt;span class="sa"&gt;u&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;{{&lt;/span&gt;&lt;span class="si"&gt;{}&lt;/span&gt;&lt;span class="s1"&gt;}}&amp;#39;&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;format&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;a&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="p"&gt;])&lt;/span&gt;
                 &lt;span class="k"&gt;for&lt;/span&gt; &lt;span class="n"&gt;a&lt;/span&gt; &lt;span class="ow"&gt;in&lt;/span&gt; &lt;span class="n"&gt;splita&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt;
    &lt;span class="k"&gt;return&lt;/span&gt; &lt;span class="sa"&gt;u&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot; and &amp;quot;&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;join&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;bracketed&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="n"&gt;wrangleauthors&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;datalist&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="p"&gt;][&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;author&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;])&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;pre class="literal-block"&gt;
u&amp;quot;{Fallscheer}, C. and {Reid}, M.~A. and {Di Francesco}, J. and {Martin}, P.~G. and {Hill}, T. and {Hennemann}, M. and {Nguyen-Luong}, Q. and {Motte}, F. and {Men'shchikov}, A. and {Andrxe9}, Ph. and {Ward-Thompson}, D. and {Griffin}, M. and {Kirk}, J. and {Konyves}, V. and {Rygl}, K.~L.~J. and {Sadavoy}, S. and {Sauvage}, M. and {Schneider}, N. and {Anderson}, L.~D. and {Benedettini}, M. and {Bernard}, J.~-P. and {Bontemps}, S. and {Ginsburg}, A. and {Molinari}, S. and {Polychroni}, D. and {Rivera-Ingraham}, A. and {Roussel}, H. and {Testi}, L. and {White}, G. and {Williams}, J.~P. and {Wilson}, C.~D. and {Wong}, M. and {Zavagno}, A.&amp;quot;
&lt;/pre&gt;
&lt;p&gt;Now we can start looping through, performing checks for article status,
and making bibentries. We'll use python's &lt;tt class="docutils literal"&gt;dateutils.parse&lt;/tt&gt; to turn
month numbers into names&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="kn"&gt;import&lt;/span&gt; &lt;span class="nn"&gt;dateutil.parser&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="k"&gt;for&lt;/span&gt; &lt;span class="n"&gt;d&lt;/span&gt; &lt;span class="ow"&gt;in&lt;/span&gt; &lt;span class="n"&gt;datalist&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
    &lt;span class="n"&gt;d&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;bibtexauthors&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;wrangleauthors&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;d&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;author&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;])&lt;/span&gt;

    &lt;span class="c1"&gt;# pubdates don&amp;#39;t include days, and sometimes don&amp;#39;t include months,&lt;/span&gt;
    &lt;span class="c1"&gt;# so we have to be careful&lt;/span&gt;
    &lt;span class="n"&gt;d&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;month&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;dateutil&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;parser&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;parse&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;d&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;pubdate&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;][:&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="mi"&gt;3&lt;/span&gt;&lt;span class="p"&gt;])&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;strftime&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;%B&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
                  &lt;span class="k"&gt;if&lt;/span&gt; &lt;span class="n"&gt;d&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;pubdate&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;][&lt;/span&gt;&lt;span class="mi"&gt;5&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="mi"&gt;7&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt; &lt;span class="o"&gt;!=&lt;/span&gt; &lt;span class="s1"&gt;&amp;#39;00&amp;#39;&lt;/span&gt;
                  &lt;span class="k"&gt;else&lt;/span&gt; &lt;span class="s2"&gt;&amp;quot;&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;

    &lt;span class="c1"&gt;# To make the standard macros, e.g. \apj, \aa&lt;/span&gt;
    &lt;span class="n"&gt;d&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;lowercasejournal&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;d&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;bibstem&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;][&lt;/span&gt;&lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;lower&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;
    &lt;span class="c1"&gt;# list -&amp;gt; string&lt;/span&gt;
    &lt;span class="n"&gt;d&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;titlestring&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;d&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;title&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;][&lt;/span&gt;&lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt;

    &lt;span class="c1"&gt;# need to make sure there is something to put in the volume field&lt;/span&gt;
    &lt;span class="n"&gt;d&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;volume&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;d&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;volume&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt; &lt;span class="k"&gt;if&lt;/span&gt; &lt;span class="s1"&gt;&amp;#39;volume&amp;#39;&lt;/span&gt; &lt;span class="ow"&gt;in&lt;/span&gt; &lt;span class="n"&gt;d&lt;/span&gt; &lt;span class="k"&gt;else&lt;/span&gt; &lt;span class="s1"&gt;&amp;#39;&amp;#39;&lt;/span&gt;

    &lt;span class="c1"&gt;# tagname is [First author&amp;#39;s last name][year]&lt;/span&gt;
    &lt;span class="n"&gt;d&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;tagname&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;d&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;author&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;][&lt;/span&gt;&lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;split&lt;/span&gt;&lt;span class="p"&gt;()[&lt;/span&gt;&lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;strip&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;,&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="o"&gt;+&lt;/span&gt; &lt;span class="n"&gt;d&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;year&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="n"&gt;bibdata&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="s2"&gt;&amp;quot;&amp;quot;&lt;/span&gt;
&lt;span class="k"&gt;for&lt;/span&gt; &lt;span class="n"&gt;d&lt;/span&gt; &lt;span class="ow"&gt;in&lt;/span&gt; &lt;span class="n"&gt;datalist&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
    &lt;span class="k"&gt;if&lt;/span&gt; &lt;span class="s1"&gt;&amp;#39;ARTICLE&amp;#39;&lt;/span&gt; &lt;span class="ow"&gt;in&lt;/span&gt; &lt;span class="n"&gt;d&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;property&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt; &lt;span class="ow"&gt;or&lt;/span&gt; &lt;span class="s1"&gt;&amp;#39;EPRINT&amp;#39;&lt;/span&gt; &lt;span class="ow"&gt;in&lt;/span&gt; &lt;span class="n"&gt;d&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;property&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;]:&lt;/span&gt;
        &lt;span class="n"&gt;bibdata&lt;/span&gt; &lt;span class="o"&gt;+=&lt;/span&gt; &lt;span class="n"&gt;bibfmt&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;format&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="o"&gt;**&lt;/span&gt;&lt;span class="n"&gt;d&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="o"&gt;+&lt;/span&gt; &lt;span class="s2"&gt;&amp;quot;&lt;/span&gt;&lt;span class="se"&gt;\n\n&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Now this data can be saved to a bibliography file and parsed by LaTeX.&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="kn"&gt;import&lt;/span&gt; &lt;span class="nn"&gt;codecs&lt;/span&gt; &lt;span class="c1"&gt;# for writing unicode&lt;/span&gt;

&lt;span class="k"&gt;with&lt;/span&gt; &lt;span class="n"&gt;codecs&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;open&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;mypapers.bib&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;w&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="n"&gt;encoding&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;utf8&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="k"&gt;as&lt;/span&gt; &lt;span class="n"&gt;f&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
    &lt;span class="n"&gt;f&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;write&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;bibdata&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Future work:&lt;/p&gt;
&lt;ul class="simple"&gt;
&lt;li&gt;Verify the bibtex&lt;/li&gt;
&lt;li&gt;Generate the CV LaTeX and compile it&lt;/li&gt;
&lt;/ul&gt;
&lt;/div&gt;
</content><category term="misc"></category><category term="python"></category></entry><entry><title>My favorite Splatalogue queries</title><link href="https://keflavich.github.io/blog/my-favorite-splatalogue-queries.html" rel="alternate"></link><published>2013-08-05T10:37:59-06:00</published><updated>2013-08-05T10:37:59-06:00</updated><author><name>Adam Ginsburg</name></author><id>tag:keflavich.github.io,2013-08-05:/blog/my-favorite-splatalogue-queries.html</id><summary type="html">&lt;p&gt;I tend to be most interested in low-energy molecular lines: CO, NH&lt;sub&gt;3&lt;/sub&gt;, and
H&lt;sub&gt;2&lt;/sub&gt;CO being the main candidates.&lt;/p&gt;
&lt;p&gt;Note: Splatalogue has made some recent changes to their returned tables, partly
per my recommendations.  The code below has been update to reflect these
changes.&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="o"&gt;&amp;gt;&amp;gt;&amp;gt;&lt;/span&gt; &lt;span class="kn"&gt;from&lt;/span&gt; &lt;span class="nn"&gt;astropy&lt;/span&gt; &lt;span class="kn"&gt;import&lt;/span&gt; &lt;span class="n"&gt;units …&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;</summary><content type="html">&lt;p&gt;I tend to be most interested in low-energy molecular lines: CO, NH&lt;sub&gt;3&lt;/sub&gt;, and
H&lt;sub&gt;2&lt;/sub&gt;CO being the main candidates.&lt;/p&gt;
&lt;p&gt;Note: Splatalogue has made some recent changes to their returned tables, partly
per my recommendations.  The code below has been update to reflect these
changes.&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="o"&gt;&amp;gt;&amp;gt;&amp;gt;&lt;/span&gt; &lt;span class="kn"&gt;from&lt;/span&gt; &lt;span class="nn"&gt;astropy&lt;/span&gt; &lt;span class="kn"&gt;import&lt;/span&gt; &lt;span class="n"&gt;units&lt;/span&gt; &lt;span class="k"&gt;as&lt;/span&gt; &lt;span class="n"&gt;u&lt;/span&gt;
&lt;span class="o"&gt;&amp;gt;&amp;gt;&amp;gt;&lt;/span&gt; &lt;span class="kn"&gt;from&lt;/span&gt; &lt;span class="nn"&gt;astroquery.splatalogue&lt;/span&gt; &lt;span class="kn"&gt;import&lt;/span&gt; &lt;span class="n"&gt;Splatalogue&lt;/span&gt;
&lt;span class="o"&gt;&amp;gt;&amp;gt;&amp;gt;&lt;/span&gt; &lt;span class="n"&gt;S&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;Splatalogue&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;energy_max&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="mi"&gt;500&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;
&lt;span class="o"&gt;...&lt;/span&gt;    &lt;span class="n"&gt;energy_type&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;eu_k&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="n"&gt;energy_levels&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;el4&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;],&lt;/span&gt;
&lt;span class="o"&gt;...&lt;/span&gt;    &lt;span class="n"&gt;line_strengths&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;ls4&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;],&lt;/span&gt;
&lt;span class="o"&gt;...&lt;/span&gt;    &lt;span class="n"&gt;only_NRAO_recommended&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="kc"&gt;True&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="n"&gt;noHFS&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="kc"&gt;True&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="o"&gt;&amp;gt;&amp;gt;&amp;gt;&lt;/span&gt; &lt;span class="k"&gt;def&lt;/span&gt; &lt;span class="nf"&gt;trimmed_query&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="o"&gt;*&lt;/span&gt;&lt;span class="n"&gt;args&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="o"&gt;**&lt;/span&gt;&lt;span class="n"&gt;kwargs&lt;/span&gt;&lt;span class="p"&gt;):&lt;/span&gt;
&lt;span class="o"&gt;...&lt;/span&gt;     &lt;span class="n"&gt;columns&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;Species&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;Chemical Name&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;Resolved QNs&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;Freq-GHz&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;
&lt;span class="o"&gt;...&lt;/span&gt;                &lt;span class="s1"&gt;&amp;#39;Meas Freq-GHz&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;Log&amp;lt;sub&amp;gt;10&amp;lt;/sub&amp;gt; (A&amp;lt;sub&amp;gt;ij&amp;lt;/sub&amp;gt;)&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;
&lt;span class="o"&gt;...&lt;/span&gt;                &lt;span class="s1"&gt;&amp;#39;E_U (K)&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="o"&gt;...&lt;/span&gt;     &lt;span class="n"&gt;table&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;S&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;query_lines&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="o"&gt;*&lt;/span&gt;&lt;span class="n"&gt;args&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="o"&gt;**&lt;/span&gt;&lt;span class="n"&gt;kwargs&lt;/span&gt;&lt;span class="p"&gt;)[&lt;/span&gt;&lt;span class="n"&gt;columns&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt;
&lt;span class="o"&gt;...&lt;/span&gt;     &lt;span class="n"&gt;table&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;rename_column&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;Log&amp;lt;sub&amp;gt;10&amp;lt;/sub&amp;gt; (A&amp;lt;sub&amp;gt;ij&amp;lt;/sub&amp;gt;)&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;log10(Aij)&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="o"&gt;...&lt;/span&gt;     &lt;span class="n"&gt;table&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;rename_column&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;E_U (K)&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;EU_K&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="o"&gt;...&lt;/span&gt;     &lt;span class="n"&gt;table&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;rename_column&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;Resolved QNs&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;QNs&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="o"&gt;...&lt;/span&gt;     &lt;span class="n"&gt;table&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;sort&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;EU_K&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="o"&gt;...&lt;/span&gt;     &lt;span class="k"&gt;return&lt;/span&gt; &lt;span class="n"&gt;table&lt;/span&gt;
&lt;span class="o"&gt;&amp;gt;&amp;gt;&amp;gt;&lt;/span&gt; &lt;span class="n"&gt;trimmed_query&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="o"&gt;*&lt;/span&gt;&lt;span class="n"&gt;u&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;GHz&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="mi"&gt;30&lt;/span&gt;&lt;span class="o"&gt;*&lt;/span&gt;&lt;span class="n"&gt;u&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;GHz&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;
&lt;span class="o"&gt;...&lt;/span&gt;     &lt;span class="n"&gt;chemical_name&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;(H2.*Formaldehyde)|( HDCO )&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;
&lt;span class="o"&gt;...&lt;/span&gt;     &lt;span class="n"&gt;energy_max&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="mi"&gt;50&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;pprint&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;
&lt;span class="n"&gt;Species&lt;/span&gt; &lt;span class="n"&gt;Chemical&lt;/span&gt; &lt;span class="n"&gt;Name&lt;/span&gt;      &lt;span class="n"&gt;QNs&lt;/span&gt;      &lt;span class="n"&gt;Freq&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;GHz&lt;/span&gt; &lt;span class="n"&gt;Meas&lt;/span&gt; &lt;span class="n"&gt;Freq&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;GHz&lt;/span&gt; &lt;span class="n"&gt;log10&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;Aij&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;   &lt;span class="n"&gt;EU_K&lt;/span&gt;
&lt;span class="o"&gt;-------&lt;/span&gt; &lt;span class="o"&gt;-------------&lt;/span&gt; &lt;span class="o"&gt;-------------&lt;/span&gt; &lt;span class="o"&gt;--------&lt;/span&gt; &lt;span class="o"&gt;-------------&lt;/span&gt; &lt;span class="o"&gt;----------&lt;/span&gt; &lt;span class="o"&gt;--------&lt;/span&gt;
   &lt;span class="n"&gt;HDCO&lt;/span&gt;  &lt;span class="n"&gt;Formaldehyde&lt;/span&gt; &lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;       &lt;span class="o"&gt;--&lt;/span&gt;       &lt;span class="mf"&gt;5.34614&lt;/span&gt;   &lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="mf"&gt;8.31616&lt;/span&gt; &lt;span class="mf"&gt;11.18287&lt;/span&gt;
 &lt;span class="n"&gt;H2C18O&lt;/span&gt;  &lt;span class="n"&gt;Formaldehyde&lt;/span&gt; &lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;   &lt;span class="mf"&gt;4.3888&lt;/span&gt;        &lt;span class="mf"&gt;4.3888&lt;/span&gt;   &lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="mf"&gt;8.22052&lt;/span&gt; &lt;span class="mf"&gt;15.30187&lt;/span&gt;
 &lt;span class="n"&gt;H213CO&lt;/span&gt;  &lt;span class="n"&gt;Formaldehyde&lt;/span&gt; &lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;       &lt;span class="o"&gt;--&lt;/span&gt;       &lt;span class="mf"&gt;4.59309&lt;/span&gt;   &lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="mf"&gt;8.51332&lt;/span&gt; &lt;span class="mf"&gt;15.34693&lt;/span&gt;
   &lt;span class="n"&gt;H2CO&lt;/span&gt;  &lt;span class="n"&gt;Formaldehyde&lt;/span&gt; &lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;  &lt;span class="mf"&gt;4.82966&lt;/span&gt;            &lt;span class="o"&gt;--&lt;/span&gt;   &lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="mf"&gt;8.44801&lt;/span&gt; &lt;span class="mf"&gt;15.39497&lt;/span&gt;
   &lt;span class="n"&gt;HDCO&lt;/span&gt;  &lt;span class="n"&gt;Formaldehyde&lt;/span&gt; &lt;span class="mi"&gt;2&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="mi"&gt;2&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="mi"&gt;2&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;       &lt;span class="o"&gt;--&lt;/span&gt;      &lt;span class="mf"&gt;16.03787&lt;/span&gt;   &lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="mf"&gt;7.36194&lt;/span&gt; &lt;span class="mf"&gt;17.62746&lt;/span&gt;
 &lt;span class="n"&gt;H2C18O&lt;/span&gt;  &lt;span class="n"&gt;Formaldehyde&lt;/span&gt; &lt;span class="mi"&gt;2&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="mi"&gt;2&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="mi"&gt;2&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="mf"&gt;13.16596&lt;/span&gt;      &lt;span class="mf"&gt;13.16596&lt;/span&gt;   &lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="mf"&gt;6.86839&lt;/span&gt; &lt;span class="mf"&gt;22.17455&lt;/span&gt;
 &lt;span class="n"&gt;H213CO&lt;/span&gt;  &lt;span class="n"&gt;Formaldehyde&lt;/span&gt; &lt;span class="mi"&gt;2&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="mi"&gt;2&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="mi"&gt;2&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;       &lt;span class="o"&gt;--&lt;/span&gt;       &lt;span class="mf"&gt;13.7788&lt;/span&gt;   &lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="mf"&gt;7.55919&lt;/span&gt; &lt;span class="mf"&gt;22.38424&lt;/span&gt;
   &lt;span class="n"&gt;H2CO&lt;/span&gt;  &lt;span class="n"&gt;Formaldehyde&lt;/span&gt; &lt;span class="mi"&gt;2&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="mi"&gt;2&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="mi"&gt;2&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="mf"&gt;14.48848&lt;/span&gt;            &lt;span class="o"&gt;--&lt;/span&gt;   &lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="mf"&gt;7.49383&lt;/span&gt; &lt;span class="mf"&gt;22.61771&lt;/span&gt;
 &lt;span class="n"&gt;H2C18O&lt;/span&gt;  &lt;span class="n"&gt;Formaldehyde&lt;/span&gt; &lt;span class="mi"&gt;3&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="mi"&gt;2&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="mi"&gt;3&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="mi"&gt;3&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="mf"&gt;26.33012&lt;/span&gt;      &lt;span class="mf"&gt;26.33014&lt;/span&gt;   &lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="mf"&gt;6.03008&lt;/span&gt; &lt;span class="mf"&gt;32.48204&lt;/span&gt;
 &lt;span class="n"&gt;H213CO&lt;/span&gt;  &lt;span class="n"&gt;Formaldehyde&lt;/span&gt; &lt;span class="mi"&gt;3&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="mi"&gt;2&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="mi"&gt;3&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="mi"&gt;3&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;       &lt;span class="o"&gt;--&lt;/span&gt;      &lt;span class="mf"&gt;27.55567&lt;/span&gt;   &lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="mf"&gt;6.95712&lt;/span&gt;  &lt;span class="mf"&gt;32.9381&lt;/span&gt;
   &lt;span class="n"&gt;H2CO&lt;/span&gt;  &lt;span class="n"&gt;Formaldehyde&lt;/span&gt; &lt;span class="mi"&gt;3&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="mi"&gt;2&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="mi"&gt;3&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="mi"&gt;3&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;       &lt;span class="o"&gt;--&lt;/span&gt;       &lt;span class="mf"&gt;28.9748&lt;/span&gt;   &lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="mf"&gt;6.89179&lt;/span&gt; &lt;span class="mf"&gt;33.44949&lt;/span&gt;


&lt;span class="o"&gt;&amp;gt;&amp;gt;&amp;gt;&lt;/span&gt; &lt;span class="n"&gt;trimmed_query&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="mi"&gt;100&lt;/span&gt;&lt;span class="o"&gt;*&lt;/span&gt;&lt;span class="n"&gt;u&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;GHz&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="mi"&gt;400&lt;/span&gt;&lt;span class="o"&gt;*&lt;/span&gt;&lt;span class="n"&gt;u&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;GHz&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;
&lt;span class="o"&gt;...&lt;/span&gt;     &lt;span class="n"&gt;chemical_name&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;Carbon Monoxide&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;
&lt;span class="o"&gt;...&lt;/span&gt;     &lt;span class="n"&gt;energy_max&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="mi"&gt;50&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;pprint&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;
&lt;span class="n"&gt;Species&lt;/span&gt;  &lt;span class="n"&gt;Chemical&lt;/span&gt; &lt;span class="n"&gt;Name&lt;/span&gt;   &lt;span class="n"&gt;QNs&lt;/span&gt;   &lt;span class="n"&gt;Freq&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;GHz&lt;/span&gt; &lt;span class="n"&gt;Meas&lt;/span&gt; &lt;span class="n"&gt;Freq&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;GHz&lt;/span&gt; &lt;span class="n"&gt;log10&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;Aij&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;   &lt;span class="n"&gt;EU_K&lt;/span&gt;
&lt;span class="o"&gt;-------&lt;/span&gt; &lt;span class="o"&gt;---------------&lt;/span&gt; &lt;span class="o"&gt;-----&lt;/span&gt; &lt;span class="o"&gt;---------&lt;/span&gt; &lt;span class="o"&gt;-------------&lt;/span&gt; &lt;span class="o"&gt;----------&lt;/span&gt; &lt;span class="o"&gt;--------&lt;/span&gt;
   &lt;span class="n"&gt;C18O&lt;/span&gt; &lt;span class="n"&gt;Carbon&lt;/span&gt; &lt;span class="n"&gt;Monoxide&lt;/span&gt;   &lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="mi"&gt;0&lt;/span&gt; &lt;span class="mf"&gt;109.78218&lt;/span&gt;     &lt;span class="mf"&gt;109.78218&lt;/span&gt;   &lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="mf"&gt;7.20058&lt;/span&gt;  &lt;span class="mf"&gt;5.26868&lt;/span&gt;
&lt;span class="mi"&gt;13&lt;/span&gt;&lt;span class="n"&gt;COv&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="mi"&gt;0&lt;/span&gt; &lt;span class="n"&gt;Carbon&lt;/span&gt; &lt;span class="n"&gt;Monoxide&lt;/span&gt;   &lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="mi"&gt;0&lt;/span&gt; &lt;span class="mf"&gt;110.20135&lt;/span&gt;            &lt;span class="o"&gt;--&lt;/span&gt;   &lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="mf"&gt;7.49946&lt;/span&gt;   &lt;span class="mf"&gt;5.2888&lt;/span&gt;
   &lt;span class="n"&gt;C17O&lt;/span&gt; &lt;span class="n"&gt;Carbon&lt;/span&gt; &lt;span class="n"&gt;Monoxide&lt;/span&gt; &lt;span class="n"&gt;J&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="mi"&gt;0&lt;/span&gt; &lt;span class="mf"&gt;112.35928&lt;/span&gt;     &lt;span class="mf"&gt;112.35928&lt;/span&gt;   &lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="mf"&gt;7.17404&lt;/span&gt;  &lt;span class="mf"&gt;5.39236&lt;/span&gt;
  &lt;span class="n"&gt;COv&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="mi"&gt;0&lt;/span&gt; &lt;span class="n"&gt;Carbon&lt;/span&gt; &lt;span class="n"&gt;Monoxide&lt;/span&gt;   &lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="mi"&gt;0&lt;/span&gt;  &lt;span class="mf"&gt;115.2712&lt;/span&gt;      &lt;span class="mf"&gt;115.2712&lt;/span&gt;   &lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="mf"&gt;7.14236&lt;/span&gt;  &lt;span class="mf"&gt;5.53211&lt;/span&gt;
   &lt;span class="n"&gt;C18O&lt;/span&gt; &lt;span class="n"&gt;Carbon&lt;/span&gt; &lt;span class="n"&gt;Monoxide&lt;/span&gt;   &lt;span class="mi"&gt;2&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="mi"&gt;1&lt;/span&gt; &lt;span class="mf"&gt;219.56036&lt;/span&gt;     &lt;span class="mf"&gt;219.56036&lt;/span&gt;   &lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="mf"&gt;6.21833&lt;/span&gt; &lt;span class="mf"&gt;15.80595&lt;/span&gt;
&lt;span class="mi"&gt;13&lt;/span&gt;&lt;span class="n"&gt;COv&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="mi"&gt;0&lt;/span&gt; &lt;span class="n"&gt;Carbon&lt;/span&gt; &lt;span class="n"&gt;Monoxide&lt;/span&gt;   &lt;span class="mi"&gt;2&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="mi"&gt;1&lt;/span&gt; &lt;span class="mf"&gt;220.39868&lt;/span&gt;            &lt;span class="o"&gt;--&lt;/span&gt;   &lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="mf"&gt;6.51752&lt;/span&gt; &lt;span class="mf"&gt;15.86618&lt;/span&gt;
   &lt;span class="n"&gt;C17O&lt;/span&gt; &lt;span class="n"&gt;Carbon&lt;/span&gt; &lt;span class="n"&gt;Monoxide&lt;/span&gt; &lt;span class="n"&gt;J&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="mi"&gt;2&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="mi"&gt;1&lt;/span&gt; &lt;span class="mf"&gt;224.71437&lt;/span&gt;     &lt;span class="mf"&gt;224.71439&lt;/span&gt;   &lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="mf"&gt;6.19179&lt;/span&gt; &lt;span class="mf"&gt;16.17703&lt;/span&gt;
  &lt;span class="n"&gt;COv&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="mi"&gt;0&lt;/span&gt; &lt;span class="n"&gt;Carbon&lt;/span&gt; &lt;span class="n"&gt;Monoxide&lt;/span&gt;   &lt;span class="mi"&gt;2&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="mi"&gt;1&lt;/span&gt;   &lt;span class="mf"&gt;230.538&lt;/span&gt;       &lt;span class="mf"&gt;230.538&lt;/span&gt;   &lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="mf"&gt;6.16011&lt;/span&gt; &lt;span class="mf"&gt;16.59608&lt;/span&gt;
   &lt;span class="n"&gt;C18O&lt;/span&gt; &lt;span class="n"&gt;Carbon&lt;/span&gt; &lt;span class="n"&gt;Monoxide&lt;/span&gt;   &lt;span class="mi"&gt;3&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="mi"&gt;2&lt;/span&gt; &lt;span class="mf"&gt;329.33055&lt;/span&gt;     &lt;span class="mf"&gt;329.33055&lt;/span&gt;   &lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="mf"&gt;5.66014&lt;/span&gt;  &lt;span class="mf"&gt;31.6116&lt;/span&gt;
&lt;span class="mi"&gt;13&lt;/span&gt;&lt;span class="n"&gt;COv&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="mi"&gt;0&lt;/span&gt; &lt;span class="n"&gt;Carbon&lt;/span&gt; &lt;span class="n"&gt;Monoxide&lt;/span&gt;   &lt;span class="mi"&gt;3&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="mi"&gt;2&lt;/span&gt; &lt;span class="mf"&gt;330.58797&lt;/span&gt;            &lt;span class="o"&gt;--&lt;/span&gt;   &lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="mf"&gt;5.95976&lt;/span&gt; &lt;span class="mf"&gt;31.73179&lt;/span&gt;
   &lt;span class="n"&gt;C17O&lt;/span&gt; &lt;span class="n"&gt;Carbon&lt;/span&gt; &lt;span class="n"&gt;Monoxide&lt;/span&gt; &lt;span class="n"&gt;J&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="mi"&gt;3&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="mi"&gt;2&lt;/span&gt;  &lt;span class="mf"&gt;337.0611&lt;/span&gt;     &lt;span class="mf"&gt;337.06113&lt;/span&gt;    &lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="mf"&gt;5.6336&lt;/span&gt;  &lt;span class="mf"&gt;32.3538&lt;/span&gt;
  &lt;span class="n"&gt;COv&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="mi"&gt;0&lt;/span&gt; &lt;span class="n"&gt;Carbon&lt;/span&gt; &lt;span class="n"&gt;Monoxide&lt;/span&gt;   &lt;span class="mi"&gt;3&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="mi"&gt;2&lt;/span&gt; &lt;span class="mf"&gt;345.79599&lt;/span&gt;     &lt;span class="mf"&gt;345.79599&lt;/span&gt;   &lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="mf"&gt;5.60192&lt;/span&gt; &lt;span class="mf"&gt;33.19169&lt;/span&gt;

&lt;span class="o"&gt;&amp;gt;&amp;gt;&amp;gt;&lt;/span&gt; &lt;span class="n"&gt;trimmed_query&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="o"&gt;*&lt;/span&gt;&lt;span class="n"&gt;u&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;MHz&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="mi"&gt;2&lt;/span&gt;&lt;span class="o"&gt;*&lt;/span&gt;&lt;span class="n"&gt;u&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;GHz&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;
&lt;span class="o"&gt;...&lt;/span&gt;     &lt;span class="n"&gt;chemical_name&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39; H2CO .*Formaldehyde&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="n"&gt;energy_max&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="mi"&gt;75&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;
&lt;span class="o"&gt;...&lt;/span&gt;     &lt;span class="n"&gt;energy_type&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;eu_k&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;pprint&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;
&lt;span class="n"&gt;Species&lt;/span&gt; &lt;span class="n"&gt;Chemical&lt;/span&gt; &lt;span class="n"&gt;Name&lt;/span&gt;      &lt;span class="n"&gt;QNs&lt;/span&gt;      &lt;span class="n"&gt;Freq&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;GHz&lt;/span&gt; &lt;span class="n"&gt;Meas&lt;/span&gt; &lt;span class="n"&gt;Freq&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;GHz&lt;/span&gt; &lt;span class="n"&gt;log10&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;Aij&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;   &lt;span class="n"&gt;EU_K&lt;/span&gt;
&lt;span class="o"&gt;-------&lt;/span&gt; &lt;span class="o"&gt;-------------&lt;/span&gt; &lt;span class="o"&gt;-------------&lt;/span&gt; &lt;span class="o"&gt;--------&lt;/span&gt; &lt;span class="o"&gt;-------------&lt;/span&gt; &lt;span class="o"&gt;----------&lt;/span&gt; &lt;span class="o"&gt;--------&lt;/span&gt;
   &lt;span class="n"&gt;H2CO&lt;/span&gt;  &lt;span class="n"&gt;Formaldehyde&lt;/span&gt; &lt;span class="mi"&gt;2&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="mi"&gt;2&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="mi"&gt;2&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="mi"&gt;2&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;       &lt;span class="o"&gt;--&lt;/span&gt;       &lt;span class="mf"&gt;0.07114&lt;/span&gt;  &lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="mf"&gt;13.81846&lt;/span&gt;   &lt;span class="mf"&gt;57.612&lt;/span&gt;
   &lt;span class="n"&gt;H2CO&lt;/span&gt;  &lt;span class="n"&gt;Formaldehyde&lt;/span&gt; &lt;span class="mi"&gt;3&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="mi"&gt;2&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="mi"&gt;3&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="mi"&gt;2&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="mi"&gt;2&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;       &lt;span class="o"&gt;--&lt;/span&gt;       &lt;span class="mf"&gt;0.35557&lt;/span&gt;  &lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="mf"&gt;12.02319&lt;/span&gt; &lt;span class="mf"&gt;68.11082&lt;/span&gt;


&lt;span class="o"&gt;&amp;gt;&amp;gt;&amp;gt;&lt;/span&gt; &lt;span class="n"&gt;trimmed_query&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="mi"&gt;20&lt;/span&gt;&lt;span class="o"&gt;*&lt;/span&gt;&lt;span class="n"&gt;u&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;MHz&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="mi"&gt;25&lt;/span&gt;&lt;span class="o"&gt;*&lt;/span&gt;&lt;span class="n"&gt;u&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;GHz&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="n"&gt;chemical_name&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39; NH3 &amp;#39;&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;pprint&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;
&lt;span class="n"&gt;Species&lt;/span&gt; &lt;span class="n"&gt;Chemical&lt;/span&gt; &lt;span class="n"&gt;Name&lt;/span&gt;      &lt;span class="n"&gt;QNs&lt;/span&gt;       &lt;span class="n"&gt;Freq&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;GHz&lt;/span&gt; &lt;span class="n"&gt;Meas&lt;/span&gt; &lt;span class="n"&gt;Freq&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;GHz&lt;/span&gt; &lt;span class="n"&gt;log10&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;Aij&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;    &lt;span class="n"&gt;EU_K&lt;/span&gt;
&lt;span class="o"&gt;-------&lt;/span&gt; &lt;span class="o"&gt;-------------&lt;/span&gt; &lt;span class="o"&gt;--------------&lt;/span&gt; &lt;span class="o"&gt;--------&lt;/span&gt; &lt;span class="o"&gt;-------------&lt;/span&gt; &lt;span class="o"&gt;----------&lt;/span&gt; &lt;span class="o"&gt;---------&lt;/span&gt;
 &lt;span class="n"&gt;NH3v&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="mi"&gt;0&lt;/span&gt;       &lt;span class="n"&gt;Ammonia&lt;/span&gt;  &lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;&lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="n"&gt;a&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;&lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="n"&gt;s&lt;/span&gt; &lt;span class="mf"&gt;23.69447&lt;/span&gt;       &lt;span class="mf"&gt;23.6945&lt;/span&gt;   &lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="mf"&gt;6.43769&lt;/span&gt;  &lt;span class="mf"&gt;24.40492&lt;/span&gt;
 &lt;span class="n"&gt;NH3v&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="mi"&gt;0&lt;/span&gt;       &lt;span class="n"&gt;Ammonia&lt;/span&gt;  &lt;span class="mi"&gt;2&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="mi"&gt;2&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;&lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="n"&gt;a&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="mi"&gt;2&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="mi"&gt;2&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;&lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="n"&gt;s&lt;/span&gt;  &lt;span class="mf"&gt;23.7226&lt;/span&gt;      &lt;span class="mf"&gt;23.72263&lt;/span&gt;   &lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="mf"&gt;6.31125&lt;/span&gt;   &lt;span class="mf"&gt;65.5867&lt;/span&gt;
 &lt;span class="n"&gt;NH3v&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="mi"&gt;0&lt;/span&gt;       &lt;span class="n"&gt;Ammonia&lt;/span&gt;  &lt;span class="mi"&gt;2&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;&lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="n"&gt;a&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="mi"&gt;2&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;&lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="n"&gt;s&lt;/span&gt; &lt;span class="mf"&gt;23.09885&lt;/span&gt;      &lt;span class="mf"&gt;23.09881&lt;/span&gt;   &lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="mf"&gt;6.94808&lt;/span&gt;   &lt;span class="mf"&gt;81.5904&lt;/span&gt;
 &lt;span class="n"&gt;NH3v&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="mi"&gt;0&lt;/span&gt;       &lt;span class="n"&gt;Ammonia&lt;/span&gt; &lt;span class="mi"&gt;3&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="mi"&gt;3&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;&lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="n"&gt;a&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="mi"&gt;3&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="mi"&gt;3&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;&lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="n"&gt;s&lt;/span&gt; &lt;span class="mf"&gt;23.87008&lt;/span&gt;      &lt;span class="mf"&gt;23.87013&lt;/span&gt;   &lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="mf"&gt;6.25203&lt;/span&gt; &lt;span class="mf"&gt;124.68113&lt;/span&gt;
 &lt;span class="n"&gt;NH3v&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="mi"&gt;0&lt;/span&gt;       &lt;span class="n"&gt;Ammonia&lt;/span&gt;  &lt;span class="mi"&gt;3&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="mi"&gt;2&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;&lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="n"&gt;a&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="mi"&gt;3&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="mi"&gt;2&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;&lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="n"&gt;s&lt;/span&gt; &lt;span class="mf"&gt;22.83422&lt;/span&gt;      &lt;span class="mf"&gt;22.83418&lt;/span&gt;     &lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="mf"&gt;6.662&lt;/span&gt; &lt;span class="mf"&gt;151.33353&lt;/span&gt;
 &lt;span class="n"&gt;NH3v&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="mi"&gt;0&lt;/span&gt;       &lt;span class="n"&gt;Ammonia&lt;/span&gt;  &lt;span class="mi"&gt;3&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;&lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="n"&gt;a&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="mi"&gt;3&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;&lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="n"&gt;s&lt;/span&gt; &lt;span class="mf"&gt;22.23456&lt;/span&gt;       &lt;span class="mf"&gt;22.2345&lt;/span&gt;   &lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="mf"&gt;7.29889&lt;/span&gt; &lt;span class="mf"&gt;167.29666&lt;/span&gt;
 &lt;span class="n"&gt;NH3v&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="mi"&gt;0&lt;/span&gt;       &lt;span class="n"&gt;Ammonia&lt;/span&gt;  &lt;span class="mi"&gt;4&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="mi"&gt;4&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;&lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="n"&gt;a&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="mi"&gt;4&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="mi"&gt;4&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;&lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="n"&gt;s&lt;/span&gt; &lt;span class="mf"&gt;24.13935&lt;/span&gt;      &lt;span class="mf"&gt;24.13942&lt;/span&gt;   &lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="mf"&gt;6.20938&lt;/span&gt; &lt;span class="mf"&gt;201.67106&lt;/span&gt;
 &lt;span class="n"&gt;NH3v&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="mi"&gt;0&lt;/span&gt;       &lt;span class="n"&gt;Ammonia&lt;/span&gt; &lt;span class="mi"&gt;4&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="mi"&gt;3&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;&lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="n"&gt;a&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="mi"&gt;4&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="mi"&gt;3&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;&lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="n"&gt;s&lt;/span&gt; &lt;span class="mf"&gt;22.68835&lt;/span&gt;      &lt;span class="mf"&gt;22.68831&lt;/span&gt;   &lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="mf"&gt;6.54002&lt;/span&gt; &lt;span class="mf"&gt;238.96192&lt;/span&gt;
 &lt;span class="n"&gt;NH3v&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="mi"&gt;0&lt;/span&gt;       &lt;span class="n"&gt;Ammonia&lt;/span&gt;  &lt;span class="mi"&gt;4&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="mi"&gt;2&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;&lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="n"&gt;a&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="mi"&gt;4&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="mi"&gt;2&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;&lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="n"&gt;s&lt;/span&gt; &lt;span class="mf"&gt;21.70341&lt;/span&gt;      &lt;span class="mf"&gt;21.70336&lt;/span&gt;   &lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="mf"&gt;6.95001&lt;/span&gt; &lt;span class="mf"&gt;265.52612&lt;/span&gt;
 &lt;span class="n"&gt;NH3v&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="mi"&gt;0&lt;/span&gt;       &lt;span class="n"&gt;Ammonia&lt;/span&gt;  &lt;span class="mi"&gt;4&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;&lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="n"&gt;a&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="mi"&gt;4&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;&lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="n"&gt;s&lt;/span&gt; &lt;span class="mf"&gt;21.13434&lt;/span&gt;      &lt;span class="mf"&gt;21.13431&lt;/span&gt;   &lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="mf"&gt;7.58659&lt;/span&gt; &lt;span class="mf"&gt;281.43749&lt;/span&gt;
 &lt;span class="n"&gt;NH3v&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="mi"&gt;0&lt;/span&gt;       &lt;span class="n"&gt;Ammonia&lt;/span&gt;  &lt;span class="mi"&gt;5&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="mi"&gt;5&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;&lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="n"&gt;a&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="mi"&gt;5&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="mi"&gt;5&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;&lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="n"&gt;s&lt;/span&gt; &lt;span class="mf"&gt;24.53292&lt;/span&gt;      &lt;span class="mf"&gt;24.53299&lt;/span&gt;    &lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="mf"&gt;6.1706&lt;/span&gt; &lt;span class="mf"&gt;296.53357&lt;/span&gt;
 &lt;span class="n"&gt;NH3v&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="mi"&gt;0&lt;/span&gt;       &lt;span class="n"&gt;Ammonia&lt;/span&gt;  &lt;span class="mi"&gt;5&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="mi"&gt;4&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;&lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="n"&gt;a&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="mi"&gt;5&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="mi"&gt;4&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;&lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="n"&gt;s&lt;/span&gt; &lt;span class="mf"&gt;22.65307&lt;/span&gt;      &lt;span class="mf"&gt;22.65302&lt;/span&gt;   &lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="mf"&gt;6.46829&lt;/span&gt; &lt;span class="mf"&gt;344.46226&lt;/span&gt;
 &lt;span class="n"&gt;NH3v&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="mi"&gt;0&lt;/span&gt;       &lt;span class="n"&gt;Ammonia&lt;/span&gt; &lt;span class="mi"&gt;5&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="mi"&gt;3&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;&lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="n"&gt;a&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="mi"&gt;5&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="mi"&gt;3&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;&lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="n"&gt;s&lt;/span&gt; &lt;span class="mf"&gt;21.28532&lt;/span&gt;      &lt;span class="mf"&gt;21.28528&lt;/span&gt;   &lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="mf"&gt;6.79928&lt;/span&gt;  &lt;span class="mf"&gt;381.6003&lt;/span&gt;
 &lt;span class="n"&gt;NH3v&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="mi"&gt;0&lt;/span&gt;       &lt;span class="n"&gt;Ammonia&lt;/span&gt;  &lt;span class="mi"&gt;5&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="mi"&gt;2&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;&lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="n"&gt;a&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="mi"&gt;5&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="mi"&gt;2&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;&lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="n"&gt;s&lt;/span&gt; &lt;span class="mf"&gt;20.37145&lt;/span&gt;      &lt;span class="mf"&gt;20.37145&lt;/span&gt;   &lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="mf"&gt;7.20859&lt;/span&gt; &lt;span class="mf"&gt;408.05568&lt;/span&gt;
 &lt;span class="n"&gt;NH3v&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="mi"&gt;0&lt;/span&gt;       &lt;span class="n"&gt;Ammonia&lt;/span&gt;  &lt;span class="mi"&gt;5&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;&lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="n"&gt;a&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="mi"&gt;5&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;&lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="n"&gt;s&lt;/span&gt; &lt;span class="mf"&gt;19.83833&lt;/span&gt;      &lt;span class="mf"&gt;19.83835&lt;/span&gt;   &lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="mf"&gt;7.84539&lt;/span&gt; &lt;span class="mf"&gt;423.90259&lt;/span&gt;
 &lt;span class="n"&gt;NH3v&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="mi"&gt;0&lt;/span&gt;       &lt;span class="n"&gt;Ammonia&lt;/span&gt;  &lt;span class="mi"&gt;6&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="mi"&gt;5&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;&lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="n"&gt;a&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="mi"&gt;6&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="mi"&gt;5&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;&lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="n"&gt;s&lt;/span&gt; &lt;span class="mf"&gt;22.73249&lt;/span&gt;      &lt;span class="mf"&gt;22.73243&lt;/span&gt;   &lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="mf"&gt;6.41603&lt;/span&gt; &lt;span class="mf"&gt;467.80451&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
</content><category term="misc"></category></entry><entry><title>PPVI Talk 13: Steve Longmore</title><link href="https://keflavich.github.io/blog/ppvi-talk-13-steve-longmore.html" rel="alternate"></link><published>2013-07-16T18:00:00-06:00</published><updated>2013-07-16T18:00:00-06:00</updated><author><name>Adam Ginsburg</name></author><id>tag:keflavich.github.io,2013-07-16:/blog/ppvi-talk-13-steve-longmore.html</id><summary type="html">&lt;div class="section" id="the-formation-and-early-evolution-of-young-massive-clusters"&gt;
&lt;h2&gt;THE FORMATION AND EARLY EVOLUTION OF YOUNG MASSIVE CLUSTERS&lt;/h2&gt;
&lt;p&gt;S. Longmore (Astrophysics Research Institute, Liverpool John Moores University, United Kingdom),
J. Alves (University of Vienna),
J. Bally (University of Boulder),
N. Bastian (Liverpool John Moores University, United Kingdom),
E. Bressert (CSIRO Astronomy and Space Science),
J. Dale (LMU, Germany),
D …&lt;/p&gt;&lt;/div&gt;</summary><content type="html">&lt;div class="section" id="the-formation-and-early-evolution-of-young-massive-clusters"&gt;
&lt;h2&gt;THE FORMATION AND EARLY EVOLUTION OF YOUNG MASSIVE CLUSTERS&lt;/h2&gt;
&lt;p&gt;S. Longmore (Astrophysics Research Institute, Liverpool John Moores University, United Kingdom),
J. Alves (University of Vienna),
J. Bally (University of Boulder),
N. Bastian (Liverpool John Moores University, United Kingdom),
E. Bressert (CSIRO Astronomy and Space Science),
J. Dale (LMU, Germany),
D. Kruijssen (MPA, Germany),
J. Rathborne (CSIRO Astronomy and Space Science),
L. Testi (ESO, Germany),
A. Stolte (University of Bonn, Argelander Institut, Bonn, Germany)&lt;/p&gt;
&lt;p&gt;We review the formation and early evolution of the most massive (and dense)
young stellar clusters in our Galaxy, and the role this can play in our
understanding of star and planet formation as a whole. We start by reviewing
the global properties and environmental conditions of the known young massive
clusters (YMCs) and their progenitor gas clouds. We then focus on the observed
embedded dense core and (proto)stellar populations within these clusters, and
discuss how such large stellar systems can potentially simultaneously
distinguish between competing cluster formation models and provide the
strongest constraints on the physical origin of the stellar initial mass
function. After reviewing the current theoretical framework for the formation
and evolution of YMCs, we summarise the debate on two key open questions:
infant (im)mortality and the evidence for/against significant age spreads
within YMCs. We then discuss which fraction of all stars and planets, including
our own solar system, may have formed in extreme environmental conditions
(proximity to high-mass stars, high (proto)stellar densities etc) similar to
those found in these clusters, rather than the more benign conditions found in
local, low-mass star formation regions. Finally, we review how the most massive
and dense young clusters can be used as a bridge linking what we learn about
star and planet formation in the nearest-by regions, to starburst systems in
the Local Universe, globular cluster formation and star/planet formation at the
earliest epochs of the universe.&lt;/p&gt;
&lt;/div&gt;
&lt;div class="section" id="intro"&gt;
&lt;h2&gt;Intro&lt;/h2&gt;
&lt;p&gt;We understand low-mass sf; it is atypical&lt;/p&gt;
&lt;dl class="docutils"&gt;
&lt;dt&gt;local SF is atypical&lt;/dt&gt;
&lt;dd&gt;&lt;ul class="first last simple"&gt;
&lt;li&gt;50% of SF in most massive clusters (Lee, Murray, Rahman 2012)&lt;/li&gt;
&lt;li&gt;peak SFR at z=2-3&lt;/li&gt;
&lt;li&gt;most MW stars older than a few Gyr&lt;/li&gt;
&lt;/ul&gt;
&lt;/dd&gt;
&lt;dt&gt;How universal is the SF process?&lt;/dt&gt;
&lt;dd&gt;&lt;ul class="first last simple"&gt;
&lt;li&gt;Does SF care about environment?&lt;/li&gt;
&lt;/ul&gt;
&lt;/dd&gt;
&lt;dt&gt;What are YMCs?&lt;/dt&gt;
&lt;dd&gt;&lt;ul class="first last simple"&gt;
&lt;li&gt;as big as globulars but currently forming&lt;/li&gt;
&lt;/ul&gt;
&lt;/dd&gt;
&lt;dt&gt;Carina: Trumpler 14&lt;/dt&gt;
&lt;dd&gt;&lt;ul class="first last simple"&gt;
&lt;li&gt;association surrounding YMC.  Not YMCAs&lt;/li&gt;
&lt;/ul&gt;
&lt;/dd&gt;
&lt;dt&gt;Why good laboratory?&lt;/dt&gt;
&lt;dd&gt;&lt;ul class="first last simple"&gt;
&lt;li&gt;How do lives differ in isolation vs cluster?&lt;/li&gt;
&lt;/ul&gt;
&lt;/dd&gt;
&lt;/dl&gt;
&lt;p&gt;Ideal probes because they probe extremal SF&lt;/p&gt;
&lt;/div&gt;
&lt;div class="section" id="theory-how-do-they-form"&gt;
&lt;h2&gt;Theory: How do they form?&lt;/h2&gt;
&lt;blockquote&gt;
&lt;ul class="simple"&gt;
&lt;li&gt;many processes: too many to simulate&lt;/li&gt;
&lt;li&gt;gass collapse, but feedback important&lt;/li&gt;
&lt;li&gt;density essential - determines whether bound or not&lt;/li&gt;
&lt;li&gt;need to understand initial conditions: mass as a function of size scale early&lt;/li&gt;
&lt;/ul&gt;
&lt;/blockquote&gt;
&lt;img alt="" src="https://keflavich.github.io/blog/images/StevePlot.jpg" style="width: 800px;" /&gt;
&lt;/div&gt;
&lt;div class="section" id="observations"&gt;
&lt;h2&gt;Observations&lt;/h2&gt;
&lt;dl class="docutils"&gt;
&lt;dt&gt;What do we expect to see?&lt;/dt&gt;
&lt;dd&gt;&lt;ul class="first last simple"&gt;
&lt;li&gt;mass-radius diagram&lt;/li&gt;
&lt;li&gt;need v_esc &amp;gt; c_II&lt;/li&gt;
&lt;li&gt;&lt;dl class="first docutils"&gt;
&lt;dt&gt;How dense?  YMC at given mass, radius&lt;/dt&gt;
&lt;dd&gt;&lt;ul class="first last"&gt;
&lt;li&gt;Collapse of single cloud?&lt;/li&gt;
&lt;li&gt;Cloud-cloud collision?&lt;/li&gt;
&lt;/ul&gt;
&lt;/dd&gt;
&lt;/dl&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/dd&gt;
&lt;dt&gt;Scenarios:&lt;/dt&gt;
&lt;dd&gt;&lt;ul class="first last simple"&gt;
&lt;li&gt;Initial radius same as final stellar radius
* &amp;quot;in situ&amp;quot;&lt;/li&gt;
&lt;li&gt;Initial radius &amp;gt;&amp;gt; final radius; shrinks
* requires convergence; &amp;quot;conveyor belt&amp;quot;
* P-cygni profiles, collision signatures&lt;/li&gt;
&lt;li&gt;Mass, radius when there are no progenitors&lt;/li&gt;
&lt;li&gt;Can do YMC progenitors out to 10's of MPC with ALMA&lt;/li&gt;
&lt;/ul&gt;
&lt;/dd&gt;
&lt;/dl&gt;
&lt;p&gt;Status in Jan 2012: G0.253 biggest.&lt;/p&gt;
&lt;dl class="docutils"&gt;
&lt;dt&gt;Inner 200 pc:&lt;/dt&gt;
&lt;dd&gt;&lt;ul class="first last simple"&gt;
&lt;li&gt;Molinari Ring, reference to John's talk&lt;/li&gt;
&lt;li&gt;Masses from Herschel column maps&lt;/li&gt;
&lt;li&gt;1pc, 3pc apertures (related to tidal radius)&lt;/li&gt;
&lt;li&gt;Sgr B2, Sgr C star forming, others are not&lt;/li&gt;
&lt;/ul&gt;
&lt;/dd&gt;
&lt;dt&gt;First quadrant:&lt;/dt&gt;
&lt;dd&gt;&lt;ul class="first last simple"&gt;
&lt;li&gt;All massive things are prodigiously star forming&lt;/li&gt;
&lt;/ul&gt;
&lt;/dd&gt;
&lt;dt&gt;Fourth quadrant:&lt;/dt&gt;
&lt;dd&gt;&lt;ul class="first last simple"&gt;
&lt;li&gt;ATLASGAL 4th quadrant - Urquhart 2013.  6 candidates&lt;/li&gt;
&lt;li&gt;MALT 90 Contreras - a couple candidates&lt;/li&gt;
&lt;li&gt;Sarolta Zahorecz 1B040&lt;/li&gt;
&lt;/ul&gt;
&lt;/dd&gt;
&lt;dt&gt;How do you form YMCs?&lt;/dt&gt;
&lt;dd&gt;&lt;ul class="first last simple"&gt;
&lt;li&gt;Where are YMCs?  Where are star-forming things?&lt;/li&gt;
&lt;li&gt;Only fair comparison if present-day gas clouds will produce same stellar population as now&lt;/li&gt;
&lt;li&gt;Only works if cluster disruption unimportant&lt;/li&gt;
&lt;li&gt;fair enough samples (10%, 30% area)&lt;/li&gt;
&lt;li&gt;Only very young clusters so they weren't disrupted&lt;/li&gt;
&lt;li&gt;same number of star-forming clouds, same number of clusters&lt;/li&gt;
&lt;li&gt;LOTS of starless in CMZ, NONE in 1st quadrant&lt;/li&gt;
&lt;li&gt;Galactic Center = in situ mode, 1st quad = conveyor belt mode&lt;/li&gt;
&lt;/ul&gt;
&lt;/dd&gt;
&lt;dt&gt;W43, W49 invoked as YMC progenitors [yikes ... W49, W51 actually]&lt;/dt&gt;
&lt;dd&gt;&lt;ul class="first last simple"&gt;
&lt;li&gt;W49 fed by filaments on 60 pc scales&lt;/li&gt;
&lt;li&gt;plenty of regions show similar features&lt;/li&gt;
&lt;li&gt;looking for evidence of &amp;quot;inflow&amp;quot; or &amp;quot;convergence&amp;quot; onto massive clusters
* conveyor belt makes sense&lt;/li&gt;
&lt;/ul&gt;
&lt;/dd&gt;
&lt;dt&gt;Back to the CMZ:&lt;/dt&gt;
&lt;dd&gt;&lt;ul class="first last simple"&gt;
&lt;li&gt;Dense gas only on the left&lt;/li&gt;
&lt;li&gt;Mass in boxes same, density is changing&lt;/li&gt;
&lt;li&gt;Sgr A* is not at the center of the ring
* Low density in the back
* high density in the front
* Sgr A* close to the front
* Sgr A* compresses the gas?  (interacting with 20, 50 km/s clds)&lt;/li&gt;
&lt;/ul&gt;
&lt;/dd&gt;
&lt;dt&gt;Predictions:&lt;/dt&gt;
&lt;dd&gt;&lt;ul class="first last simple"&gt;
&lt;li&gt;strongest shocks just after Sgr A*&lt;/li&gt;
&lt;li&gt;Elongated&lt;/li&gt;
&lt;/ul&gt;
&lt;/dd&gt;
&lt;dt&gt;Kruijssen+, Lucas+, Clark+&lt;/dt&gt;
&lt;dd&gt;&lt;ul class="first last simple"&gt;
&lt;li&gt;comparison with observations....&lt;/li&gt;
&lt;li&gt;Exciting because following IMF as a function of absolute time
* know orbit around Center
* know downstream is older than upstream&lt;/li&gt;
&lt;/ul&gt;
&lt;/dd&gt;
&lt;/dl&gt;
&lt;/div&gt;
&lt;div class="section" id="summary"&gt;
&lt;h2&gt;Summary&lt;/h2&gt;
&lt;blockquote&gt;
&lt;ul class="simple"&gt;
&lt;li&gt;Different modes of YMC formation
* None starless
* &amp;quot;would be exciting if someone found that&amp;quot; [not for me]&lt;/li&gt;
&lt;li&gt;Galactic center is different
* most extreme SF environment where we can resolve stars&lt;/li&gt;
&lt;li&gt;Can follow assembly as a function of time&lt;/li&gt;
&lt;li&gt;Can extrapolate Milky Way to other galaxies (Kruijssen &amp;amp; Longmore)&lt;/li&gt;
&lt;/ul&gt;
&lt;/blockquote&gt;
&lt;/div&gt;
&lt;div class="section" id="alma-data"&gt;
&lt;h2&gt;ALMA data&lt;/h2&gt;
&lt;blockquote&gt;
&lt;ul class="simple"&gt;
&lt;li&gt;PI Rathborne&lt;/li&gt;
&lt;li&gt;Crystal Brogan helped a lot&lt;/li&gt;
&lt;li&gt;Banana!&lt;/li&gt;
&lt;li&gt;HNCO movie&lt;/li&gt;
&lt;li&gt;SiO movie&lt;/li&gt;
&lt;/ul&gt;
&lt;/blockquote&gt;
&lt;img alt="" src="https://keflavich.github.io/blog/images/Banana.jpg" style="width: 800px;" /&gt;
&lt;/div&gt;
&lt;div class="section" id="questions"&gt;
&lt;h2&gt;Questions&lt;/h2&gt;
&lt;blockquote&gt;
&lt;ul class="simple"&gt;
&lt;li&gt;Q: Battersby - &amp;quot;in situ&amp;quot; idea.  Short lifetime.  CMZ should not be forming stars.&lt;/li&gt;
&lt;li&gt;A: SF is slower according to Kruijssen.  Once the turbulence dissipates, stars will form anyway.&lt;/li&gt;
&lt;li&gt;Q: Battersby - What does the previous state of the gas look like for in situ?&lt;/li&gt;
&lt;li&gt;A: Thor HI envelopes will tell you about kinematics.  We don't know initial
conditions for things in the disk.&lt;/li&gt;
&lt;li&gt;Q Hans: Continuum image of brick.  High density.  No stars formed.  Cries
out as the initial conditions of SF.  Is THIS the initial conditions for SPH
codes?&lt;/li&gt;
&lt;li&gt;A: Surprisingly small clumps.  Most massive is ~few hundred Msun&lt;/li&gt;
&lt;li&gt;Hans: can form more massive stars later&lt;/li&gt;
&lt;li&gt;Q McKee: What fraction of YMC has already formed in disk?&lt;/li&gt;
&lt;li&gt;A: High Q (lyman continuum luminosity).  Don't know&lt;/li&gt;
&lt;li&gt;Q Henrik: Help a little with the interpretation.  Do the data help say
something about shocks, anything?&lt;/li&gt;
&lt;li&gt;&lt;dl class="first docutils"&gt;
&lt;dt&gt;A: A lot of potential answers... simulations of gas cloud at Sgr C, whiz by Sgr A.&lt;/dt&gt;
&lt;dd&gt;(we will be able to say things...)&lt;/dd&gt;
&lt;/dl&gt;
&lt;/li&gt;
&lt;li&gt;Q: Klessen - in Alma data, do you have OI? [No]  Clarke and Glover predict
OI prominent and bright.
Could distinguish between UV and CR flux.&lt;/li&gt;
&lt;li&gt;A: Different gas temperature.  Wish we had OI.  Shock or CR heating.  SOFIA
only thing that can do it&lt;/li&gt;
&lt;/ul&gt;
&lt;/blockquote&gt;
&lt;/div&gt;
</content><category term="pp6"></category><category term="ppvi"></category></entry><entry><title>PPVI Talk 12: Clarke</title><link href="https://keflavich.github.io/blog/ppvi-talk-12-clarke.html" rel="alternate"></link><published>2013-07-16T15:15:00-06:00</published><updated>2013-07-16T15:15:00-06:00</updated><author><name>Adam Ginsburg</name></author><id>tag:keflavich.github.io,2013-07-16:/blog/ppvi-talk-12-clarke.html</id><summary type="html">&lt;div class="section" id="multiplicity-in-early-stellar-evolution"&gt;
&lt;h2&gt;MULTIPLICITY IN EARLY STELLAR EVOLUTION&lt;/h2&gt;
&lt;p&gt;B. Reipurth (University of Hawaii, Institute for Astronomy, Hilo, United States),
A.P. Boss (Carnegie Institution, Department of Terrestrial Magnetism, United States),
C.J. Clarke (University of Cambridge, Institute of Astronomy, United Kingdom),
S.P. Goodwin (University of Sheffield, Department of Physics and Astronomy, United …&lt;/p&gt;&lt;/div&gt;</summary><content type="html">&lt;div class="section" id="multiplicity-in-early-stellar-evolution"&gt;
&lt;h2&gt;MULTIPLICITY IN EARLY STELLAR EVOLUTION&lt;/h2&gt;
&lt;p&gt;B. Reipurth (University of Hawaii, Institute for Astronomy, Hilo, United States),
A.P. Boss (Carnegie Institution, Department of Terrestrial Magnetism, United States),
C.J. Clarke (University of Cambridge, Institute of Astronomy, United Kingdom),
S.P. Goodwin (University of Sheffield, Department of Physics and Astronomy, United Kingdom),
L.F. Rodriguez (Universidad Nacional Autonoma de Mexico, Mexico),
K.G. Stassun (Vanderbilt University, Department of Physics and Astronomy, United States),
A. Tokovinin (Cerro Tololo Inter-American Observatory, Chile),
H. Zinnecker (NASA Ames Research Center, SOFIA Science Center, Germany)&lt;/p&gt;
&lt;p&gt;Observations from optical to centimeter wavelengths have demonstrated that
multiple systems of two or more bodies is the norm at all stellar evolutionary
stages. Multiple systems are widely agreed to result from the collapse and
fragmentation of cloud cores, despite the inhibiting influence of magnetic
fields. Surveys of Class 0 protostars with mm interferometers have revealed a
very high multiplicity frequency of about 2/3, even though there are
observational difficulties in resolving close protobinaries, thus supporting
the possibility that all stars could be born in multiple systems. Near-infrared
adaptive optics observations of Class I protostars show a lower binary
frequency relative to the Class 0 phase, a declining trend that continues
through the Class II/III stages to the field population. This loss of
companions is a natural consequence of dynamical interplay in small multiple
systems, leading to ejection of members. We discuss observational consequences
of this dynamical evolution, and its influence on circumstellar disks, and we
review the evolution of circumbinary disks and their role in defining binary
mass ratios. Special attention is paid to eclipsing PMS binaries, which allow
for observational tests of evolutionary models of early stellar evolution. Many
stars are born in clusters and small groups, and we discuss how interactions in
dense stellar environments can significantly alter the distribution of binary
separations through dissolution of wider binaries. The binaries and multiples
we find in the field are the survivors of these various destructive processes,
and we provide a detailed overview of the multiplicity statistics of the field,
which form a boundary condition for all models of binary evolution. Finally we
discuss various formation mechanisms for massive binaries, and the origin of
massive trapezia and their role in the dynamical evolution of clusters.&lt;/p&gt;
&lt;img alt="" src="https://keflavich.github.io/blog/images/ClarkeTalk.jpg" style="width: 800px;" /&gt;
&lt;/div&gt;
&lt;div class="section" id="intro"&gt;
&lt;h2&gt;Intro&lt;/h2&gt;
&lt;p&gt;Most stars are single (M-dwarves), but most were born multiple&lt;/p&gt;
&lt;blockquote&gt;
&lt;ul class="simple"&gt;
&lt;li&gt;Many new binary surveys completed&lt;/li&gt;
&lt;li&gt;simulations produce binary statistics (too) easily&lt;/li&gt;
&lt;li&gt;new focus on high order multiples, ultra-wide systems&lt;/li&gt;
&lt;/ul&gt;
&lt;/blockquote&gt;
&lt;div class="section" id="why-binaries"&gt;
&lt;h3&gt;Why binaries?&lt;/h3&gt;
&lt;dl class="docutils"&gt;
&lt;dt&gt;Mass estimation: done using evolutionary tracks&lt;/dt&gt;
&lt;dd&gt;&lt;ul class="first last simple"&gt;
&lt;li&gt;means are well-centered&lt;/li&gt;
&lt;li&gt;scatter around tracks is very wide&lt;/li&gt;
&lt;/ul&gt;
&lt;/dd&gt;
&lt;dt&gt;Binaries useful as laboratories&lt;/dt&gt;
&lt;dd&gt;&lt;ul class="first last simple"&gt;
&lt;li&gt;Rosenfeld 2012 - 13CO disk + spectroscopic binary&lt;/li&gt;
&lt;li&gt;mass matching between disk and binary&lt;/li&gt;
&lt;/ul&gt;
&lt;/dd&gt;
&lt;dt&gt;Coevality to study differential disk dispersion&lt;/dt&gt;
&lt;dd&gt;&lt;ul class="first last simple"&gt;
&lt;li&gt;all reasonable theories say binaries arecoeval&lt;/li&gt;
&lt;li&gt;disk lifetimes are shorter in closer binaries (Cieza 2009, Harris 2012)&lt;/li&gt;
&lt;li&gt;Test mass dependence of disk dispersal (Kneller &amp;amp; Clarke 2013)&lt;/li&gt;
&lt;/ul&gt;
&lt;/dd&gt;
&lt;/dl&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="section" id="new-surveys"&gt;
&lt;h2&gt;New Surveys&lt;/h2&gt;
&lt;p&gt;Duquenny &amp;amp; Mayor 1991 was the old standard
Now Raghavan is.&lt;/p&gt;
&lt;blockquote&gt;
&lt;ul class="simple"&gt;
&lt;li&gt;# of triples doubled&lt;/li&gt;
&lt;li&gt;Binary fraction increases towards higher masses&lt;/li&gt;
&lt;/ul&gt;
&lt;/blockquote&gt;
&lt;dl class="docutils"&gt;
&lt;dt&gt;O-stars:&lt;/dt&gt;
&lt;dd&gt;&lt;ul class="first last simple"&gt;
&lt;li&gt;close binaries very common&lt;/li&gt;
&lt;li&gt;Sana 2012: 1/4 of O-stars should merge&lt;/li&gt;
&lt;li&gt;many others should interact&lt;/li&gt;
&lt;/ul&gt;
&lt;/dd&gt;
&lt;dt&gt;M-stars:&lt;/dt&gt;
&lt;dd&gt;&lt;ul class="first last simple"&gt;
&lt;li&gt;&amp;quot;early&amp;quot; and &amp;quot;late&amp;quot; M-stars (large dynamic range in masses)&lt;/li&gt;
&lt;li&gt;smooth trend towards more equal mass ratios towards lower-mass objects&lt;/li&gt;
&lt;li&gt;separation larger for M than brown dwarf&lt;/li&gt;
&lt;/ul&gt;
&lt;/dd&gt;
&lt;/dl&gt;
&lt;p&gt;Multiplicity fraction: # of stars not single
Companion Star Fraction: # of companion stars per system&lt;/p&gt;
&lt;blockquote&gt;
&lt;ul class="simple"&gt;
&lt;li&gt;Chen 2013: companion fraction decreases with age from Class 0 (high) to I to main sequence&lt;/li&gt;
&lt;li&gt;Many caveats on class 0 companions (e.g. Maury et al 2010 - not clear they are multi-stellar systems)&lt;/li&gt;
&lt;/ul&gt;
&lt;/blockquote&gt;
&lt;dl class="docutils"&gt;
&lt;dt&gt;Class 0 Non-hierarchical triple (Rodriguez, Reipurth 2013)&lt;/dt&gt;
&lt;dd&gt;&lt;ul class="first last simple"&gt;
&lt;li&gt;very unstable&lt;/li&gt;
&lt;li&gt;[what is the line-of-sight separation?]&lt;/li&gt;
&lt;li&gt;end state is a close binary and an ejection (e.g. Reipurth 2000)&lt;/li&gt;
&lt;/ul&gt;
&lt;/dd&gt;
&lt;dt&gt;Class I - Connelly 2008&lt;/dt&gt;
&lt;dd&gt;&lt;ul class="first last simple"&gt;
&lt;li&gt;Decline in binary fraction with spectral index&lt;/li&gt;
&lt;li&gt;probably losing companions as a function of time&lt;/li&gt;
&lt;li&gt;lose companions at orbital velocity&lt;/li&gt;
&lt;li&gt;9 of 9 binaries have a companion near enough to be ejected by this mechanism&lt;/li&gt;
&lt;li&gt;early days of the field&lt;/li&gt;
&lt;/ul&gt;
&lt;/dd&gt;
&lt;/dl&gt;
&lt;/div&gt;
&lt;div class="section" id="simulations"&gt;
&lt;h2&gt;Simulations&lt;/h2&gt;
&lt;dl class="docutils"&gt;
&lt;dt&gt;Reproducing binary fractions is apparently easy&lt;/dt&gt;
&lt;dd&gt;&lt;ul class="first last simple"&gt;
&lt;li&gt;Bate 2009: multiplicity by mass = perfect match
* surprising since there's not much physics
* Maybe it's just not that sensitive to physics
* metallicity, feedback seem not to change binary stats&lt;/li&gt;
&lt;li&gt;Maybe we're just lucky, though?&lt;/li&gt;
&lt;li&gt;Gobs of simulations papers cited (Bate, offner, Price, Hennebell, Machida, Burzle, Joos, Seifreid, Boss, Commercon...)&lt;/li&gt;
&lt;li&gt;Don't ignore magnetic fields even though clouds are supercritical
(there's plenty of B-field energy)&lt;/li&gt;
&lt;/ul&gt;
&lt;/dd&gt;
&lt;dt&gt;Do B-fields cause problems?&lt;/dt&gt;
&lt;dd&gt;&lt;ul class="first last simple"&gt;
&lt;li&gt;Hennebelle &amp;amp; Teyssier 2008: braking so efficient that prevents formation of disk
* therefore prevents binary fragmentation
* braking drives mass ratio down by reducing angular momentum and accreting onto primary star&lt;/li&gt;
&lt;li&gt;B-field alignment may be the problem&lt;/li&gt;
&lt;li&gt;turbulence reduces efficiency of B-braking (see Talk 5)&lt;/li&gt;
&lt;/ul&gt;
&lt;/dd&gt;
&lt;/dl&gt;
&lt;p&gt;Simulations are not well-converged&lt;/p&gt;
&lt;dl class="docutils"&gt;
&lt;dt&gt;What happens if you add MRI?&lt;/dt&gt;
&lt;dd&gt;&lt;ul class="first last simple"&gt;
&lt;li&gt;Shi 2012: more vigorous accretion onto binary&lt;/li&gt;
&lt;li&gt;adds to uncertainty&lt;/li&gt;
&lt;/ul&gt;
&lt;/dd&gt;
&lt;/dl&gt;
&lt;/div&gt;
&lt;div class="section" id="gravitational-dynamics"&gt;
&lt;h2&gt;Gravitational Dynamics&lt;/h2&gt;
&lt;dl class="docutils"&gt;
&lt;dt&gt;Interaction between binary and its environment&lt;/dt&gt;
&lt;dd&gt;&lt;ul class="first last simple"&gt;
&lt;li&gt;Are binaries processed by cluster?&lt;/li&gt;
&lt;li&gt;Can they constrain environment?&lt;/li&gt;
&lt;li&gt;Need good N-body simulations&lt;/li&gt;
&lt;li&gt;&lt;dl class="first docutils"&gt;
&lt;dt&gt;King 2012 - complete only for Taurus, Cham I, Oph, IC 348, ONC, with range of number densities&lt;/dt&gt;
&lt;dd&gt;&lt;ul class="first last"&gt;
&lt;li&gt;limited range 62-620 AU&lt;/li&gt;
&lt;li&gt;no apparent different in multiple fraction (~20%)&lt;/li&gt;
&lt;/ul&gt;
&lt;/dd&gt;
&lt;/dl&gt;
&lt;/li&gt;
&lt;li&gt;binaries in clusters maybe excess at small separations... which is not expected?&lt;/li&gt;
&lt;/ul&gt;
&lt;/dd&gt;
&lt;/dl&gt;
&lt;/div&gt;
&lt;div class="section" id="exotica"&gt;
&lt;h2&gt;Exotica&lt;/h2&gt;
&lt;dl class="docutils"&gt;
&lt;dt&gt;Ultrawide tail of Raghavan distribution&lt;/dt&gt;
&lt;dd&gt;&lt;ul class="first last simple"&gt;
&lt;li&gt;separations &amp;gt; natal cloud cores&lt;/li&gt;
&lt;li&gt;Dhital looking for proper motion pairs&lt;/li&gt;
&lt;/ul&gt;
&lt;/dd&gt;
&lt;dt&gt;Surprising mode of creating wide binaries in clusters&lt;/dt&gt;
&lt;dd&gt;&lt;ul class="first last simple"&gt;
&lt;li&gt;Kouwenhoven 2010, Moeckel &amp;amp; Bate, Moeckel &amp;amp; Clarke&lt;/li&gt;
&lt;li&gt;temporarily bound pairs many many times&lt;/li&gt;
&lt;li&gt;if cluster expanding, &amp;quot;transient&amp;quot; bound to neighbor -&amp;gt; actually bound over long timescale&lt;/li&gt;
&lt;/ul&gt;
&lt;/dd&gt;
&lt;/dl&gt;
&lt;/div&gt;
&lt;div class="section" id="statistics-of-higher-order-multiples"&gt;
&lt;h2&gt;Statistics of Higher Order Multiples&lt;/h2&gt;
&lt;dl class="docutils"&gt;
&lt;dt&gt;Tokovinin et al in prep... (initial results)&lt;/dt&gt;
&lt;dd&gt;&lt;ul class="first last simple"&gt;
&lt;li&gt;multiple systems fill all phase space that is stable&lt;/li&gt;
&lt;li&gt;not consistent with pure N-body decay of initially non-hierarchical systems&lt;/li&gt;
&lt;li&gt;pure n-body -&amp;gt; high eccentricity, and most often the ejected fellow is small
* observationally, this doesn't quite work...
* to get away from stability boundary, need gas (Clarke &amp;amp; Pringle 1991)&lt;/li&gt;
&lt;li&gt;Reipurth &amp;amp; Mikkola 2010, 2012 -&amp;gt; populate binary and triple diagrams&lt;/li&gt;
&lt;li&gt;PP7 will compare data to these simulations&lt;/li&gt;
&lt;li&gt;Within triples:
* Easier to make high mass ratio binary pairs at early times (1 Myr)
* low-mass ratio binary pairs late (100 Myr)&lt;/li&gt;
&lt;/ul&gt;
&lt;/dd&gt;
&lt;/dl&gt;
&lt;/div&gt;
&lt;div class="section" id="questions"&gt;
&lt;h2&gt;Questions&lt;/h2&gt;
&lt;blockquote&gt;
&lt;ul class="simple"&gt;
&lt;li&gt;Q: N-body systems required to form wide binaries... not really, not the only
way.  In low-density environments, born that way.  Even though you can make
wide binaries in clusters, it's not the only mechanism.  I am concerned with
N-body codes - you can create whatever you wish with N-body.&lt;/li&gt;
&lt;li&gt;A: There are other dynamical routes.  You CAN invoke 3-body interaction.  Otherwise
you need a 10^5 AU core rotating with beta=1&lt;/li&gt;
&lt;li&gt;Q Kastner: Circumbinary system mislabeled.  But, illustrates a ton of interesting things.
Hierarchical multiple, surrounded by massive circumstellar disk.  10 Myr (if
part of beta pic), far-companion that is also a double.&lt;/li&gt;
&lt;li&gt;Q Kastner: Gas-rich - how gas rich must it be?&lt;/li&gt;
&lt;li&gt;A: Orbital evolution, a small amount of mass can go a long way.  For
formation, obviously must be comparable to mass of star.&lt;/li&gt;
&lt;li&gt;Q Susanne ?: Binary fraction decreases with age.  Why?&lt;/li&gt;
&lt;li&gt;A: Reconfiguration of unstable multiples.  Don't have much time from Class 0 to Class I.
10% in &lt;em&gt;surviving&lt;/em&gt; triples, many more form in triples&lt;/li&gt;
&lt;li&gt;Q Tobin: Binary separations are different in ONC and Taurus.  Is that still
current or is that an obsolete result?&lt;/li&gt;
&lt;li&gt;A: No wide proper motion pairs in ONC.  Maybe still true?&lt;/li&gt;
&lt;li&gt;Q: AK Sco - xmm newton, periastron passage -&amp;gt; sudden outburst.  See my poster.&lt;/li&gt;
&lt;li&gt;Q: Mike Myers: Change in q distribution as a function of primary mass?  We
found q consistent except for BD distribution.&lt;/li&gt;
&lt;li&gt;A: Not monotonic.  O-stars have preference for q=1, so do low-mass stars.
If purely dynamic, don't want both.&lt;/li&gt;
&lt;li&gt;Q MM: in Science paper, they chose flat q....&lt;/li&gt;
&lt;/ul&gt;
&lt;/blockquote&gt;
&lt;/div&gt;
</content><category term="pp6"></category><category term="ppvi"></category></entry><entry><title>PPVI Talk 11: Matthew Bate</title><link href="https://keflavich.github.io/blog/ppvi-talk-11-matthew-bate.html" rel="alternate"></link><published>2013-07-16T14:30:00-06:00</published><updated>2013-07-16T14:30:00-06:00</updated><author><name>Adam Ginsburg</name></author><id>tag:keflavich.github.io,2013-07-16:/blog/ppvi-talk-11-matthew-bate.html</id><summary type="html">&lt;div class="section" id="star-cluster-formation-and-feedback"&gt;
&lt;h2&gt;STAR CLUSTER FORMATION AND FEEDBACK&lt;/h2&gt;
&lt;p&gt;M. Krumholz (University of California, Santa Cruz, Astronomy, Santa Cruz, United States),
M. Bate (Exeter University, Astrophysics, United Kingdom),
H. Arce (Yale University, Astronomy, United States),
J. Dale (Czech Academy of Sciences, Mathematics, Physics, and Earth Sciences, Czech Republic),
R. Gutermuth (University of Massachusetts, Department …&lt;/p&gt;&lt;/div&gt;</summary><content type="html">&lt;div class="section" id="star-cluster-formation-and-feedback"&gt;
&lt;h2&gt;STAR CLUSTER FORMATION AND FEEDBACK&lt;/h2&gt;
&lt;p&gt;M. Krumholz (University of California, Santa Cruz, Astronomy, Santa Cruz, United States),
M. Bate (Exeter University, Astrophysics, United Kingdom),
H. Arce (Yale University, Astronomy, United States),
J. Dale (Czech Academy of Sciences, Mathematics, Physics, and Earth Sciences, Czech Republic),
R. Gutermuth (University of Massachusetts, Department of Astronomy, United States),
R. Klein (University of California, Berkeley, Astronomy, United States),
Z.-Y. Li (University of Virginia, Astronomy, United States),
F. Nakamura (National Astronomical Observatory of Japan, Japan),
Q. Zhang (Harvard-Smithsonian Center for Astrophysics, United States)&lt;/p&gt;
&lt;p&gt;Stars do not generally form in isolation. Instead, they form in clusters, and in these clustered environments newborn stars can have profound effects on one another and on their parent gas clouds. Feedback from clustered stars is almost certainly responsible for a number of otherwise puzzling facts about star formation: that it is an inefficient process that proceeds slowly when averaged over galactic scales; that it produces mostly unbound field stars rather than bound clusters; and that it produces an IMF with a distinct peak in the range 0.1 - 1 Msun, rather than an IMF dominated by brown dwarfs. In this review we summarize current observational constraints and theoretical models for the complex interplay between clustered star formation and feedback.&lt;/p&gt;
&lt;/div&gt;
&lt;div class="section" id="intro"&gt;
&lt;h2&gt;Intro&lt;/h2&gt;
&lt;blockquote&gt;
&lt;ul class="simple"&gt;
&lt;li&gt;30 Dor - need for feedback treatment&lt;/li&gt;
&lt;li&gt;Wrong results without feedback
* SFR too high
* IMF has too many small stars&lt;/li&gt;
&lt;li&gt;clusters stay bound unless feedback included. Too bound?&lt;/li&gt;
&lt;/ul&gt;
&lt;/blockquote&gt;
&lt;dl class="docutils"&gt;
&lt;dt&gt;3 Categories of feedback:&lt;/dt&gt;
&lt;dd&gt;&lt;ul class="first last simple"&gt;
&lt;li&gt;momentum: Jets, outflows, radiation pressure.  Efficient cooling&lt;/li&gt;
&lt;li&gt;hot gas feedback: winds from hot stars, high velocity shocks, ionized regions&lt;/li&gt;
&lt;li&gt;Thermal feedback: heating, thermal pressure&lt;/li&gt;
&lt;/ul&gt;
&lt;/dd&gt;
&lt;/dl&gt;
&lt;div class="section" id="momentum-feedback"&gt;
&lt;h3&gt;Momentum Feedback&lt;/h3&gt;
&lt;dl class="docutils"&gt;
&lt;dt&gt;Protostellar outflows&lt;/dt&gt;
&lt;dd&gt;&lt;ul class="first last simple"&gt;
&lt;li&gt;outflow momentum / cloud mass = velocity; compare to velocity dispersion&lt;/li&gt;
&lt;li&gt;If all simultaneous, could unbind cloud&lt;/li&gt;
&lt;li&gt;if gradual, stir turbulence&lt;/li&gt;
&lt;li&gt;Low coupling could just punch holes&lt;/li&gt;
&lt;/ul&gt;
&lt;/dd&gt;
&lt;dt&gt;NGC 1333 &amp;quot;prototypical protocluster&amp;quot;&lt;/dt&gt;
&lt;dd&gt;&lt;ul class="first last simple"&gt;
&lt;li&gt;most observations: can drive turbulence&lt;/li&gt;
&lt;li&gt;outflow power vs turbulence dissipation: often comparable&lt;/li&gt;
&lt;li&gt;insufficient in GMCs / large scales&lt;/li&gt;
&lt;/ul&gt;
&lt;/dd&gt;
&lt;dt&gt;Simulations:&lt;/dt&gt;
&lt;dd&gt;&lt;ul class="first last simple"&gt;
&lt;li&gt;outflows can maintain virial equilibrium&lt;/li&gt;
&lt;li&gt;collimated flows more efficient than spherical flows at driving turbulence&lt;/li&gt;
&lt;li&gt;jet into smooth medium bad at exciting supersonic turbulence&lt;/li&gt;
&lt;li&gt;Wang 2010: outflows, turbulence, b-fields all reduce SFR&lt;/li&gt;
&lt;/ul&gt;
&lt;/dd&gt;
&lt;/dl&gt;
&lt;div class="section" id="radiation-pressure"&gt;
&lt;h4&gt;Radiation Pressure&lt;/h4&gt;
&lt;dl class="docutils"&gt;
&lt;dt&gt;Direct transfer of momentum via photons&lt;/dt&gt;
&lt;dd&gt;&lt;ul class="first last simple"&gt;
&lt;li&gt;dominated by massive stars&lt;/li&gt;
&lt;li&gt;drive winds on galactic scales&lt;/li&gt;
&lt;li&gt;less important than outflows for clusters with M&amp;lt;10^4 msun&lt;/li&gt;
&lt;/ul&gt;
&lt;/dd&gt;
&lt;dt&gt;Feedback significant if &lt;span class="math"&gt;\(\dot{p} * t_{ff} \gtrsim M v_{virial}\)&lt;/span&gt;.&lt;/dt&gt;
&lt;dd&gt;&lt;ul class="first last simple"&gt;
&lt;li&gt;&lt;span class="math"&gt;\(\dot{p} = f_{trap} L/c\)&lt;/span&gt;.&lt;/li&gt;
&lt;li&gt;what is f_trap?&lt;/li&gt;
&lt;li&gt;Murray says f &amp;gt; 1, others say 1&lt;/li&gt;
&lt;li&gt;Shane Davis VET vs FLD radiation&lt;/li&gt;
&lt;li&gt;Efficiency still uncertain&lt;/li&gt;
&lt;/ul&gt;
&lt;/dd&gt;
&lt;/dl&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="section" id="hot-gas-feedback"&gt;
&lt;h3&gt;Hot Gas Feedback&lt;/h3&gt;
&lt;dl class="docutils"&gt;
&lt;dt&gt;Hot stars: T&amp;gt;40,000 K&lt;/dt&gt;
&lt;dd&gt;&lt;ul class="first last simple"&gt;
&lt;li&gt;M &amp;gt; 40 msun&lt;/li&gt;
&lt;li&gt;wind momentum flux less than radiation&lt;/li&gt;
&lt;li&gt;winds create shocks, very hot gas.  Cooling is slow&lt;/li&gt;
&lt;li&gt;But, wind-shocked gas can &amp;quot;leak&amp;quot;&lt;/li&gt;
&lt;li&gt;HII regions are also important&lt;/li&gt;
&lt;/ul&gt;
&lt;/dd&gt;
&lt;dt&gt;Wind observations:&lt;/dt&gt;
&lt;dd&gt;&lt;ul class="first last simple"&gt;
&lt;li&gt;Chandra 30 Dor &amp;amp; others&lt;/li&gt;
&lt;li&gt;Partially leaky&lt;/li&gt;
&lt;li&gt;HII regions dominate in general&lt;/li&gt;
&lt;li&gt;?x-ray dominates in 30 dor? (inconsistent with slide)&lt;/li&gt;
&lt;/ul&gt;
&lt;/dd&gt;
&lt;dt&gt;Wind theory:&lt;/dt&gt;
&lt;dd&gt;&lt;ul class="first last simple"&gt;
&lt;li&gt;spherically symmetric models&lt;/li&gt;
&lt;li&gt;leakage parameters&lt;/li&gt;
&lt;li&gt;simulations: Rogers &amp;amp; Pittard&lt;/li&gt;
&lt;li&gt;very leaky&lt;/li&gt;
&lt;/ul&gt;
&lt;/dd&gt;
&lt;/dl&gt;
&lt;div class="section" id="photoionization-hot-gas"&gt;
&lt;h4&gt;Photoionization / Hot Gas&lt;/h4&gt;
&lt;p&gt;Spitzer standard treatment&lt;/p&gt;
&lt;p&gt;Hundreds of HII regions known...&lt;/p&gt;
&lt;dl class="docutils"&gt;
&lt;dt&gt;Theory:&lt;/dt&gt;
&lt;dd&gt;&lt;ul class="first last simple"&gt;
&lt;li&gt;limit growth of OB stars&lt;/li&gt;
&lt;li&gt;Walmsley: accretion flows stall HII region, crush it&lt;/li&gt;
&lt;li&gt;Keto: gravitational trapping&lt;/li&gt;
&lt;/ul&gt;
&lt;/dd&gt;
&lt;dt&gt;HII expansion into clouds&lt;/dt&gt;
&lt;dd&gt;&lt;ul class="first last simple"&gt;
&lt;li&gt;disrupts low-mass clouds&lt;/li&gt;
&lt;li&gt;Dale: GMC survives if escape velocity exceeds 10 km/s&lt;/li&gt;
&lt;/ul&gt;
&lt;/dd&gt;
&lt;/dl&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="section" id="triggering"&gt;
&lt;h2&gt;Triggering&lt;/h2&gt;
&lt;blockquote&gt;
&lt;ul class="simple"&gt;
&lt;li&gt;weak triggering: same # of stars, but faster&lt;/li&gt;
&lt;li&gt;strong triggering: increase in overall SFE&lt;/li&gt;
&lt;li&gt;Top-heavy IMF?  No&lt;/li&gt;
&lt;/ul&gt;
&lt;/blockquote&gt;
&lt;p&gt;RDI: Bisbas, Haworth&lt;/p&gt;
&lt;dl class="docutils"&gt;
&lt;dt&gt;Evidence is weak&lt;/dt&gt;
&lt;dd&gt;&lt;ul class="first last simple"&gt;
&lt;li&gt;age gradients: questionable&lt;/li&gt;
&lt;li&gt;higher sfe: questionable&lt;/li&gt;
&lt;li&gt;causal links in ages&lt;/li&gt;
&lt;li&gt;young stars near bubbles&lt;/li&gt;
&lt;li&gt;10-20% (Kendrew)&lt;/li&gt;
&lt;li&gt;negative feedback wins&lt;/li&gt;
&lt;/ul&gt;
&lt;/dd&gt;
&lt;/dl&gt;
&lt;/div&gt;
&lt;div class="section" id="sne-feedback"&gt;
&lt;h2&gt;SNe feedback&lt;/h2&gt;
&lt;dl class="docutils"&gt;
&lt;dt&gt;hot gas feedback&lt;/dt&gt;
&lt;dd&gt;&lt;ul class="first last simple"&gt;
&lt;li&gt;not important because delayed by 4 years&lt;/li&gt;
&lt;li&gt;only 1 sne in 30 Dor, but lots of ejection by other forms&lt;/li&gt;
&lt;li&gt;very important on large / galactic scales&lt;/li&gt;
&lt;/ul&gt;
&lt;/dd&gt;
&lt;/dl&gt;
&lt;/div&gt;
&lt;div class="section" id="thermal-feedback"&gt;
&lt;h2&gt;Thermal Feedback&lt;/h2&gt;
&lt;dl class="docutils"&gt;
&lt;dt&gt;Direct stellar luminosity&lt;/dt&gt;
&lt;dd&gt;&lt;ul class="first last simple"&gt;
&lt;li&gt;some nuclear, some accretion&lt;/li&gt;
&lt;li&gt;&amp;lt;3 msun, accretion luminosity dominates&lt;/li&gt;
&lt;li&gt;if accretion energy goes into outflows, not thermal&lt;/li&gt;
&lt;li&gt;accretion bursty would reduce thermal feedback&lt;/li&gt;
&lt;li&gt;substantial heating in inner portions of clusters&lt;/li&gt;
&lt;li&gt;thermal feedback inhibits fragmentation: changes IMF&lt;/li&gt;
&lt;li&gt;reduce dependence on initial conditions for IMF&lt;/li&gt;
&lt;li&gt;can reproduce IMF&lt;/li&gt;
&lt;/ul&gt;
&lt;/dd&gt;
&lt;dt&gt;Cooperative accretion&lt;/dt&gt;
&lt;dd&gt;&lt;ul class="first last simple"&gt;
&lt;li&gt;thermal feedback prevents additional fragmentation -&amp;gt; top-heavy IMF&lt;/li&gt;
&lt;li&gt;everything accretes onto current stars&lt;/li&gt;
&lt;/ul&gt;
&lt;/dd&gt;
&lt;dt&gt;more physics in more simulations&lt;/dt&gt;
&lt;dd&gt;&lt;ul class="first last simple"&gt;
&lt;li&gt;outflows reduce accretion, which reduces thermal feedback&lt;/li&gt;
&lt;li&gt;reduces &amp;quot;overheating&amp;quot; problem&lt;/li&gt;
&lt;/ul&gt;
&lt;/dd&gt;
&lt;dt&gt;B-fields&lt;/dt&gt;
&lt;dd&gt;&lt;ul class="first last simple"&gt;
&lt;li&gt;may increase accretion rates&lt;/li&gt;
&lt;li&gt;on large scales, inhibit fragmentation&lt;/li&gt;
&lt;li&gt;overall make star formation efficiency lower&lt;/li&gt;
&lt;/ul&gt;
&lt;/dd&gt;
&lt;/dl&gt;
&lt;/div&gt;
&lt;div class="section" id="questions"&gt;
&lt;h2&gt;Questions&lt;/h2&gt;
&lt;blockquote&gt;
&lt;ul class="simple"&gt;
&lt;li&gt;Q: Chris McKee: Possible role of supernovae.  Photoionization occurs first.
Supernova goes off in low density cavity, no effect on cloud.&lt;/li&gt;
&lt;li&gt;A: Potential problem, we just don't know at the moment.  In the 10^5+ Msun
clouds, the cloud stays intact - HII region doesn't kill it.  In those
cases, they hit lots of mol. gas&lt;/li&gt;
&lt;li&gt;Q: Peter ?: Question about methods.  Are the sink particles magic?  Is this
magic?&lt;/li&gt;
&lt;li&gt;A: Well, we need them in order for the simulations to work.  Try to make
them as small as possible.  Go to first hydrostatic core phase.  I think
they're not the dominant uncertainties&lt;/li&gt;
&lt;li&gt;Q: Diederich Kruijssen - How does feedback affect cluster formation?  If you
end with a bound cluster, feedback didn't matter.
Do we understand the degeneracies well enough to make &amp;quot;perfect&amp;quot; simulations.&lt;/li&gt;
&lt;li&gt;A: No conclusions.  This is about where we are now.  How does feedback
affect the &lt;em&gt;cluster&lt;/em&gt;?  We still don't know.&lt;/li&gt;
&lt;li&gt;A2: No, we don't understand the degeneracies between the types of feedback
at all.&lt;/li&gt;
&lt;li&gt;Q: Mike Myer - Global collapse vs driven turbulence.  Modest age spreads.
SFR too fast &amp;amp; too efficient; I would think either or.  Which solves too
fast, which solves too efficient?&lt;/li&gt;
&lt;li&gt;A: Too fast - solved by Wang et al.  All feedback &amp;amp; mechanisms, SFR drops a
lot.  But, none stop star formation in the end.  Need some way to disperse
cloud still.  Need HII regions and other feedback in more massive clusters.&lt;/li&gt;
&lt;li&gt;Q: Hans Zinnecker - SN feedback.  Some evidence in ScoCen for SN triggering
because low-mass stars are coeval with other stars.  Coeval = must be
triggered.  Also have to think about starburst galaxies - maybe different
mode.  Maybe positive triggering in starbursts&lt;/li&gt;
&lt;/ul&gt;
&lt;/blockquote&gt;
&lt;/div&gt;
&lt;script type='text/javascript'&gt;if (!document.getElementById('mathjaxscript_pelican_#%@#$@#')) {
    var align = "center",
        indent = "0em",
        linebreak = "false";

    if (false) {
        align = (screen.width &lt; 768) ? "left" : align;
        indent = (screen.width &lt; 768) ? "0em" : indent;
        linebreak = (screen.width &lt; 768) ? 'true' : linebreak;
    }

    var mathjaxscript = document.createElement('script');
    mathjaxscript.id = 'mathjaxscript_pelican_#%@#$@#';
    mathjaxscript.type = 'text/javascript';
    mathjaxscript.src = 'https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.3/latest.js?config=TeX-AMS-MML_HTMLorMML';

    var configscript = document.createElement('script');
    configscript.type = 'text/x-mathjax-config';
    configscript[(window.opera ? "innerHTML" : "text")] =
        "MathJax.Hub.Config({" +
        "    config: ['MMLorHTML.js']," +
        "    TeX: { extensions: ['AMSmath.js','AMSsymbols.js','noErrors.js','noUndefined.js'], equationNumbers: { autoNumber: 'none' } }," +
        "    jax: ['input/TeX','input/MathML','output/HTML-CSS']," +
        "    extensions: ['tex2jax.js','mml2jax.js','MathMenu.js','MathZoom.js']," +
        "    displayAlign: '"+ align +"'," +
        "    displayIndent: '"+ indent +"'," +
        "    showMathMenu: true," +
        "    messageStyle: 'normal'," +
        "    tex2jax: { " +
        "        inlineMath: [ ['\\\\(','\\\\)'] ], " +
        "        displayMath: [ ['$$','$$'] ]," +
        "        processEscapes: true," +
        "        preview: 'TeX'," +
        "    }, " +
        "    'HTML-CSS': { " +
        "        availableFonts: ['STIX', 'TeX']," +
        "        preferredFont: 'STIX'," +
        "        styles: { '.MathJax_Display, .MathJax .mo, .MathJax .mi, .MathJax .mn': {color: 'inherit ! important'} }," +
        "        linebreaks: { automatic: "+ linebreak +", width: '90% container' }," +
        "    }, " +
        "}); " +
        "if ('default' !== 'default') {" +
            "MathJax.Hub.Register.StartupHook('HTML-CSS Jax Ready',function () {" +
                "var VARIANT = MathJax.OutputJax['HTML-CSS'].FONTDATA.VARIANT;" +
                "VARIANT['normal'].fonts.unshift('MathJax_default');" +
                "VARIANT['bold'].fonts.unshift('MathJax_default-bold');" +
                "VARIANT['italic'].fonts.unshift('MathJax_default-italic');" +
                "VARIANT['-tex-mathit'].fonts.unshift('MathJax_default-italic');" +
            "});" +
            "MathJax.Hub.Register.StartupHook('SVG Jax Ready',function () {" +
                "var VARIANT = MathJax.OutputJax.SVG.FONTDATA.VARIANT;" +
                "VARIANT['normal'].fonts.unshift('MathJax_default');" +
                "VARIANT['bold'].fonts.unshift('MathJax_default-bold');" +
                "VARIANT['italic'].fonts.unshift('MathJax_default-italic');" +
                "VARIANT['-tex-mathit'].fonts.unshift('MathJax_default-italic');" +
            "});" +
        "}";

    (document.body || document.getElementsByTagName('head')[0]).appendChild(configscript);
    (document.body || document.getElementsByTagName('head')[0]).appendChild(mathjaxscript);
}
&lt;/script&gt;</content><category term="pp6"></category><category term="ppvi"></category></entry><entry><title>PPVI Talk 10: Jeffries</title><link href="https://keflavich.github.io/blog/ppvi-talk-10-jeffries.html" rel="alternate"></link><published>2013-07-16T11:45:00-06:00</published><updated>2013-07-16T11:45:00-06:00</updated><author><name>Adam Ginsburg</name></author><id>tag:keflavich.github.io,2013-07-16:/blog/ppvi-talk-10-jeffries.html</id><summary type="html">&lt;div class="section" id="ages-of-young-stars"&gt;
&lt;h2&gt;AGES OF YOUNG STARS&lt;/h2&gt;
&lt;p&gt;D. Soderblom (Space Telescope Science Institute, Baltimore, United States),
L. Hillenbrand (Caltech, Pasadena, United States),
R. Jeffries (Astrophysics Group, Keele University, Staffordshire, United Kingdom),
E. Mamajek (Dept. of Physics &amp;amp; Astronomy, University of Rochester, United States),
T. Naylor (School of Physics, University of Exeter, United Kingdom)&lt;/p&gt;
&lt;p&gt;Determining …&lt;/p&gt;&lt;/div&gt;</summary><content type="html">&lt;div class="section" id="ages-of-young-stars"&gt;
&lt;h2&gt;AGES OF YOUNG STARS&lt;/h2&gt;
&lt;p&gt;D. Soderblom (Space Telescope Science Institute, Baltimore, United States),
L. Hillenbrand (Caltech, Pasadena, United States),
R. Jeffries (Astrophysics Group, Keele University, Staffordshire, United Kingdom),
E. Mamajek (Dept. of Physics &amp;amp; Astronomy, University of Rochester, United States),
T. Naylor (School of Physics, University of Exeter, United Kingdom)&lt;/p&gt;
&lt;p&gt;Determining the sequence of events in the formation of stars and planetary
systems and their timescales is essential for understanding these processes,
yet establishing ages is fundamentally difficult because we lack direct
indicators. In this review we discuss the problem of ages for young stars,
specifically for those less than ~ 100 Myr old. We start by establishing a
reliable scale scale for young stars using the measurement of the Lithium
Depletion Boundary (LDB) in young clusters, a method that involves fairly
simple and wellestablished physics and observations. We show that LDB ages are
consistent with those from the upper main sequence and the main sequence
turn-off if modest core convection is included in the models of higher-mass
stars. The LDB method can be used to set limits on the age of individual
objects but is primarily applicable to groups of stars. We then review the
available methods for age estimation, which include kinematic traceback of
young groups, placing stars in HRDs, pulsations and seismology, gravity
differences, rotation, activity, and lithium abundance as age indicators. We
list the known strengths and weaknesses of each of these. Some of these
techniques are useful within certain limits (such as age and mass ranges) and
others are entirely problematic. We look at the issue of age spreads within
star-forming regions and how well they can be quantified. Finally, we offer
suggestions and recommendations to guide interpretation of observations, and we
show how the current situation can be improved over the next few years.&lt;/p&gt;
&lt;/div&gt;
&lt;div class="section" id="talk"&gt;
&lt;h2&gt;Talk&lt;/h2&gt;
&lt;p&gt;Can measure radii, luminosity, but never age directly.&lt;/p&gt;
&lt;p&gt;Ages matter quite a lot: use them to age-date everything else&lt;/p&gt;
&lt;p&gt;Ages during the first Gyr of stellar lifetimes.&lt;/p&gt;
&lt;dl class="docutils"&gt;
&lt;dt&gt;Steps:&lt;/dt&gt;
&lt;dd&gt;&lt;ol class="first last arabic simple"&gt;
&lt;li&gt;Categorise stars&lt;/li&gt;
&lt;li&gt;Put them in age-order&lt;/li&gt;
&lt;li&gt;Estimate age ratios&lt;/li&gt;
&lt;li&gt;Estimate absolute ages?&lt;/li&gt;
&lt;/ol&gt;
&lt;/dd&gt;
&lt;dt&gt;What methods can we use?&lt;/dt&gt;
&lt;dd&gt;&lt;ul class="first last simple"&gt;
&lt;li&gt;No fundamental methods available&lt;/li&gt;
&lt;li&gt;Nearly fundamental = lithium depletion boundary, kinematic traceback&lt;/li&gt;
&lt;li&gt;model-depndent: isochrone fitting, asteroseismology, surface gravity, radii, radiative-convective&lt;/li&gt;
&lt;li&gt;not useful: metallicity&lt;/li&gt;
&lt;/ul&gt;
&lt;/dd&gt;
&lt;/dl&gt;
&lt;div class="section" id="lithium-depletion"&gt;
&lt;h3&gt;Lithium depletion&lt;/h3&gt;
&lt;blockquote&gt;
&lt;ul class="simple"&gt;
&lt;li&gt;fully convective star drags lithium to core, processes lithium&lt;/li&gt;
&lt;li&gt;Lithium burns at 1e6 K&lt;/li&gt;
&lt;li&gt;Why semi-fundamental?  Very good agreement at which luminosity Li dep. occurs&lt;/li&gt;
&lt;li&gt;5-10% error&lt;/li&gt;
&lt;li&gt;easy to measure at 6701 AA&lt;/li&gt;
&lt;li&gt;can't go past 200 Myr&lt;/li&gt;
&lt;li&gt;models agree on luminosity vs age, but disagree strongly on temperature&lt;/li&gt;
&lt;li&gt;Measure lithium in whole cluster, look for boundary
* 8 measurements: 22-122 Myr old
* uncertainty from unresolved binaries&lt;/li&gt;
&lt;/ul&gt;
&lt;/blockquote&gt;
&lt;/div&gt;
&lt;div class="section" id="below-20-myr-kinematic-ages-independent-of-stellar-physics"&gt;
&lt;h3&gt;Below 20 Myr?  Kinematic ages, independent of stellar physics&lt;/h3&gt;
&lt;blockquote&gt;
&lt;ul class="simple"&gt;
&lt;li&gt;traceback ages - trace orbits back to closest location&lt;/li&gt;
&lt;li&gt;expansion age: position vs. velocity.... hubble expansion&lt;/li&gt;
&lt;li&gt;flyby age: find when object was closest to group [how does this help?]&lt;/li&gt;
&lt;li&gt;runaway age: to age-date ejected sources.  Assume that ejection occurred at birth  (sn ejection)&lt;/li&gt;
&lt;/ul&gt;
&lt;dl class="docutils"&gt;
&lt;dt&gt;Example: Beta pic, trace back to a common smaller volume (40 pc across)&lt;/dt&gt;
&lt;dd&gt;&lt;ul class="first last simple"&gt;
&lt;li&gt;problems: some stars don't fit&lt;/li&gt;
&lt;li&gt;is 40 pc across really a reasonable coeval group?&lt;/li&gt;
&lt;li&gt;actually, expansion is inconsistent with 12 Myr age using revised Hipparcos&lt;/li&gt;
&lt;/ul&gt;
&lt;/dd&gt;
&lt;/dl&gt;
&lt;/blockquote&gt;
&lt;dl class="docutils"&gt;
&lt;dt&gt;Runaways: what if they ran away from a different cluster?&lt;/dt&gt;
&lt;dd&gt;&lt;ul class="first last simple"&gt;
&lt;li&gt;ONC example - must be absolutely sure you know where runaway came from&lt;/li&gt;
&lt;/ul&gt;
&lt;/dd&gt;
&lt;/dl&gt;
&lt;/div&gt;
&lt;div class="section" id="model-dependent-methods"&gt;
&lt;h3&gt;Model-Dependent Methods&lt;/h3&gt;
&lt;dl class="docutils"&gt;
&lt;dt&gt;Fitting isochrones to data&lt;/dt&gt;
&lt;dd&gt;&lt;ul class="first last simple"&gt;
&lt;li&gt;main-sequence turnoff&lt;/li&gt;
&lt;li&gt;Hayashi-&amp;gt;ZAMS&lt;/li&gt;
&lt;li&gt;requires distance&lt;/li&gt;
&lt;/ul&gt;
&lt;/dd&gt;
&lt;dt&gt;Choice: Fit in HR diagram or CMD?&lt;/dt&gt;
&lt;dd&gt;&lt;ul class="first last simple"&gt;
&lt;li&gt;HR: can account for extinction, etc.&lt;/li&gt;
&lt;li&gt;CMD: Statistics are very badly correlated on HR diagram&lt;/li&gt;
&lt;/ul&gt;
&lt;/dd&gt;
&lt;dt&gt;Physical uncertainties increase high-mass stellar lifetimes:&lt;/dt&gt;
&lt;dd&gt;&lt;ul class="first last simple"&gt;
&lt;li&gt;Rotation&lt;/li&gt;
&lt;li&gt;Convective overshooting&lt;/li&gt;
&lt;li&gt;errors are ~30%&lt;/li&gt;
&lt;li&gt;low masses unaffected&lt;/li&gt;
&lt;/ul&gt;
&lt;/dd&gt;
&lt;dt&gt;ZAMS NGC 6530&lt;/dt&gt;
&lt;dd&gt;&lt;ul class="first last simple"&gt;
&lt;li&gt;model including uncertainties and binaries&lt;/li&gt;
&lt;li&gt;requires age 5.5 Myr&lt;/li&gt;
&lt;li&gt;statistical uncertainties often dominant&lt;/li&gt;
&lt;/ul&gt;
&lt;/dd&gt;
&lt;/dl&gt;
&lt;p&gt;Models without convective overshooting fail to reproduce Lithium ages&lt;/p&gt;
&lt;dl class="docutils"&gt;
&lt;dt&gt;Pre-main-sequence isochrones&lt;/dt&gt;
&lt;dd&gt;&lt;ul class="first last simple"&gt;
&lt;li&gt;best to use HR diagram for differential extinction&lt;/li&gt;
&lt;li&gt;need spectroscopy to get Teff&lt;/li&gt;
&lt;li&gt;luminosity spread: binary, variability, age spread, accretion&lt;/li&gt;
&lt;li&gt;luminosity spreads ubiquitous
* are they real?
* do they imply real age spread
* is there one real age?&lt;/li&gt;
&lt;/ul&gt;
&lt;/dd&gt;
&lt;dt&gt;ONC: Cannot explain age spread as observational uncertainty&lt;/dt&gt;
&lt;dd&gt;&lt;ul class="first last simple"&gt;
&lt;li&gt;observed age spread 0.4 dex (factor of 3)&lt;/li&gt;
&lt;li&gt;uncertainties can't explain!&lt;/li&gt;
&lt;li&gt;HR diagram may be set by &lt;em&gt;Accretion history&lt;/em&gt; instead of &lt;em&gt;age of star&lt;/em&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/dd&gt;
&lt;/dl&gt;
&lt;p&gt;HR scatter shrinks after 10 Myr&lt;/p&gt;
&lt;p&gt;models do not agree on age/teff relation&lt;/p&gt;
&lt;p&gt;observations do not agree with models&lt;/p&gt;
&lt;dl class="docutils"&gt;
&lt;dt&gt;Bell: compare PMS and upper main sequence ages.&lt;/dt&gt;
&lt;dd&gt;&lt;ul class="first last simple"&gt;
&lt;li&gt;for some models, there is agreement&lt;/li&gt;
&lt;li&gt;But, still uncertain: What if high mass stars form significantly after low-mass?&lt;/li&gt;
&lt;li&gt;Order is OK, but spacing is uncertain by factor ~2&lt;/li&gt;
&lt;/ul&gt;
&lt;/dd&gt;
&lt;/dl&gt;
&lt;/div&gt;
&lt;div class="section" id="asteroseismology"&gt;
&lt;h3&gt;Asteroseismology&lt;/h3&gt;
&lt;p&gt;Kepler can't see &amp;quot;p-modes&amp;quot; because of variability&lt;/p&gt;
&lt;p&gt;delta-scuti instability strip...
delta-scuti age more precise than HR fit&lt;/p&gt;
&lt;p&gt;spectroscopic measurements of gravity
can get rank-ordered measurements&lt;/p&gt;
&lt;dl class="docutils"&gt;
&lt;dt&gt;R-C gap:&lt;/dt&gt;
&lt;dd&gt;&lt;ul class="first last simple"&gt;
&lt;li&gt;distance &amp;amp; extinction independent&lt;/li&gt;
&lt;li&gt;good to ~15 Myr&lt;/li&gt;
&lt;/ul&gt;
&lt;/dd&gt;
&lt;dt&gt;Gyrochronology: good for old stars&lt;/dt&gt;
&lt;dd&gt;&lt;ul class="first last simple"&gt;
&lt;li&gt;&amp;gt;100 Myr&lt;/li&gt;
&lt;li&gt;Slowing period for low-mass stars.  Age-dependent &amp;quot;Slope&amp;quot;&lt;/li&gt;
&lt;/ul&gt;
&lt;/dd&gt;
&lt;dt&gt;Disk-presence clock?&lt;/dt&gt;
&lt;dd&gt;&lt;ul class="first last simple"&gt;
&lt;li&gt;50% uncertainty&lt;/li&gt;
&lt;li&gt;dangerous until we understand what disperses disks and when?&lt;/li&gt;
&lt;/ul&gt;
&lt;/dd&gt;
&lt;dt&gt;Lithium abundance:&lt;/dt&gt;
&lt;dd&gt;&lt;ul class="first last simple"&gt;
&lt;li&gt;extremely strong dependence on efficiency of convection&lt;/li&gt;
&lt;li&gt;useful &lt;em&gt;relative&lt;/em&gt; but not &lt;em&gt;absolute&lt;/em&gt; age indicator&lt;/li&gt;
&lt;li&gt;M and K dwarves have very large EW[Li] change&lt;/li&gt;
&lt;li&gt;~factor of 2 age indicator&lt;/li&gt;
&lt;/ul&gt;
&lt;/dd&gt;
&lt;/dl&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="section" id="conclusions"&gt;
&lt;h2&gt;Conclusions&lt;/h2&gt;
&lt;blockquote&gt;
&lt;ul class="simple"&gt;
&lt;li&gt;Lithium depletion boundary model-independent, precise (10%), accuracte (10%)&lt;/li&gt;
&lt;li&gt;Expensive in terms of telescope time&lt;/li&gt;
&lt;li&gt;Kinematics: currently problematic&lt;/li&gt;
&lt;li&gt;Runaways: Origin&lt;/li&gt;
&lt;/ul&gt;
&lt;/blockquote&gt;
&lt;dl class="docutils"&gt;
&lt;dt&gt;Model-dependent ages:&lt;/dt&gt;
&lt;dd&gt;&lt;ul class="first last simple"&gt;
&lt;li&gt;Large statistical uncertainties, modest systematic (main seq)&lt;/li&gt;
&lt;li&gt;pre-main-sequence: absolute entirely unclear&lt;/li&gt;
&lt;/ul&gt;
&lt;/dd&gt;
&lt;/dl&gt;
&lt;p&gt;R-C gap distance independent
Empirical ages&lt;/p&gt;
&lt;p&gt;Final thought: Deuterium depletion boundary should be a &amp;lt;10 Myr age indicator.
Requires measuring deuteration in BD atmosphere&lt;/p&gt;
&lt;/div&gt;
&lt;div class="section" id="questions"&gt;
&lt;h2&gt;Questions&lt;/h2&gt;
&lt;blockquote&gt;
&lt;ul class="simple"&gt;
&lt;li&gt;Q: Gunther? from COROT.  Deuterium driven: model independence stems from a
concensus on the initial conditions.  Concensus disappears if you consider
colors instead of Hayashi track.  What is the zero point?&lt;/li&gt;
&lt;li&gt;A: Zero point uncertain.  Star forgets about initial (cloud) conditions
after 20 Myr.  Helps keep LDB secure.&lt;/li&gt;
&lt;li&gt;Q Mamacek: Takeaway - Rescaled ages.  Half-life of T-Tauri is 3-4 Myr.&lt;/li&gt;
&lt;li&gt;Q: What observing proposal for D-burning boundary?&lt;/li&gt;
&lt;li&gt;A: Deuterated water in atmosphere?  CrH-&amp;gt;CrD?  No idea whether it's even
remotely feasible.&lt;/li&gt;
&lt;li&gt;Q Ian Crossfield: Gyrochronology useless for young stars.  Why does it work
for old stars?&lt;/li&gt;
&lt;li&gt;A: The models, and the data, converge&lt;/li&gt;
&lt;li&gt;Q: Self-consistency of ages for Beta-Pic (isochronal, LiDep, etc. agree).
Too pessimistic to disregard kinematics.  Need self-consistency between
methods.&lt;/li&gt;
&lt;li&gt;A: self-consistency can lead you along the wrong path.  Subjectivity in
excluding objects.&lt;/li&gt;
&lt;li&gt;Q John Tobin: Reggiani work on Orion - subregion, or whole central region?&lt;/li&gt;
&lt;li&gt;A: Not sure, HST treasury...&lt;/li&gt;
&lt;li&gt;Q: Multiple bursts?&lt;/li&gt;
&lt;li&gt;A: Foreground population.  Take out low-extinction stars, still looks the
same.  There is an age spread.&lt;/li&gt;
&lt;li&gt;Q Neal Evans: Ages of Class I, Class 0, all depend on half-life of 2 Myr
for T-Tauri (Class II) stars.  2 Myr is the goal.&lt;/li&gt;
&lt;li&gt;A: 3 Myr is a more conventional half-life&lt;/li&gt;
&lt;li&gt;Q: Deuterium depletion.  Deuterated methane line in the thermal IR.  CRIRES
maybe?&lt;/li&gt;
&lt;li&gt;A: Too hot for methane&lt;/li&gt;
&lt;li&gt;Q Krumholz: Age spread in Orion.  Must have age spread at &amp;lt;1 Myr because
crossing time is ~0.4 Myr.  Even most efficient SF, things happen in a
crossing time, not instantaneously.&lt;/li&gt;
&lt;li&gt;A: Note the log-scale.  10 Myr is pretty broad&lt;/li&gt;
&lt;li&gt;Q: Advertise poster....&lt;/li&gt;
&lt;li&gt;Q: 10 Myr is much longer than the crossing of Orion&lt;/li&gt;
&lt;li&gt;Krumholz: I disagree&lt;/li&gt;
&lt;/ul&gt;
&lt;/blockquote&gt;
&lt;/div&gt;
</content><category term="pp6"></category><category term="ppvi"></category></entry><entry><title>PPVI Talk 9: Amelia Stutz</title><link href="https://keflavich.github.io/blog/ppvi-talk-9-amelia-stutz.html" rel="alternate"></link><published>2013-07-16T11:00:00-06:00</published><updated>2013-07-16T11:00:00-06:00</updated><author><name>Adam Ginsburg</name></author><id>tag:keflavich.github.io,2013-07-16:/blog/ppvi-talk-9-amelia-stutz.html</id><summary type="html">&lt;div class="section" id="the-evolution-of-protostars-insights-from-ten-years-of-infrared-surveys-with-spitzer-and-herschel"&gt;
&lt;h2&gt;THE EVOLUTION OF PROTOSTARS: INSIGHTS FROM TEN YEARS OF INFRARED SURVEYS WITH SPITZER AND HERSCHEL&lt;/h2&gt;
&lt;p&gt;M. Dunham (Yale University, New Haven, CT, United States),
A. Stutz (MPIA, Germany),
L. Allen (NOAO, United States),
N. Evans (UT Austin, United States),
W. Fischer (University of Toledo, United States),
S.T. Megeath (University …&lt;/p&gt;&lt;/div&gt;</summary><content type="html">&lt;div class="section" id="the-evolution-of-protostars-insights-from-ten-years-of-infrared-surveys-with-spitzer-and-herschel"&gt;
&lt;h2&gt;THE EVOLUTION OF PROTOSTARS: INSIGHTS FROM TEN YEARS OF INFRARED SURVEYS WITH SPITZER AND HERSCHEL&lt;/h2&gt;
&lt;p&gt;M. Dunham (Yale University, New Haven, CT, United States),
A. Stutz (MPIA, Germany),
L. Allen (NOAO, United States),
N. Evans (UT Austin, United States),
W. Fischer (University of Toledo, United States),
S.T. Megeath (University of Toledo, United States),
P. Myers (Harvard-Smithsonian Center for Astrophysics, United States),
S. Offner (Yale University, United States),
C. Poteet (Rensselaer Polytechnic Institute, United States),
J. Tobin (National Radio Astronomy Observatory, United States),
E. Vorobyov (University of Vienna, Austria)&lt;/p&gt;
&lt;p&gt;Stars and planets form from the gravitational collapse of dense molecular cloud
cores. The protostellar phase is the period during which mass accretes from the
core, through an accretion disk formed by conservation of angular momentum, and
onto a hydrostatically supported protostar. It is the phase during which the
initial masses of stars and the initial conditions for planet formation are
set, thus understanding how protostars evolve is a crucial ingredient for
developing a general understanding of star and planet formation. Identification
and characterization of protostars has traditionally been hindered by the
embedded nature of these objects. Over the past ten years, new observational
capabilities provided by the Spitzer Space Telescope and Herschel Space
Observatory have enabled wide-field infrared surveys of entire star-forming
clouds with high sensitivities, leading to remarkable progress in our
understanding of protostellar evolution. We review several key advances in the
field over the past decade, focusing both on the observations themselves and
the constraints these large-area surveys are placing on theoretical models of
star formation and protostellar evolution. We also emphasize several open
questions and debates and outline the future observational and theoretical work
necessary to further advance the field.&lt;/p&gt;
&lt;/div&gt;
&lt;div class="section" id="intro"&gt;
&lt;h2&gt;Intro&lt;/h2&gt;
&lt;p&gt;Core -&amp;gt; First hydrostatic core -&amp;gt; protostar&lt;/p&gt;
&lt;dl class="docutils"&gt;
&lt;dt&gt;Luminosity problem&lt;/dt&gt;
&lt;dd&gt;&lt;ul class="first last simple"&gt;
&lt;li&gt;Low-luminosity discrepancy, maybe sensitivity&lt;/li&gt;
&lt;/ul&gt;
&lt;/dd&gt;
&lt;dt&gt;Review of Classes: submillimeter vs bolometric luminosity, temperature&lt;/dt&gt;
&lt;dd&gt;&lt;ul class="first last simple"&gt;
&lt;li&gt;Classes don't necessarily correspond to Stages because of, e.g., geometry&lt;/li&gt;
&lt;li&gt;Lifetimes of classes - consistent&lt;/li&gt;
&lt;li&gt;L_submm / L_bol vs T_bol: L_smm/L_bol is a better envelope diagnostic&lt;/li&gt;
&lt;li&gt;Monotonic evolution may not be true&lt;/li&gt;
&lt;li&gt;Deviants from &amp;quot;cartoon picture&amp;quot; are &lt;em&gt;at least&lt;/em&gt; 10% of all protostars&lt;/li&gt;
&lt;/ul&gt;
&lt;/dd&gt;
&lt;dt&gt;PACS Bright Red Sources&lt;/dt&gt;
&lt;dd&gt;&lt;ul class="first last simple"&gt;
&lt;li&gt;18 reddest sources in Orion&lt;/li&gt;
&lt;li&gt;70um-bright, consistent with Stage 0&lt;/li&gt;
&lt;li&gt;VeLLOs not a unique evolutionary stage&lt;/li&gt;
&lt;li&gt;Too many VeLLOs: they can't be first hydrostatic cores (implies too long a lifetime)&lt;/li&gt;
&lt;/ul&gt;
&lt;/dd&gt;
&lt;dt&gt;How do protostars get their mass?&lt;/dt&gt;
&lt;dd&gt;&lt;ul class="first last simple"&gt;
&lt;li&gt;The protostellar luminosity problem: Theoretical accretion luminosity ~10x observed&lt;/li&gt;
&lt;li&gt;None of the inputs are observationally directly constrained&lt;/li&gt;
&lt;li&gt;m-dot provides the most lever arm, with order-of-magnitude uncertainty&lt;/li&gt;
&lt;/ul&gt;
&lt;/dd&gt;
&lt;dt&gt;Core-regulated vs disk-regulated accretion&lt;/dt&gt;
&lt;dd&gt;&lt;ul class="first last simple"&gt;
&lt;li&gt;Can rule out isothermal sphere&lt;/li&gt;
&lt;li&gt;cannot rule out any other models&lt;/li&gt;
&lt;/ul&gt;
&lt;/dd&gt;
&lt;dt&gt;Low-luminosity bursts&lt;/dt&gt;
&lt;dd&gt;&lt;ul class="first last simple"&gt;
&lt;li&gt;episode accretion&lt;/li&gt;
&lt;li&gt;How common are they?&lt;/li&gt;
&lt;/ul&gt;
&lt;/dd&gt;
&lt;dt&gt;Fossil evidence:&lt;/dt&gt;
&lt;dd&gt;&lt;ul class="first last simple"&gt;
&lt;li&gt;Arce ALMA HH46&lt;/li&gt;
&lt;li&gt;prompt entrainment by episodic jet&lt;/li&gt;
&lt;li&gt;100-year spacing between clumps&lt;/li&gt;
&lt;/ul&gt;
&lt;/dd&gt;
&lt;dt&gt;DiGiT double-peaked CO2 ice feature&lt;/dt&gt;
&lt;dd&gt;&lt;ul class="first last simple"&gt;
&lt;li&gt;irreversible chemical process&lt;/li&gt;
&lt;li&gt;observed towards vellos: vellos were warm in the past&lt;/li&gt;
&lt;/ul&gt;
&lt;/dd&gt;
&lt;/dl&gt;
&lt;p&gt;What fraction of final protostellar mass is accreted in bursts?&lt;/p&gt;
&lt;dl class="docutils"&gt;
&lt;dt&gt;What happens in disks?&lt;/dt&gt;
&lt;dd&gt;&lt;ul class="first last simple"&gt;
&lt;li&gt;Disk rotation is only direct means for measuring protostellar mass&lt;/li&gt;
&lt;/ul&gt;
&lt;/dd&gt;
&lt;dt&gt;The role of environment&lt;/dt&gt;
&lt;dd&gt;&lt;ul class="first last simple"&gt;
&lt;li&gt;B335 vs. OMC 2/3&lt;/li&gt;
&lt;li&gt;Luminosities higher, mean separations lower in more active regions&lt;/li&gt;
&lt;/ul&gt;
&lt;/dd&gt;
&lt;/dl&gt;
&lt;/div&gt;
&lt;div class="section" id="questions"&gt;
&lt;h2&gt;Questions&lt;/h2&gt;
&lt;blockquote&gt;
&lt;ul class="simple"&gt;
&lt;li&gt;Q: Mark Krumholz: Can you use the environmental dependence to distinguish
&lt;em&gt;disk&lt;/em&gt; physics from &lt;em&gt;environmental&lt;/em&gt; = core accretion physics?&lt;/li&gt;
&lt;li&gt;A: disk physics not environmentally dependent, but feeding through envelopes...&lt;/li&gt;
&lt;li&gt;Krumholz: not external feeding that drives burstiness.  Burstiness shouldn't
know about environment&lt;/li&gt;
&lt;li&gt;Q: Multiplicity?&lt;/li&gt;
&lt;li&gt;A: Tom &amp;amp; student working on constraining with HST data.&lt;/li&gt;
&lt;li&gt;Q: How do you check?&lt;/li&gt;
&lt;li&gt;A: I dunno.&lt;/li&gt;
&lt;li&gt;A: Neal - ???&lt;/li&gt;
&lt;li&gt;Q: Structure in HH46.  May be formed by... something else?????&lt;/li&gt;
&lt;li&gt;A: Hard to make link between outflows and accretion.  This is one nice
example of some evidence but is not conclusive on its own.&lt;/li&gt;
&lt;li&gt;Q: Lifetime of class I's.  Maybe lifetimes have 2-order-of-magnitude
variation; can't reference to Class II.&lt;/li&gt;
&lt;li&gt;A: I agree.&lt;/li&gt;
&lt;li&gt;Q: Inclination.  SED models for diskey stars.  Any method that can
disentangle geometry from other effects?&lt;/li&gt;
&lt;li&gt;A: avoid the issue by looking at direct detection of cold emission in
envelope&lt;/li&gt;
&lt;li&gt;Ewine: Centrally concentrated HCO+ emission can separate inclined Class I
from Class 0.  Best is large samples with ALMA though.&lt;/li&gt;
&lt;li&gt;Q: IRS spectra from protostars.  Amount of silicate lines as signature of
episodic accretion.&lt;/li&gt;
&lt;li&gt;A: Don't have a good answer.  Don't necessarily look at those features.
Only CO2 ice is clear-cut irreversible process.
[missed one question]&lt;/li&gt;
&lt;li&gt;Q: Ewine - what is the key observational distinction between VeLLOs and true
first hydrostatic cores.&lt;/li&gt;
&lt;li&gt;A: Catch young outflows.  ALMA.&lt;/li&gt;
&lt;li&gt;Q Mike Dunham: First cores - lifetimes.  10^4 years is the strict, absolute
upper limit for first hydrostatic cores. 0.06-6 first cores in Perseus.
No large-scale surveys for first cores.&lt;/li&gt;
&lt;/ul&gt;
&lt;/blockquote&gt;
&lt;/div&gt;
</content><category term="pp6"></category><category term="ppvi"></category></entry><entry><title>PPVI Talk 8: Zhi-Yun Li</title><link href="https://keflavich.github.io/blog/ppvi-talk-8-zhi-yun-li.html" rel="alternate"></link><published>2013-07-16T09:15:00-06:00</published><updated>2013-07-16T09:15:00-06:00</updated><author><name>Adam Ginsburg</name></author><id>tag:keflavich.github.io,2013-07-16:/blog/ppvi-talk-8-zhi-yun-li.html</id><summary type="html">&lt;div class="section" id="the-earliest-stages-of-star-and-planet-formation-core-collapse-and-the-formation-of-disks-and-outflows"&gt;
&lt;h2&gt;THE EARLIEST STAGES OF STAR AND PLANET FORMATION: CORE COLLAPSE, AND THE FORMATION OF DISKS AND OUTFLOWS&lt;/h2&gt;
&lt;p&gt;Z.-Y. Li (University of Virginia, Astronomy, Charlottesville, United States),
R. Banerjee (Hamburger Sternwarte, Germany),
R. Pudritz (McMaster University, Department of Physics and Astronomy, Canada),
J. Joergensen (University of Copenhagen, Center for Star …&lt;/p&gt;&lt;/div&gt;</summary><content type="html">&lt;div class="section" id="the-earliest-stages-of-star-and-planet-formation-core-collapse-and-the-formation-of-disks-and-outflows"&gt;
&lt;h2&gt;THE EARLIEST STAGES OF STAR AND PLANET FORMATION: CORE COLLAPSE, AND THE FORMATION OF DISKS AND OUTFLOWS&lt;/h2&gt;
&lt;p&gt;Z.-Y. Li (University of Virginia, Astronomy, Charlottesville, United States),
R. Banerjee (Hamburger Sternwarte, Germany),
R. Pudritz (McMaster University, Department of Physics and Astronomy, Canada),
J. Joergensen (University of Copenhagen, Center for Star and Planet Formation, Denmark),
H. Shang (Institute of Astronomy and Astrophysics, Taiwan),
R. Krasnopolsky (Institute of Astronomy and Astrophysics, Taiwan),
A. Maury (ESO, Garching bei Muenchen, Germany)&lt;/p&gt;
&lt;p&gt;The formation of stars and planets are connected through disks. Our theoretical
understanding of disk formation has undergone drastic changes since PPV, and we
are on the brink of an ALMA-enabled revolution in disk observation. Disk
formation - once thought to be a trivial consequence of the conservation of
angular momentum - is far more subtle in magnetized gas. In this case, the
rotation can be strongly magnetically braked. Indeed, both analytic arguments
and numerical simulations have shown that disk formation is suppressed in the
strict ideal MHD limit for the observed level of core magnetization, at least
for idealized, laminar, axisymmetric cores with ordered magnetic fields. In the
theoretical literature, this &amp;quot;catastrophic&amp;quot; magnetic braking characterizes the
situation wherein the angular momentum of an idealized collapsing core is
nearly completely removed by magnetic braking close to the central object. We
will review what is known about this &amp;quot;magnetic braking catastrophe&amp;quot;, possible
ways to resolve it, and the current status of early disk observations. Possible
resolutions include non-ideal MHD effects (ambipolar diffusion, Ohmic
dissipation and Hall effect), magnetic interchange instability in the inner
part of protostellar accretion flow, turbulence, misalignment between the
magnetic field and rotation axis, and depletion of the slowly rotating envelope
by outflow stripping or accretion. We will assess the pros and cons of each of
these proposed resolutions and put them into an over-arching physical context.
Outflows are also intimately linked to disk formation; they are a natural
product of magnetic fields and rotation and are important signposts of star
formation. We review new developments on early outflow generation since PPV.
The properties of early disks and outflows are a key component of planet
formation in its early stages and we will review these major connections.&lt;/p&gt;
&lt;/div&gt;
&lt;div class="section" id="outline"&gt;
&lt;h2&gt;Outline&lt;/h2&gt;
&lt;blockquote&gt;
&lt;ul class="simple"&gt;
&lt;li&gt;Difficulty of forming disks in ideal MHD limit&lt;/li&gt;
&lt;li&gt;Can non-ideal save disk in 2D?&lt;/li&gt;
&lt;li&gt;Can 3D effects do it?&lt;/li&gt;
&lt;li&gt;How can you form rotationally supported disks?&lt;/li&gt;
&lt;/ul&gt;
&lt;/blockquote&gt;
&lt;p&gt;Dimensionless number:
&lt;span class="math"&gt;\(\lambda = \frac{(M/\phi)}{1/(2\pi G^{1/2})}\)&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;Crutcher: B-fields below critical value&lt;/p&gt;
&lt;p&gt;B-field energy &amp;gt; rotational energy&lt;/p&gt;
&lt;p&gt;Strict ideal MHD: flux always traces stars&lt;/p&gt;
&lt;p&gt;&amp;quot;Magnetic Braking Catastrophe&amp;quot; - flow dynamics near split monopole&lt;/p&gt;
&lt;p&gt;[stopped taking notes early - I didn't know there was any problem associated with disk formation difficulties before this talk...]&lt;/p&gt;
&lt;/div&gt;
&lt;div class="section" id="questions"&gt;
&lt;h2&gt;Questions&lt;/h2&gt;
&lt;blockquote&gt;
&lt;ul class="simple"&gt;
&lt;li&gt;Q: Disagree.  Dead zone due to high density.  Easy to form disk there.&lt;/li&gt;
&lt;li&gt;Q: Alyssa? Great that there are sophisticated arguments... I want more effort on predictions of what would be observed&lt;/li&gt;
&lt;li&gt;A: need to find twist of field?&lt;/li&gt;
&lt;li&gt;Q: Mac Low - cautionary note.  Scale of turbulence very deep.&lt;/li&gt;
&lt;li&gt;Q: Tobin - Is it suspicious that large, resolved disks have B-field perp to
outflow direction?  Maybe misaligned fields allow formation of large disks.
In other model, do you have enough mass left to form binary stars, etc?&lt;/li&gt;
&lt;li&gt;A: On core scale, field parallel to outflow&lt;/li&gt;
&lt;li&gt;Q: Megeath - How long do the simulations run?  What is the angular momentum
distribution?   How does it depend on envelope.&lt;/li&gt;
&lt;li&gt;Q: Predictions are unclear...&lt;/li&gt;
&lt;/ul&gt;
&lt;/blockquote&gt;
&lt;/div&gt;
&lt;script type='text/javascript'&gt;if (!document.getElementById('mathjaxscript_pelican_#%@#$@#')) {
    var align = "center",
        indent = "0em",
        linebreak = "false";

    if (false) {
        align = (screen.width &lt; 768) ? "left" : align;
        indent = (screen.width &lt; 768) ? "0em" : indent;
        linebreak = (screen.width &lt; 768) ? 'true' : linebreak;
    }

    var mathjaxscript = document.createElement('script');
    mathjaxscript.id = 'mathjaxscript_pelican_#%@#$@#';
    mathjaxscript.type = 'text/javascript';
    mathjaxscript.src = 'https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.3/latest.js?config=TeX-AMS-MML_HTMLorMML';

    var configscript = document.createElement('script');
    configscript.type = 'text/x-mathjax-config';
    configscript[(window.opera ? "innerHTML" : "text")] =
        "MathJax.Hub.Config({" +
        "    config: ['MMLorHTML.js']," +
        "    TeX: { extensions: ['AMSmath.js','AMSsymbols.js','noErrors.js','noUndefined.js'], equationNumbers: { autoNumber: 'none' } }," +
        "    jax: ['input/TeX','input/MathML','output/HTML-CSS']," +
        "    extensions: ['tex2jax.js','mml2jax.js','MathMenu.js','MathZoom.js']," +
        "    displayAlign: '"+ align +"'," +
        "    displayIndent: '"+ indent +"'," +
        "    showMathMenu: true," +
        "    messageStyle: 'normal'," +
        "    tex2jax: { " +
        "        inlineMath: [ ['\\\\(','\\\\)'] ], " +
        "        displayMath: [ ['$$','$$'] ]," +
        "        processEscapes: true," +
        "        preview: 'TeX'," +
        "    }, " +
        "    'HTML-CSS': { " +
        "        availableFonts: ['STIX', 'TeX']," +
        "        preferredFont: 'STIX'," +
        "        styles: { '.MathJax_Display, .MathJax .mo, .MathJax .mi, .MathJax .mn': {color: 'inherit ! important'} }," +
        "        linebreaks: { automatic: "+ linebreak +", width: '90% container' }," +
        "    }, " +
        "}); " +
        "if ('default' !== 'default') {" +
            "MathJax.Hub.Register.StartupHook('HTML-CSS Jax Ready',function () {" +
                "var VARIANT = MathJax.OutputJax['HTML-CSS'].FONTDATA.VARIANT;" +
                "VARIANT['normal'].fonts.unshift('MathJax_default');" +
                "VARIANT['bold'].fonts.unshift('MathJax_default-bold');" +
                "VARIANT['italic'].fonts.unshift('MathJax_default-italic');" +
                "VARIANT['-tex-mathit'].fonts.unshift('MathJax_default-italic');" +
            "});" +
            "MathJax.Hub.Register.StartupHook('SVG Jax Ready',function () {" +
                "var VARIANT = MathJax.OutputJax.SVG.FONTDATA.VARIANT;" +
                "VARIANT['normal'].fonts.unshift('MathJax_default');" +
                "VARIANT['bold'].fonts.unshift('MathJax_default-bold');" +
                "VARIANT['italic'].fonts.unshift('MathJax_default-italic');" +
                "VARIANT['-tex-mathit'].fonts.unshift('MathJax_default-italic');" +
            "});" +
        "}";

    (document.body || document.getElementsByTagName('head')[0]).appendChild(configscript);
    (document.body || document.getElementsByTagName('head')[0]).appendChild(mathjaxscript);
}
&lt;/script&gt;</content><category term="pp6"></category><category term="ppvi"></category></entry><entry><title>PPVI Talk 7: Chris McKee</title><link href="https://keflavich.github.io/blog/ppvi-talk-7-chris-mckee.html" rel="alternate"></link><published>2013-07-16T08:30:00-06:00</published><updated>2013-07-16T08:30:00-06:00</updated><author><name>Adam Ginsburg</name></author><id>tag:keflavich.github.io,2013-07-16:/blog/ppvi-talk-7-chris-mckee.html</id><summary type="html">&lt;div class="section" id="massive-star-formation"&gt;
&lt;h2&gt;MASSIVE STAR FORMATION&lt;/h2&gt;
&lt;p&gt;J. Tan (University of Florida, Astronomy, Gainesville, United States),
M. Beltran (INAF-Osservatorio Astrofisico di Arcetri, Italy),
P. Caselli (University of Leeds, School of Physics &amp;amp; Astronomy, United Kingdom),
F. Fontani (INAF-Osservatorio Astrofisico di Arcetri, Italy),
A. Fuente (Observatorio Astronomico Nacional, Spain),
M. Krumholz (UC Santa Cruz, Astronomy, United …&lt;/p&gt;&lt;/div&gt;</summary><content type="html">&lt;div class="section" id="massive-star-formation"&gt;
&lt;h2&gt;MASSIVE STAR FORMATION&lt;/h2&gt;
&lt;p&gt;J. Tan (University of Florida, Astronomy, Gainesville, United States),
M. Beltran (INAF-Osservatorio Astrofisico di Arcetri, Italy),
P. Caselli (University of Leeds, School of Physics &amp;amp; Astronomy, United Kingdom),
F. Fontani (INAF-Osservatorio Astrofisico di Arcetri, Italy),
A. Fuente (Observatorio Astronomico Nacional, Spain),
M. Krumholz (UC Santa Cruz, Astronomy, United States),
C. McKee (UC Berkeley, Depts. of Physics &amp;amp; Astronomy, United States),
A. Stolte (University of Bonn, Dept. of Astronomy, Germany)&lt;/p&gt;
&lt;p&gt;The enormous radiative and mechanical luminosities of massive stars impact a vast range of scales and processes, from the reionization of the universe, to the evolution of galaxies, to the regulation of the interstellar medium, to the formation of star clusters, and even to the formation of planets around stars in such clusters. Furthermore, the synthesis and dispersal of heavy elements by massive stars plays a key role in the chemical evolution of the cosmos. Achieving a rigorous theoretical understanding of massive star formation is thus an important goal of contemporary astrophysics. This effort can also be viewed as a major component of the development of a general theory of star formation that seeks to explain the birth of stars of all masses and from all the variety of star-forming environments. Two main classes of theories for massive star formation are under active study, &amp;quot;Core Accretion&amp;quot; and &amp;quot;Competitive Accretion&amp;quot;. In Core Accretion, the initial conditions of star formation are self-gravitating, centrally concentrated cores that condense from the surrounding, fragmenting clump environment with a range of masses. They then undergo relatively ordered collapse via a central disk to form a single star or a small-N multiple. In this case, the pre-stellar core mass function has a similar form to the stellar initial mass function. In Competitive Accretion, the material that forms a massive star is drawn more chaotically from a wider region of the clump without passing through a phase of being in a massive, coherent core. In this case, massive star formation must proceed hand in hand with star cluster formation. If stellar densities become very high near the cluster center, then collisions between stars could also be involved in forming the most massive stars. We review recent theoretical and observational progress towards understanding massive star formation, considering a range of observed galactic star-forming environments, physical and chemical processes, comparisons with low and intermediate-mass stars, and connections to star cluster formation.&lt;/p&gt;
&lt;/div&gt;
&lt;div class="section" id="outline"&gt;
&lt;h2&gt;Outline&lt;/h2&gt;
&lt;blockquote&gt;
&lt;ul class="simple"&gt;
&lt;li&gt;Observations&lt;/li&gt;
&lt;li&gt;Theory&lt;/li&gt;
&lt;/ul&gt;
&lt;/blockquote&gt;
&lt;/div&gt;
&lt;div class="section" id="state-of-observations"&gt;
&lt;h2&gt;State of Observations&lt;/h2&gt;
&lt;p&gt;Plot 1: the Tan plot&lt;/p&gt;
&lt;blockquote&gt;
&lt;ul class="simple"&gt;
&lt;li&gt;Focusing in &amp;lt;10^4 solar mass region&lt;/li&gt;
&lt;li&gt;IRDCs&lt;/li&gt;
&lt;li&gt;Falgarone size-linewidth relation&lt;/li&gt;
&lt;li&gt;Virial parameter, virial relation.&lt;/li&gt;
&lt;li&gt;Non-equilibrium high-latitude clouds&lt;/li&gt;
&lt;li&gt;GMCs borderline bound&lt;/li&gt;
&lt;/ul&gt;
&lt;/blockquote&gt;
&lt;p&gt;PPV: Clumps form clusters, cores form stars&lt;/p&gt;
&lt;blockquote&gt;
&lt;ul class="simple"&gt;
&lt;li&gt;Ginsburg 2012: no &amp;gt;10^4 Msun &lt;em&gt;starless&lt;/em&gt; clusters&lt;/li&gt;
&lt;li&gt;Butler &amp;amp; Tan 2012: clump vs core surface density&lt;/li&gt;
&lt;/ul&gt;
&lt;/blockquote&gt;
&lt;p&gt;How identify starless cores?&lt;/p&gt;
&lt;blockquote&gt;
&lt;ul class="simple"&gt;
&lt;li&gt;Chemistry: N2D+ vs N2H+ (Fontani 2011)&lt;/li&gt;
&lt;li&gt;starless cores have higher deuteration (but not always)&lt;/li&gt;
&lt;li&gt;Tan 2013: ALMA observations of starless cores&lt;ul&gt;
&lt;li&gt;use extinction techniques&lt;/li&gt;
&lt;li&gt;approximate virial equilibrium in cores&lt;/li&gt;
&lt;li&gt;assumptions: ions line width, pressure equilibrium, etc.&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;H13CO+ cores in Cyg X (Csengeri 2012)&lt;/li&gt;
&lt;li&gt;Many suggestions of virial equilibrium&lt;/li&gt;
&lt;li&gt;Li, Kauffman etc. show many clouds have alpha_vir &amp;lt;&amp;lt; 1.  Explanations:&lt;ul&gt;
&lt;li&gt;Maybe strong B-fields?&lt;/li&gt;
&lt;li&gt;Assumed a fixed CO abundance&lt;/li&gt;
&lt;li&gt;Short time immediately before free-fall collapse&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/blockquote&gt;
&lt;div class="section" id="accretion-onto-cores-and-clumps"&gt;
&lt;h3&gt;Accretion onto Cores and Clumps&lt;/h3&gt;
&lt;blockquote&gt;
&lt;ul class="simple"&gt;
&lt;li&gt;Beltran 2006: NH3 emission and absorption in front of UCHII region
* Also CH3CN.
* 4e-3 - 1e-2 msun/yr&lt;/li&gt;
&lt;li&gt;Lopez-Sepulchre 5e-3 msun/yr
* outflows indicate 1e-5 msun/yr&lt;/li&gt;
&lt;li&gt;Wyrowski 2012 clump accretion at a a fraction of free-fall velocity&lt;/li&gt;
&lt;li&gt;Peretto 2013: 0.027 pc, 2e8 cm^-3 massive core&lt;/li&gt;
&lt;/ul&gt;
&lt;/blockquote&gt;
&lt;/div&gt;
&lt;div class="section" id="disks-around-massive-stars"&gt;
&lt;h3&gt;Disks around Massive stars&lt;/h3&gt;
&lt;blockquote&gt;
&lt;ul class="simple"&gt;
&lt;li&gt;unambiguous evidence: VLTI observations (Kraus 2010)&lt;/li&gt;
&lt;li&gt;Ilee 2013: CO bandhead emission
* Consistent with keplerian disk
* 25% have disks&lt;/li&gt;
&lt;li&gt;Protostellar jet from 10 msun star (Carrasco-Gonzalez 2010)
* suggests hydromagnetic outflows (collimated) from massive stars
* there is synchrotron&lt;/li&gt;
&lt;li&gt;Strong B-field in clump (Girart 2009)&lt;/li&gt;
&lt;/ul&gt;
&lt;/blockquote&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="section" id="theory"&gt;
&lt;h2&gt;Theory&lt;/h2&gt;
&lt;blockquote&gt;
&lt;ul class="simple"&gt;
&lt;li&gt;protostars contain many jeans masses&lt;/li&gt;
&lt;li&gt;Turbulence important within core?&lt;/li&gt;
&lt;li&gt;B-fields maybe less important&lt;/li&gt;
&lt;li&gt;Radiative feedback important (Kahn 1974, Starrfield 1971)
* force of photons can exceed gravity&lt;/li&gt;
&lt;/ul&gt;
&lt;/blockquote&gt;
&lt;p&gt;&lt;em&gt;Is high-mass accretion a scaled-up version of low-mass star formation?&lt;/em&gt;&lt;/p&gt;
&lt;dl class="docutils"&gt;
&lt;dt&gt;Yes: (Turbulent Core)&lt;/dt&gt;
&lt;dd&gt;&lt;ul class="first last simple"&gt;
&lt;li&gt;mass of star related to mass of core&lt;/li&gt;
&lt;li&gt;But: Why not fragment further?&lt;/li&gt;
&lt;li&gt;Where are protostellar accretion disks?&lt;/li&gt;
&lt;/ul&gt;
&lt;/dd&gt;
&lt;dt&gt;No: (Competitive Accretion)&lt;/dt&gt;
&lt;dd&gt;&lt;ul class="first last simple"&gt;
&lt;li&gt;tidally modified bondi-hoyle accretion&lt;/li&gt;
&lt;li&gt;Doesn't work in virialized turbulent medium&lt;/li&gt;
&lt;li&gt;B-fields reduce accretion&lt;/li&gt;
&lt;/ul&gt;
&lt;/dd&gt;
&lt;/dl&gt;
&lt;p&gt;Radiation pressure still a problem?&lt;/p&gt;
&lt;dl class="docutils"&gt;
&lt;dt&gt;Direct collisions?&lt;/dt&gt;
&lt;dd&gt;&lt;ul class="first last simple"&gt;
&lt;li&gt;While forming, or after forming&lt;/li&gt;
&lt;li&gt;Sana 2012: expect high-mass binaries to merge&lt;/li&gt;
&lt;li&gt;Moeckel &amp;amp; Bonnell: merger theory&lt;/li&gt;
&lt;li&gt;but they don't affect observed clusters (Moeckel 2011)&lt;/li&gt;
&lt;/ul&gt;
&lt;/dd&gt;
&lt;dt&gt;Radiation suppresses fragmentation&lt;/dt&gt;
&lt;dd&gt;&lt;ul class="first last simple"&gt;
&lt;li&gt;column threshold for massive star formation&lt;/li&gt;
&lt;li&gt;B-fields plus radiation effective at suppressing fragmentation (Commercon 2011)&lt;/li&gt;
&lt;/ul&gt;
&lt;/dd&gt;
&lt;/dl&gt;
&lt;p&gt;G35.2N Gemini / SOFIA observations: Zhang 2013&lt;/p&gt;
&lt;p&gt;Rowan Smith 2013: predicted ALMA observations&lt;/p&gt;
&lt;p&gt;Peters 2010: fragmentation induced starvation
Keto 2007: bondi-hoyle accretion&lt;/p&gt;
&lt;p&gt;Radiation escape: beaming, cavities&lt;/p&gt;
&lt;dl class="docutils"&gt;
&lt;dt&gt;Observational questions:&lt;/dt&gt;
&lt;dd&gt;&lt;ul class="first last simple"&gt;
&lt;li&gt;Does the IMF mirror the core mass function?&lt;/li&gt;
&lt;li&gt;Are disks present in high-massprotostars?&lt;/li&gt;
&lt;li&gt;Protostellar luminosity function for massive stars?&lt;/li&gt;
&lt;li&gt;Is IMF at high end universal?&lt;/li&gt;
&lt;li&gt;How do you make very massive &amp;gt;150 msun stars?&lt;/li&gt;
&lt;li&gt;Can massive stars form in isolation?&lt;/li&gt;
&lt;/ul&gt;
&lt;/dd&gt;
&lt;dt&gt;Why is there a difference?&lt;/dt&gt;
&lt;dd&gt;&lt;ul class="first last simple"&gt;
&lt;li&gt;initial conditions&lt;/li&gt;
&lt;li&gt;missing physics&lt;/li&gt;
&lt;/ul&gt;
&lt;/dd&gt;
&lt;/dl&gt;
&lt;/div&gt;
&lt;div class="section" id="questions"&gt;
&lt;h2&gt;Questions&lt;/h2&gt;
&lt;blockquote&gt;
&lt;ul class="simple"&gt;
&lt;li&gt;Q: Doug (Johnstone?) - Core mass function: thermal -&amp;gt; 1 star, turbulent -&amp;gt;
??? stars.  Observationally, is the column the important quantity?&lt;/li&gt;
&lt;li&gt;A: Yes, theoretically.  Cores won't necessarily make single star (or
system).  Massive cores are likely to form high and low-mass stars.  Under
what conditions will most of the mass go in to one or two stars?&lt;/li&gt;
&lt;li&gt;Q: Radiation feedback during formation.  How does this gel with massive
stars forming in close binaries?&lt;/li&gt;
&lt;li&gt;A: All simulations have terrible resolution.   Radiative + magnetic
suppresses fragmentation&lt;/li&gt;
&lt;li&gt;Q Ewine: Radiation feedback... 1 g/cm^2.  What scale?&lt;/li&gt;
&lt;li&gt;A: Up to 1000 AU, on larger scale B-field must be more effective.&lt;/li&gt;
&lt;li&gt;Q Klessen?: [mic problems]  Caution about using virial theorem.  Complex
density-velocity structure.  Surface terms should not be neglected.&lt;/li&gt;
&lt;li&gt;A: If you look at any object and compare to virial, you need time-dependent
and surface terms.  Still a good way to assess gravity.&lt;/li&gt;
&lt;li&gt;Surface term can explain virial parameters...&lt;/li&gt;
&lt;li&gt;No it can't...&lt;/li&gt;
&lt;li&gt;Q: Hiro? (Taiwan) - Observations.  Not signatures of direct accretion onto
stars?&lt;/li&gt;
&lt;li&gt;A: Most accretion was on to star-disk system.  How do you get it onto the
star?  Yes, that's one of the open difficult questions.  Observations within
10 AU of star.&lt;/li&gt;
&lt;li&gt;Q: Rolf Kuiper - Radiative tail instability.  Our simulations were confirmed
last year by two groups.... [not a question]&lt;/li&gt;
&lt;li&gt;A: I agree that flux limited diffusion underestimates force.  Zheng also
disagrees with you&lt;/li&gt;
&lt;li&gt;Q: Mike Kuhn (sp?): How does the presence of active formation of low-mass stars
prior to massive stars affects the core processes?&lt;/li&gt;
&lt;li&gt;A: Universality of IMF only true averaged over spacetime.  Low-mass stars
drive turbulence in massive star-forming region.&lt;/li&gt;
&lt;/ul&gt;
&lt;/blockquote&gt;
&lt;/div&gt;
</content><category term="pp6"></category><category term="ppvi"></category></entry><entry><title>PPVI Talk 6: John Bally</title><link href="https://keflavich.github.io/blog/ppvi-talk-6-john-bally.html" rel="alternate"></link><published>2013-07-15T17:45:00-06:00</published><updated>2013-07-15T17:45:00-06:00</updated><author><name>Adam Ginsburg</name></author><id>tag:keflavich.github.io,2013-07-15:/blog/ppvi-talk-6-john-bally.html</id><summary type="html">&lt;div class="section" id="the-milky-way-as-a-star-formation-engine"&gt;
&lt;h2&gt;THE MILKY WAY AS A STAR FORMATION ENGINE&lt;/h2&gt;
&lt;p&gt;Authors:&lt;/p&gt;
&lt;p&gt;S. Molinari (INAF-IAPS, Rome, Italy),
J. Bally (University of Colorado, Boulder, United States),
J.-P. Bernard (IRAP, Toulouse, France),
S. Glover (Heidelberg University, ITA, Germany),
P. Martin (University of Toronto, Canada),
T. Moore (Liverpool John Moores University, United Kingdom),
A. Noriega-Crespo …&lt;/p&gt;&lt;/div&gt;</summary><content type="html">&lt;div class="section" id="the-milky-way-as-a-star-formation-engine"&gt;
&lt;h2&gt;THE MILKY WAY AS A STAR FORMATION ENGINE&lt;/h2&gt;
&lt;p&gt;Authors:&lt;/p&gt;
&lt;p&gt;S. Molinari (INAF-IAPS, Rome, Italy),
J. Bally (University of Colorado, Boulder, United States),
J.-P. Bernard (IRAP, Toulouse, France),
S. Glover (Heidelberg University, ITA, Germany),
P. Martin (University of Toronto, Canada),
T. Moore (Liverpool John Moores University, United Kingdom),
A. Noriega-Crespo (IPAC-Caltech, Pasadena, United States),
R. Plume (University of Calgary, Canada),
L. Testi (ESO-HQ, Garching, Germany),
E. Vazquez-Semadeni (UNAM, Morelia, Mexico),
A. Zavagno (LAM, Marseille, France)&lt;/p&gt;
&lt;p&gt;We review and discuss the latest observational scenario globally emerging from
the latest generation of continuum and spectroscopic global-scale surveys of
the mid-plane of the Galaxy from infrared to radio wavelengths, in terms of
cloud formation and evolution, star and clump formation rate and efficiency
throughout the Galaxy, evidence for density thresholds for the formation of
protocluster-forming clumps, as well as the role of large-scale filamentary
structures in channeling diffuse ISM into gravitationally bound clumps. The new
view of the Milky Way thus assembled will be discussed in the context of
competing theoretical frameworks distinguishing between &amp;quot;slow&amp;quot; and &amp;quot;fast&amp;quot;
formation, outlining some of the challenges that this body of evidence poses to
a variety of theoretical scenarios for large-scale star formation. We will
review the most recent methods and evolutionary indicators used to classify the
star formation activity in molecular clumps, comparing the different possible
derivations of the local SFR and discussing its variation as a function of
Galactocentric radius. The order-of-magnitude increase in the number of sources
(mostly clumps) that are revealed in state-of-the-art infrared and
submillimeter Galaxy-wide surveys make such studies possible with an
unprecedented statistical significance. We will also review the present status
of our understanding of the Galaxy as a global star formation engine in the
context of similar studies in extragalactic systems, evaluating how the data on
our own Galaxy compare with the proposed global star formation laws that relate
properties of the interstellar medium to the star formation rate.&lt;/p&gt;
&lt;/div&gt;
&lt;div class="section" id="intro"&gt;
&lt;h2&gt;Intro&lt;/h2&gt;
&lt;p&gt;Link the MW to high redshift.&lt;/p&gt;
&lt;p&gt;&amp;quot;Galactic Ecology&amp;quot;&lt;/p&gt;
&lt;blockquote&gt;
&lt;ul class="simple"&gt;
&lt;li&gt;Efficiency &amp;quot;&amp;lt;15%&amp;quot;&lt;/li&gt;
&lt;li&gt;Feedback -&amp;gt; &amp;quot;superbubbles&amp;quot;&lt;/li&gt;
&lt;li&gt;&amp;quot;oops&amp;quot;&lt;/li&gt;
&lt;li&gt;solar circle Z-scale oscillation 80 Myr&lt;/li&gt;
&lt;li&gt;Epicyclic period 170 Myr [what is this orbital scale?)&lt;/li&gt;
&lt;li&gt;orbital timescale 220 Myr&lt;/li&gt;
&lt;/ul&gt;
&lt;/blockquote&gt;
&lt;p&gt;Large scale view:&lt;/p&gt;
&lt;blockquote&gt;
&lt;ul class="simple"&gt;
&lt;li&gt;Sco-Cen HI supershell (1973 A&amp;amp;AS)&lt;/li&gt;
&lt;li&gt;Rho Oph filament swept up by Sco-Cen bubble?&lt;/li&gt;
&lt;li&gt;Sco-Cen has HI, not H-alpha&lt;/li&gt;
&lt;li&gt;Alpha-Persei blew a bubble for Cosmologists&lt;/li&gt;
&lt;/ul&gt;
&lt;/blockquote&gt;
&lt;p&gt;Orion CO&lt;/p&gt;
&lt;blockquote&gt;
&lt;ul class="simple"&gt;
&lt;li&gt;Integral shaped filament&lt;/li&gt;
&lt;li&gt;Velocity jump occurs at cluster&lt;/li&gt;
&lt;li&gt;Vazquez-Semadeni 2008 colliding cloud resembles ISF&lt;/li&gt;
&lt;/ul&gt;
&lt;/blockquote&gt;
&lt;p&gt;BGPS -&amp;gt; ATLASGAL -&amp;gt; Herschel&lt;/p&gt;
&lt;p&gt;And now let's start the talk...&lt;/p&gt;
&lt;/div&gt;
&lt;div class="section" id="higal"&gt;
&lt;h2&gt;HiGal&lt;/h2&gt;
&lt;p&gt;HiGal 360 in OT2&lt;/p&gt;
&lt;p&gt;W3/W4/W5&lt;/p&gt;
&lt;blockquote&gt;
&lt;ul class="simple"&gt;
&lt;li&gt;W3 OB cluster&lt;/li&gt;
&lt;li&gt;W4 cometary cloud&lt;/li&gt;
&lt;li&gt;W5 (name drop)&lt;/li&gt;
&lt;/ul&gt;
&lt;/blockquote&gt;
&lt;dl class="docutils"&gt;
&lt;dt&gt;NGC 7538&lt;/dt&gt;
&lt;dd&gt;&lt;ul class="first last simple"&gt;
&lt;li&gt;filament full of H2 outflows&lt;/li&gt;
&lt;/ul&gt;
&lt;/dd&gt;
&lt;dt&gt;W43&lt;/dt&gt;
&lt;dd&gt;&lt;ul class="first last simple"&gt;
&lt;li&gt;50 Orions&lt;/li&gt;
&lt;li&gt;3 Myr old&lt;/li&gt;
&lt;li&gt;older subgroup to the south&lt;/li&gt;
&lt;/ul&gt;
&lt;/dd&gt;
&lt;dt&gt;Goodman's &amp;quot;we're out of the plane&amp;quot;&lt;/dt&gt;
&lt;dd&gt;&lt;ul class="first last simple"&gt;
&lt;li&gt;Nearby spiral arms below the &amp;quot;plane&amp;quot;&lt;/li&gt;
&lt;/ul&gt;
&lt;/dd&gt;
&lt;dt&gt;W51 - Spitzer&lt;/dt&gt;
&lt;dd&gt;&lt;ul class="first last simple"&gt;
&lt;li&gt;massive clusters&lt;/li&gt;
&lt;/ul&gt;
&lt;/dd&gt;
&lt;dt&gt;Back to M16, M17&lt;/dt&gt;
&lt;dd&gt;&lt;ul class="first last simple"&gt;
&lt;li&gt;M17&lt;/li&gt;
&lt;li&gt;M17swex&lt;/li&gt;
&lt;li&gt;red square&lt;/li&gt;
&lt;/ul&gt;
&lt;/dd&gt;
&lt;dt&gt;Nessie (Jackson)&lt;/dt&gt;
&lt;dd&gt;&lt;ul class="first last simple"&gt;
&lt;li&gt;extended Nessie from Alyssa Goodman&lt;/li&gt;
&lt;/ul&gt;
&lt;/dd&gt;
&lt;dt&gt;Carina Nebula&lt;/dt&gt;
&lt;dd&gt;&lt;ul class="first last simple"&gt;
&lt;li&gt;eta car&lt;/li&gt;
&lt;li&gt;Trumpler 16&lt;/li&gt;
&lt;/ul&gt;
&lt;/dd&gt;
&lt;/dl&gt;
&lt;p&gt;NGC 3603&lt;/p&gt;
&lt;/div&gt;
&lt;div class="section" id="filament-formation"&gt;
&lt;h2&gt;Filament Formation&lt;/h2&gt;
&lt;p&gt;&amp;quot;Zeldovich Pancakes&amp;quot; - tend to collapse along minor axes first
Converging flows
&amp;quot;shadowing&amp;quot; HII regions -&amp;gt; cometary filament = tail
Vazquez-Semadeni colliding flows movie&lt;/p&gt;
&lt;dl class="docutils"&gt;
&lt;dt&gt;Filaments in HiGal&lt;/dt&gt;
&lt;dd&gt;&lt;ul class="first last simple"&gt;
&lt;li&gt;Schisano 2013 - Herschel filaments is continuously distributed (no threshold effect)&lt;/li&gt;
&lt;li&gt;Mass per unit length increases with amt of star formation&lt;/li&gt;
&lt;/ul&gt;
&lt;/dd&gt;
&lt;/dl&gt;
&lt;/div&gt;
&lt;div class="section" id="distances"&gt;
&lt;h2&gt;Distances&lt;/h2&gt;
&lt;blockquote&gt;
&lt;ul class="simple"&gt;
&lt;li&gt;Russeil &amp;quot;Bootstrap Morphology&amp;quot;&lt;/li&gt;
&lt;li&gt;BeSSeL parallax&lt;/li&gt;
&lt;li&gt;Distance PDF (Ellsworth-Bowers)
* showed example DPDFs
* Shirley &amp;amp; Schlingman HCO+/N2H+ velocities
* description of the algorithm&lt;/li&gt;
&lt;li&gt;Bessel points colored by arm&lt;/li&gt;
&lt;/ul&gt;
&lt;/blockquote&gt;
&lt;dl class="docutils"&gt;
&lt;dt&gt;Battersby 2011 &amp;quot;Maybe I'll skip this&amp;quot;&lt;/dt&gt;
&lt;dd&gt;&lt;ul class="first last simple"&gt;
&lt;li&gt;How does dust vary with SF signature&lt;/li&gt;
&lt;/ul&gt;
&lt;/dd&gt;
&lt;dt&gt;Pestalozzi face-on view of the galaxy&lt;/dt&gt;
&lt;dd&gt;&lt;ul class="first last simple"&gt;
&lt;li&gt;mass-luminosity plot&lt;/li&gt;
&lt;/ul&gt;
&lt;/dd&gt;
&lt;dt&gt;Finish with the CMZ&lt;/dt&gt;
&lt;dd&gt;&lt;ul class="first last simple"&gt;
&lt;li&gt;80% of gas at n&amp;gt;10^4 in CMZ&lt;/li&gt;
&lt;li&gt;Bania's clump - strange kinematics&lt;/li&gt;
&lt;li&gt;Orbits in a bar&lt;/li&gt;
&lt;li&gt;Inner Lindblad resonance?&lt;/li&gt;
&lt;li&gt;compare our CMZ to NGC 1097&lt;/li&gt;
&lt;li&gt;Dust at l &amp;gt; 0, 24um sources at l &amp;lt; 0&lt;/li&gt;
&lt;/ul&gt;
&lt;/dd&gt;
&lt;dt&gt;Molinari Ring&lt;/dt&gt;
&lt;dd&gt;&lt;ul class="first last simple"&gt;
&lt;li&gt;Vertical oscillation timescale twice orbit timescale&lt;/li&gt;
&lt;li&gt;Sgr B2 has high proper motion in the plane&lt;/li&gt;
&lt;li&gt;Battersby temperature / column maps&lt;/li&gt;
&lt;li&gt;several 10^7 msun of non-star-forming gas&lt;/li&gt;
&lt;/ul&gt;
&lt;/dd&gt;
&lt;dt&gt;Back to CMZ:&lt;/dt&gt;
&lt;dd&gt;&lt;ul class="first last simple"&gt;
&lt;li&gt;Free-free emission&lt;/li&gt;
&lt;li&gt;CND / circumnuclear ring&lt;/li&gt;
&lt;li&gt;Sgr A* has no influence on the Galaxy&lt;/li&gt;
&lt;li&gt;star formation starves Sgr A*&lt;/li&gt;
&lt;/ul&gt;
&lt;/dd&gt;
&lt;/dl&gt;
&lt;p&gt;Plug for CCAT, ALMA&lt;/p&gt;
&lt;p&gt;Storm the Castle!&lt;/p&gt;
&lt;/div&gt;
&lt;div class="section" id="questions"&gt;
&lt;h2&gt;Questions&lt;/h2&gt;
&lt;blockquote&gt;
&lt;ul class="simple"&gt;
&lt;li&gt;Q: Mordecai - seen fragmentation starvation in massive star formation as well&lt;/li&gt;
&lt;li&gt;A: Yep.  Also, Phil knows disk around black hole is like a disk around a protostar&lt;/li&gt;
&lt;li&gt;Q: Philippe - Threshold issue.  No threshold in Hi-Gal data.&lt;/li&gt;
&lt;li&gt;A: missed it, someone walked in front of me&lt;/li&gt;
&lt;li&gt;A: Molinari - Different physics, different scales?&lt;/li&gt;
&lt;li&gt;Q: Sergei - Fermi bubble feature.  Attributed to star formation.  In other
galaxies... we've seen one other analog?  More than enough energy in a Sgr
A* outburst.&lt;/li&gt;
&lt;li&gt;A: Should ask how we distinguish AGN-driven vs. star-formation-driven flows.
AGN should be low-mass, light, relativistic launch.  Star formation blows
out big HI bubbles (high-mass).&lt;/li&gt;
&lt;li&gt;Same guy: Cosmologists say AGN can blow up whole galaxies&lt;/li&gt;
&lt;li&gt;Q Hans: Sequential star formation, triggered SF... are we more informed
about triggering now than before?&lt;/li&gt;
&lt;li&gt;A: Triggering is a great model, but observationally indistinguishable.  Only
way to know is precision kinematics.  Need GAIA.
It happens, but can't be proved.&lt;/li&gt;
&lt;/ul&gt;
&lt;/blockquote&gt;
&lt;/div&gt;
</content><category term="pp6"></category><category term="ppvi"></category></entry><entry><title>PPVI Talk 5: H.B. Li</title><link href="https://keflavich.github.io/blog/ppvi-talk-5-hb-li.html" rel="alternate"></link><published>2013-07-15T15:15:00-06:00</published><updated>2013-07-15T15:15:00-06:00</updated><author><name>Adam Ginsburg</name></author><id>tag:keflavich.github.io,2013-07-15:/blog/ppvi-talk-5-hb-li.html</id><summary type="html">&lt;div class="section" id="the-link-between-magnetic-fields-and-cloud-star-formation"&gt;
&lt;h2&gt;THE LINK BETWEEN MAGNETIC FIELDS AND CLOUD/STAR FORMATION&lt;/h2&gt;
&lt;p&gt;Authors:&lt;/p&gt;
&lt;p&gt;H.-B. Li (MPIA, Heidelberg, Germany),
A. Goodman (Harvard-Smithsonian Center for Astrophysics, United States),
M. Houde (University of Western Ontario, Canada),
Z.-Y. Li (University of Virginia, United States),
G. Novak (Northwestern University, United States),
T. Sridharan (Harvard-Smithsonian Center for …&lt;/p&gt;&lt;/div&gt;</summary><content type="html">&lt;div class="section" id="the-link-between-magnetic-fields-and-cloud-star-formation"&gt;
&lt;h2&gt;THE LINK BETWEEN MAGNETIC FIELDS AND CLOUD/STAR FORMATION&lt;/h2&gt;
&lt;p&gt;Authors:&lt;/p&gt;
&lt;p&gt;H.-B. Li (MPIA, Heidelberg, Germany),
A. Goodman (Harvard-Smithsonian Center for Astrophysics, United States),
M. Houde (University of Western Ontario, Canada),
Z.-Y. Li (University of Virginia, United States),
G. Novak (Northwestern University, United States),
T. Sridharan (Harvard-Smithsonian Center for Astrophysics, United States)&lt;/p&gt;
&lt;p&gt;The question of whether magnetic fields play an important role in the processes
of molecular cloud and star formation has been debated for decades. Recent
observations reveal a simple picture that may help illuminate these questions:
magnetic fields have a tendency to preserve their orientation at all scales
that have been probed - from 100-pc scale inter-cloud media down to sub-pc
scale cloud cores. This ordered morphology has implications for the way in
which self-gravity and turbulence should interact with magnetic fields: both
gravitational contraction and turbulent velocities should be anisotropic, due
to the influence of dynamically important fields. Such anisotropy is largely
observed. Here we review these recent observations and discuss how they can
improve our understanding of cloud/star formation.&lt;/p&gt;
&lt;/div&gt;
&lt;div class="section" id="content"&gt;
&lt;h2&gt;Content&lt;/h2&gt;
&lt;p&gt;Visualize field morphology: Turbulent or directed?&lt;/p&gt;
&lt;p&gt;Can't determine importantce of B-fields just by looking at the map&lt;/p&gt;
&lt;p&gt;If kinetic dominates B-field, B-fields will simply trace cloud morphology.
Else, they will define it...&lt;/p&gt;
&lt;p&gt;Alfvenic Mach number important...&lt;/p&gt;
&lt;p&gt;B-field orientation and strength remains controversial on all scales.&lt;/p&gt;
&lt;blockquote&gt;
&lt;ol class="arabic simple" start="0"&gt;
&lt;li&gt;Observational tools&lt;/li&gt;
&lt;/ol&gt;
&lt;blockquote&gt;
&lt;ul class="simple"&gt;
&lt;li&gt;Dust grain alignment&lt;/li&gt;
&lt;li&gt;polarization of thermal emission A_V &amp;gt; 100mag&lt;/li&gt;
&lt;li&gt;polarization of reflected starlight A_V &amp;lt; 5 mag&lt;/li&gt;
&lt;li&gt;Zeeman effect &lt;em&gt;circular&lt;/em&gt; poln: line-of-sight component&lt;/li&gt;
&lt;li&gt;linear line polarization&lt;/li&gt;
&lt;/ul&gt;
&lt;/blockquote&gt;
&lt;/blockquote&gt;
&lt;p&gt;M33 SMA observations&lt;/p&gt;
&lt;blockquote&gt;
&lt;ul class="simple"&gt;
&lt;li&gt;synchrotron show low-density medium&lt;/li&gt;
&lt;li&gt;6 most massive clouds (for stronger signal)&lt;/li&gt;
&lt;li&gt;offset between CO polarization and spiral arms is double-peaked at 0,90 deg&lt;/li&gt;
&lt;/ul&gt;
&lt;/blockquote&gt;
&lt;p&gt;Crutcher Zeeman observations&lt;/p&gt;
&lt;p&gt;Turbulence lognormal column PDF.&lt;/p&gt;
&lt;blockquote&gt;
&lt;ul class="simple"&gt;
&lt;li&gt;Higher column deviations from B-fields?  &amp;quot;turning point&amp;quot; is the gravitational critical density&lt;/li&gt;
&lt;/ul&gt;
&lt;/blockquote&gt;
&lt;p&gt;Orion:&lt;/p&gt;
&lt;blockquote&gt;
&lt;ul class="simple"&gt;
&lt;li&gt;B-fields perpendicular to elongation of &amp;quot;cores&amp;quot; (perpendicular to filaments?)&lt;/li&gt;
&lt;li&gt;Mean core B-fields are approximately parallel across Orion&lt;/li&gt;
&lt;/ul&gt;
&lt;/blockquote&gt;
&lt;p&gt;For local clouds, B-field of the &amp;quot;ICM&amp;quot; (inter-core medium?) either antiparallel
or parallel&lt;/p&gt;
&lt;p&gt;Clouds flatten: collapse only &lt;em&gt;along&lt;/em&gt; b-fields.  Nice top illustration&lt;/p&gt;
&lt;img alt="" src="https://keflavich.github.io/blog/images/talk5_top.jpg" style="width: 800px;" /&gt;
&lt;p&gt;Disk formation:&lt;/p&gt;
&lt;blockquote&gt;
&lt;ul class="simple"&gt;
&lt;li&gt;B-braking requires coupling between disk and B-fields&lt;/li&gt;
&lt;li&gt;Neutral and Ion turbulent dispersion is different because of B-induction&lt;/li&gt;
&lt;li&gt;(HCO+ systematically wider than HCN)&lt;/li&gt;
&lt;li&gt;Estimate decoupling scale ~100's au&lt;/li&gt;
&lt;/ul&gt;
&lt;/blockquote&gt;
&lt;p&gt;Recent:&lt;/p&gt;
&lt;blockquote&gt;
&lt;ul class="simple"&gt;
&lt;li&gt;Chapman 2013: CSO B-fields perpendicular to disk&lt;/li&gt;
&lt;li&gt;Hull 2013: CARMA B-fields uncorrelated with disk angles&lt;/li&gt;
&lt;li&gt;Tomisaka 2011: Large-scales, perpendicular to disk.  Small scales, randomized.&lt;ul&gt;
&lt;li&gt;transition from poloidal to toroidal B-field&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/blockquote&gt;
&lt;/div&gt;
&lt;div class="section" id="conclusions"&gt;
&lt;h2&gt;Conclusions&lt;/h2&gt;
&lt;p&gt;Orion has ordered B-fields from large to small scales&lt;/p&gt;
&lt;p&gt;In general, large-scale fields lead to squishing along B-fields, small-scale&lt;/p&gt;
&lt;img alt="" src="https://keflavich.github.io/blog/images/talk5_conclusion.jpg" style="width: 800px;" /&gt;
&lt;/div&gt;
&lt;div class="section" id="questions"&gt;
&lt;h2&gt;Questions&lt;/h2&gt;
&lt;blockquote&gt;
&lt;ul class="simple"&gt;
&lt;li&gt;Q: Benetti - Are you only picking out the large-scale components when there
may be stronger small-scale fields?  How can you be sure you're seeing the
dominant component?&lt;/li&gt;
&lt;li&gt;A:&lt;/li&gt;
&lt;li&gt;Q: Strong reduction of degree of poln in core.  Are you sampling field in core?&lt;/li&gt;
&lt;li&gt;A: Poln correlates with line widths?&lt;/li&gt;
&lt;li&gt;Q Tan:  Nice results.  Are clouds are sub- or super-critical?  If you
account for extra turbulence, they are just about critical?&lt;/li&gt;
&lt;li&gt;Q Tan: What about sampling IMF from field strengths that produce massive cores?&lt;/li&gt;
&lt;li&gt;A: No idea&lt;/li&gt;
&lt;li&gt;Q Chris McKee: Padoan's group - let weak B-field amplify in simulations.
Only by assuming input strong-B-field do we get correlation between large
and small scales.&lt;/li&gt;
&lt;li&gt;A:&lt;/li&gt;
&lt;/ul&gt;
&lt;/blockquote&gt;
&lt;/div&gt;
</content><category term="pp6"></category><category term="ppvi"></category></entry><entry><title>PPVI Talk 4: Christoph Federrath</title><link href="https://keflavich.github.io/blog/ppvi-talk-4-christoph-federrath.html" rel="alternate"></link><published>2013-07-15T14:30:00-06:00</published><updated>2013-07-15T14:30:00-06:00</updated><author><name>Adam Ginsburg</name></author><id>tag:keflavich.github.io,2013-07-15:/blog/ppvi-talk-4-christoph-federrath.html</id><summary type="html">&lt;div class="section" id="the-star-formation-rate-of-molecular-clouds"&gt;
&lt;h2&gt;THE STAR FORMATION RATE OF MOLECULAR CLOUDS&lt;/h2&gt;
&lt;p&gt;Authors:&lt;/p&gt;
&lt;p&gt;P. Padoan (ICREA &amp;amp; Institute of Cosmos Sciences, University of Barcelona, Spain),
C. Federrath (School of Mathematical Sciences, Monash University, Australia),
G. Chabrier (Ecole Normale Superieure de Lyon, France),
N. Evans (The University of Texas at Austin, United States),
D. Johnstone (Herzberg Institute …&lt;/p&gt;&lt;/div&gt;</summary><content type="html">&lt;div class="section" id="the-star-formation-rate-of-molecular-clouds"&gt;
&lt;h2&gt;THE STAR FORMATION RATE OF MOLECULAR CLOUDS&lt;/h2&gt;
&lt;p&gt;Authors:&lt;/p&gt;
&lt;p&gt;P. Padoan (ICREA &amp;amp; Institute of Cosmos Sciences, University of Barcelona, Spain),
C. Federrath (School of Mathematical Sciences, Monash University, Australia),
G. Chabrier (Ecole Normale Superieure de Lyon, France),
N. Evans (The University of Texas at Austin, United States),
D. Johnstone (Herzberg Institute of Astrophysics, National Research Council of Canada),
J. Jorgensen (Star and Planet Formation Center, University of Copenhagen, Denmark),
C. McKee (University of California, Berkeley, United States),
A. Nordlund (Niels Bohr Institute &amp;amp; Star and Planet Formation Center, University of Copenhagen)&lt;/p&gt;
&lt;p&gt;We review recent advances in the analytical and numerical modeling of the star
formation rate in molecular clouds and discuss the available observational
constraints. We focus on molecular clouds as the fundamental star formation
sites, rather than on the larger-scale processes that form the clouds and set
their properties. Molecular clouds are shaped into a complex filamentary
structure by supersonic turbulence, with only a small fraction of the cloud
mass channeled into collapsing protostars over a free-fall time of the system.
In recent years, the physics of supersonic turbulence has been widely explored
with computer simulations, leading to statistical models of this fragmentation
process, and to the prediction of the star formation rate as a function of
fundamental physical parameters of molecular clouds, such as the virial
parameter, the rms Mach number, the compressive fraction of the turbulence
forcing, and the ratio of magnetic to gas pressure. Infrared space telescopes,
as well as ground-based observatories have provided unprecedented probes of the
filamentary structure of molecular clouds and the location of forming stars
within them. We may thus be on the verge of a breakthrough in our understanding
of star formation, and particularly of the star formation rate of molecular
clouds.&lt;/p&gt;
&lt;/div&gt;
&lt;div class="section" id="content"&gt;
&lt;h2&gt;Content&lt;/h2&gt;
&lt;p&gt;Star Formation Rate from statistics of turbulence&lt;/p&gt;
&lt;p&gt;Drastic differences in SFR, not just because of column density.  (Lada 2010:
Pipe vs Rho Oph, Rho = 15 Pipe)&lt;/p&gt;
&lt;p&gt;Intro slides:&lt;/p&gt;
&lt;blockquote&gt;
&lt;ul&gt;
&lt;li&gt;&lt;p class="first"&gt;KS relation with local clouds&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p class="first"&gt;CMF -&amp;gt; IMF (30-70% SFE)&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p class="first"&gt;Radiation feedback:&lt;/p&gt;
&lt;blockquote&gt;
&lt;ul class="simple"&gt;
&lt;li&gt;only affects small scales&lt;/li&gt;
&lt;li&gt;affects &amp;gt; 10^8 cm^-3&lt;/li&gt;
&lt;/ul&gt;
&lt;/blockquote&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p class="first"&gt;B-fields&lt;/p&gt;
&lt;ul class="simple"&gt;
&lt;li&gt;reduce fragmentation &lt;em&gt;more effectively&lt;/em&gt; than radiation&lt;/li&gt;
&lt;li&gt;drive outflows&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p class="first"&gt;Outflows &amp;amp; Jets&lt;/p&gt;
&lt;ul class="simple"&gt;
&lt;li&gt;direct: reduce star mass&lt;/li&gt;
&lt;li&gt;indirect - drive turbulence&lt;/li&gt;
&lt;li&gt;triggering SF&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/blockquote&gt;
&lt;/div&gt;
&lt;div class="section" id="what-drives-turbulence"&gt;
&lt;h2&gt;What drives turbulence?&lt;/h2&gt;
&lt;blockquote&gt;
&lt;ul class="simple"&gt;
&lt;li&gt;Jets contribute to turbulence on small scales, but don't feed back effectively on large scales&lt;/li&gt;
&lt;li&gt;Ionization fronts, bubbles?&lt;/li&gt;
&lt;li&gt;SN explosions&lt;/li&gt;
&lt;li&gt;MRI / shear?&lt;/li&gt;
&lt;/ul&gt;
&lt;/blockquote&gt;
&lt;div class="section" id="turbulence"&gt;
&lt;h3&gt;Turbulence&lt;/h3&gt;
&lt;blockquote&gt;
&lt;ul&gt;
&lt;li&gt;&lt;p class="first"&gt;Reynolds &amp;gt; 1000&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p class="first"&gt;cites da Vinci&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p class="first"&gt;Supersonic &amp;quot;cascades&amp;quot; to sonic scale&lt;/p&gt;
&lt;blockquote&gt;
&lt;ul class="simple"&gt;
&lt;li&gt;Kolmogorov -5/3 turbulence is incompressible (subsonic)&lt;/li&gt;
&lt;li&gt;Larson -2 supersonic, shock-dominated&lt;/li&gt;
&lt;/ul&gt;
&lt;/blockquote&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/blockquote&gt;
&lt;div class="section" id="turbulence-in-a-box"&gt;
&lt;h4&gt;Turbulence in a Box&lt;/h4&gt;
&lt;blockquote&gt;
&lt;ul class="simple"&gt;
&lt;li&gt;Mach numbers 2-50&lt;/li&gt;
&lt;li&gt;&amp;quot;Forcing term&amp;quot; f&lt;ul&gt;
&lt;li&gt;divergence free vs. compressive turbulence&lt;/li&gt;
&lt;li&gt;compressive -&amp;gt; bigger voids, higher overdensity&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;Density PDF: lognormal&lt;/li&gt;
&lt;li&gt;Perseus observations: similar Mach numbers, different dispersions: requires changed &lt;em&gt;b&lt;/em&gt;&lt;/li&gt;
&lt;li&gt;Column vs. Volume density: Brunt&lt;/li&gt;
&lt;li&gt;Kainulainen, starless -&amp;gt; taurus -&amp;gt; IRDCs&lt;ul&gt;
&lt;li&gt;starless: b=0&lt;/li&gt;
&lt;li&gt;starry: b=0.5&lt;/li&gt;
&lt;li&gt;IRDCs: higher&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/blockquote&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="section" id="density-pdf-sfr"&gt;
&lt;h2&gt;Density PDF -&amp;gt; SFR&lt;/h2&gt;
&lt;p&gt;All recent theories of SF, SFR are based on an integral over the density PDF.&lt;/p&gt;
&lt;blockquote&gt;
&lt;ul&gt;
&lt;li&gt;&lt;p class="first"&gt;Hennebelle &amp;amp; Chabrier theory: Different free-fall times at different densities, so must be in an integral&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p class="first"&gt;Cricitical density &lt;span class="math"&gt;\(s_{crit}\propto \ln \left(\alpha_{vir}\mathcal{M}^2\right)\)&lt;/span&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p class="first"&gt;SFR depends on alpha_vir, b, and M&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p class="first"&gt;Dependence on alpha_vir: inversely proportional to SFR, SFR propto alpha_vir^-1/2&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p class="first"&gt;Dependence on Mach number&lt;/p&gt;
&lt;blockquote&gt;
&lt;ul class="simple"&gt;
&lt;li&gt;stronger when you consider non-constant t_ff&lt;/li&gt;
&lt;li&gt;SFR larger as gas compressed more&lt;/li&gt;
&lt;/ul&gt;
&lt;/blockquote&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p class="first"&gt;Dependence on &lt;em&gt;b&lt;/em&gt;: Compressive is much more star forming&lt;/p&gt;
&lt;ul class="simple"&gt;
&lt;li&gt;compressive drives gas to self-gravitating densities far more rapidly&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p class="first"&gt;What about magnetic fields?  Add beta&lt;/p&gt;
&lt;ul class="simple"&gt;
&lt;li&gt;B-fields &amp;quot;wash out&amp;quot; structures&lt;/li&gt;
&lt;li&gt;Reduce fragmentation&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p class="first"&gt;Direct measurement of line-of-sight star counts and gas density&lt;/p&gt;
&lt;ul class="simple"&gt;
&lt;li&gt;1%, 10% SFE examples&lt;/li&gt;
&lt;li&gt;makes a distribution similar to Heiderman plot&lt;/li&gt;
&lt;li&gt;agreement assumes total core-to-star efficiency = 100%&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/blockquote&gt;
&lt;/div&gt;
&lt;div class="section" id="conclusions"&gt;
&lt;h2&gt;Conclusions&lt;/h2&gt;
&lt;blockquote&gt;
&lt;ul class="simple"&gt;
&lt;li&gt;supersonic, magnetized turbulence is important for driving SFR&lt;/li&gt;
&lt;/ul&gt;
&lt;/blockquote&gt;
&lt;/div&gt;
&lt;div class="section" id="questions"&gt;
&lt;h2&gt;Questions&lt;/h2&gt;
&lt;blockquote&gt;
&lt;ul class="simple"&gt;
&lt;li&gt;Q: Adam Frank - Abstract vs realistic forcing from, e.g., outflows.  Driving
sources makes turbulence look different.&lt;/li&gt;
&lt;li&gt;A: These experiments are essential.  Need to find out.&lt;/li&gt;
&lt;li&gt;Q: Fabian Heitsch - How does non-isothermality affect theory?&lt;/li&gt;
&lt;li&gt;A: We are looking only at density ranges where gas is isothermal.  SFR is
not very dependent on T, but IMF &lt;em&gt;is&lt;/em&gt;.&lt;/li&gt;
&lt;li&gt;Q: How do you explain that solenoidal is a better fit, when all drivers are
compressive?&lt;/li&gt;
&lt;li&gt;A: Don't know. BUT, compression &lt;em&gt;drives&lt;/em&gt; solenoidal modes
[this is possibly interesting - does a single compression event drive a lot of solenoids?]&lt;/li&gt;
&lt;li&gt;Q: What are the effects of field-slippage (non-ideal MHD, ambipolar diffusion)&lt;/li&gt;
&lt;li&gt;A: Not that important....&lt;/li&gt;
&lt;li&gt;Q: Tan - Filaments have ordered B-fields on large scales.  Do you see that in the simulations&lt;/li&gt;
&lt;li&gt;A: Fields are very intermittent, bouncing all over the place. Large scale
&amp;quot;input&amp;quot; B-fields may be more important for mol. clds&lt;/li&gt;
&lt;li&gt;Q: Solenoidal -&amp;gt; toroidal fields, which squeeze gas.  Do you see squeezing
(compression) from solenoidal?&lt;/li&gt;
&lt;li&gt;A: &amp;quot;simple&amp;quot; version of B-fields only works for magnetic pressure, not
magnetic tension.  For subsonic, SFR doesn't work.  Need disordered fields&lt;/li&gt;
&lt;li&gt;Q: Clark? - How do these results compare with Lada's?&lt;/li&gt;
&lt;li&gt;A: Don't know, didn't want the complexity&lt;/li&gt;
&lt;/ul&gt;
&lt;/blockquote&gt;
&lt;/div&gt;
&lt;script type='text/javascript'&gt;if (!document.getElementById('mathjaxscript_pelican_#%@#$@#')) {
    var align = "center",
        indent = "0em",
        linebreak = "false";

    if (false) {
        align = (screen.width &lt; 768) ? "left" : align;
        indent = (screen.width &lt; 768) ? "0em" : indent;
        linebreak = (screen.width &lt; 768) ? 'true' : linebreak;
    }

    var mathjaxscript = document.createElement('script');
    mathjaxscript.id = 'mathjaxscript_pelican_#%@#$@#';
    mathjaxscript.type = 'text/javascript';
    mathjaxscript.src = 'https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.3/latest.js?config=TeX-AMS-MML_HTMLorMML';

    var configscript = document.createElement('script');
    configscript.type = 'text/x-mathjax-config';
    configscript[(window.opera ? "innerHTML" : "text")] =
        "MathJax.Hub.Config({" +
        "    config: ['MMLorHTML.js']," +
        "    TeX: { extensions: ['AMSmath.js','AMSsymbols.js','noErrors.js','noUndefined.js'], equationNumbers: { autoNumber: 'none' } }," +
        "    jax: ['input/TeX','input/MathML','output/HTML-CSS']," +
        "    extensions: ['tex2jax.js','mml2jax.js','MathMenu.js','MathZoom.js']," +
        "    displayAlign: '"+ align +"'," +
        "    displayIndent: '"+ indent +"'," +
        "    showMathMenu: true," +
        "    messageStyle: 'normal'," +
        "    tex2jax: { " +
        "        inlineMath: [ ['\\\\(','\\\\)'] ], " +
        "        displayMath: [ ['$$','$$'] ]," +
        "        processEscapes: true," +
        "        preview: 'TeX'," +
        "    }, " +
        "    'HTML-CSS': { " +
        "        availableFonts: ['STIX', 'TeX']," +
        "        preferredFont: 'STIX'," +
        "        styles: { '.MathJax_Display, .MathJax .mo, .MathJax .mi, .MathJax .mn': {color: 'inherit ! important'} }," +
        "        linebreaks: { automatic: "+ linebreak +", width: '90% container' }," +
        "    }, " +
        "}); " +
        "if ('default' !== 'default') {" +
            "MathJax.Hub.Register.StartupHook('HTML-CSS Jax Ready',function () {" +
                "var VARIANT = MathJax.OutputJax['HTML-CSS'].FONTDATA.VARIANT;" +
                "VARIANT['normal'].fonts.unshift('MathJax_default');" +
                "VARIANT['bold'].fonts.unshift('MathJax_default-bold');" +
                "VARIANT['italic'].fonts.unshift('MathJax_default-italic');" +
                "VARIANT['-tex-mathit'].fonts.unshift('MathJax_default-italic');" +
            "});" +
            "MathJax.Hub.Register.StartupHook('SVG Jax Ready',function () {" +
                "var VARIANT = MathJax.OutputJax.SVG.FONTDATA.VARIANT;" +
                "VARIANT['normal'].fonts.unshift('MathJax_default');" +
                "VARIANT['bold'].fonts.unshift('MathJax_default-bold');" +
                "VARIANT['italic'].fonts.unshift('MathJax_default-italic');" +
                "VARIANT['-tex-mathit'].fonts.unshift('MathJax_default-italic');" +
            "});" +
        "}";

    (document.body || document.getElementsByTagName('head')[0]).appendChild(configscript);
    (document.body || document.getElementsByTagName('head')[0]).appendChild(mathjaxscript);
}
&lt;/script&gt;</content><category term="pp6"></category><category term="ppvi"></category></entry><entry><title>PPVI Talk 3: Paul Clark</title><link href="https://keflavich.github.io/blog/ppvi-talk-3-paul-clark.html" rel="alternate"></link><published>2013-07-15T11:45:00-06:00</published><updated>2013-07-15T11:45:00-06:00</updated><author><name>Adam Ginsburg</name></author><id>tag:keflavich.github.io,2013-07-15:/blog/ppvi-talk-3-paul-clark.html</id><summary type="html">&lt;div class="section" id="the-origin-and-universality-of-the-initial-mass-function"&gt;
&lt;h2&gt;THE ORIGIN AND UNIVERSALITY OF THE INITIAL MASS FUNCTION&lt;/h2&gt;
&lt;p&gt;Authors:&lt;/p&gt;
&lt;p&gt;S. Offner (Yale University, United States),
P. Clark (Heidelberg University, ITA, Germany),
P. Hennebelle (Observatoire de Paris, LERMA, Paris, France),
N. Bastian (Liverpool John Moores University, United Kingdom),
M. Bate (University of Exeter, United Kingdom),
P. Hopkins (California Institute of …&lt;/p&gt;&lt;/div&gt;</summary><content type="html">&lt;div class="section" id="the-origin-and-universality-of-the-initial-mass-function"&gt;
&lt;h2&gt;THE ORIGIN AND UNIVERSALITY OF THE INITIAL MASS FUNCTION&lt;/h2&gt;
&lt;p&gt;Authors:&lt;/p&gt;
&lt;p&gt;S. Offner (Yale University, United States),
P. Clark (Heidelberg University, ITA, Germany),
P. Hennebelle (Observatoire de Paris, LERMA, Paris, France),
N. Bastian (Liverpool John Moores University, United Kingdom),
M. Bate (University of Exeter, United Kingdom),
P. Hopkins (California Institute of Technology, Department of Astronomy, United States),
E. Moraux (Institut de Planetologie et d'Astrophysique de Grenoble (IPAG), France),
A. Whitworth (Cardiff University, Physics &amp;amp; Astronomy, United Kingdom)&lt;/p&gt;
&lt;/div&gt;
&lt;div class="section" id="abstract"&gt;
&lt;h2&gt;Abstract&lt;/h2&gt;
&lt;p&gt;We review current theories for the origin of the Stellar Initial Mass Function
(IMF) with particular focus on the extent to which the IMF can be considered
universal across various environments. To place the issue in an observational
context, we summarize the techniques used to determine the IMF for different
stellar populations, the uncertainties affecting the results, and the evidence
for systematic departures from universality under extreme circumstances. We
next consider theories for the formation of prestellar cores by turbulent
fragmentation and the possible impact of various thermal, hydrodynamic and
magneto-hydrodynamic instabilities. We address the conversion of prestellar
cores into stars, and evaluate the roles played by different processes:
competitive accretion, dynamical fragmentation, ejection and starvation,
filament fragmentation and filamentary accretion flows, disc formation and
fragmentation, critical scales imposed by thermodynamics, and magnetic braking.
We present explanations for the characteristic shapes of the Present-Day
Prestellar Core Mass Function and the IMF and consider what significance can be
attached to their apparent similarity. Substantial computational advances have
occurred in recent years, and we review the numerical simulations that have
been performed to predict the IMF directly and discuss the influence of
dynamics, time-dependent phenomena, and initial conditions.&lt;/p&gt;
&lt;p&gt;Last time, IMF discussion was very heated.
(technical difficulties)&lt;/p&gt;
&lt;/div&gt;
&lt;div class="section" id="intro-to-imf"&gt;
&lt;h2&gt;Intro to IMF&lt;/h2&gt;
&lt;p&gt;Salpeter, Kroupa, Chabrier, de Marchi (&amp;quot;Tapered&amp;quot; power law)
(aside) Thies &amp;amp; Kroupa: BDs not part of IMF&lt;/p&gt;
&lt;p&gt;SFR indicators only see &amp;gt;10 Msun sources.  Must extrapolate downward.  This is
why extragalactic people care.&lt;/p&gt;
&lt;div class="section" id="are-there-variations-in-the-imf"&gt;
&lt;h3&gt;Are there variations in the IMF?&lt;/h3&gt;
&lt;p&gt;Locally, no.&lt;/p&gt;
&lt;p&gt;More evolved clusters, yes on the low-mass end:&lt;/p&gt;
&lt;blockquote&gt;
&lt;ul class="simple"&gt;
&lt;li&gt;Pleiades, NGC 2516, etc.&lt;/li&gt;
&lt;li&gt;Lose low-mass stars with age dynamically&lt;/li&gt;
&lt;li&gt;fraction of BDs remaining drops to zero over time&lt;/li&gt;
&lt;/ul&gt;
&lt;/blockquote&gt;
&lt;p&gt;Difficulties in measurement:&lt;/p&gt;
&lt;blockquote&gt;
&lt;ul class="simple"&gt;
&lt;li&gt;Patchy extinction&lt;/li&gt;
&lt;li&gt;young clusters not done sampling IMF&lt;/li&gt;
&lt;li&gt;don't understand hayashi tracks that well&lt;/li&gt;
&lt;/ul&gt;
&lt;/blockquote&gt;
&lt;p&gt;Modal plot from van Dokkum&lt;/p&gt;
&lt;blockquote&gt;
&lt;ul class="simple"&gt;
&lt;li&gt;Hints at change in IMF&lt;/li&gt;
&lt;/ul&gt;
&lt;/blockquote&gt;
&lt;p&gt;Extragalactic - big camps argue top, bottom heavy and universal&lt;/p&gt;
&lt;blockquote&gt;
&lt;ul class="simple"&gt;
&lt;li&gt;rely on mass to light ratios&lt;/li&gt;
&lt;li&gt;M/L models depend on population synthesis models&lt;/li&gt;
&lt;/ul&gt;
&lt;/blockquote&gt;
&lt;/div&gt;
&lt;div class="section" id="what-determines-the-imf"&gt;
&lt;h3&gt;What determines the IMF?&lt;/h3&gt;
&lt;p&gt;Hoyle, Larson: the cloud fragmentation process.
Clouds fragment into cores, cores make stars.&lt;/p&gt;
&lt;p&gt;Does supersonic turbulence regulate? (movie from Federrath)&lt;/p&gt;
&lt;p&gt;Padoan:&lt;/p&gt;
&lt;blockquote&gt;
&lt;ul class="simple"&gt;
&lt;li&gt;CMF driven only by turbulence.&lt;/li&gt;
&lt;li&gt;# of BDs controlled by Mach number.&lt;/li&gt;
&lt;li&gt;Cloud-in-cloud problem: small cores may be in big cores&lt;/li&gt;
&lt;/ul&gt;
&lt;/blockquote&gt;
&lt;p&gt;Press-Schechter &amp;amp; Excursion Set formalism&lt;/p&gt;
&lt;blockquote&gt;
&lt;ul&gt;
&lt;li&gt;&lt;p class="first"&gt;Gravitational decoupling sets &amp;quot;critical&amp;quot; scale&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p class="first"&gt;Hopkins: Density as a function of scale&lt;/p&gt;
&lt;blockquote&gt;
&lt;ul class="simple"&gt;
&lt;li&gt;large scale: shear support&lt;/li&gt;
&lt;li&gt;intermediate: turbulence&lt;/li&gt;
&lt;li&gt;small scale: hrm...&lt;/li&gt;
&lt;li&gt;last-crossing =&amp;gt; IMF&lt;/li&gt;
&lt;/ul&gt;
&lt;/blockquote&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p class="first"&gt;Hennebelle &amp;amp; Chabrier 2008 - account for non-thermal support&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p class="first"&gt;GMCs are a separate population&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p class="first"&gt;Useful: turbulence -&amp;gt; more BDs, so extragalactic maybe more turbulent?&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/blockquote&gt;
&lt;/div&gt;
&lt;div class="section" id="does-the-cmf-map-onto-the-imf"&gt;
&lt;h3&gt;Does the CMF map onto the IMF?&lt;/h3&gt;
&lt;p&gt;Cores must:&lt;/p&gt;
&lt;blockquote&gt;
&lt;ul class="simple"&gt;
&lt;li&gt;neither accrete nor merge (or you break the CMF my moving cores)&lt;/li&gt;
&lt;li&gt;fragment self-similarly: same number of fragments per core&lt;/li&gt;
&lt;li&gt;Same efficiency regardless of mass&lt;/li&gt;
&lt;li&gt;formation must happen on similar timescale (can't have high-mass first)&lt;/li&gt;
&lt;li&gt;Cores must be able to form stars, i.e. must be grav. bound&lt;/li&gt;
&lt;/ul&gt;
&lt;/blockquote&gt;
&lt;p&gt;Can cores form stars?&lt;/p&gt;
&lt;blockquote&gt;
&lt;ul class="simple"&gt;
&lt;li&gt;Dust cores depend on column &amp;amp; temperature &amp;amp; line of sight effects&lt;/li&gt;
&lt;li&gt;number of Jeans masses goes as T^-3&lt;/li&gt;
&lt;li&gt;Velocity structure?  B-fields?&lt;/li&gt;
&lt;/ul&gt;
&lt;/blockquote&gt;
&lt;p&gt;Fragmentation within cores&lt;/p&gt;
&lt;blockquote&gt;
&lt;ul class="simple"&gt;
&lt;li&gt;Used to think that everything fragmented...&lt;/li&gt;
&lt;li&gt;strong B-fields reduce fragmentation&lt;/li&gt;
&lt;li&gt;Still haven't studied parameter space well&lt;/li&gt;
&lt;/ul&gt;
&lt;/blockquote&gt;
&lt;p&gt;SFE within cores&lt;/p&gt;
&lt;blockquote&gt;
&lt;ul class="simple"&gt;
&lt;li&gt;Binaries or triples form, requires 30%-50% efficiency&lt;/li&gt;
&lt;li&gt;can work with outflows&lt;/li&gt;
&lt;li&gt;but not clear... may depend on well-aligned B-field&lt;/li&gt;
&lt;/ul&gt;
&lt;/blockquote&gt;
&lt;p&gt;Problems with CMF:&lt;/p&gt;
&lt;blockquote&gt;
&lt;ul class="simple"&gt;
&lt;li&gt;Pipe cores follow CMF shape, but are &lt;em&gt;pressure&lt;/em&gt; bound&lt;/li&gt;
&lt;li&gt;CMF in Aquila is too low&lt;/li&gt;
&lt;li&gt;need CMF of Class 0 sources&lt;/li&gt;
&lt;/ul&gt;
&lt;/blockquote&gt;
&lt;/div&gt;
&lt;div class="section" id="clusters"&gt;
&lt;h3&gt;Clusters&lt;/h3&gt;
&lt;p&gt;What effects have cluster simulations had on IMF studies...&lt;/p&gt;
&lt;blockquote&gt;
&lt;ul class="simple"&gt;
&lt;li&gt;Initial Conditions imprints thermal jeans mass in box, which imprints onto IMF&lt;/li&gt;
&lt;li&gt;thermodynamics matter&lt;/li&gt;
&lt;/ul&gt;
&lt;/blockquote&gt;
&lt;p&gt;Fraction of cloud doesn't matter&lt;/p&gt;
&lt;blockquote&gt;
&lt;ul class="simple"&gt;
&lt;li&gt;IMF is same in small periodic box and isolated cloud&lt;/li&gt;
&lt;li&gt;colliding flows can build clouds, be more consistent&lt;/li&gt;
&lt;li&gt;How we drive turbulence doesn't seem to affect IMF (solenoidal, compressive same)&lt;/li&gt;
&lt;li&gt;power spectrum of turbulence doesn't affect IMF&lt;/li&gt;
&lt;/ul&gt;
&lt;/blockquote&gt;
&lt;p&gt;Metallicity?&lt;/p&gt;
&lt;blockquote&gt;
&lt;ul class="simple"&gt;
&lt;li&gt;Myers 2011: 20x metallicity change -&amp;gt; same IMF&lt;/li&gt;
&lt;li&gt;Multiplicity may change (Bate)&lt;/li&gt;
&lt;li&gt;even 10^-5 Z_sun -&amp;gt; same IMF&lt;/li&gt;
&lt;/ul&gt;
&lt;/blockquote&gt;
&lt;p&gt;Things that DO affect IMF:&lt;/p&gt;
&lt;blockquote&gt;
&lt;ul class="simple"&gt;
&lt;li&gt;radiative transfer: reduces fragmentation&lt;/li&gt;
&lt;li&gt;need wind feedback, otherwise radiation -&amp;gt; flat IMF by preventing fragmentation but keeping gas&lt;/li&gt;
&lt;li&gt;B-fields reduce characteristic mass by creating more filaments with different jeans masses&lt;/li&gt;
&lt;/ul&gt;
&lt;/blockquote&gt;
&lt;p&gt;State of Simulations:&lt;/p&gt;
&lt;blockquote&gt;
&lt;ul class="simple"&gt;
&lt;li&gt;Top of IMF about right&lt;/li&gt;
&lt;li&gt;bottom is wrong&lt;/li&gt;
&lt;/ul&gt;
&lt;/blockquote&gt;
&lt;/div&gt;
&lt;div class="section" id="secondary-metrics"&gt;
&lt;h3&gt;Secondary Metrics&lt;/h3&gt;
&lt;p&gt;Multiplicity&lt;/p&gt;
&lt;blockquote&gt;
&lt;ul class="simple"&gt;
&lt;li&gt;Krumholz &amp;amp; Bate both reproduce observations fairly well&lt;/li&gt;
&lt;li&gt;Require radiative transfer&lt;/li&gt;
&lt;/ul&gt;
&lt;/blockquote&gt;
&lt;/div&gt;
&lt;div class="section" id="summary"&gt;
&lt;h3&gt;Summary&lt;/h3&gt;
&lt;blockquote&gt;
&lt;ul class="simple"&gt;
&lt;li&gt;IMF studies focused on low-mass end instead of high&lt;/li&gt;
&lt;li&gt;Cores better understood&lt;/li&gt;
&lt;/ul&gt;
&lt;/blockquote&gt;
&lt;p&gt;Future: Put simulations into observational plane&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="section" id="questions"&gt;
&lt;h2&gt;Questions&lt;/h2&gt;
&lt;blockquote&gt;
&lt;ul class="simple"&gt;
&lt;li&gt;Q: Properties of turbulence in simulations give same IMF...&lt;/li&gt;
&lt;li&gt;A: Outflows drive turbulence, but turbulence doesn't change IMF.  Outflows &lt;em&gt;remove&lt;/em&gt; gas.&lt;/li&gt;
&lt;li&gt;Q Zinnecker: Binaries.&lt;/li&gt;
&lt;li&gt;A: Cathy will talk about this.  Fragmentation knobs are the issue
Unclear that binary properties will stay constant (does field match cluster?)  N-body evolution matters&lt;/li&gt;
&lt;li&gt;Q (Galactic center star studier...): not done with discussion of high-mass issues.  Radiatitve transfer still matters.&lt;/li&gt;
&lt;li&gt;A: Many effects are actually from mass segregation&lt;/li&gt;
&lt;li&gt;Q: Alyssa Goodman:  Are the CMF and IMF both lognormals?&lt;/li&gt;
&lt;li&gt;A: Sometimes fitting distributions they expect.  Maybe different processes in low mass clouds.&lt;/li&gt;
&lt;/ul&gt;
&lt;/blockquote&gt;
&lt;/div&gt;
</content><category term="pp6"></category><category term="ppvi"></category></entry><entry><title>PPVI Talk 2: Philippe Andre</title><link href="https://keflavich.github.io/blog/ppvi-talk-2-philippe-andre.html" rel="alternate"></link><published>2013-07-15T11:00:00-06:00</published><updated>2013-07-15T11:00:00-06:00</updated><author><name>Adam Ginsburg</name></author><id>tag:keflavich.github.io,2013-07-15:/blog/ppvi-talk-2-philippe-andre.html</id><summary type="html">&lt;div class="section" id="from-filamentary-networks-to-dense-cores-in-molecular-clouds-toward-a-new-paradigm-for-star-formation"&gt;
&lt;h2&gt;FROM FILAMENTARY NETWORKS TO DENSE CORES IN MOLECULAR CLOUDS: TOWARD A NEW PARADIGM FOR STAR FORMATION&lt;/h2&gt;
&lt;p&gt;Authors:&lt;/p&gt;
&lt;p&gt;P. Andre (CEA Saclay, Laboratoire AIM - Service d'Astrophysique, Gif-sur-Yvette, France),
J. Di Francesco (National Research Council Canada, Herzberg Institute of Astrophysics, Canada),
S.-I. Inutsuka (Nagoya University, Japan),
R. Pudritz (McMaster University, Origins …&lt;/p&gt;&lt;/div&gt;</summary><content type="html">&lt;div class="section" id="from-filamentary-networks-to-dense-cores-in-molecular-clouds-toward-a-new-paradigm-for-star-formation"&gt;
&lt;h2&gt;FROM FILAMENTARY NETWORKS TO DENSE CORES IN MOLECULAR CLOUDS: TOWARD A NEW PARADIGM FOR STAR FORMATION&lt;/h2&gt;
&lt;p&gt;Authors:&lt;/p&gt;
&lt;p&gt;P. Andre (CEA Saclay, Laboratoire AIM - Service d'Astrophysique, Gif-sur-Yvette, France),
J. Di Francesco (National Research Council Canada, Herzberg Institute of Astrophysics, Canada),
S.-I. Inutsuka (Nagoya University, Japan),
R. Pudritz (McMaster University, Origins Institute, Canada),
D. Ward-Thompson (University of Central Lancashire, Jeremiah Horrocks Institute, UK),
J. Pineda (University of Manchester, Jodrell Bank Centre for Astrophysics, United Kingdom)&lt;/p&gt;
&lt;/div&gt;
&lt;div class="section" id="abstract"&gt;
&lt;h2&gt;Abstract&lt;/h2&gt;
&lt;p&gt;We review recent progress in our understanding of the physics controlling the
earliest evolutionary phases of star formation. Since PPV seven years ago, one
area that has seen the most dramatic advances has been the characterization of
the link between star formation and the structure of the cold interstellar
medium (ISM). In particular, extensive studies of the nearest star-forming
clouds of our Galaxy with the Herschel Space Observatory have provided us with
unprecedented images of the initial and boundary conditions of the star
formation process. The Herschel images reveal an intricate network of
filamentary structures in every interstellar cloud. The observed filaments
share common properties such as their central widths - but only the densest
ones contain prestellar cores, the seeds of future stars. Overall, the Herschel
submillimeter data, as well as other observations from, e.g., near- IR
extinction studies, favor a scenario in which interstellar filaments and
prestellar cores represent two key steps in the star formation process: first
supersonic turbulence stirs up the gas, giving rise to a universal web-like
structure in the ISM, then gravity takes over and controls the further
fragmentation of filaments into prestellar cores and ultimately protostars. The
new observational results connect remarkably well with nearly a decades worth
of numerical simulations and theory which have consistently shown that the ISM
should be highly filamentary on all scales and that star formation is
intimately connected with self-gravitating filaments. We thus attempt to
synthesize a comprehensive physical picture that arises from the confrontation
of recent observations and simulations. We also emphasize how the apparent
complexity of cloud structure and star formation may be governed by relatively
simple universal processes - from filamentary clumps to galactic scales.&lt;/p&gt;
&lt;/div&gt;
&lt;div class="section" id="content"&gt;
&lt;h2&gt;Content&lt;/h2&gt;
&lt;p&gt;Goal: convince that filamentary structures are essential&lt;/p&gt;
&lt;p&gt;(Talk was relatively disorganized; this is reflected in the disorganization below)&lt;/p&gt;
&lt;p&gt;Filaments well-known from both observations and theory.&lt;/p&gt;
&lt;blockquote&gt;
&lt;ul class="simple"&gt;
&lt;li&gt;IRAS image of Taurus&lt;/li&gt;
&lt;li&gt;Filamentary IRDCs&lt;/li&gt;
&lt;li&gt;Turbulence, collapse, etc. all show filamentary structures in simulations&lt;/li&gt;
&lt;/ul&gt;
&lt;/blockquote&gt;
&lt;p&gt;Herschel is great!&lt;/p&gt;
&lt;blockquote&gt;
&lt;ul class="simple"&gt;
&lt;li&gt;G11.11-0.12 one of the densest, darkest clouds&lt;/li&gt;
&lt;li&gt;Filamentary networks in Vela C&lt;/li&gt;
&lt;li&gt;Sousbie's DisPerSE shows &amp;quot;networks of filaments&amp;quot;&lt;/li&gt;
&lt;/ul&gt;
&lt;/blockquote&gt;
&lt;p&gt;Universals in filaments:&lt;/p&gt;
&lt;blockquote&gt;
&lt;ul&gt;
&lt;li&gt;&lt;p class="first"&gt;Striations perpendicular to large-scale filaments (e.g., Taurus)&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p class="first"&gt;Serpens S shows H-band polarization perpendicular to filaments&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p class="first"&gt;similar column density profiles: fixed &amp;quot;scales&amp;quot;&lt;/p&gt;
&lt;blockquote&gt;
&lt;ul class="simple"&gt;
&lt;li&gt;QUESTION: If these are genuinely common size scales, can they be used as
a distance tracer? [implied answer: No, they are not universal, they are
observationally selected]&lt;/li&gt;
&lt;/ul&gt;
&lt;/blockquote&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p class="first"&gt;Plummer-like density profile: r^-2, not the expected cylindrical Ostriker solution r^-4&lt;/p&gt;
&lt;ul class="simple"&gt;
&lt;li&gt;colder inside (non-isothermal)&lt;/li&gt;
&lt;li&gt;size of central inner plateau &amp;quot;roughly the same&amp;quot;&lt;/li&gt;
&lt;li&gt;same over wide range of column densities&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/blockquote&gt;
&lt;p&gt;Possible explanation&lt;/p&gt;
&lt;blockquote&gt;
&lt;ul&gt;
&lt;li&gt;&lt;p class="first"&gt;0.1 pc is the scale of turbulence&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p class="first"&gt;in Larson's law, 0.1pc is where velocity dispersion meets sound speed&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p class="first"&gt;Sharp transition (Pineda 2011; Goodman 1998?)&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p class="first"&gt;Turbulent fragmentation may cause this?&lt;/p&gt;
&lt;blockquote&gt;
&lt;ul class="simple"&gt;
&lt;li&gt;width of compressed filaments is the sonic scale&lt;/li&gt;
&lt;/ul&gt;
&lt;/blockquote&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p class="first"&gt;Hennebelle: Compression + shear -&amp;gt; filaments...&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/blockquote&gt;
&lt;p&gt;Equilibrium with ISM?&lt;/p&gt;
&lt;blockquote&gt;
&lt;ul class="simple"&gt;
&lt;li&gt;unbound filaments below N ~ 5e21 (Inutsuka in prep)&lt;/li&gt;
&lt;li&gt;Gravitating filaments above that sacel&lt;/li&gt;
&lt;li&gt;widths centered at 0.1 +/- 0.05 pc?&lt;/li&gt;
&lt;/ul&gt;
&lt;/blockquote&gt;
&lt;p&gt;More observations (Helen Kirk et al)&lt;/p&gt;
&lt;blockquote&gt;
&lt;ul class="simple"&gt;
&lt;li&gt;Radial infall motions in HNC along minor axis of filament&lt;/li&gt;
&lt;li&gt;gradient along filament &amp;quot;suggesting infall&amp;quot; (no, that doesn't suggest
infall, at least no more than it suggests rotation)&lt;/li&gt;
&lt;li&gt;Overall picture is collapse in all dimensions&lt;/li&gt;
&lt;li&gt;Accretion of &amp;quot;background material&amp;quot; required to maintain &amp;quot;fixed widths&amp;quot;&lt;/li&gt;
&lt;/ul&gt;
&lt;/blockquote&gt;
&lt;p&gt;Arzoumanian 2013:&lt;/p&gt;
&lt;blockquote&gt;
&lt;ul class="simple"&gt;
&lt;li&gt;velocity dispersion increases with Column density&lt;/li&gt;
&lt;li&gt;velocity dispersion gives mass per unit length...&lt;/li&gt;
&lt;/ul&gt;
&lt;/blockquote&gt;
&lt;p&gt;Heitsch 2013:&lt;/p&gt;
&lt;blockquote&gt;
&lt;ul class="simple"&gt;
&lt;li&gt;Accretion onto dense filaments&lt;/li&gt;
&lt;li&gt;Most likely location in parameter space is around 0.1 pc....&lt;/li&gt;
&lt;/ul&gt;
&lt;/blockquote&gt;
&lt;p&gt;Hacar, Tafalla et al 2013 (1S036)&lt;/p&gt;
&lt;blockquote&gt;
&lt;ul class="simple"&gt;
&lt;li&gt;CO -&amp;gt; velocity-coherent &amp;quot;fibers&amp;quot; branching off of filament&lt;/li&gt;
&lt;/ul&gt;
&lt;/blockquote&gt;
&lt;p&gt;Aquila:&lt;/p&gt;
&lt;blockquote&gt;
&lt;ul&gt;
&lt;li&gt;&lt;p class="first"&gt;Wavelet/Curvelet decomposition&lt;/p&gt;
&lt;blockquote&gt;
&lt;ul class="simple"&gt;
&lt;li&gt;wavelets extract cores well&lt;/li&gt;
&lt;li&gt;curvelets highlight filaments&lt;/li&gt;
&lt;/ul&gt;
&lt;/blockquote&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/blockquote&gt;
&lt;p&gt;Konyves cores&lt;/p&gt;
&lt;blockquote&gt;
&lt;ul class="simple"&gt;
&lt;li&gt;core extraction comparison underway&lt;/li&gt;
&lt;li&gt;Menschikov getsources, Kirk csar, Molinari cutex
(csar: see this thesis? &lt;a class="reference external" href="http://orca.cf.ac.uk/14483/"&gt;http://orca.cf.ac.uk/14483/&lt;/a&gt; just used,didn't develop, csar)&lt;/li&gt;
&lt;/ul&gt;
&lt;/blockquote&gt;
&lt;p&gt;Mass vs Size diagram for starless vs starry cores&lt;/p&gt;
&lt;blockquote&gt;
&lt;ul class="simple"&gt;
&lt;li&gt;Simpson: model evoluationary tracks&lt;/li&gt;
&lt;li&gt;Prestellar CMF resembles IMF...&lt;/li&gt;
&lt;li&gt;one-to-one mapping....&lt;/li&gt;
&lt;li&gt;supports fragmentation models...&lt;/li&gt;
&lt;li&gt;75% of cores form &amp;quot;on&amp;quot; filaments&lt;/li&gt;
&lt;li&gt;preferentially form above A_V ~ 8&lt;/li&gt;
&lt;li&gt;Instability proportional to mass per length for filaments...&lt;/li&gt;
&lt;li&gt;16 msun/pc corresponds to 160 msun/pc^2 or 1600 msun/pc^3 (2e4 cm^3)&lt;/li&gt;
&lt;li&gt;threshold explained by filaments...&lt;/li&gt;
&lt;li&gt;Bonnor-Ebert mass corresponding to 16 msun/pc is ~0.5 pc, corresponding to CMF peak&lt;/li&gt;
&lt;/ul&gt;
&lt;/blockquote&gt;
&lt;/div&gt;
&lt;div class="section" id="conclusions"&gt;
&lt;h2&gt;Conclusions&lt;/h2&gt;
&lt;p&gt;First you form filaments
Then filaments fragment
Perhaps massive stars come from filament convergence into hubs
&amp;quot;This scenario may possibly account for the global rate of star formation on Galactic scales&amp;quot;&lt;/p&gt;
&lt;blockquote&gt;
&lt;ul class="simple"&gt;
&lt;li&gt;Q: Chris: A_V = 8.  Arises naturally?&lt;/li&gt;
&lt;li&gt;Q: Is there any relationship between the critical column density for SF and the column density of the parent cloud&lt;/li&gt;
&lt;li&gt;A: Not really.  Average column density in clouds is very low.  No
correlation between &lt;em&gt;average&lt;/em&gt; column density and presence/absence of
overdensities&lt;/li&gt;
&lt;li&gt;Q: 75% of dense cores in filaments.  Must be a large number of isolated ones.  Any difference between on-core and off-core?&lt;/li&gt;
&lt;li&gt;A: Yes, see Polychroni's poster.  More massive on filaments.&lt;/li&gt;
&lt;li&gt;Q: Tan - Universal widths.  Seem to be a factor of 2 from resolution for all widths.  How sure?&lt;/li&gt;
&lt;li&gt;&lt;dl class="first docutils"&gt;
&lt;dt&gt;A: The physical width is constant to within a factor of 2.  Angular width varies.&lt;/dt&gt;
&lt;dd&gt;Only the &lt;em&gt;average&lt;/em&gt; width is constant&lt;/dd&gt;
&lt;/dl&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/blockquote&gt;
&lt;/div&gt;
</content><category term="pp6"></category><category term="ppvi"></category></entry><entry><title>PPVI Talk 1: Mark Krumholz</title><link href="https://keflavich.github.io/blog/ppvi-talk-1-mark-krumholz.html" rel="alternate"></link><published>2013-07-15T10:15:00-06:00</published><updated>2013-07-15T10:15:00-06:00</updated><author><name>Adam Ginsburg</name></author><id>tag:keflavich.github.io,2013-07-15:/blog/ppvi-talk-1-mark-krumholz.html</id><summary type="html">&lt;div class="section" id="formation-of-molecular-clouds-and-global-conditions-for-star-formation"&gt;
&lt;h2&gt;FORMATION OF MOLECULAR CLOUDS AND GLOBAL CONDITIONS FOR STAR FORMATION&lt;/h2&gt;
&lt;p&gt;Authors:&lt;/p&gt;
&lt;p&gt;C. Dobbs (Exeter University, United Kingdom),
M. Krumholz (University of California, Santa Cruz, United States),
J. Ballesteros-Paredes (CRyA-UNAM, Mexico),
A. Bolatto (University of Maryland, United States),
Y. Fukui (Nagoya University, Japan),
M. Heyer (University of Massachusetts, United States),
M …&lt;/p&gt;&lt;/div&gt;</summary><content type="html">&lt;div class="section" id="formation-of-molecular-clouds-and-global-conditions-for-star-formation"&gt;
&lt;h2&gt;FORMATION OF MOLECULAR CLOUDS AND GLOBAL CONDITIONS FOR STAR FORMATION&lt;/h2&gt;
&lt;p&gt;Authors:&lt;/p&gt;
&lt;p&gt;C. Dobbs (Exeter University, United Kingdom),
M. Krumholz (University of California, Santa Cruz, United States),
J. Ballesteros-Paredes (CRyA-UNAM, Mexico),
A. Bolatto (University of Maryland, United States),
Y. Fukui (Nagoya University, Japan),
M. Heyer (University of Massachusetts, United States),
M. Mac Low (American Museum of Natural History, United States),
E. Ostriker (Princeton University, United States),
E. Vazquez-Semadeni (UNAM, Morelia, Mexico)&lt;/p&gt;
&lt;/div&gt;
&lt;div class="section" id="abstract"&gt;
&lt;h2&gt;Abstract&lt;/h2&gt;
&lt;p&gt;Giant molecular clouds (GMCs) are the primary reservoirs of cold, star-forming
molecular gas in the Milky Way and similar galaxies, and thus any understanding
of star formation must encompass a model for GMC formation, evolution, and
destruction. These models are necessarily constrained by measurements of
interstellar molecular and atomic gas, and the emergent, newborn stars. Both
observations and theory have undergone great advances in recent years, the
latter driven largely by improved numerical simulations, and the former by the
advent of large-scale surveys with new telescopes and instruments. This chapter
reviews the current state of the field.&lt;/p&gt;
&lt;/div&gt;
&lt;div class="section" id="content"&gt;
&lt;h2&gt;Content&lt;/h2&gt;
&lt;div class="section" id="galactic-scale"&gt;
&lt;h3&gt;Galactic Scale&lt;/h3&gt;
&lt;blockquote&gt;
&lt;ul class="simple"&gt;
&lt;li&gt;HI column density &amp;quot;hits a wall&amp;quot;&lt;/li&gt;
&lt;li&gt;molecular gas correlated with SF&lt;/li&gt;
&lt;li&gt;&amp;quot;depletion time&amp;quot; ~ 2 Gyr&lt;/li&gt;
&lt;li&gt;power law index of molecular clouds: -1.5 to -2 -&amp;gt; most mass in big clouds&lt;ul&gt;
&lt;li&gt;only in gas-rich regions&lt;/li&gt;
&lt;li&gt;steeper in outer regions of galaxies: -2 to -2.5&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;typical mean surface density 100 Msun/pc^2&lt;/li&gt;
&lt;li&gt;PDF of surface densities &amp;quot;lognormal&amp;quot; with powerlaw tail&lt;/li&gt;
&lt;/ul&gt;
&lt;/blockquote&gt;
&lt;/div&gt;
&lt;div class="section" id="theory"&gt;
&lt;h3&gt;Theory&lt;/h3&gt;
&lt;p&gt;Virial Parameter: &lt;span class="math"&gt;\(\sigma_v = (\alpha_G \pi G \Sigma R / 5)^{1/2}\)&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;span class="math"&gt;\(\alpha_G = -2 T/ W\)&lt;/span&gt;&lt;/p&gt;
&lt;blockquote&gt;
&lt;ul class="simple"&gt;
&lt;li&gt;&lt;span class="math"&gt;\(\alpha_G = 2\)&lt;/span&gt; -&amp;gt; free-fall collapse&lt;/li&gt;
&lt;li&gt;3 options: pressure confinement, virial balance, or free-fall collapse&lt;/li&gt;
&lt;li&gt;Most velocity dispersion on largest scale&lt;/li&gt;
&lt;li&gt;median &lt;span class="math"&gt;\(\alpha_G \sim 0.1\)&lt;/span&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/blockquote&gt;
&lt;p&gt;&lt;span class="math"&gt;\(M/M_{crit} = \frac{M}{\phi/(4\pi G)^{1/2}} \approx 2\)&lt;/span&gt;&lt;/p&gt;
&lt;blockquote&gt;
&lt;ul class="simple"&gt;
&lt;li&gt;B-fields not strong enough to support against gravity in mol. clds (Crutcher)&lt;/li&gt;
&lt;/ul&gt;
&lt;/blockquote&gt;
&lt;/div&gt;
&lt;div class="section" id="lifetime-of-molecular-clouds"&gt;
&lt;h3&gt;Lifetime of Molecular Clouds&lt;/h3&gt;
&lt;p&gt;Spatial distribution + galactic dynamics.&lt;/p&gt;
&lt;dl class="docutils"&gt;
&lt;dt&gt;Method 1: compare dynamics to distribution&lt;/dt&gt;
&lt;dd&gt;&lt;ul class="first last simple"&gt;
&lt;li&gt;Formed in the arms and survive passage between arms? (implies lifetime ~100 Myr)&lt;/li&gt;
&lt;/ul&gt;
&lt;/dd&gt;
&lt;dt&gt;Method 2: compare star cluster ages to spatial cloud distribution&lt;/dt&gt;
&lt;dd&gt;&lt;ul class="first last simple"&gt;
&lt;li&gt;lifetimes closer to 30 Myr&lt;/li&gt;
&lt;/ul&gt;
&lt;/dd&gt;
&lt;dt&gt;Method 3: look at T Tau vs post T Tau (Hartmann 2009)&lt;/dt&gt;
&lt;dd&gt;&lt;ul class="first last simple"&gt;
&lt;li&gt;3 Myr for Taurus&lt;/li&gt;
&lt;/ul&gt;
&lt;/dd&gt;
&lt;/dl&gt;
&lt;p&gt;Why difference?&lt;/p&gt;
&lt;blockquote&gt;
&lt;ul class="simple"&gt;
&lt;li&gt;size matters&lt;/li&gt;
&lt;li&gt;should compare lifetimes to cloud dynamical times&lt;/li&gt;
&lt;/ul&gt;
&lt;/blockquote&gt;
&lt;p&gt;&lt;span class="math"&gt;\(t_{ff} = \left(\frac{3\pi}{32 G \rho}\right)^{3/2}\)&lt;/span&gt;&lt;/p&gt;
&lt;/div&gt;
&lt;div class="section" id="efficiency"&gt;
&lt;h3&gt;Efficiency&lt;/h3&gt;
&lt;p&gt;The rate at which gas converts into stars.&lt;/p&gt;
&lt;p&gt;&lt;span class="math"&gt;\(\epsilon_{ff} = SFR / (M_{gas}/t_{ff}) \sim 0.01\)&lt;/span&gt;&lt;/p&gt;
&lt;blockquote&gt;
&lt;ul class="simple"&gt;
&lt;li&gt;if pure free-fall, &lt;span class="math"&gt;\(\epsilon_{ff} = 1\)&lt;/span&gt;&lt;/li&gt;
&lt;li&gt;Low star formation rate&lt;/li&gt;
&lt;li&gt;Lifetime &amp;lt;&amp;lt; 100 &lt;span class="math"&gt;\(t_{ff}\)&lt;/span&gt;&lt;/li&gt;
&lt;li&gt;Lifetime * efficiency &amp;lt; 1, so low overall star formation efficiency&lt;/li&gt;
&lt;/ul&gt;
&lt;/blockquote&gt;
&lt;/div&gt;
&lt;div class="section" id="metallicity"&gt;
&lt;h3&gt;Metallicity&lt;/h3&gt;
&lt;dl class="docutils"&gt;
&lt;dt&gt;Break between HI and CO:&lt;/dt&gt;
&lt;dd&gt;&lt;ul class="first last simple"&gt;
&lt;li&gt;10 Msun in Galaxy, local spirals&lt;/li&gt;
&lt;li&gt;50 Msun in SMC&lt;/li&gt;
&lt;/ul&gt;
&lt;/dd&gt;
&lt;/dl&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="section" id="how-do-molecular-clouds-form"&gt;
&lt;h2&gt;How do Molecular Clouds form?&lt;/h2&gt;
&lt;p&gt;&amp;quot;Stories&amp;quot;, not conclusions&lt;/p&gt;
&lt;div class="section" id="converging-flows"&gt;
&lt;h3&gt;Converging Flows&lt;/h3&gt;
&lt;blockquote&gt;
&lt;ul class="simple"&gt;
&lt;li&gt;Collision -&amp;gt; cooling&lt;/li&gt;
&lt;li&gt;vazquez-semadeni et al&lt;/li&gt;
&lt;li&gt;&amp;quot;local turbulence&amp;quot; triggers collision of warm HI&lt;/li&gt;
&lt;li&gt;Can't make big clouds: limited to mean surface density * scale height?  [needs more]&lt;/li&gt;
&lt;/ul&gt;
&lt;/blockquote&gt;
&lt;/div&gt;
&lt;div class="section" id="cloud-collision-in-spiral-arms"&gt;
&lt;h3&gt;Cloud Collision in Spiral Arms&lt;/h3&gt;
&lt;blockquote&gt;
&lt;ul class="simple"&gt;
&lt;li&gt;Spiral arms are convergence points&lt;/li&gt;
&lt;li&gt;Collisions unlikely in most of galaxy&lt;/li&gt;
&lt;li&gt;orbits crowd in arms: collisions more likely&lt;/li&gt;
&lt;li&gt;mechanism probably can't work in flocculent galaxies&lt;/li&gt;
&lt;li&gt;explains counter-orbiting GMCs [are these really a common feature?]&lt;/li&gt;
&lt;/ul&gt;
&lt;/blockquote&gt;
&lt;/div&gt;
&lt;div class="section" id="gravitational-magneto-jeans-kim-ostriker-2006"&gt;
&lt;h3&gt;Gravitational Magneto-Jeans (Kim &amp;amp; Ostriker 2006)&lt;/h3&gt;
&lt;blockquote&gt;
&lt;ul class="simple"&gt;
&lt;li&gt;Toomre Q instability at Q &amp;lt; 1.5&lt;/li&gt;
&lt;li&gt;makes 10^7-10^8 Msun clouds; smaller ones must fragment&lt;/li&gt;
&lt;li&gt;produces low spin clouds.  Mol. Clds apparently have much less angular
momentum than expected&lt;/li&gt;
&lt;li&gt;easily explains &amp;quot;beads on a string&amp;quot; morphology [why?]&lt;/li&gt;
&lt;/ul&gt;
&lt;/blockquote&gt;
&lt;/div&gt;
&lt;div class="section" id="parker-thermal-instability-mouschovias-et-al-2005"&gt;
&lt;h3&gt;Parker + Thermal instability (Mouschovias et al 2005)&lt;/h3&gt;
&lt;blockquote&gt;
&lt;ul class="simple"&gt;
&lt;li&gt;Buoyancy draws B-fields out of plane&lt;/li&gt;
&lt;li&gt;may not work with turbulence&lt;/li&gt;
&lt;/ul&gt;
&lt;/blockquote&gt;
&lt;/div&gt;
&lt;div class="section" id="chemistry-forming-h2-and-co"&gt;
&lt;h3&gt;Chemistry: Forming H2 and CO&lt;/h3&gt;
&lt;blockquote&gt;
&lt;ul class="simple"&gt;
&lt;li&gt;H2 dominance begins at ~10 Msun/pc^2&lt;/li&gt;
&lt;li&gt;Glover and Clark: Is the molecular transition a necessary prerequisite to
star formation?&lt;/li&gt;
&lt;li&gt;Extincting FUV allows cooling, H2 formation&lt;/li&gt;
&lt;/ul&gt;
&lt;/blockquote&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="section" id="evolution-of-molecular-clouds"&gt;
&lt;h2&gt;Evolution of Molecular Clouds&lt;/h2&gt;
&lt;p&gt;Morphology?&lt;/p&gt;
&lt;blockquote&gt;
&lt;ul class="simple"&gt;
&lt;li&gt;Highest intensity offset from highest column (DR21; Schneider 2001)&lt;/li&gt;
&lt;li&gt;MHD collapse (Hennebelle) vs. pure turbulence (Federrath)&lt;/li&gt;
&lt;/ul&gt;
&lt;/blockquote&gt;
&lt;p&gt;Non-thermal motions in GMCs:&lt;/p&gt;
&lt;blockquote&gt;
&lt;ul class="simple"&gt;
&lt;li&gt;Molecular clouds are invariably turbulent&lt;/li&gt;
&lt;li&gt;Reynolds number ~10^9&lt;/li&gt;
&lt;li&gt;Turbulence decays: Why sigma so large?&lt;ul&gt;
&lt;li&gt;Global grav collapse?&lt;/li&gt;
&lt;li&gt;Internal energy injection?&lt;/li&gt;
&lt;li&gt;External driving?&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/blockquote&gt;
&lt;p&gt;External driving:&lt;/p&gt;
&lt;blockquote&gt;
&lt;ul class="simple"&gt;
&lt;li&gt;Accretion energy&lt;/li&gt;
&lt;li&gt;Large-scale galactic shear&lt;/li&gt;
&lt;li&gt;Requires feedback to get star formation right&lt;/li&gt;
&lt;/ul&gt;
&lt;/blockquote&gt;
&lt;p&gt;Internal driving:&lt;/p&gt;
&lt;blockquote&gt;
&lt;ul class="simple"&gt;
&lt;li&gt;Gritschneder: ejected clumps stirring up&lt;/li&gt;
&lt;li&gt;Someone else: B-fields distorted by ionization, store energy&lt;/li&gt;
&lt;/ul&gt;
&lt;/blockquote&gt;
&lt;div class="section" id="mol-cld-disruption"&gt;
&lt;h3&gt;Mol Cld Disruption&lt;/h3&gt;
&lt;blockquote&gt;
&lt;ul class="simple"&gt;
&lt;li&gt;Dont' survive, must be disrupted....&lt;/li&gt;
&lt;/ul&gt;
&lt;/blockquote&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="section" id="why-sf-rate-low"&gt;
&lt;h2&gt;Why SF rate low?&lt;/h2&gt;
&lt;blockquote&gt;
&lt;ul class="simple"&gt;
&lt;li&gt;feedback&lt;/li&gt;
&lt;li&gt;or turbulence&lt;/li&gt;
&lt;/ul&gt;
&lt;/blockquote&gt;
&lt;div class="section" id="disruption-scenarios"&gt;
&lt;h3&gt;Disruption Scenarios&lt;/h3&gt;
&lt;blockquote&gt;
&lt;ul class="simple"&gt;
&lt;li&gt;ionization can disrupt up to 10^5, may not work above that mass&lt;/li&gt;
&lt;li&gt;turbulence slows down SF&lt;/li&gt;
&lt;li&gt;turbulence must be maintained&lt;/li&gt;
&lt;/ul&gt;
&lt;/blockquote&gt;
&lt;/div&gt;
&lt;div class="section" id="scales"&gt;
&lt;h3&gt;Scales&lt;/h3&gt;
&lt;blockquote&gt;
&lt;ul class="simple"&gt;
&lt;li&gt;&amp;quot;Normal&amp;quot; from 10-100 msun/pc^2 (all clouds are the same; cloud counting)&lt;/li&gt;
&lt;li&gt;extreme above 100 msun/pc^2 (densities in mol clds very high; mean surface density of galaxy matches individual clouds)&lt;/li&gt;
&lt;li&gt;&amp;quot;all hell break loose&amp;quot; &amp;lt; 10 msun/pc^2&lt;/li&gt;
&lt;/ul&gt;
&lt;/blockquote&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="section" id="future"&gt;
&lt;h2&gt;Future&lt;/h2&gt;
&lt;blockquote&gt;
&lt;ul class="simple"&gt;
&lt;li&gt;Obs: big surveys, better data&lt;/li&gt;
&lt;li&gt;Thry: Need to combine large and small scales&lt;/li&gt;
&lt;/ul&gt;
&lt;/blockquote&gt;
&lt;div class="section" id="citations"&gt;
&lt;h3&gt;Citations&lt;/h3&gt;
&lt;blockquote&gt;
&lt;ul class="simple"&gt;
&lt;li&gt;Leroy 2008&lt;/li&gt;
&lt;li&gt;Roman-Duval 2010&lt;/li&gt;
&lt;li&gt;Gratier 2012&lt;/li&gt;
&lt;li&gt;Narayanan 2008: Taurus cloud CO 3-color by velocity&lt;/li&gt;
&lt;li&gt;Crutcher 201&lt;/li&gt;
&lt;li&gt;Koda 2009 M51&lt;/li&gt;
&lt;li&gt;Kawamura 2009 LMC&lt;/li&gt;
&lt;li&gt;Rosolowsky &amp;amp; Blitz 2005&lt;/li&gt;
&lt;/ul&gt;
&lt;/blockquote&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="section" id="questions"&gt;
&lt;h2&gt;Questions&lt;/h2&gt;
&lt;blockquote&gt;
&lt;ul class="simple"&gt;
&lt;li&gt;Q: Correlation with CO, H2... have there been correlations with others?&lt;/li&gt;
&lt;li&gt;A: Yes, very well correlated with HCN, but no maps&lt;/li&gt;
&lt;li&gt;Q Tan: Tasker showed that GMC collisions can happen on short timescales...????&lt;/li&gt;
&lt;li&gt;&lt;dl class="first docutils"&gt;
&lt;dt&gt;Q Tan: B-fields relatively weak by &amp;quot;factor of 2, but don't believe to factor of&lt;/dt&gt;
&lt;dd&gt;2&amp;quot;.  Could B-fields still be important?&lt;/dd&gt;
&lt;/dl&gt;
&lt;/li&gt;
&lt;li&gt;&lt;dl class="first docutils"&gt;
&lt;dt&gt;A: I know about your work with Tasker.  Requires high surface density.  Can't&lt;/dt&gt;
&lt;dd&gt;work in, e.g., M33.&lt;/dd&gt;
&lt;/dl&gt;
&lt;/li&gt;
&lt;li&gt;&lt;dl class="first docutils"&gt;
&lt;dt&gt;A: B-fields.  If only a few measurements, fine.  But with so much data...&lt;/dt&gt;
&lt;dd&gt;(systematic??)&lt;/dd&gt;
&lt;/dl&gt;
&lt;/li&gt;
&lt;li&gt;Comment: Reconciling ages in LMC vs local.  Function of measurement method:
LMC, use OB stars outside.  Inside clouds, locally, don't use OB.  Ages may be
biased...&lt;/li&gt;
&lt;li&gt;A: What do you call a cloud?  Clump?&lt;/li&gt;
&lt;li&gt;&lt;dl class="first docutils"&gt;
&lt;dt&gt;Q: Should we stop talking about virial equilibrium, start talking about&lt;/dt&gt;
&lt;dd&gt;equipartition?&lt;/dd&gt;
&lt;/dl&gt;
&lt;/li&gt;
&lt;li&gt;&lt;dl class="first docutils"&gt;
&lt;dt&gt;A: They may be in equilibrium.  No &amp;quot;true&amp;quot; equilibrium, but a &amp;quot;statistical&lt;/dt&gt;
&lt;dd&gt;equilibrium&amp;quot;.  Equipartition is uninteresting since the energies are
automatically equal.&lt;/dd&gt;
&lt;/dl&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/blockquote&gt;
&lt;/div&gt;
&lt;script type='text/javascript'&gt;if (!document.getElementById('mathjaxscript_pelican_#%@#$@#')) {
    var align = "center",
        indent = "0em",
        linebreak = "false";

    if (false) {
        align = (screen.width &lt; 768) ? "left" : align;
        indent = (screen.width &lt; 768) ? "0em" : indent;
        linebreak = (screen.width &lt; 768) ? 'true' : linebreak;
    }

    var mathjaxscript = document.createElement('script');
    mathjaxscript.id = 'mathjaxscript_pelican_#%@#$@#';
    mathjaxscript.type = 'text/javascript';
    mathjaxscript.src = 'https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.3/latest.js?config=TeX-AMS-MML_HTMLorMML';

    var configscript = document.createElement('script');
    configscript.type = 'text/x-mathjax-config';
    configscript[(window.opera ? "innerHTML" : "text")] =
        "MathJax.Hub.Config({" +
        "    config: ['MMLorHTML.js']," +
        "    TeX: { extensions: ['AMSmath.js','AMSsymbols.js','noErrors.js','noUndefined.js'], equationNumbers: { autoNumber: 'none' } }," +
        "    jax: ['input/TeX','input/MathML','output/HTML-CSS']," +
        "    extensions: ['tex2jax.js','mml2jax.js','MathMenu.js','MathZoom.js']," +
        "    displayAlign: '"+ align +"'," +
        "    displayIndent: '"+ indent +"'," +
        "    showMathMenu: true," +
        "    messageStyle: 'normal'," +
        "    tex2jax: { " +
        "        inlineMath: [ ['\\\\(','\\\\)'] ], " +
        "        displayMath: [ ['$$','$$'] ]," +
        "        processEscapes: true," +
        "        preview: 'TeX'," +
        "    }, " +
        "    'HTML-CSS': { " +
        "        availableFonts: ['STIX', 'TeX']," +
        "        preferredFont: 'STIX'," +
        "        styles: { '.MathJax_Display, .MathJax .mo, .MathJax .mi, .MathJax .mn': {color: 'inherit ! important'} }," +
        "        linebreaks: { automatic: "+ linebreak +", width: '90% container' }," +
        "    }, " +
        "}); " +
        "if ('default' !== 'default') {" +
            "MathJax.Hub.Register.StartupHook('HTML-CSS Jax Ready',function () {" +
                "var VARIANT = MathJax.OutputJax['HTML-CSS'].FONTDATA.VARIANT;" +
                "VARIANT['normal'].fonts.unshift('MathJax_default');" +
                "VARIANT['bold'].fonts.unshift('MathJax_default-bold');" +
                "VARIANT['italic'].fonts.unshift('MathJax_default-italic');" +
                "VARIANT['-tex-mathit'].fonts.unshift('MathJax_default-italic');" +
            "});" +
            "MathJax.Hub.Register.StartupHook('SVG Jax Ready',function () {" +
                "var VARIANT = MathJax.OutputJax.SVG.FONTDATA.VARIANT;" +
                "VARIANT['normal'].fonts.unshift('MathJax_default');" +
                "VARIANT['bold'].fonts.unshift('MathJax_default-bold');" +
                "VARIANT['italic'].fonts.unshift('MathJax_default-italic');" +
                "VARIANT['-tex-mathit'].fonts.unshift('MathJax_default-italic');" +
            "});" +
        "}";

    (document.body || document.getElementsByTagName('head')[0]).appendChild(configscript);
    (document.body || document.getElementsByTagName('head')[0]).appendChild(mathjaxscript);
}
&lt;/script&gt;</content><category term="pp6"></category><category term="ppvi"></category></entry><entry><title>GPS Data Analysis</title><link href="https://keflavich.github.io/blog/gps-data-analysis.html" rel="alternate"></link><published>2013-06-09T20:30:00-06:00</published><updated>2013-06-09T20:30:00-06:00</updated><author><name>Adam (keflavich@gmail.com)</name></author><id>tag:keflavich.github.io,2013-06-09:/blog/gps-data-analysis.html</id><content type="html">&lt;p&gt;I've been running up the same mountain about a dozen times with a GPS on.  With
a little hacking, I was able to take the GPS data and normalize it to the same
start &amp;amp; end points to see how well I did on different runs.&lt;/p&gt;
&lt;img alt="" src="https://keflavich.github.io/blog/images/sanitas_timevsdist.png" style="width: 800px;" /&gt;
</content><category term="misc"></category><category term="personal"></category></entry><entry><title>Hopkins PDF Generalization</title><link href="https://keflavich.github.io/blog/hopkins-pdf-generalization.html" rel="alternate"></link><published>2013-06-04T15:00:00-06:00</published><updated>2013-06-04T15:00:00-06:00</updated><author><name>Adam (keflavich@gmail.com)</name></author><id>tag:keflavich.github.io,2013-06-04:/blog/hopkins-pdf-generalization.html</id><summary type="html">&lt;p&gt;&lt;a class="reference external" href="http://adsabs.harvard.edu/abs/2013MNRAS.430.1880H"&gt;Hopkins 2013&lt;/a&gt; presents a non-lognormal form of the probability distribution
function of density in turbulence, depending primarily on a parameter
&lt;span class="math"&gt;\(T\)&lt;/span&gt;.  I examine some of its properties here.  All of the equations shown
on this page are implemented in &lt;a class="reference external" href="https://github.com/keflavich/turbulence_pdfs"&gt;https://github.com/keflavich/turbulence_pdfs&lt;/a&gt;,
in particular the functions &lt;tt class="docutils literal"&gt;moments …&lt;/tt&gt;&lt;/p&gt;&lt;script type='text/javascript'&gt;if (!document.getElementById('mathjaxscript_pelican_#%@#$@#')) {
    var align = "center",
        indent = "0em",
        linebreak = "false";

    if (false) {
        align = (screen.width &lt; 768) ? "left" : align;
        indent = (screen.width &lt; 768) ? "0em" : indent;
        linebreak = (screen.width &lt; 768) ? 'true' : linebreak;
    }

    var mathjaxscript = document.createElement('script');
    mathjaxscript.id = 'mathjaxscript_pelican_#%@#$@#';
    mathjaxscript.type = 'text/javascript';
    mathjaxscript.src = 'https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.3/latest.js?config=TeX-AMS-MML_HTMLorMML';

    var configscript = document.createElement('script');
    configscript.type = 'text/x-mathjax-config';
    configscript[(window.opera ? "innerHTML" : "text")] =
        "MathJax.Hub.Config({" +
        "    config: ['MMLorHTML.js']," +
        "    TeX: { extensions: ['AMSmath.js','AMSsymbols.js','noErrors.js','noUndefined.js'], equationNumbers: { autoNumber: 'none' } }," +
        "    jax: ['input/TeX','input/MathML','output/HTML-CSS']," +
        "    extensions: ['tex2jax.js','mml2jax.js','MathMenu.js','MathZoom.js']," +
        "    displayAlign: '"+ align +"'," +
        "    displayIndent: '"+ indent +"'," +
        "    showMathMenu: true," +
        "    messageStyle: 'normal'," +
        "    tex2jax: { " +
        "        inlineMath: [ ['\\\\(','\\\\)'] ], " +
        "        displayMath: [ ['$$','$$'] ]," +
        "        processEscapes: true," +
        "        preview: 'TeX'," +
        "    }, " +
        "    'HTML-CSS': { " +
        "        availableFonts: ['STIX', 'TeX']," +
        "        preferredFont: 'STIX'," +
        "        styles: { '.MathJax_Display, .MathJax .mo, .MathJax .mi, .MathJax .mn': {color: 'inherit ! important'} }," +
        "        linebreaks: { automatic: "+ linebreak +", width: '90% container' }," +
        "    }, " +
        "}); " +
        "if ('default' !== 'default') {" +
            "MathJax.Hub.Register.StartupHook('HTML-CSS Jax Ready',function () {" +
                "var VARIANT = MathJax.OutputJax['HTML-CSS'].FONTDATA.VARIANT;" +
                "VARIANT['normal'].fonts.unshift('MathJax_default');" +
                "VARIANT['bold'].fonts.unshift('MathJax_default-bold');" +
                "VARIANT['italic'].fonts.unshift('MathJax_default-italic');" +
                "VARIANT['-tex-mathit'].fonts.unshift('MathJax_default-italic');" +
            "});" +
            "MathJax.Hub.Register.StartupHook('SVG Jax Ready',function () {" +
                "var VARIANT = MathJax.OutputJax.SVG.FONTDATA.VARIANT;" +
                "VARIANT['normal'].fonts.unshift('MathJax_default');" +
                "VARIANT['bold'].fonts.unshift('MathJax_default-bold');" +
                "VARIANT['italic'].fonts.unshift('MathJax_default-italic');" +
                "VARIANT['-tex-mathit'].fonts.unshift('MathJax_default-italic');" +
            "});" +
        "}";

    (document.body || document.getElementsByTagName('head')[0]).appendChild(configscript);
    (document.body || document.getElementsByTagName('head')[0]).appendChild(mathjaxscript);
}
&lt;/script&gt;</summary><content type="html">&lt;p&gt;&lt;a class="reference external" href="http://adsabs.harvard.edu/abs/2013MNRAS.430.1880H"&gt;Hopkins 2013&lt;/a&gt; presents a non-lognormal form of the probability distribution
function of density in turbulence, depending primarily on a parameter
&lt;span class="math"&gt;\(T\)&lt;/span&gt;.  I examine some of its properties here.  All of the equations shown
on this page are implemented in &lt;a class="reference external" href="https://github.com/keflavich/turbulence_pdfs"&gt;https://github.com/keflavich/turbulence_pdfs&lt;/a&gt;,
in particular the functions &lt;tt class="docutils literal"&gt;moments_theoretical_hopkins&lt;/tt&gt; and &lt;tt class="docutils literal"&gt;moments&lt;/tt&gt; in
&lt;a class="reference external" href="https://github.com/keflavich/turbulence_pdfs/blob/master/hopkins_pdf.py"&gt;hopkins_pdf.py&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;The conservation equations, conservation of probability and mass&lt;/p&gt;
&lt;div class="math"&gt;
\begin{equation*}
\int_{-\infty}^\infty P_V(\ln \rho) d \ln \rho \equiv 1
\end{equation*}
&lt;/div&gt;
&lt;div class="math"&gt;
\begin{equation*}
\int_{-\infty}^\infty\rho P_V(\ln \rho) d \ln \rho \equiv \rho_0 = 1
\end{equation*}
&lt;/div&gt;
&lt;p&gt;&lt;span class="math"&gt;\(\rho_0=1\)&lt;/span&gt; is the definition used by &lt;a class="reference external" href="http://adsabs.harvard.edu/abs/2013MNRAS.430.1880H"&gt;Hopkins 2013&lt;/a&gt;.  Part of the goal
of this document is to generalize to &lt;span class="math"&gt;\(\rho_0 &amp;lt;&amp;gt; 1\)&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;The most important thing to do is determine the values of the moments of the
distribution, including the integral corrections for the Dirac Delta function
component of the PDF.&lt;/p&gt;
&lt;div class="section" id="the-pdf"&gt;
&lt;h2&gt;The PDF&lt;/h2&gt;
&lt;p&gt;The full form of the Hopkins PDF is&lt;/p&gt;
&lt;div class="math"&gt;
\begin{equation*}
P_V(\ln \rho/\rho_0) d \ln \rho =  \left[I_1(2\sqrt{\lambda u}) e^{-\lambda-u} \sqrt{\frac{\lambda}{u}} + e^{-\lambda} \delta(u)\right]du
\end{equation*}
&lt;/div&gt;
&lt;p&gt;The mass-weighted PDF is&lt;/p&gt;
&lt;div class="math"&gt;
\begin{equation*}
P_M(\ln \rho/\rho_0) d \ln \rho =  \frac{\rho}{\rho_0} \left[I_1(2\sqrt{\lambda u}) e^{-\lambda-u} \sqrt{\frac{\lambda}{u}} + e^{-\lambda} \delta(u)\right]du
\end{equation*}
&lt;/div&gt;
&lt;p&gt;With definitions:&lt;/p&gt;
&lt;div class="math"&gt;
\begin{equation*}
u\equiv \frac{\lambda}{1+T} - \frac{\ln \rho/\rho_0}{T}  ;  (u \geq 0)
\end{equation*}
&lt;/div&gt;
&lt;div class="math"&gt;
\begin{equation*}
\lambda \equiv \frac{S_{\ln \rho,V}}{2 T^2}
\end{equation*}
&lt;/div&gt;
&lt;p&gt;The ratio &lt;span class="math"&gt;\(\rho/\rho_0\)&lt;/span&gt; is needed to ensure self-consistency: the mass
PDF must also conserve probability, which means it must be scaled by
&lt;span class="math"&gt;\(1/\rho_0\)&lt;/span&gt;.&lt;/p&gt;
&lt;p&gt;These distributions are slightly different than those shown in &lt;a class="reference external" href="http://adsabs.harvard.edu/abs/2013MNRAS.430.1880H"&gt;Hopkins 2013&lt;/a&gt;.
The &lt;span class="math"&gt;\(m=0\)&lt;/span&gt; term in the summation version of the PDF yields a Dirac
&lt;span class="math"&gt;\(\delta\)&lt;/span&gt; function in the integral form of the PDF.  To quote Phil:&lt;/p&gt;
&lt;pre class="literal-block"&gt;
If you check, the summation expression is exact, and does exactly integrate
to unity (and properly conserve mass) for any value of T or lambda (with
u&amp;gt;0). But this is with the implicit understanding that the gamma-function
distribution with exponent &amp;quot;m&amp;quot; should be taken to go to a delta-function
about u=0 when m=0 (since otherwise it is ill defined; and physically this
is the &amp;quot;no event/multiplication&amp;quot; case, so that's the only allowed case for
the term in u).
&lt;/pre&gt;
&lt;!-- But note that both of these distributions can depend on :math:`\rho_0`, changing :math:`u` to be --&gt;
&lt;!--  --&gt;
&lt;!-- .. math:: u\equiv \frac{\lambda}{1+T} - \frac{\ln (\rho/\rho_0)}{T}  ;  (u \geq 0) --&gt;
&lt;div class="section" id="moment-equations"&gt;
&lt;h3&gt;Moment equations&lt;/h3&gt;
&lt;p&gt;The important moments are the mean and variance of the volume and mass density
probability distribution and the volume and mass &lt;em&gt;log&lt;/em&gt;-density probability
distribution.&lt;/p&gt;
&lt;p&gt;The definitions used here are &lt;span class="math"&gt;\(E[\rho] \equiv &amp;lt;\rho&amp;gt;_V\)&lt;/span&gt;, etc.  The
variance is computed as &lt;span class="math"&gt;\(V[x]=E[x^2]-E[x]^2\)&lt;/span&gt;, which means we'll need to
compute the moments of various combinations of variables.&lt;/p&gt;
&lt;p&gt;Also, &lt;span class="math"&gt;\(S_{\ln \rho,V} \equiv V[\ln \rho_V]\)&lt;/span&gt;&lt;/p&gt;
&lt;div class="math"&gt;
\begin{equation*}
&amp;lt;\rho&amp;gt;_V \equiv \rho_0 \equiv \int_{-\infty}^{\infty} \rho P_V(\ln \rho/\rho_0) d \ln \rho
\end{equation*}
&lt;/div&gt;
&lt;div class="math"&gt;
\begin{equation*}
&amp;lt;\ln \rho&amp;gt;_V \equiv \int_{-\infty}^{\infty} \ln \rho P_V(\ln \rho/\rho_0) d \ln \rho
\end{equation*}
&lt;/div&gt;
&lt;div class="math"&gt;
\begin{equation*}
&amp;lt;\rho&amp;gt;_M \equiv \int_{-\infty}^{\infty} \rho (\rho P_V(\ln \rho/\rho_0)) d \ln \rho
\end{equation*}
&lt;/div&gt;
&lt;div class="math"&gt;
\begin{equation*}
&amp;lt;\ln \rho&amp;gt;_M \equiv \int_{-\infty}^{\infty} \ln \rho (\rho P_V(\ln \rho/\rho_0)) d \ln \rho
\end{equation*}
&lt;/div&gt;
&lt;div class="math"&gt;
\begin{equation*}
&amp;lt;\rho^3&amp;gt;_V \equiv \int_{-\infty}^{\infty} \rho^3 P_V(\ln \rho/\rho_0) d \ln \rho
\end{equation*}
&lt;/div&gt;
&lt;div class="math"&gt;
\begin{equation*}
&amp;lt;\ln^2 \rho&amp;gt;_V \equiv \int_{-\infty}^{\infty} (\ln \rho)^2 P_V(\ln \rho/\rho_0)d \ln \rho
\end{equation*}
&lt;/div&gt;
&lt;div class="math"&gt;
\begin{equation*}
&amp;lt;\ln^2 \rho&amp;gt;_M \equiv \int_{-\infty}^{\infty} (\ln \rho)^2 \rho P_V(\ln \rho/\rho_0)d \ln \rho
\end{equation*}
&lt;/div&gt;
&lt;p&gt;In the moment equations, only the input to the PDF is scaled by a mean density
&lt;span class="math"&gt;\(\rho_0\)&lt;/span&gt;; the &amp;quot;weighting factors&amp;quot; for the expectation value are not
(i.e., we are measuring &lt;span class="math"&gt;\(E[\rho]\)&lt;/span&gt;, not &lt;span class="math"&gt;\(E[\rho/rho_0]\)&lt;/span&gt;).&lt;/p&gt;
&lt;/div&gt;
&lt;div class="section" id="delta-terms"&gt;
&lt;h3&gt;Delta terms&lt;/h3&gt;
&lt;p&gt;These can be integrated analytically.  In this section, I am just computing the
means; the variances are more complicated.&lt;/p&gt;
&lt;div class="math"&gt;
\begin{equation*}
&amp;lt;\rho&amp;gt;_V \equiv \rho_0 \equiv \int_{-\infty}^{\infty} \rho e^{-\lambda} \delta(\frac{\lambda}{1+T} - \frac{\ln\rho/\rho_0}{T}) \frac{d \ln \rho}{T}
\end{equation*}
&lt;/div&gt;
&lt;div class="math"&gt;
\begin{equation*}
&amp;lt;\ln \rho&amp;gt;_V \equiv \int_{-\infty}^{\infty} \ln \rho e^{-\lambda} \delta(\frac{\lambda}{1+T} - \frac{\ln\rho/\rho_0}{T}) \frac{d \ln \rho}{T}
\end{equation*}
&lt;/div&gt;
&lt;div class="math"&gt;
\begin{equation*}
&amp;lt;\rho&amp;gt;_M \equiv \int_{-\infty}^{\infty} \rho (\frac{\rho}{\rho_0} e^{-\lambda} \delta(\frac{\lambda}{1+T} - \frac{\ln\rho/\rho_0}{T})) \frac{d \ln \rho}{T}
\end{equation*}
&lt;/div&gt;
&lt;div class="math"&gt;
\begin{equation*}
&amp;lt;\ln \rho&amp;gt;_M \equiv \int_{-\infty}^{\infty} \ln \rho (\frac{\rho}{\rho_0} e^{-\lambda} \delta(\frac{\lambda}{1+T} - \frac{\ln\rho/\rho_0}{T})) \frac{d \ln \rho}{T}
\end{equation*}
&lt;/div&gt;
&lt;p&gt;Substitution: &lt;span class="math"&gt;\(v=\frac{\ln \rho/\rho_0}{T}\)&lt;/span&gt;,
&lt;span class="math"&gt;\(dv = \frac{1}{T} d \ln \rho\)&lt;/span&gt;, &lt;span class="math"&gt;\(\rho=\rho_0 e^{v*T}\)&lt;/span&gt;, &lt;span class="math"&gt;\(\ln \rho = v T + \ln \rho_0\)&lt;/span&gt;&lt;/p&gt;
&lt;div class="math"&gt;
\begin{equation*}
&amp;lt;\rho&amp;gt;_{V\delta} \equiv \rho_0 \equiv \int_{-\infty}^{\infty} \rho_0 e^{vT} e^{-\lambda} \delta(\frac{\lambda}{1+T} - v) d v
\end{equation*}
&lt;/div&gt;
&lt;div class="math"&gt;
\begin{equation*}
&amp;lt;\ln \rho&amp;gt;_{V\delta} \equiv \int_{-\infty}^{\infty} (vT + \ln \rho_0) e^{-\lambda} \delta(\frac{\lambda}{1+T} - v) d v
\end{equation*}
&lt;/div&gt;
&lt;div class="math"&gt;
\begin{equation*}
&amp;lt;\rho&amp;gt;_{M\delta} \equiv \int_{-\infty}^{\infty} \rho_0 e^{2vT} ( e^{-\lambda} \delta(\frac{\lambda}{1+T} - v)) d v
\end{equation*}
&lt;/div&gt;
&lt;div class="math"&gt;
\begin{equation*}
&amp;lt;\ln \rho&amp;gt;_{M\delta} \equiv \int_{-\infty}^{\infty} (vT + \ln \rho_0) e^{vT} ( e^{-\lambda} \delta(\frac{\lambda}{1+T} - v)) d v
\end{equation*}
&lt;/div&gt;
&lt;p&gt;Solutions:&lt;/p&gt;
&lt;div class="math"&gt;
\begin{equation*}
&amp;lt;\rho&amp;gt;_{V\delta} =  \rho_0 \exp\left[\frac{T \lambda }{1+T} - \lambda\right] =  \rho_0 \exp\left[-\lambda \frac{1}{1+T}\right]
\end{equation*}
&lt;/div&gt;
&lt;div class="math"&gt;
\begin{equation*}
&amp;lt;\ln \rho&amp;gt;_{V\delta} =  e^{-\lambda} \frac{\lambda T}{1+T} + e^{-\lambda} \ln \rho_0
\end{equation*}
&lt;/div&gt;
&lt;div class="math"&gt;
\begin{equation*}
&amp;lt;\rho&amp;gt;_{M\delta} =  \rho_0 \exp\left[\frac{2 T \lambda }{1+T} - \lambda\right] = \rho_0 \exp\left[\lambda\frac{T-1}{T+1}\right]
\end{equation*}
&lt;/div&gt;
&lt;div class="math"&gt;
\begin{equation*}
&amp;lt;\ln \rho&amp;gt;_{M\delta} = \left( \frac{\lambda T}{1+T} + \ln \rho_0 \right) \exp\left[\frac{T \lambda }{1+T} - \lambda\right]
\end{equation*}
&lt;/div&gt;
&lt;div class="math"&gt;
\begin{equation*}
= \left( \frac{\lambda T}{1+T} + \ln \rho_0 \right) \exp\left[\frac{ -\lambda }{T+1}\right]
\end{equation*}
&lt;/div&gt;
&lt;p&gt;(for these next 3, I skipped intermediate steps)&lt;/p&gt;
&lt;div class="math"&gt;
\begin{equation*}
&amp;lt;\rho^3&amp;gt;_{V\delta} =  \rho_0^2 \exp\left[\frac{3 T \lambda }{1+T} - \lambda\right] = \rho_0^2 \exp\left[\lambda\frac{2T-1}{T+1}\right]
\end{equation*}
&lt;/div&gt;
&lt;div class="math"&gt;
\begin{equation*}
&amp;lt;\ln^2 \rho&amp;gt;_{M\delta} = \left( \frac{\lambda T}{1+T} + \ln \rho_0 \right)^2 \exp\left[\frac{ -\lambda }{T+1}\right]
\end{equation*}
&lt;/div&gt;
&lt;div class="math"&gt;
\begin{equation*}
&amp;lt;\ln^2 \rho&amp;gt;_{V\delta} = \left( \frac{\lambda T}{1+T} + \ln \rho_0 \right)^2 e^{-\lambda}
\end{equation*}
&lt;/div&gt;
&lt;p&gt;Using &lt;span class="math"&gt;\(\rho_0=1\)&lt;/span&gt; as defined in &lt;a class="reference external" href="http://adsabs.harvard.edu/abs/2013MNRAS.430.1880H"&gt;Hopkins 2013&lt;/a&gt; simplifies all of these a great deal.&lt;/p&gt;
&lt;/div&gt;
&lt;div class="section" id="pdf-integrals"&gt;
&lt;h3&gt;PDF Integrals&lt;/h3&gt;
&lt;p&gt;These cannot be integrated analytically.&lt;/p&gt;
&lt;p&gt;However, we can work from a few simple mathematica/sympy results:&lt;/p&gt;
&lt;div class="math"&gt;
\begin{equation*}
\int_0^\infty I_1(x) e^{-x^2/(4L)} dx = e^L - 1
\end{equation*}
&lt;/div&gt;
&lt;div class="math"&gt;
\begin{equation*}
\int_0^\infty x^2 I_1(x) e^{-x^2/(4L)} dx = 4 L^2 * e^L
\end{equation*}
&lt;/div&gt;
&lt;div class="math"&gt;
\begin{equation*}
\int_0^\infty x^4 I_1(x) e^{-x^2/(4L)} dx = 16 L^3 (L+2) * e^L
\end{equation*}
&lt;/div&gt;
&lt;p&gt;We use &lt;span class="math"&gt;\(L\)&lt;/span&gt; instead of &lt;span class="math"&gt;\(\lambda\)&lt;/span&gt; in these equations because it is often substituted in later equations.&lt;/p&gt;
&lt;div class="section" id="expectation-value-of-the-volume-weighted-density-e-rho"&gt;
&lt;h4&gt;Expectation Value of the Volume-Weighted Density &lt;span class="math"&gt;\(E[\rho]\)&lt;/span&gt;&lt;/h4&gt;
&lt;div class="math"&gt;
\begin{equation*}
E[\rho] \equiv \int \rho P_v(\ln \rho/\rho_0) d \ln \rho = \int \rho \left[I_1(2\sqrt{\lambda u}) e^{-\lambda-u} \sqrt{\frac{\lambda}{u}} + e^{-\lambda} \delta(u)\right]du
\end{equation*}
&lt;/div&gt;
&lt;p&gt;To get to the form of the above equations, we use the substitution&lt;/p&gt;
&lt;div class="math"&gt;
\begin{equation*}
x = 2\sqrt{\lambda u}
\end{equation*}
&lt;/div&gt;
&lt;p&gt;which gives us &lt;span class="math"&gt;\(\rho\)&lt;/span&gt; in terms of &lt;span class="math"&gt;\(x\)&lt;/span&gt;:&lt;/p&gt;
&lt;div class="math"&gt;
\begin{equation*}
\rho = \rho_0 \exp\left[T\left(-\frac{x^2}{4\lambda} + \frac{\lambda}{1+T}\right)\right]
\end{equation*}
&lt;/div&gt;
&lt;p&gt;and leads to the rearrangement:&lt;/p&gt;
&lt;div class="math"&gt;
\begin{equation*}
E[\rho] = \int \rho_0 \exp\left[T\left(-\frac{x^2}{4\lambda} + \frac{\lambda}{1+T}\right)\right] \left[I_1(x) e^{-x^2/(4\lambda)-\lambda} \right]dx + \rho_0 \exp\left(- \frac{\lambda}{1+T}\right)
\end{equation*}
&lt;/div&gt;
&lt;p&gt;where the rightmost term is kept from the first moment above.  The integral
term can straightforwardly be broken apart into equations of the form shown
above.&lt;/p&gt;
&lt;div class="math"&gt;
\begin{equation*}
L \rightarrow \frac{\lambda}{1+T}
\end{equation*}
&lt;/div&gt;
&lt;div class="math"&gt;
\begin{equation*}
E[\rho] = \rho_0 \left[ \exp \left(-\lambda+\frac{T\lambda}{1+T}\right) \int  \left[I_1(x) e^{-x^2/(4L)} \right]dx +\exp\left(- \frac{\lambda}{1+T}\right) \right]
\end{equation*}
&lt;/div&gt;
&lt;div class="math"&gt;
\begin{equation*}
= \rho_0 \left[ \exp \left(-\lambda+\frac{T\lambda}{1+T}\right)(e^L-1)  +\exp\left(- \frac{\lambda}{1+T}\right) \right]
\end{equation*}
&lt;/div&gt;
&lt;div class="math"&gt;
\begin{equation*}
= \rho_0 \left[ \exp \left(-\lambda+\frac{T\lambda}{1+T}\right)(e^{\lambda/1+T}-1)  +\exp\left(- \frac{\lambda}{1+T}\right) \right]
\end{equation*}
&lt;/div&gt;
&lt;div class="math"&gt;
\begin{equation*}
= \rho_0 \left[ e^{-\lambda/(1+T)}(e^{\lambda/1+T}-1)  +\exp\left(- \frac{\lambda}{1+T}\right) \right]
\end{equation*}
&lt;/div&gt;
&lt;div class="math"&gt;
\begin{equation*}
= \rho_0
\end{equation*}
&lt;/div&gt;
&lt;p&gt;The same general approach can be followed for all expectation values, but we'll skip the detailed algebra.&lt;/p&gt;
&lt;/div&gt;
&lt;div class="section" id="variance-of-the-volume-weighted-density-v-rho-s-ln-rho-v"&gt;
&lt;h4&gt;Variance of the Volume-Weighted Density &lt;span class="math"&gt;\(V[\rho]=S_{\ln \rho,V}\)&lt;/span&gt;&lt;/h4&gt;
&lt;div class="math"&gt;
\begin{equation*}
V[\rho] = E[\rho^2] - E[\rho]^2 = \rho_0^2 \left[  \exp\left(\lambda\frac{2 T^2}{1+3T+2T^2}\right) - 1 \right]
\end{equation*}
&lt;/div&gt;
&lt;p&gt;However, the &amp;quot;correction factor&amp;quot; is still important:&lt;/p&gt;
&lt;div class="math"&gt;
\begin{equation*}
V_\delta[\rho] = \rho_0^2 \left[ \exp\left(\lambda\frac{T-1}{T+1}\right) - \exp\left(-2\frac{\lambda}{1+T}\right) \right]
\end{equation*}
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="section" id="expectation-value-of-the-mass-weighted-density-e-m-rho"&gt;
&lt;h4&gt;Expectation Value of the Mass-Weighted Density &lt;span class="math"&gt;\(E_M[\rho]\)&lt;/span&gt;&lt;/h4&gt;
&lt;p&gt;Start from halfway through &lt;span class="math"&gt;\(E[\rho]\)&lt;/span&gt;, simply adding a factor of 2 in the exponent:&lt;/p&gt;
&lt;div class="math"&gt;
\begin{equation*}
E_M[\rho] = \int \rho_0 \exp\left[2T\left(-\frac{x^2}{4\lambda} + \frac{\lambda}{1+T}\right)\right] \left[I_1(x) e^{-x^2/(4\lambda)-\lambda} \right]dx + \rho_0 \exp\left(- \frac{\lambda(T-1)}{1+T}\right)
\end{equation*}
&lt;/div&gt;
&lt;p&gt;Follow the same math, with &lt;span class="math"&gt;\(L=\frac{\lambda}{1+2T}\)&lt;/span&gt;&lt;/p&gt;
&lt;div class="math"&gt;
\begin{equation*}
= \rho_0 \left[ \exp \left(-\lambda+\frac{2T\lambda}{1+T}\right)(e^L-1)  +\exp\left(- \frac{\lambda(T-1)}{1+T}\right) \right]
\end{equation*}
&lt;/div&gt;
&lt;div class="math"&gt;
\begin{equation*}
= \rho_0 \left[ \exp \left(\frac{(T-1)\lambda}{1+T}\right)(e^{\lambda/(1+2T)}-1)  +\exp\left(- \frac{\lambda}{1+T}\right) \right]
\end{equation*}
&lt;/div&gt;
&lt;div class="math"&gt;
\begin{equation*}
E_M[\rho] = \rho_0 \left[ \exp\left(\lambda\frac{2 T^2}{1+3T+2T^2}\right) - \exp\left(\lambda\frac{T-1}{T+1}\right) + \exp\left(\lambda\frac{T-1}{T+1}\right) \right]
\end{equation*}
&lt;/div&gt;
&lt;p&gt;The right 2 terms cancel, yielding the value shown in Equation 7 of &lt;a class="reference external" href="http://adsabs.harvard.edu/abs/2013MNRAS.430.1880H"&gt;Hopkins 2013&lt;/a&gt;
scaled by &lt;span class="math"&gt;\(\rho_0^2\)&lt;/span&gt;.  However, the right-most term is the
correction factor from the Dirac Delta term needed to correct any
numerical computation of the mass-weighted density.&lt;/p&gt;
&lt;div class="math"&gt;
\begin{equation*}
E_{\delta,M}[\rho] = \exp\left(\lambda\frac{T-1}{T+1}\right)
\end{equation*}
&lt;/div&gt;
&lt;div class="math"&gt;
\begin{equation*}
E_M[\rho] = \rho_0  \exp\left(\lambda\frac{2 T^2}{1+3T+2T^2}\right)
\end{equation*}
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="section" id="expectation-value-of-the-mass-weighted-density-squared-e-m-rho-2"&gt;
&lt;h4&gt;Expectation Value of the Mass-Weighted Density Squared &lt;span class="math"&gt;\(E_M[\rho^2]\)&lt;/span&gt;&lt;/h4&gt;
&lt;div class="math"&gt;
\begin{equation*}
E_M[\rho^2] = \int \rho^2 \frac{\rho}{\rho_0} e^{-\lambda} \left[I_1(x) e^{-x^2/(4\lambda)} \right]dx + \int \rho^2 \frac{\rho}{\rho_0} e^{-\lambda} \delta(u) du
\end{equation*}
&lt;/div&gt;
&lt;div class="math"&gt;
\begin{equation*}
E_{\delta,M}[\rho^2] = \rho_0^2 \exp\left[\lambda\frac{2T-1}{T+1}\right]
\end{equation*}
&lt;/div&gt;
&lt;div class="math"&gt;
\begin{equation*}
E_{left}[\rho^2] = e^{-\lambda} \int
\rho_0^2 \exp\left[3T\left(-\frac{x^2}{4\lambda} + \frac{\lambda}{1+T}\right)\right]
\left[I_1(x) e^{-x^2/(4\lambda)} \right]
dx
\end{equation*}
&lt;/div&gt;
&lt;div class="math"&gt;
\begin{equation*}
 = \rho_0^2 \exp\left[\frac{(2T-1)\lambda}{1+T}\right]
\int I_1(x) e^{-(3T+1)x^2/(4\lambda)}  dx
\end{equation*}
&lt;/div&gt;
&lt;div class="math"&gt;
\begin{equation*}
 = \rho_0^2 \exp\left[\frac{(2T-1)\lambda}{1+T}\right]
\left( \exp\left[\frac{\lambda}{3T+1}\right] - 1\right)
\end{equation*}
&lt;/div&gt;
&lt;div class="math"&gt;
\begin{equation*}
= \rho_0^2 \left(\exp\left[\frac{6\lambda T^2}{3T^2+4T+1}\right] - \exp\left[\frac{(2T-1)\lambda}{1+T}\right] \right)
\end{equation*}
&lt;/div&gt;
&lt;div class="math"&gt;
\begin{equation*}
E_{M}[\rho^2] = \rho_0^2 \exp\left[\frac{6\lambda T^2}{3T^2+4T+1}\right]
\end{equation*}
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="section" id="variance-of-the-mass-weighted-density-v-m-rho-e-m-rho-2-e-m-rho-2"&gt;
&lt;h4&gt;Variance of the Mass-Weighted Density &lt;span class="math"&gt;\(V_M[\rho] = E_M[\rho^2] - E_M[\rho]^2\)&lt;/span&gt;&lt;/h4&gt;
&lt;p&gt;Since correction factors are given for &lt;span class="math"&gt;\(E_M[\rho^2]\)&lt;/span&gt; and
&lt;span class="math"&gt;\(E_M[\rho]\)&lt;/span&gt;, they are not included separately here:&lt;/p&gt;
&lt;div class="math"&gt;
\begin{equation*}
V_M[\rho] = E_M[\rho^2] - E_M[\rho]^2
= \rho_0^2 \left( \exp\left[\frac{6\lambda T^2}{3T^2+4T+1}\right]
-\exp\left[\lambda\frac{4 T^2}{1+3T+2T^2}\right]
\right)
\end{equation*}
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="section" id="expectation-value-of-the-volume-weighted-log-density-e-ln-rho"&gt;
&lt;h4&gt;Expectation Value of the Volume-Weighted Log Density &lt;span class="math"&gt;\(E[\ln \rho]\)&lt;/span&gt;&lt;/h4&gt;
&lt;div class="math"&gt;
\begin{equation*}
E[\ln \rho] = \int \ln \rho e^{-\lambda} \left[I_1(x) e^{-x^2/(4\lambda)} \right]dx + \int \ln \rho e^{-\lambda} \delta(u) du
\end{equation*}
&lt;/div&gt;
&lt;div class="math"&gt;
\begin{equation*}
E_\delta[\ln \rho] = e^{-\lambda} \left[ \frac{\lambda T}{1+T} + \ln \rho_0 \right]
\end{equation*}
&lt;/div&gt;
&lt;div class="math"&gt;
\begin{equation*}
E_{left}[\ln \rho] = \int \left[\ln \rho_0 + T\left(-\frac{x^2}{4\lambda} + \frac{\lambda}{1+T}\right) \right] e^{-\lambda} \left[I_1(x) e^{-x^2/(4\lambda)} \right]dx
\end{equation*}
&lt;/div&gt;
&lt;div class="math"&gt;
\begin{equation*}
= e^{-\lambda} \left( \int \left[\ln \rho_0 + \frac{T\lambda}{1+T}\right] \left[I_1(x) e^{-x^2/(4\lambda)} \right]dx
- \int \frac{T x^2}{4\lambda} \left[I_1(x) e^{-x^2/(4\lambda)} \right]dx \right)
\end{equation*}
&lt;/div&gt;
&lt;div class="math"&gt;
\begin{equation*}
= e^{-\lambda} \left( \int \left[\ln \rho_0 + \frac{T\lambda}{1+T}\right](e^{\lambda}-1)
- \frac{4 T \lambda^2 e^{\lambda}}{4\lambda} \right)
\end{equation*}
&lt;/div&gt;
&lt;div class="math"&gt;
\begin{equation*}
= \left( \left[\ln \rho_0 + \frac{T\lambda}{1+T}\right](1-e^{-\lambda})
- T \lambda  \right)
\end{equation*}
&lt;/div&gt;
&lt;div class="math"&gt;
\begin{equation*}
E[\ln \rho] = \ln \rho_0 + \frac{T\lambda}{1+T} - T \lambda
\end{equation*}
&lt;/div&gt;
&lt;div class="math"&gt;
\begin{equation*}
= \ln \rho_0 - \frac{T^2\lambda}{1+T}
\end{equation*}
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="section" id="expectation-value-of-the-mass-weighted-log-density-e-m-ln-rho"&gt;
&lt;h4&gt;Expectation Value of the Mass-Weighted Log Density &lt;span class="math"&gt;\(E_M[\ln \rho]\)&lt;/span&gt;&lt;/h4&gt;
&lt;div class="math"&gt;
\begin{equation*}
E_M[\ln \rho] = \int \ln \rho \frac{\rho}{\rho_0} e^{-\lambda} \left[I_1(x) e^{-x^2/(4\lambda)} \right]dx + \int \ln \rho \frac{\rho}{\rho_0} e^{-\lambda} \delta(u) du
\end{equation*}
&lt;/div&gt;
&lt;div class="math"&gt;
\begin{equation*}
E_\delta[\ln \rho] = \left( \frac{\lambda T}{1+T} + \ln \rho_0 \right) \exp\left[\frac{ -\lambda }{T+1}\right]
\end{equation*}
&lt;/div&gt;
&lt;div class="math"&gt;
\begin{equation*}
E_{left}[\ln \rho] = e^{-\lambda} \int \left[
\left(\ln \rho_0 + T\left(-\frac{x^2}{4\lambda} + \frac{\lambda}{1+T}\right) \right)
\exp\left(T\left(-\frac{x^2}{4\lambda} + \frac{\lambda}{1+T}\right)\right) \right]
\left[I_1(x) e^{-x^2/(4\lambda)} \right]dx
\end{equation*}
&lt;/div&gt;
&lt;p&gt;Again, separate into integrable terms:&lt;/p&gt;
&lt;div class="math"&gt;
\begin{equation*}
= \exp\left(\frac{T\lambda}{1+T} -\lambda\right) \left[
\left(\ln \rho_0 + \frac{T\lambda}{1+T} \right)  \left[I_1(x) e^{-(1+T)x^2/(4\lambda)} \right] +
\left(-\frac{Tx^2}{4\lambda} \right)  \left[I_1(x) e^{-(1+T)x^2/(4\lambda)} \right]
\right]
\end{equation*}
&lt;/div&gt;
&lt;div class="math"&gt;
\begin{equation*}
L = \frac{\lambda}{1+T}
\end{equation*}
&lt;/div&gt;
&lt;div class="math"&gt;
\begin{equation*}
E_{left}[\ln \rho] = \exp\left(\frac{T\lambda}{1+T} -\lambda\right) \left[
\left(\ln \rho_0 + \frac{T\lambda}{1+T} \right)  \left(\exp\left[\frac{\lambda}{1+T}\right]-1\right) +
\left(-\frac{T}{4\lambda} \right)  \left(\frac{4  \lambda^2}{(1+T)^2}  \exp\left[\frac{\lambda}{1+T}\right]\right)
\right]
\end{equation*}
&lt;/div&gt;
&lt;div class="math"&gt;
\begin{equation*}
E_{left}[\ln \rho] = \exp\left(\frac{-\lambda}{1+T}\right) \left[
\left(\ln \rho_0 + \frac{T\lambda}{1+T} \right)  \left(\exp\left[\frac{\lambda}{1+T}\right]-1\right) +
\left(-\frac{T}{4\lambda} \right)  \left(\frac{4  \lambda^2}{(1+T)^2}  \exp\left[\frac{\lambda}{1+T}\right]\right)
\right]
\end{equation*}
&lt;/div&gt;
&lt;div class="math"&gt;
\begin{equation*}
E_{left}[\ln \rho] =
\left(\ln \rho_0 + \frac{T\lambda}{1+T} \right)  \left(1-\exp\left[\frac{-\lambda}{1+T}\right]\right) -
\left(\frac{ T \lambda}{(1+T)^2}  \right)
\end{equation*}
&lt;/div&gt;
&lt;div class="math"&gt;
\begin{equation*}
E_M[\ln \rho] = \left(\ln \rho_0 + \frac{T\lambda}{1+T} \right) -
\left(\frac{ T \lambda}{(1+T)^2}  \right)
\end{equation*}
&lt;/div&gt;
&lt;div class="math"&gt;
\begin{equation*}
= \ln \rho_0 + \frac{T^2\lambda}{(1+T)^2}
\end{equation*}
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="section" id="expectation-value-of-the-mass-weighted-log-density-squared-e-m-ln-2-rho"&gt;
&lt;h4&gt;Expectation Value of the Mass-Weighted Log Density Squared &lt;span class="math"&gt;\(E_M[\ln^2 \rho]\)&lt;/span&gt;&lt;/h4&gt;
&lt;div class="math"&gt;
\begin{equation*}
E_M[\ln^2 \rho] = \int (\ln \rho)^2 \frac{\rho}{\rho_0} e^{-\lambda} \left[I_1(x) e^{-x^2/(4\lambda)} \right]dx + \int (\ln \rho)^2 \frac{\rho}{\rho_0} e^{-\lambda} \delta(u) du
\end{equation*}
&lt;/div&gt;
&lt;div class="math"&gt;
\begin{equation*}
E_\delta[\ln^2 \rho] = \left( \frac{\lambda T}{1+T} + \ln \rho_0 \right)^2 \exp\left[\frac{ -\lambda }{T+1}\right]
\end{equation*}
&lt;/div&gt;
&lt;div class="math"&gt;
\begin{equation*}
E_{left}[\ln^2 \rho] = e^{-\lambda} \int \left[
\left(\ln \rho_0 + T\left(-\frac{x^2}{4\lambda} + \frac{\lambda}{1+T}\right) \right)^2
\exp\left(T\left(-\frac{x^2}{4\lambda} + \frac{\lambda}{1+T}\right)\right) \right]
\left[I_1(x) e^{-x^2/(4\lambda)} \right]dx
\end{equation*}
&lt;/div&gt;
&lt;p&gt;This time it's just too ugly.  Define a new variable:&lt;/p&gt;
&lt;div class="math"&gt;
\begin{equation*}
Q = \ln \rho_0 + \frac{T\lambda}{1+T}
\end{equation*}
&lt;/div&gt;
&lt;div class="math"&gt;
\begin{equation*}
E_{left}[\ln^2 \rho] = e^{-\lambda/(1+T)} \int \left[
\left(Q  -\frac{T x^2}{4\lambda} \right)^2
\exp\left(-\frac{Tx^2}{4\lambda} \right) \right]
\left[I_1(x) e^{-x^2/(4\lambda)} \right]dx
\end{equation*}
&lt;/div&gt;
&lt;div class="math"&gt;
\begin{equation*}
E_{left}[\ln^2 \rho] = e^{-\lambda/(1+T)} \int \left[
\left(Q^2  - 2 Q \frac{T x^2}{4\lambda} + \frac{T^2 x^4}{16\lambda^2} \right)
\left[I_1(x) e^{-(1+T)x^2/(4\lambda)} \right]
\right]dx
\end{equation*}
&lt;/div&gt;
&lt;div class="math"&gt;
\begin{equation*}
E_{left}[\ln^2 \rho] = e^{-\lambda/(1+T)}  \left[
Q^2 (e^{\lambda/(1+T)}-1)
- 2 Q \frac{T}{4\lambda} \left(\frac{4\lambda^2}{(1+T)^2} e^{\lambda/(1+T)}\right)
+ \frac{T^2}{16\lambda^2} \left(16 \frac{\lambda^3}{(1+T)^3} (\frac{\lambda}{1+T}+2) e^{\lambda/(1+T)} \right)
\right]
\end{equation*}
&lt;/div&gt;
&lt;div class="math"&gt;
\begin{equation*}
E_{left}[\ln^2 \rho] =
Q^2 (1-e^{-\lambda/(1+T)})
- 2 Q \frac{T\lambda}{(1+T)^2}
+ \frac{\lambda T^2}{(1+T)^3} \left(\frac{\lambda}{1+T}+2\right)
\end{equation*}
&lt;/div&gt;
&lt;p&gt;Add back the &lt;span class="math"&gt;\(\delta\)&lt;/span&gt; termG&lt;/p&gt;
&lt;div class="math"&gt;
\begin{equation*}
E_M[\ln^2 \rho] =
Q^2
- 2 Q \frac{T\lambda}{(1+T)^2}
+ \frac{\lambda T^2}{(1+T)^3} \left(\frac{\lambda}{1+T}+2\right)
\end{equation*}
&lt;/div&gt;
&lt;p&gt;Re-expand to see if it's simplifiable....&lt;/p&gt;
&lt;div class="math"&gt;
\begin{equation*}
E_M[\ln^2 \rho] =
\left(\ln \rho_0 + \frac{T\lambda}{1+T}\right)^2
- 2 \left(\ln \rho_0 + \frac{T\lambda}{1+T}\right) \frac{T\lambda}{(1+T)^2}
+ \frac{\lambda T^2}{(1+T)^3} \left(\frac{\lambda}{1+T}+2\right)
\end{equation*}
&lt;/div&gt;
&lt;div class="math"&gt;
\begin{equation*}
E_M[\ln^2 \rho] =
\ln^2 \rho_0 + 2 \ln \rho_0 \frac{T\lambda}{1+T} + \frac{T^2\lambda^2}{(1+T)^2}
- 2 \ln \rho_0 \frac{T\lambda}{(1+T)^2} - 2 \frac{T\lambda}{1+T} \frac{T\lambda}{(1+T)^2}
+ 2 \frac{\lambda T^2}{(1+T)^3}
+ \frac{\lambda T^2}{(1+T)^3} \frac{\lambda}{1+T}
\end{equation*}
&lt;/div&gt;
&lt;div class="math"&gt;
\begin{equation*}
E_M[\ln^2 \rho] =
\ln^2 \rho_0 + 2 \ln \rho_0 \left(\frac{T\lambda}{1+T} - \frac{T\lambda}{(1+T)^2}\right)
+ \frac{T^2\lambda^2(1+T)}{(1+T)^3}
- 2 \frac{T^2\lambda^2}{(1+T)^3}
+ 2 \frac{\lambda T^2}{(1+T)^3}
+ \frac{\lambda^2 T^2}{(1+T)^4}
\end{equation*}
&lt;/div&gt;
&lt;div class="math"&gt;
\begin{equation*}
E_M[\ln^2 \rho] =
\ln^2 \rho_0 + 2 \ln \rho_0 \left(\frac{T^2\lambda}{1+T}\right)
+ \frac{T^2\lambda^2(1+T)}{(1+T)^3}
- 2 \frac{T^2\lambda^2}{(1+T)^3}
+ 2 \frac{\lambda T^2}{(1+T)^3}
+ \frac{\lambda^2 T^2}{(1+T)^4}
\end{equation*}
&lt;/div&gt;
&lt;div class="math"&gt;
\begin{equation*}
= \ln^2 \rho_0 + 2 \ln \rho_0 \frac{T^2 \lambda}{(1+T)^2}
+ \left(\frac{\lambda T^2}{(1+T)^2}\right)^2
+ \frac{2\lambda T^2}{(1+T)^3}
\end{equation*}
&lt;/div&gt;
&lt;div class="math"&gt;
\begin{equation*}
= \left(\ln \rho_0 + \frac{T^2\lambda}{(1+T)^2}\right)^2 +
\frac{2\lambda T^2}{(1+T)^3}
\end{equation*}
&lt;/div&gt;
&lt;p&gt;As expected, we recover the correct relation from &lt;a class="reference external" href="http://adsabs.harvard.edu/abs/2013MNRAS.430.1880H"&gt;Hopkins 2013&lt;/a&gt;:&lt;/p&gt;
&lt;div class="math"&gt;
\begin{equation*}
S_{\ln \rho,M} = E_M[\ln \rho^2] - E_M[\ln \rho]^2 =
\ln^2 \rho_0 + 2 \ln \rho_0 \frac{T^2 \lambda}{(1+T)^2}
+ \left(\frac{\lambda T^2}{(1+T)^2}\right)^2 + \frac{2\lambda T^2}{(1+T)^3}
- \left(\ln \rho_0 + \frac{T^2\lambda}{(1+T)^2}\right)^2
\end{equation*}
&lt;/div&gt;
&lt;div class="math"&gt;
\begin{equation*}
= \frac{2\lambda T^2}{(1+T)^3}
\end{equation*}
&lt;/div&gt;
&lt;p&gt;&lt;em&gt;independent&lt;/em&gt; of &lt;span class="math"&gt;\(\rho_0\)&lt;/span&gt;.&lt;/p&gt;
&lt;div class="section" id="properties-of-the-hopkins-pdf"&gt;
&lt;h5&gt;Properties of the Hopkins PDF&lt;/h5&gt;
&lt;p&gt;I began this investigation in order to find out whether a different parameter,
i.e. something related to the compressiveness of the turbulent driving, could
be responsible for the &amp;quot;discrepancy&amp;quot; between the Formaldehyde-derived density
and the volume-averaged density of some clouds.&lt;/p&gt;
&lt;p&gt;I naively expected that, in compressive turbulence, more of the mass will be
concentrated at higher density, which should drive up the mass-weighted mean
density.&lt;/p&gt;
&lt;p&gt;&lt;a class="reference external" href="http://adsabs.harvard.edu/abs/2013MNRAS.430.1880H"&gt;Hopkins 2013&lt;/a&gt; showed that &lt;span class="math"&gt;\(T\sim\mathcal{M}_C\)&lt;/span&gt;.  If this is taken on
face value, without recognizing the relation between &lt;span class="math"&gt;\(T\)&lt;/span&gt; and
&lt;span class="math"&gt;\(\sigma\)&lt;/span&gt;, it means that for &lt;em&gt;fixed&lt;/em&gt; &lt;span class="math"&gt;\(\sigma\)&lt;/span&gt;,
&lt;span class="math"&gt;\(&amp;lt;\rho&amp;gt;_M\propto e^{-T^2}\)&lt;/span&gt;.&lt;/p&gt;
&lt;p&gt;This figure shows the relation of the various moments and &lt;span class="math"&gt;\(T\)&lt;/span&gt;.  The plots
show both the &amp;quot;theoretical&amp;quot; result (i.e., doing the integral by hand) and the
numerical result with 50,000 data points plus a correction for the
&lt;span class="math"&gt;\(\delta\)&lt;/span&gt; terms; the agreement is essentially perfect excepting some
numerical noise (the only visible discrepancy is for a perfect lognormal at
high &lt;span class="math"&gt;\(\sigma_V\)&lt;/span&gt;):&lt;/p&gt;
&lt;img alt="" src="https://keflavich.github.io/blog/images/rho1_varyT_colorSigma.png" style="width: 800px;" /&gt;
&lt;p&gt;However, &lt;a class="reference external" href="http://adsabs.harvard.edu/abs/2013MNRAS.430.1880H"&gt;Hopkins 2013&lt;/a&gt; also found that simulations generally produced
&lt;span class="math"&gt;\(T\sim0.1\sigma_{s,M}^2\)&lt;/span&gt; (though a relation of the form &lt;span class="math"&gt;\(T\sim 0.25
\ln(1+0.25\sigma_{s,M}^4)\)&lt;/span&gt; is also a good fit).&lt;/p&gt;
&lt;p&gt;If you use the simpler of these relations, the expected relationship (mean mass
increasing with increasing &amp;quot;compressiveness&amp;quot;) is recovered.  However, it comes
with an increasing &lt;span class="math"&gt;\(\sigma_s\)&lt;/span&gt;.  In these plots, half are labeled with
&lt;span class="math"&gt;\(\sigma\)&lt;/span&gt; and the others are labeled with &lt;span class="math"&gt;\(T\)&lt;/span&gt;, though the two are
equivalent.  The highest &lt;span class="math"&gt;\(\sigma_s\)&lt;/span&gt; observed in any of the simulations
shown in &lt;a class="reference external" href="http://adsabs.harvard.edu/abs/2013MNRAS.430.1880H"&gt;Hopkins 2013&lt;/a&gt; was about &lt;span class="math"&gt;\(\sigma_s=4\)&lt;/span&gt; (marked with a black
square below), so the maximum &lt;span class="math"&gt;\(\rho_M/\rho_V \sim 10^2\)&lt;/span&gt;.&lt;/p&gt;
&lt;img alt="" src="https://keflavich.github.io/blog/images/TSigma.png" style="width: 800px;" /&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;script type='text/javascript'&gt;if (!document.getElementById('mathjaxscript_pelican_#%@#$@#')) {
    var align = "center",
        indent = "0em",
        linebreak = "false";

    if (false) {
        align = (screen.width &lt; 768) ? "left" : align;
        indent = (screen.width &lt; 768) ? "0em" : indent;
        linebreak = (screen.width &lt; 768) ? 'true' : linebreak;
    }

    var mathjaxscript = document.createElement('script');
    mathjaxscript.id = 'mathjaxscript_pelican_#%@#$@#';
    mathjaxscript.type = 'text/javascript';
    mathjaxscript.src = 'https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.3/latest.js?config=TeX-AMS-MML_HTMLorMML';

    var configscript = document.createElement('script');
    configscript.type = 'text/x-mathjax-config';
    configscript[(window.opera ? "innerHTML" : "text")] =
        "MathJax.Hub.Config({" +
        "    config: ['MMLorHTML.js']," +
        "    TeX: { extensions: ['AMSmath.js','AMSsymbols.js','noErrors.js','noUndefined.js'], equationNumbers: { autoNumber: 'none' } }," +
        "    jax: ['input/TeX','input/MathML','output/HTML-CSS']," +
        "    extensions: ['tex2jax.js','mml2jax.js','MathMenu.js','MathZoom.js']," +
        "    displayAlign: '"+ align +"'," +
        "    displayIndent: '"+ indent +"'," +
        "    showMathMenu: true," +
        "    messageStyle: 'normal'," +
        "    tex2jax: { " +
        "        inlineMath: [ ['\\\\(','\\\\)'] ], " +
        "        displayMath: [ ['$$','$$'] ]," +
        "        processEscapes: true," +
        "        preview: 'TeX'," +
        "    }, " +
        "    'HTML-CSS': { " +
        "        availableFonts: ['STIX', 'TeX']," +
        "        preferredFont: 'STIX'," +
        "        styles: { '.MathJax_Display, .MathJax .mo, .MathJax .mi, .MathJax .mn': {color: 'inherit ! important'} }," +
        "        linebreaks: { automatic: "+ linebreak +", width: '90% container' }," +
        "    }, " +
        "}); " +
        "if ('default' !== 'default') {" +
            "MathJax.Hub.Register.StartupHook('HTML-CSS Jax Ready',function () {" +
                "var VARIANT = MathJax.OutputJax['HTML-CSS'].FONTDATA.VARIANT;" +
                "VARIANT['normal'].fonts.unshift('MathJax_default');" +
                "VARIANT['bold'].fonts.unshift('MathJax_default-bold');" +
                "VARIANT['italic'].fonts.unshift('MathJax_default-italic');" +
                "VARIANT['-tex-mathit'].fonts.unshift('MathJax_default-italic');" +
            "});" +
            "MathJax.Hub.Register.StartupHook('SVG Jax Ready',function () {" +
                "var VARIANT = MathJax.OutputJax.SVG.FONTDATA.VARIANT;" +
                "VARIANT['normal'].fonts.unshift('MathJax_default');" +
                "VARIANT['bold'].fonts.unshift('MathJax_default-bold');" +
                "VARIANT['italic'].fonts.unshift('MathJax_default-italic');" +
                "VARIANT['-tex-mathit'].fonts.unshift('MathJax_default-italic');" +
            "});" +
        "}";

    (document.body || document.getElementsByTagName('head')[0]).appendChild(configscript);
    (document.body || document.getElementsByTagName('head')[0]).appendChild(mathjaxscript);
}
&lt;/script&gt;</content><category term="misc"></category><category term="turbulence"></category></entry><entry><title>BGPS Point Source Recovery - Experiment 23 results</title><link href="https://keflavich.github.io/blog/bgps-point-source-recovery-experiment-23-results.html" rel="alternate"></link><published>2013-05-20T14:45:00-06:00</published><updated>2013-05-20T14:45:00-06:00</updated><author><name>Adam (keflavich@gmail.com)</name></author><id>tag:keflavich.github.io,2013-05-20:/blog/bgps-point-source-recovery-experiment-23-results.html</id><summary type="html">&lt;p&gt;Experiment 23, run in mid-May 2013, created power-law synthetic astrophysical
sky maps with added point sources in order to examine the pipeline + bolocat's
ability to recover point source flux densities accurately.&lt;/p&gt;
&lt;p&gt;For the purpose of the BGPS v2 paper, this data is incorporated into Section
5.3: the angular transfer …&lt;/p&gt;</summary><content type="html">&lt;p&gt;Experiment 23, run in mid-May 2013, created power-law synthetic astrophysical
sky maps with added point sources in order to examine the pipeline + bolocat's
ability to recover point source flux densities accurately.&lt;/p&gt;
&lt;p&gt;For the purpose of the BGPS v2 paper, this data is incorporated into Section
5.3: the angular transfer function and comparison with other data sets.&lt;/p&gt;
&lt;p&gt;The parameter space explored includes 3 steps in power-spectrum background,
$\alpha_{ps}=1,1.5,2$, which is the major parameter being explored.  A
background with $\alpha_{ps}=2$ is approximately what we measure in both HiGal
and the reproduced regions of the BGPS power-spectrum, so it's probably the
most realistic, but it is also very bad for the pipeline: most of the power is
on the largest angular scales.  $\alpha_{ps}=1$, on the other hand,
beautifully creates point-source-like structures.&lt;/p&gt;
&lt;p&gt;These two images show the results of $\alpha_{ps}=2$ and $\alpha_{ps}=1$
skies respectively with faint point sources on top.  The point sources are more
pointy and stick out more in the $\alpha_{ps}=1$ situation, but the
$\alpha_{ps}=1$ map also looks more generally point-like, so there is greater
confusion.  If you believe that there are genuine point sources in the 1.1 mm
maps, the $\alpha_{ps}=1$ would actually be very difficult to deal with since
many extracted sources would actually be part of the background.&lt;/p&gt;
&lt;img alt="" src="https://keflavich.github.io/blog/bgps/images/bgps-point-source-recovery/exp23_faint_ds2_astrosky_arrang45_atmotest_amp5.0E-05_sky-2.0_seed00_peak5.0E-03_smooth_withptsrc_label_compare.png" style="width: 800px;" /&gt;
&lt;img alt="" src="https://keflavich.github.io/blog/bgps/images/bgps-point-source-recovery/exp23_faint_ds2_astrosky_arrang45_atmotest_amp5.0E-05_sky-1.0_seed00_peak5.0E-03_smooth_withptsrc_label_compare.png" style="width: 800px;" /&gt;
&lt;p&gt;We also explored two different sets of source brightnesses, 0.1-1 and 1-10
Jy/beam, uniformly distributed.  We picked a high source density, 500 in a
512x512 pixel map, to get decent source extraction statistics - the crowding is
still fairly low and does not significantly affect the extracted source
properties (only a few source overlap with others).  The bright sources are
obviously better-recovered than the faint, with good recovery for all of the
backgrounds explored.  The faint sources, on the other hand, were fairly
sensitive to the background.&lt;/p&gt;
&lt;p&gt;The background levels used were $\sim1,2,10$ Jy/beam at the peak for the
$\alpha=2$ maps (they were lower for the other power-laws, so those will be
ignored from now on).  As described in the paper, the faint source recovery was
good for the low peak backgrounds, but recovery was essentially nonexistent for
the 10 Jy/beam background - point sources were not detected at all.&lt;/p&gt;
&lt;p&gt;Despite the relative simplicity of this experiment, the data took 51 GB of
storage and took about half a day to run.&lt;/p&gt;
&lt;p&gt;In principle, one would like to examine a range of different source
distributions (power-law flux distribution, upper/lower limits, sizes) on a
range of different power-spectrum backgrounds - for the purpose of the v2
paper, this approach would be thoroughly excessive.  However, I expect Tim will
be taking this sort of approach for the next paper.&lt;/p&gt;
</content><category term="bgps"></category><category term="bgps"></category><category term="simulations"></category><category term="pointsource"></category><category term="bolocat"></category></entry><entry><title>BGPS Point Source Recovery</title><link href="https://keflavich.github.io/blog/bgps-point-source-recovery.html" rel="alternate"></link><published>2013-05-16T12:21:00-06:00</published><updated>2013-05-16T12:21:00-06:00</updated><author><name>Adam (keflavich@gmail.com)</name></author><id>tag:keflavich.github.io,2013-05-16:/blog/bgps-point-source-recovery.html</id><summary type="html">&lt;p&gt;In the last couple drafts of the BGPS paper (e.g. &lt;a class="reference external" href="https://github.com/keflavich/bgpsv2/blob/master/v2_draft0515.pdf?raw=true"&gt;the May 15, 2013 draft&lt;/a&gt;),
we've included a single simulation demonstrating the flux recovery of the
Bolocat:&lt;/p&gt;
&lt;img alt="" src="https://raw.github.com/keflavich/bgpsv2/master/figures/in_vs_out_bolocat_FLUX_40.png?login=keflavich&amp;amp;token=8ff3096beef7bf15627a7a6b7363cb49" style="width: 800px;" /&gt;
&lt;img alt="" src="https://raw.github.com/keflavich/bgpsv2/master/figures/in_vs_out_bolocat_FLUX_120.png?login=keflavich&amp;amp;token=2c6e9896c5df6824e9881c94d6af542f" style="width: 800px;" /&gt;
&lt;p&gt;These figures are regarded as very important, as they demonstrate the
capability of recovering accurate flux density measurements from a realistic
sky …&lt;/p&gt;</summary><content type="html">&lt;p&gt;In the last couple drafts of the BGPS paper (e.g. &lt;a class="reference external" href="https://github.com/keflavich/bgpsv2/blob/master/v2_draft0515.pdf?raw=true"&gt;the May 15, 2013 draft&lt;/a&gt;),
we've included a single simulation demonstrating the flux recovery of the
Bolocat:&lt;/p&gt;
&lt;img alt="" src="https://raw.github.com/keflavich/bgpsv2/master/figures/in_vs_out_bolocat_FLUX_40.png?login=keflavich&amp;amp;token=8ff3096beef7bf15627a7a6b7363cb49" style="width: 800px;" /&gt;
&lt;img alt="" src="https://raw.github.com/keflavich/bgpsv2/master/figures/in_vs_out_bolocat_FLUX_120.png?login=keflavich&amp;amp;token=2c6e9896c5df6824e9881c94d6af542f" style="width: 800px;" /&gt;
&lt;p&gt;These figures are regarded as very important, as they demonstrate the
capability of recovering accurate flux density measurements from a realistic
sky using bolocat.&lt;/p&gt;
&lt;p&gt;However, the above figures show a simulation only for one set of parameters,
with &lt;span class="math"&gt;\(\alpha=1\)&lt;/span&gt; in the power-law flux distribution, which unfortunately
is not realistic according to &amp;quot;Figure 8&amp;quot;:&lt;/p&gt;
&lt;img alt="" src="https://raw.github.com/keflavich/bgpsv2/master/figures/l030_higal_bgps_powerspec_compare.png?login=keflavich&amp;amp;token=fa363ee3e28903c751c2a3c9f2b318a0" style="width: 800px;" /&gt;
&lt;p&gt;So I've started up a new experiment, experiment #23, to examine this problem.&lt;/p&gt;
&lt;p&gt;The problem has a few layers:&lt;/p&gt;
&lt;ol class="arabic simple"&gt;
&lt;li&gt;The reason I used &lt;span class="math"&gt;\(\alpha=1\)&lt;/span&gt; is that it looks much like a realistic
BGPS map after processing, in the sense that most of the field is empty
but there are a few hundred sources in the map.  However, &lt;span class="math"&gt;\(\alpha=1\)&lt;/span&gt;
is not a realistic representation of the measured power spectra.&lt;/li&gt;
&lt;li&gt;&lt;span class="math"&gt;\(\alpha=2\)&lt;/span&gt; maps with the previous normalization had a peak value of
18 Jy, which resulted in heavily signal-dominated output maps that did not
resemble BGPS maps.&lt;/li&gt;
&lt;li&gt;The normalization is tricky.  One of the key goals of the simulations was to
test the effect of different atmospheric to astrophysical signal ratios on
the angular transfer function; in order to accomplish this, it was necessary
to scale the atmospheric power based on the astrophysical power at its peak
in fourier space.  i.e., in real timestreams, we can measure the astrophysical
to atmospheric power ratio, but we have to perform that measurement somewhere
that the angular transfer function is known to be reliable.  This is done at
about 1 Hz.&lt;/li&gt;
&lt;li&gt;The normalization is important because of the noise level.  In the
simulations, we use a fixed noise level of about 30 mJy in the timestreams
to match our best observations (though it is not difficult to scale this to
other levels).  This fixed noise level means that, for some normalizations,
all pixels are statistically significant.  Also, even though the noise level
is fixed, it will be higher because of intrinsic noise in a power-law
distributed map.&lt;/li&gt;
&lt;li&gt;The normalizations used in experiment #21, the angular transfer function
measurement, were selected such that there would be high signal-to-noise at
all angular scales.  This means that white noise would not be dominant on
any angular scale, since white noise is equivalent to &lt;span class="math"&gt;\(\alpha=0\)&lt;/span&gt;.  So
it wasn't crazy to use these ridiculously high-flux maps, but it is not
feasible to use the same maps for analysis of point sources.  In maps for
which we're interested in small-angular-scale features (&amp;lt;100&amp;quot;), we want the
maps to be primarily noise-dominated with a handful of bright features
either caused by adding point sources directly or from the local peaks in
the power-law distributed flux.&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;Some notes along the way:&lt;/p&gt;
&lt;blockquote&gt;
&lt;ul class="simple"&gt;
&lt;li&gt;Using a power-law background, the point-source sensitivity is much worse
than without a power-law background.   This is intuitive: a 100 mJy source
on a 200 mJy background (which may easily include power fluctuations on the
smallest scales of comparable magnitude) is not going to be recovered.&lt;/li&gt;
&lt;li&gt;Doubly important: a 1 Jy source should have &lt;em&gt;peak&lt;/em&gt; amplitude 1 Jy, but the
current method of adding point sources adds them as delta functions that are
later convolved, conserving the &lt;em&gt;total flux&lt;/em&gt; rather than the &lt;em&gt;peak flux&lt;/em&gt;.
This needs to be changed! (has been now)&lt;/li&gt;
&lt;/ul&gt;
&lt;/blockquote&gt;
&lt;p&gt;Here are some examples of what the before/after look like with point sources added.
The first has bright sources, the second faint sources:&lt;/p&gt;
&lt;img alt="" src="https://keflavich.github.io/blog/bgps/images/bgps-point-source-recovery/BGPS_exp23_bright.png" style="width: 800px;" /&gt;
&lt;img alt="" src="https://keflavich.github.io/blog/bgps/images/bgps-point-source-recovery/BGPS_exp23_missingsrcs.png" style="width: 800px;" /&gt;
&lt;p&gt;With these new figures, the 40&amp;quot; apertures work fine, but the 120&amp;quot; apertures are
still utterly junk.  This does not make sense.&lt;/p&gt;
&lt;img alt="" src="https://keflavich.github.io/blog/bgps/images/bgps-point-source-recovery/in_vs_out_bolocat_FLUX_40_testexp23.png" style="width: 800px;" /&gt;
&lt;img alt="" src="https://keflavich.github.io/blog/bgps/images/bgps-point-source-recovery/in_vs_out_bolocat_FLUX_80_testexp23.png" style="width: 800px;" /&gt;
&lt;img alt="" src="https://keflavich.github.io/blog/bgps/images/bgps-point-source-recovery/in_vs_out_bolocat_FLUX_120_testexp23.png" style="width: 800px;" /&gt;
&lt;p&gt;A careful analysis of a single source shows that something is wrong.  Here are some annular extractions
followed by the image:&lt;/p&gt;
&lt;pre class="literal-block"&gt;
Input Map:
reg sum npix    mean    median  min         max     var         stddev      rms
--- --- ----    ----    ------  ---         ---     ---         ------      ---
1   26.3323 22  1.19692 1.18083 1.10787     1.28825 0.00208826  0.0456975   1.1978
2   77.8553 74  1.0521  1.047   1.00426     1.123   0.000929507 0.0304878   1.05254
3   124.868 122 1.02351 1.02869 0.996566    1.04427 0.000260295 0.0161337   1.02363

Output Map:
reg sum         npix    mean        median      min         max         var         stddev      rms
--- ---         ----    ----        ------      ---         ---         ---         ------      ---
1   3.89157     23      0.169199    0.175204    0.086872    0.255151    0.00206254  0.0454152   0.175188
2   2.06843     74      0.0279517   0.0275116   -0.0695484  0.155258    0.00210834  0.0459167   0.0537554
3   0.502601    123     0.00408619  0.00629906  -0.121023   0.0834974   0.00143969  0.0379432   0.0381626

Backgrounds:
Input Map:
reg  sum      npix  mean      median    min       max      var          stddev     rms
---  ---      ----  ----      ------    ---       ---      ---          ------     ---
1    297.054  291   1.0208    1.02293   0.98094   1.05234  0.000313419  0.0177037  1.02096
3    2538.6   2618  0.969671  0.972413  0.859551  1.12495  0.0015557    0.0394423  0.970473

Output Map:
reg  sum      npix  mean        median      min        max       var         stddev     rms
---  ---      ----  ----        ------      ---        ---       ---         ------     ---
1    1.49461  291   0.00513613  0.00729431  -0.121023  0.133141  0.001586    0.0398247  0.0401545
3    5.83372  2618  0.00222831  0.00194597  -0.195075  0.181155  0.00211747  0.046016   0.0460699

Bolocat for this source:
In [200]: fields
Out[200]: ['FLUX_40', 'FLUX_40_NOBG', 'BG_40', 'FLUX_120', 'FLUX_120_NOBG', 'BG_120']

In [198]: [inp[61][f] for f in fields]
Out[198]: [0.1896538, 1.3536235, 0.38071653, 0.83893013, 10.77737, 0.42352486]

In [199]: [m20[61][f] for f in fields]
Out[199]: [0.18015364, 0.18674377, -0.016305592, 0.2868295, 0.29759517, -0.00027596406]
&lt;/pre&gt;
&lt;img alt="" src="https://keflavich.github.io/blog/bgps/images/bgps-point-source-recovery/annulus_exam.png" style="width: 800px;" /&gt;
&lt;p&gt;With background apertures:&lt;/p&gt;
&lt;img alt="" src="https://keflavich.github.io/blog/bgps/images/bgps-point-source-recovery/annulus_exam_bgapers.png" style="width: 800px;" /&gt;
&lt;p&gt;However, note that the background are computed using the &lt;tt class="docutils literal"&gt;mmm.pro&lt;/tt&gt;
sky-background estimation procedure over a range &lt;span class="math"&gt;\(2r\)&lt;/span&gt; to &lt;span class="math"&gt;\(4r\)&lt;/span&gt;
(i.e., 40-80&amp;quot; and 120-240&amp;quot; radius for the 40&amp;quot; and 120&amp;quot; diameter apertures).&lt;/p&gt;
&lt;p&gt;The numbers shown by ds9 disagree fairly severely with those from bolocat.
In particular, it appears that the background estimate returned by &lt;tt class="docutils literal"&gt;mmm.pro&lt;/tt&gt;
is off by a factor of 2, in this case giving 0.42 instead of 0.97.  Turns out
this was due to an indexing error that did not affect the pipeline results in
any way.&lt;/p&gt;
&lt;p&gt;Out of date analysis:
Bolocat's flux total in the 120&amp;quot; aperture is 10.77 Jy/beam, background is 0.42
Jy/beam.  There are 218 pixels.  The resulting flux should be
(10.77-0.42*218/23.8), but this gives 6.9 instead of the expected 0.84.  Why?&lt;/p&gt;
&lt;p&gt;If we do the same with the ds9 numbers, we get a total of 9.62 Jy/beam,
background 0.97 Jy/beam average, so: (9.62 - 0.97*218/23.8) = 0.74.
This is consistent with bolocat, and very very wrong.&lt;/p&gt;
&lt;p&gt;If we take our background to be 1.02 instead of 0.97, we get 0.28 Jy/beam,
which is exactly the right answer according to the pipeline.  1.02 comes from
taking a much more local background subtraction from r=40 to r=80 arcsec,
which isn't really acceptable.  If we go from r=60 to r=120, the disagreement remains
fairly bad, with f=0.38 Jy/beam, but certainly a lot better.&lt;/p&gt;
&lt;pre class="literal-block"&gt;
Bolocat after the correction:
In [297]: [m20[61][f] for f in fields]
Out[297]: [0.18015364, 0.18674377, 0.00578439, 0.25477698, 0.29759517, 0.0041758944]

In [298]: [inp[61][f] for f in fields]
Out[298]: [0.1896538, 1.3536235, 1.0216572, 0.40137589, 10.77737, 1.0119308]
&lt;/pre&gt;
&lt;p&gt;This may mean that we'll need to re-do aperture extraction with a tighter
background region everywhere.  I made the change to &lt;tt class="docutils literal"&gt;object_photometry&lt;/tt&gt;.&lt;/p&gt;
&lt;p&gt;However, even with the change, even in the best case, &lt;tt class="docutils literal"&gt;FLUX_120&lt;/tt&gt; appears to
be totally unreliable.  &lt;tt class="docutils literal"&gt;FLUX_80&lt;/tt&gt; is acceptable with the change, but only for
bright sources (for faint sources, &amp;lt;1 Jy, there is no recovery at all - I think this
must be an issue of the source brightness still not being calculated correctly):&lt;/p&gt;
&lt;img alt="" src="https://keflavich.github.io/blog/bgps/images/bgps-point-source-recovery/in_vs_out_bolocat_FLUX_80_bright_1.0E-05.png" style="width: 800px;" /&gt;
&lt;p&gt;I'll have to continue this analysis tomorrow once the full suite of simulations
has completed, but I strongly suspect that we'll have to recommend strictly
against using &lt;tt class="docutils literal"&gt;FLUX_120&lt;/tt&gt; if the background is expected to be &lt;span class="math"&gt;\(\alpha=2\)&lt;/span&gt;
distributed.&lt;/p&gt;
&lt;div class="section" id="day-2"&gt;
&lt;h2&gt;Day 2&lt;/h2&gt;
&lt;p&gt;The simulations have partly completed.  After correcting the error with
convolved point sources vs.  delta functions, I reset the flux distributions to
be 0.05 to 1.0 Jy for the &amp;quot;faint&amp;quot; distribution and 0.1 to 50.0 Jy for the
&amp;quot;bright&amp;quot; distribution (both with power-law distributions &lt;span class="math"&gt;\(\alpha=2\)&lt;/span&gt;).&lt;/p&gt;
&lt;p&gt;The results can be summarized:&lt;/p&gt;
&lt;blockquote&gt;
&lt;ol class="arabic simple"&gt;
&lt;li&gt;In the presence of complex background, i.e power-law distributed flux density
with amplitude comparable to the detected source brightness, only the smallest
aperture (40&amp;quot;) is reliable (i.e., recovers a flux in the input and
processed map).&lt;/li&gt;
&lt;li&gt;The recovered flux density has a very high dispersion in the presence of
high-amplitude power-law flux.  &amp;quot;Very high&amp;quot; = &lt;span class="math"&gt;\(\sigma \gtrsim 1\)&lt;/span&gt;
around a mean of 1.&lt;/li&gt;
&lt;li&gt;There is no evident dependence of the maps on the atmospheric properties.
Therefore, there's no sense in varying the atmospheric properties in the
simulations.&lt;/li&gt;
&lt;/ol&gt;
&lt;/blockquote&gt;
&lt;p&gt;I decided the simulations needed changing again.  First, there was excessive
sampling in astro/atmo parameter space; this is not needed (see point 3).  More
important is the power-law distribution map's peak flux.  Also, it is more
important to get decent sampling of bright-ish sources than to have a
&amp;quot;physically accurate&amp;quot; point source distribution; the distribution of sources
does not affect the recovery, but it does affect the signal-to-noise of the
recovery &lt;em&gt;measurement&lt;/em&gt;.  Please don't ask me to defend this statement; it would
require another 10 hours of computer time + me time that I really don't want to
allocate, but I'm confident that it is true.&lt;/p&gt;
&lt;p&gt;The essential conclusion is that, for &lt;span class="math"&gt;\(\alpha=2\)&lt;/span&gt;, point source recovery
is only possible if the point source is brighter than the background, which is
a very intuitive result.  Background annulus subtraction isn't very effective
at pulling out sources.&lt;/p&gt;
&lt;p&gt;Conclusions:&lt;/p&gt;
&lt;blockquote&gt;
&lt;ol class="arabic simple"&gt;
&lt;li&gt;These experiments show that source recovery is very poor in the presence of a
bright power-law background: it is not possible to reliably extract point
sources from a map filled with power-law distributed emission brighter than or
comparable to the point sources.&lt;/li&gt;
&lt;li&gt;The 120&amp;quot; apertures aren't really good for anything.&lt;/li&gt;
&lt;li&gt;There is so much source-extraction parameter space out there that any
further study would really deserve its own paper.&lt;/li&gt;
&lt;/ol&gt;
&lt;/blockquote&gt;
&lt;p&gt;Additional plots of interest:&lt;/p&gt;
&lt;p&gt;40&amp;quot; aperture in the presence of a bright background with faint sources:&lt;/p&gt;
&lt;img alt="" src="https://keflavich.github.io/blog/bgps/images/bgps-point-source-recovery/in_vs_out_bolocat_FLUX_40_faint_5.0E-03.png" style="width: 800px;" /&gt;
&lt;p&gt;Versus the same with a faint background:&lt;/p&gt;
&lt;img alt="" src="https://keflavich.github.io/blog/bgps/images/bgps-point-source-recovery/in_vs_out_bolocat_FLUX_40_faint_1.0E-03.png" style="width: 800px;" /&gt;
&lt;p&gt;Compare these to the 120&amp;quot; equivalents (bright then faint background):&lt;/p&gt;
&lt;img alt="" src="https://keflavich.github.io/blog/bgps/images/bgps-point-source-recovery/in_vs_out_bolocat_FLUX_120_faint_p5.0E-03.png" style="width: 800px;" /&gt;
&lt;img alt="" src="https://keflavich.github.io/blog/bgps/images/bgps-point-source-recovery/in_vs_out_bolocat_FLUX_120_faint_p1.0E-03.png" style="width: 800px;" /&gt;
&lt;p&gt;It's fairly easy to see why there are issues with the bright background and the
120&amp;quot; apertures.  In this image, bright background on the left, faint background
on the right, with faint sources (0.1-1 Jy).&lt;/p&gt;
&lt;img alt="" src="https://keflavich.github.io/blog/bgps/images/bgps-point-source-recovery/faint_vs_bright_background.png" style="width: 800px;" /&gt;
&lt;p&gt;It's more helpful to look at that previous image with the source contours
superposed.  These images really give a nice feel for what it means to have
point sources subsumed in &lt;span class="math"&gt;\(\alpha=2\)&lt;/span&gt; background.&lt;/p&gt;
&lt;img alt="" src="https://keflavich.github.io/blog/bgps/images/bgps-point-source-recovery/exp23_faint_ds2_astrosky_arrang45_atmotest_amp5.0E-05_sky-2.0_seed00_peak5.0E-03_smooth_withptsrc_label_compare.png" style="width: 800px;" /&gt;
&lt;img alt="" src="https://keflavich.github.io/blog/bgps/images/bgps-point-source-recovery/exp23_faint_ds2_astrosky_arrang45_atmotest_amp3.2E-05_sky-2.0_seed00_peak1.0E-03_smooth_withptsrc_label_compare.png" style="width: 800px;" /&gt;
&lt;/div&gt;
&lt;script type='text/javascript'&gt;if (!document.getElementById('mathjaxscript_pelican_#%@#$@#')) {
    var align = "center",
        indent = "0em",
        linebreak = "false";

    if (false) {
        align = (screen.width &lt; 768) ? "left" : align;
        indent = (screen.width &lt; 768) ? "0em" : indent;
        linebreak = (screen.width &lt; 768) ? 'true' : linebreak;
    }

    var mathjaxscript = document.createElement('script');
    mathjaxscript.id = 'mathjaxscript_pelican_#%@#$@#';
    mathjaxscript.type = 'text/javascript';
    mathjaxscript.src = 'https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.3/latest.js?config=TeX-AMS-MML_HTMLorMML';

    var configscript = document.createElement('script');
    configscript.type = 'text/x-mathjax-config';
    configscript[(window.opera ? "innerHTML" : "text")] =
        "MathJax.Hub.Config({" +
        "    config: ['MMLorHTML.js']," +
        "    TeX: { extensions: ['AMSmath.js','AMSsymbols.js','noErrors.js','noUndefined.js'], equationNumbers: { autoNumber: 'none' } }," +
        "    jax: ['input/TeX','input/MathML','output/HTML-CSS']," +
        "    extensions: ['tex2jax.js','mml2jax.js','MathMenu.js','MathZoom.js']," +
        "    displayAlign: '"+ align +"'," +
        "    displayIndent: '"+ indent +"'," +
        "    showMathMenu: true," +
        "    messageStyle: 'normal'," +
        "    tex2jax: { " +
        "        inlineMath: [ ['\\\\(','\\\\)'] ], " +
        "        displayMath: [ ['$$','$$'] ]," +
        "        processEscapes: true," +
        "        preview: 'TeX'," +
        "    }, " +
        "    'HTML-CSS': { " +
        "        availableFonts: ['STIX', 'TeX']," +
        "        preferredFont: 'STIX'," +
        "        styles: { '.MathJax_Display, .MathJax .mo, .MathJax .mi, .MathJax .mn': {color: 'inherit ! important'} }," +
        "        linebreaks: { automatic: "+ linebreak +", width: '90% container' }," +
        "    }, " +
        "}); " +
        "if ('default' !== 'default') {" +
            "MathJax.Hub.Register.StartupHook('HTML-CSS Jax Ready',function () {" +
                "var VARIANT = MathJax.OutputJax['HTML-CSS'].FONTDATA.VARIANT;" +
                "VARIANT['normal'].fonts.unshift('MathJax_default');" +
                "VARIANT['bold'].fonts.unshift('MathJax_default-bold');" +
                "VARIANT['italic'].fonts.unshift('MathJax_default-italic');" +
                "VARIANT['-tex-mathit'].fonts.unshift('MathJax_default-italic');" +
            "});" +
            "MathJax.Hub.Register.StartupHook('SVG Jax Ready',function () {" +
                "var VARIANT = MathJax.OutputJax.SVG.FONTDATA.VARIANT;" +
                "VARIANT['normal'].fonts.unshift('MathJax_default');" +
                "VARIANT['bold'].fonts.unshift('MathJax_default-bold');" +
                "VARIANT['italic'].fonts.unshift('MathJax_default-italic');" +
                "VARIANT['-tex-mathit'].fonts.unshift('MathJax_default-italic');" +
            "});" +
        "}";

    (document.body || document.getElementsByTagName('head')[0]).appendChild(configscript);
    (document.body || document.getElementsByTagName('head')[0]).appendChild(mathjaxscript);
}
&lt;/script&gt;</content><category term="bgps"></category><category term="bgps"></category><category term="simulations"></category><category term="pointsource"></category><category term="bolocat"></category></entry><entry><title>Recovering from "Startup drive out of memory"</title><link href="https://keflavich.github.io/blog/recovering-from-startup-drive-out-of-memory.html" rel="alternate"></link><published>2013-05-13T09:26:00-06:00</published><updated>2013-05-13T09:26:00-06:00</updated><author><name>Adam (keflavich@gmail.com)</name></author><id>tag:keflavich.github.io,2013-05-13:/blog/recovering-from-startup-drive-out-of-memory.html</id><summary type="html">&lt;p&gt;To continue frozen processes, you need to find all sleeping procs and restart them with &lt;tt class="docutils literal"&gt;kill &lt;span class="pre"&gt;-CONT&lt;/span&gt;&lt;/tt&gt;.&lt;/p&gt;
&lt;p&gt;In principle, this command should do that:&lt;/p&gt;
&lt;p&gt;&lt;tt class="docutils literal"&gt;ps &lt;span class="pre"&gt;-A&lt;/span&gt; &lt;span class="pre"&gt;-o&lt;/span&gt; tpgid,uid,pid,state,flags | awk &lt;span class="pre"&gt;'$1!=&amp;quot;0&amp;quot;&lt;/span&gt; &amp;amp;&amp;amp; &lt;span class="pre"&gt;$2==501&lt;/span&gt; &amp;amp;&amp;amp; &lt;span class="pre"&gt;$4==&amp;quot;S&amp;quot;&lt;/span&gt; &amp;amp;&amp;amp; &lt;span class="pre"&gt;$5!=&amp;quot;4000410c&amp;quot;&lt;/span&gt; {print &amp;quot;kill &lt;span class="pre"&gt;-CONT&lt;/span&gt; &amp;quot; $3}' | bash&lt;/tt&gt;&lt;/p&gt;
&lt;p&gt;Without the flags exclusion …&lt;/p&gt;</summary><content type="html">&lt;p&gt;To continue frozen processes, you need to find all sleeping procs and restart them with &lt;tt class="docutils literal"&gt;kill &lt;span class="pre"&gt;-CONT&lt;/span&gt;&lt;/tt&gt;.&lt;/p&gt;
&lt;p&gt;In principle, this command should do that:&lt;/p&gt;
&lt;p&gt;&lt;tt class="docutils literal"&gt;ps &lt;span class="pre"&gt;-A&lt;/span&gt; &lt;span class="pre"&gt;-o&lt;/span&gt; tpgid,uid,pid,state,flags | awk &lt;span class="pre"&gt;'$1!=&amp;quot;0&amp;quot;&lt;/span&gt; &amp;amp;&amp;amp; &lt;span class="pre"&gt;$2==501&lt;/span&gt; &amp;amp;&amp;amp; &lt;span class="pre"&gt;$4==&amp;quot;S&amp;quot;&lt;/span&gt; &amp;amp;&amp;amp; &lt;span class="pre"&gt;$5!=&amp;quot;4000410c&amp;quot;&lt;/span&gt; {print &amp;quot;kill &lt;span class="pre"&gt;-CONT&lt;/span&gt; &amp;quot; $3}' | bash&lt;/tt&gt;&lt;/p&gt;
&lt;p&gt;Without the flags exclusion, this failed for me on apple's VNC server:
&lt;tt class="docutils literal"&gt;ps &lt;span class="pre"&gt;-A&lt;/span&gt; &lt;span class="pre"&gt;-o&lt;/span&gt; tpgid,uid,pid,state,flags | awk &lt;span class="pre"&gt;'$2==501&lt;/span&gt; &amp;amp;&amp;amp; &lt;span class="pre"&gt;$4==&amp;quot;S&amp;quot;&lt;/span&gt; &amp;amp;&amp;amp; &lt;span class="pre"&gt;$5!=&amp;quot;4000410c&amp;quot;&lt;/span&gt; {print &amp;quot;kill &lt;span class="pre"&gt;-CONT&lt;/span&gt; &amp;quot; $3}' | bash&lt;/tt&gt;&lt;/p&gt;
&lt;p&gt;This is necessary for recovering mac processes:
&lt;tt class="docutils literal"&gt;&lt;span class="pre"&gt;-A&lt;/span&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp; Display information about other users' processes, including those without controlling terminals.&lt;/tt&gt;&lt;/p&gt;
&lt;p&gt;The outputs from the &lt;tt class="docutils literal"&gt;ps&lt;/tt&gt; process are:&lt;/p&gt;
&lt;blockquote&gt;
&lt;ul class="simple"&gt;
&lt;li&gt;tpgid      control terminal process group ID&lt;/li&gt;
&lt;li&gt;pid        process ID&lt;/li&gt;
&lt;li&gt;uid        effective user ID&lt;/li&gt;
&lt;/ul&gt;
&lt;/blockquote&gt;
</content><category term="misc"></category><category term="mac"></category><category term="memory"></category><category term="crash"></category></entry><entry><title>Bolocam Mass Calculations</title><link href="https://keflavich.github.io/blog/bolocam-mass-calculations.html" rel="alternate"></link><published>2013-03-25T11:14:00-06:00</published><updated>2013-03-25T11:14:00-06:00</updated><author><name>Adam (keflavich@gmail.com)</name></author><id>tag:keflavich.github.io,2013-03-25:/blog/bolocam-mass-calculations.html</id><summary type="html">&lt;p&gt;Adopt an effective Bolocam center frequency,  f = 271.1 GHz&lt;/p&gt;
&lt;p&gt;Use Ossenkopf, V. &amp;amp; Henning, Th. 1994, A&amp;amp;A, 291, 943 Table 1. [&lt;a class="reference external" href="http://adsabs.harvard.edu/abs/1994A%26A...291..943O"&gt;http://adsabs.harvard.edu/abs/1994A%26A...291..943O&lt;/a&gt;]
Interpolate last two entries (lambda = 1.0 mm and 1.3 mm to f)&lt;/p&gt;
&lt;p&gt;This gives &lt;span class="math"&gt;\(\kappa = 0.01166 …&lt;/span&gt;&lt;/p&gt;&lt;script type='text/javascript'&gt;if (!document.getElementById('mathjaxscript_pelican_#%@#$@#')) {
    var align = "center",
        indent = "0em",
        linebreak = "false";

    if (false) {
        align = (screen.width &lt; 768) ? "left" : align;
        indent = (screen.width &lt; 768) ? "0em" : indent;
        linebreak = (screen.width &lt; 768) ? 'true' : linebreak;
    }

    var mathjaxscript = document.createElement('script');
    mathjaxscript.id = 'mathjaxscript_pelican_#%@#$@#';
    mathjaxscript.type = 'text/javascript';
    mathjaxscript.src = 'https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.3/latest.js?config=TeX-AMS-MML_HTMLorMML';

    var configscript = document.createElement('script');
    configscript.type = 'text/x-mathjax-config';
    configscript[(window.opera ? "innerHTML" : "text")] =
        "MathJax.Hub.Config({" +
        "    config: ['MMLorHTML.js']," +
        "    TeX: { extensions: ['AMSmath.js','AMSsymbols.js','noErrors.js','noUndefined.js'], equationNumbers: { autoNumber: 'none' } }," +
        "    jax: ['input/TeX','input/MathML','output/HTML-CSS']," +
        "    extensions: ['tex2jax.js','mml2jax.js','MathMenu.js','MathZoom.js']," +
        "    displayAlign: '"+ align +"'," +
        "    displayIndent: '"+ indent +"'," +
        "    showMathMenu: true," +
        "    messageStyle: 'normal'," +
        "    tex2jax: { " +
        "        inlineMath: [ ['\\\\(','\\\\)'] ], " +
        "        displayMath: [ ['$$','$$'] ]," +
        "        processEscapes: true," +
        "        preview: 'TeX'," +
        "    }, " +
        "    'HTML-CSS': { " +
        "        availableFonts: ['STIX', 'TeX']," +
        "        preferredFont: 'STIX'," +
        "        styles: { '.MathJax_Display, .MathJax .mo, .MathJax .mi, .MathJax .mn': {color: 'inherit ! important'} }," +
        "        linebreaks: { automatic: "+ linebreak +", width: '90% container' }," +
        "    }, " +
        "}); " +
        "if ('default' !== 'default') {" +
            "MathJax.Hub.Register.StartupHook('HTML-CSS Jax Ready',function () {" +
                "var VARIANT = MathJax.OutputJax['HTML-CSS'].FONTDATA.VARIANT;" +
                "VARIANT['normal'].fonts.unshift('MathJax_default');" +
                "VARIANT['bold'].fonts.unshift('MathJax_default-bold');" +
                "VARIANT['italic'].fonts.unshift('MathJax_default-italic');" +
                "VARIANT['-tex-mathit'].fonts.unshift('MathJax_default-italic');" +
            "});" +
            "MathJax.Hub.Register.StartupHook('SVG Jax Ready',function () {" +
                "var VARIANT = MathJax.OutputJax.SVG.FONTDATA.VARIANT;" +
                "VARIANT['normal'].fonts.unshift('MathJax_default');" +
                "VARIANT['bold'].fonts.unshift('MathJax_default-bold');" +
                "VARIANT['italic'].fonts.unshift('MathJax_default-italic');" +
                "VARIANT['-tex-mathit'].fonts.unshift('MathJax_default-italic');" +
            "});" +
        "}";

    (document.body || document.getElementsByTagName('head')[0]).appendChild(configscript);
    (document.body || document.getElementsByTagName('head')[0]).appendChild(mathjaxscript);
}
&lt;/script&gt;</summary><content type="html">&lt;p&gt;Adopt an effective Bolocam center frequency,  f = 271.1 GHz&lt;/p&gt;
&lt;p&gt;Use Ossenkopf, V. &amp;amp; Henning, Th. 1994, A&amp;amp;A, 291, 943 Table 1. [&lt;a class="reference external" href="http://adsabs.harvard.edu/abs/1994A%26A...291..943O"&gt;http://adsabs.harvard.edu/abs/1994A%26A...291..943O&lt;/a&gt;]
Interpolate last two entries (lambda = 1.0 mm and 1.3 mm to f)&lt;/p&gt;
&lt;p&gt;This gives &lt;span class="math"&gt;\(\kappa = 0.01166 cm^2 g^{-1}\)&lt;/span&gt; (or round to 0.0117)
for gas-to-dust = 100.
But the slope between these 2 points is only 1.61!&lt;/p&gt;
&lt;p&gt;The points in OH94 table 1 jump around and locally give a variety of
slopes around 1.8.  A fit to kappa longward of 100 microns
gives a slope of 1.8.&lt;/p&gt;
&lt;p&gt;Interpolating kappa from 1.00 mm where OH5 gives &lt;span class="math"&gt;\(\kappa(1.00) = 0.0137\)&lt;/span&gt;
(for a gas-to-dust ratio = 100) to 271.1 GHz (= 1.1058 mm)
using a slope of 1.8 gives:&lt;/p&gt;
&lt;p&gt;&lt;span class="math"&gt;\(\kappa = 0.01143 cm^{2} g^{-1}\)&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;This is the same as the value used by Enoch, so let's adopt it
(round to 0.0114), but note that this was calculated for 271.1 GHz.&lt;/p&gt;
&lt;p&gt;For the v1.0 data, the BGPS has the following properties:&lt;/p&gt;
&lt;p&gt;effective beam FWHM = 33&amp;quot;&lt;/p&gt;
&lt;p&gt;gaussian beam &lt;span class="math"&gt;\(\sigma = 14.01\)&lt;/span&gt;&amp;quot;    (= FWHM / &lt;span class="math"&gt;\(\sqrt{(8*\ln(2))}\)&lt;/span&gt;)&lt;/p&gt;
&lt;p&gt;effective beam radius = 19.82&amp;quot;    (= FWHM / &lt;span class="math"&gt;\(\sqrt{(4*\ln(2))}\)&lt;/span&gt;)&lt;/p&gt;
&lt;p&gt;This is the radius of a circular top-hat function that has the
same solid angle as a gaussian.  At a distance of
D = 1 kpc, this radius corresponds to a length  = &lt;span class="math"&gt;\(2.97 x 10^{17}\)&lt;/span&gt; cm.
The effective beam solid angle is &lt;span class="math"&gt;\(\Omega = 2.902 x 10^{-8}\)&lt;/span&gt; sr.&lt;/p&gt;
&lt;p&gt;Adopt a fiducial dust temperature for mass calculations, &lt;span class="math"&gt;\(T_d = 20K\)&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;The total mass per Jy at &lt;span class="math"&gt;\(D_{kpc}\)&lt;/span&gt; = 1 kpc is given by&lt;/p&gt;
&lt;div class="math"&gt;
\begin{equation*}
M = 1.0 x 10^{-23} * S(Jy) * D^2 / \kappa * B_{\nu}(T)
\end{equation*}
&lt;/div&gt;
&lt;div class="math"&gt;
\begin{equation*}
=  14.30 * [e^{13.01/T(K) - 1}] * S(Jy) * D^2_{kpc}   M_{\odot}
\end{equation*}
&lt;/div&gt;
&lt;p&gt;For &lt;span class="math"&gt;\(T = 20 K\)&lt;/span&gt;:&lt;/p&gt;
&lt;div class="math"&gt;
\begin{equation*}
M = 13.07 * S(Jy) * D^2_{kpc} M_{\odot}
\end{equation*}
&lt;/div&gt;
&lt;p&gt;This corresponds to a beam-filling column density of &lt;span class="math"&gt;\(H_2\)&lt;/span&gt;,&lt;/p&gt;
&lt;div class="math"&gt;
\begin{equation*}
N(H2) = 2.19e+22 * [e^{13.01/T(K) - 1}] * S(Jy)             (cm^{-2})
\end{equation*}
&lt;/div&gt;
&lt;p&gt;For &lt;span class="math"&gt;\(T = 20 K\)&lt;/span&gt;:&lt;/p&gt;
&lt;div class="math"&gt;
\begin{equation*}
N(H2) = 2.01 x 10^{22} * S(Jy)    (cm^{-2})
A_V = 21.1 \mathrm{magnitudes} Jy^{-1}
\end{equation*}
&lt;/div&gt;
&lt;p&gt;where we use the Bohlin &amp;amp; Savage calibration&lt;/p&gt;
&lt;div class="math"&gt;
\begin{equation*}
A_V = 1 mag. &amp;lt;=&amp;gt; N(H) = 1.9 x 10^{20} cm^{-2} \mathrm{and}
N(H_2) = N(H) / 2
\end{equation*}
&lt;/div&gt;
&lt;script type='text/javascript'&gt;if (!document.getElementById('mathjaxscript_pelican_#%@#$@#')) {
    var align = "center",
        indent = "0em",
        linebreak = "false";

    if (false) {
        align = (screen.width &lt; 768) ? "left" : align;
        indent = (screen.width &lt; 768) ? "0em" : indent;
        linebreak = (screen.width &lt; 768) ? 'true' : linebreak;
    }

    var mathjaxscript = document.createElement('script');
    mathjaxscript.id = 'mathjaxscript_pelican_#%@#$@#';
    mathjaxscript.type = 'text/javascript';
    mathjaxscript.src = 'https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.3/latest.js?config=TeX-AMS-MML_HTMLorMML';

    var configscript = document.createElement('script');
    configscript.type = 'text/x-mathjax-config';
    configscript[(window.opera ? "innerHTML" : "text")] =
        "MathJax.Hub.Config({" +
        "    config: ['MMLorHTML.js']," +
        "    TeX: { extensions: ['AMSmath.js','AMSsymbols.js','noErrors.js','noUndefined.js'], equationNumbers: { autoNumber: 'none' } }," +
        "    jax: ['input/TeX','input/MathML','output/HTML-CSS']," +
        "    extensions: ['tex2jax.js','mml2jax.js','MathMenu.js','MathZoom.js']," +
        "    displayAlign: '"+ align +"'," +
        "    displayIndent: '"+ indent +"'," +
        "    showMathMenu: true," +
        "    messageStyle: 'normal'," +
        "    tex2jax: { " +
        "        inlineMath: [ ['\\\\(','\\\\)'] ], " +
        "        displayMath: [ ['$$','$$'] ]," +
        "        processEscapes: true," +
        "        preview: 'TeX'," +
        "    }, " +
        "    'HTML-CSS': { " +
        "        availableFonts: ['STIX', 'TeX']," +
        "        preferredFont: 'STIX'," +
        "        styles: { '.MathJax_Display, .MathJax .mo, .MathJax .mi, .MathJax .mn': {color: 'inherit ! important'} }," +
        "        linebreaks: { automatic: "+ linebreak +", width: '90% container' }," +
        "    }, " +
        "}); " +
        "if ('default' !== 'default') {" +
            "MathJax.Hub.Register.StartupHook('HTML-CSS Jax Ready',function () {" +
                "var VARIANT = MathJax.OutputJax['HTML-CSS'].FONTDATA.VARIANT;" +
                "VARIANT['normal'].fonts.unshift('MathJax_default');" +
                "VARIANT['bold'].fonts.unshift('MathJax_default-bold');" +
                "VARIANT['italic'].fonts.unshift('MathJax_default-italic');" +
                "VARIANT['-tex-mathit'].fonts.unshift('MathJax_default-italic');" +
            "});" +
            "MathJax.Hub.Register.StartupHook('SVG Jax Ready',function () {" +
                "var VARIANT = MathJax.OutputJax.SVG.FONTDATA.VARIANT;" +
                "VARIANT['normal'].fonts.unshift('MathJax_default');" +
                "VARIANT['bold'].fonts.unshift('MathJax_default-bold');" +
                "VARIANT['italic'].fonts.unshift('MathJax_default-italic');" +
                "VARIANT['-tex-mathit'].fonts.unshift('MathJax_default-italic');" +
            "});" +
        "}";

    (document.body || document.getElementsByTagName('head')[0]).appendChild(configscript);
    (document.body || document.getElementsByTagName('head')[0]).appendChild(mathjaxscript);
}
&lt;/script&gt;</content><category term="misc"></category><category term="physics"></category><category term="bgps"></category><category term="dust"></category></entry><entry><title>Arecibo Mapping: Total Power Measurements</title><link href="https://keflavich.github.io/blog/arecibo-mapping-total-power-measurements.html" rel="alternate"></link><published>2013-03-22T22:50:00-06:00</published><updated>2013-03-22T22:50:00-06:00</updated><author><name>Adam (keflavich@gmail.com)</name></author><id>tag:keflavich.github.io,2013-03-22:/blog/arecibo-mapping-total-power-measurements.html</id><summary type="html">&lt;p&gt;Worked on reducing the Arecibo continuum data.  There were some serious
problems with the off positions previously, in particular generating weird
slopes.&lt;/p&gt;
&lt;p&gt;I suspect the problem was with these lines&lt;/p&gt;
&lt;!-- this is really IDL but there's no pygment for IDL --&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="n"&gt;sorted1&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;sort&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;totals&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="mi"&gt;2&lt;/span&gt;&lt;span class="p"&gt;])&lt;/span&gt;
&lt;span class="n"&gt;sorted2&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;sort&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;totals&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="mi"&gt;2&lt;/span&gt;&lt;span class="p"&gt;])&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;since the indexing is wrong, but I'm not …&lt;/p&gt;</summary><content type="html">&lt;p&gt;Worked on reducing the Arecibo continuum data.  There were some serious
problems with the off positions previously, in particular generating weird
slopes.&lt;/p&gt;
&lt;p&gt;I suspect the problem was with these lines&lt;/p&gt;
&lt;!-- this is really IDL but there's no pygment for IDL --&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="n"&gt;sorted1&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;sort&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;totals&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="mi"&gt;2&lt;/span&gt;&lt;span class="p"&gt;])&lt;/span&gt;
&lt;span class="n"&gt;sorted2&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;sort&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;totals&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="mi"&gt;2&lt;/span&gt;&lt;span class="p"&gt;])&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;since the indexing is wrong, but I'm not sure yet.  I re-wrote the whole
off-position measurement to average over all scans.  Still in progress, but the
fitting works now. Here's an example:&lt;/p&gt;
&lt;div class="figure"&gt;
&lt;img alt="" src="static/images/total_vs_integnum.png" style="width: 800px;" /&gt;
&lt;/div&gt;
</content><category term="misc"></category><category term="arecibo"></category><category term="idl"></category></entry><entry><title>Jeans Mass</title><link href="https://keflavich.github.io/blog/jeans-mass.html" rel="alternate"></link><published>2013-03-12T20:16:00-06:00</published><updated>2013-03-12T20:16:00-06:00</updated><author><name>Adam (keflavich@gmail.com)</name></author><id>tag:keflavich.github.io,2013-03-12:/blog/jeans-mass.html</id><summary type="html">&lt;p&gt;Some notes about the Jeans mass scale using astropy's units.&lt;/p&gt;
&lt;p&gt;Simple approaches to determining mass scales:&lt;/p&gt;
&lt;div class="math"&gt;
\begin{equation*}
v_{esc} = \sqrt{\frac{G M}{R}}
\end{equation*}
&lt;/div&gt;
&lt;p&gt;Isothermal equation of state:&lt;/p&gt;
&lt;div class="math"&gt;
\begin{equation*}
P = \rho k T
\end{equation*}
&lt;/div&gt;
&lt;div class="math"&gt;
\begin{equation*}
c_s = \sqrt{2 k T / m}
\end{equation …&lt;/div&gt;&lt;script type='text/javascript'&gt;if (!document.getElementById('mathjaxscript_pelican_#%@#$@#')) {
    var align = "center",
        indent = "0em",
        linebreak = "false";

    if (false) {
        align = (screen.width &lt; 768) ? "left" : align;
        indent = (screen.width &lt; 768) ? "0em" : indent;
        linebreak = (screen.width &lt; 768) ? 'true' : linebreak;
    }

    var mathjaxscript = document.createElement('script');
    mathjaxscript.id = 'mathjaxscript_pelican_#%@#$@#';
    mathjaxscript.type = 'text/javascript';
    mathjaxscript.src = 'https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.3/latest.js?config=TeX-AMS-MML_HTMLorMML';

    var configscript = document.createElement('script');
    configscript.type = 'text/x-mathjax-config';
    configscript[(window.opera ? "innerHTML" : "text")] =
        "MathJax.Hub.Config({" +
        "    config: ['MMLorHTML.js']," +
        "    TeX: { extensions: ['AMSmath.js','AMSsymbols.js','noErrors.js','noUndefined.js'], equationNumbers: { autoNumber: 'none' } }," +
        "    jax: ['input/TeX','input/MathML','output/HTML-CSS']," +
        "    extensions: ['tex2jax.js','mml2jax.js','MathMenu.js','MathZoom.js']," +
        "    displayAlign: '"+ align +"'," +
        "    displayIndent: '"+ indent +"'," +
        "    showMathMenu: true," +
        "    messageStyle: 'normal'," +
        "    tex2jax: { " +
        "        inlineMath: [ ['\\\\(','\\\\)'] ], " +
        "        displayMath: [ ['$$','$$'] ]," +
        "        processEscapes: true," +
        "        preview: 'TeX'," +
        "    }, " +
        "    'HTML-CSS': { " +
        "        availableFonts: ['STIX', 'TeX']," +
        "        preferredFont: 'STIX'," +
        "        styles: { '.MathJax_Display, .MathJax .mo, .MathJax .mi, .MathJax .mn': {color: 'inherit ! important'} }," +
        "        linebreaks: { automatic: "+ linebreak +", width: '90% container' }," +
        "    }, " +
        "}); " +
        "if ('default' !== 'default') {" +
            "MathJax.Hub.Register.StartupHook('HTML-CSS Jax Ready',function () {" +
                "var VARIANT = MathJax.OutputJax['HTML-CSS'].FONTDATA.VARIANT;" +
                "VARIANT['normal'].fonts.unshift('MathJax_default');" +
                "VARIANT['bold'].fonts.unshift('MathJax_default-bold');" +
                "VARIANT['italic'].fonts.unshift('MathJax_default-italic');" +
                "VARIANT['-tex-mathit'].fonts.unshift('MathJax_default-italic');" +
            "});" +
            "MathJax.Hub.Register.StartupHook('SVG Jax Ready',function () {" +
                "var VARIANT = MathJax.OutputJax.SVG.FONTDATA.VARIANT;" +
                "VARIANT['normal'].fonts.unshift('MathJax_default');" +
                "VARIANT['bold'].fonts.unshift('MathJax_default-bold');" +
                "VARIANT['italic'].fonts.unshift('MathJax_default-italic');" +
                "VARIANT['-tex-mathit'].fonts.unshift('MathJax_default-italic');" +
            "});" +
        "}";

    (document.body || document.getElementsByTagName('head')[0]).appendChild(configscript);
    (document.body || document.getElementsByTagName('head')[0]).appendChild(mathjaxscript);
}
&lt;/script&gt;</summary><content type="html">&lt;p&gt;Some notes about the Jeans mass scale using astropy's units.&lt;/p&gt;
&lt;p&gt;Simple approaches to determining mass scales:&lt;/p&gt;
&lt;div class="math"&gt;
\begin{equation*}
v_{esc} = \sqrt{\frac{G M}{R}}
\end{equation*}
&lt;/div&gt;
&lt;p&gt;Isothermal equation of state:&lt;/p&gt;
&lt;div class="math"&gt;
\begin{equation*}
P = \rho k T
\end{equation*}
&lt;/div&gt;
&lt;div class="math"&gt;
\begin{equation*}
c_s = \sqrt{2 k T / m}
\end{equation*}
&lt;/div&gt;
&lt;p&gt;Setting &lt;span class="math"&gt;\(v_{esc} = c_s\)&lt;/span&gt; yields the mass scale:&lt;/p&gt;
&lt;div class="math"&gt;
\begin{equation*}
M = \frac{R}{G}  \frac{2 k T}{m} = \frac{R c_s^2}{G}
\end{equation*}
&lt;/div&gt;
&lt;p&gt;Using &lt;span class="math"&gt;\(\rho = \frac{M}{ 4/3 \pi R^{3} }\)&lt;/span&gt;,&lt;/p&gt;
&lt;div class="math"&gt;
\begin{equation*}
R = \left(\frac{M}{4/3 \pi \rho}\right)^{1/3}
\end{equation*}
&lt;/div&gt;
&lt;p&gt;so&lt;/p&gt;
&lt;div class="math"&gt;
\begin{equation*}
M = M^{1/3} \frac{c_s^2}{G \rho^{1/3}}
\end{equation*}
&lt;/div&gt;
&lt;p&gt;which rearranges to&lt;/p&gt;
&lt;div class="math"&gt;
\begin{equation*}
M = \frac{c_s^{3}}{G^{3/2} \rho^{1/2}}
\end{equation*}
&lt;/div&gt;
&lt;p&gt;where &lt;span class="math"&gt;\(M\)&lt;/span&gt; is now &lt;span class="math"&gt;\(M_J\)&lt;/span&gt;, the Jeans mass. In terms of
temperature, this is:&lt;/p&gt;
&lt;div class="math"&gt;
\begin{equation*}
M_J = \frac{(2 k T)^{3/2}}{(m G)^{3/2} \rho^{1/2}}
\end{equation*}
&lt;/div&gt;
&lt;p&gt;where &lt;span class="math"&gt;\(m\)&lt;/span&gt; is the particle mass, usually assumed to be 2.8 amu. (actually,
2.8 is for mass per H$_2$ particle, it should really be 2.3 amu)&lt;/p&gt;
&lt;p&gt;In[1]:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="c1"&gt;# astropy imports&lt;/span&gt;
&lt;span class="kn"&gt;import&lt;/span&gt; &lt;span class="nn"&gt;astropy.units&lt;/span&gt; &lt;span class="k"&gt;as&lt;/span&gt; &lt;span class="nn"&gt;u&lt;/span&gt;
&lt;span class="kn"&gt;import&lt;/span&gt; &lt;span class="nn"&gt;astropy.constants&lt;/span&gt; &lt;span class="k"&gt;as&lt;/span&gt; &lt;span class="nn"&gt;c&lt;/span&gt;
&lt;span class="c1"&gt;# turn off verbose but unnecessary information&lt;/span&gt;
&lt;span class="kn"&gt;import&lt;/span&gt; &lt;span class="nn"&gt;warnings&lt;/span&gt;
&lt;span class="n"&gt;warnings&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;filterwarnings&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;ignore&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="n"&gt;warnings&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;filterwarnings&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;ignore&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;category&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="n"&gt;u&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;UnitsWarning&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;append&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="kc"&gt;True&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;pre class="literal-block"&gt;
WARNING: ConfigurationDefaultMissingWarning: Requested default
configuration file /Users/adam/repos/astropy/astropy/astropy.cfg is not a
file. Cannot install default profile. If you are importing from source,
this is expected. [astropy]
&lt;/pre&gt;
&lt;p&gt;In[7]:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="n"&gt;amu&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;c&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;m_p&lt;/span&gt;
&lt;span class="n"&gt;temperature&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="mi"&gt;10&lt;/span&gt; &lt;span class="o"&gt;*&lt;/span&gt; &lt;span class="n"&gt;u&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;K&lt;/span&gt;
&lt;span class="n"&gt;m&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="p"&gt;(((&lt;/span&gt;&lt;span class="mi"&gt;2&lt;/span&gt; &lt;span class="o"&gt;*&lt;/span&gt; &lt;span class="n"&gt;c&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;k_B&lt;/span&gt; &lt;span class="o"&gt;*&lt;/span&gt; &lt;span class="n"&gt;temperature&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;&lt;span class="o"&gt;**&lt;/span&gt;&lt;span class="mf"&gt;1.5&lt;/span&gt; &lt;span class="o"&gt;/&lt;/span&gt; &lt;span class="p"&gt;((&lt;/span&gt;&lt;span class="mf"&gt;2.8&lt;/span&gt;&lt;span class="o"&gt;*&lt;/span&gt;&lt;span class="n"&gt;c&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;m_p&lt;/span&gt;&lt;span class="o"&gt;*&lt;/span&gt;&lt;span class="n"&gt;c&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;G&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;&lt;span class="o"&gt;**&lt;/span&gt;&lt;span class="mf"&gt;1.5&lt;/span&gt; &lt;span class="o"&gt;*&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="mf"&gt;2.8&lt;/span&gt;&lt;span class="o"&gt;*&lt;/span&gt;&lt;span class="mf"&gt;1e4&lt;/span&gt;&lt;span class="o"&gt;*&lt;/span&gt;&lt;span class="n"&gt;amu&lt;/span&gt; &lt;span class="o"&gt;/&lt;/span&gt; &lt;span class="n"&gt;u&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;cm&lt;/span&gt;&lt;span class="o"&gt;**&lt;/span&gt;&lt;span class="mi"&gt;3&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;&lt;span class="o"&gt;**&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="mf"&gt;2.&lt;/span&gt;&lt;span class="p"&gt;))))&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;cgs&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;In[5]:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="n"&gt;m&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;to&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;u&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;solMass&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Out[5]:&lt;/p&gt;
&lt;div class="math"&gt;
\begin{equation*}
1.92903 \mathrm{M_{\odot}}
\end{equation*}
&lt;/div&gt;
&lt;pre class="literal-block"&gt;
&amp;lt;Quantity 1.92902547696 solMass&amp;gt;
&lt;/pre&gt;
&lt;script type='text/javascript'&gt;if (!document.getElementById('mathjaxscript_pelican_#%@#$@#')) {
    var align = "center",
        indent = "0em",
        linebreak = "false";

    if (false) {
        align = (screen.width &lt; 768) ? "left" : align;
        indent = (screen.width &lt; 768) ? "0em" : indent;
        linebreak = (screen.width &lt; 768) ? 'true' : linebreak;
    }

    var mathjaxscript = document.createElement('script');
    mathjaxscript.id = 'mathjaxscript_pelican_#%@#$@#';
    mathjaxscript.type = 'text/javascript';
    mathjaxscript.src = 'https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.3/latest.js?config=TeX-AMS-MML_HTMLorMML';

    var configscript = document.createElement('script');
    configscript.type = 'text/x-mathjax-config';
    configscript[(window.opera ? "innerHTML" : "text")] =
        "MathJax.Hub.Config({" +
        "    config: ['MMLorHTML.js']," +
        "    TeX: { extensions: ['AMSmath.js','AMSsymbols.js','noErrors.js','noUndefined.js'], equationNumbers: { autoNumber: 'none' } }," +
        "    jax: ['input/TeX','input/MathML','output/HTML-CSS']," +
        "    extensions: ['tex2jax.js','mml2jax.js','MathMenu.js','MathZoom.js']," +
        "    displayAlign: '"+ align +"'," +
        "    displayIndent: '"+ indent +"'," +
        "    showMathMenu: true," +
        "    messageStyle: 'normal'," +
        "    tex2jax: { " +
        "        inlineMath: [ ['\\\\(','\\\\)'] ], " +
        "        displayMath: [ ['$$','$$'] ]," +
        "        processEscapes: true," +
        "        preview: 'TeX'," +
        "    }, " +
        "    'HTML-CSS': { " +
        "        availableFonts: ['STIX', 'TeX']," +
        "        preferredFont: 'STIX'," +
        "        styles: { '.MathJax_Display, .MathJax .mo, .MathJax .mi, .MathJax .mn': {color: 'inherit ! important'} }," +
        "        linebreaks: { automatic: "+ linebreak +", width: '90% container' }," +
        "    }, " +
        "}); " +
        "if ('default' !== 'default') {" +
            "MathJax.Hub.Register.StartupHook('HTML-CSS Jax Ready',function () {" +
                "var VARIANT = MathJax.OutputJax['HTML-CSS'].FONTDATA.VARIANT;" +
                "VARIANT['normal'].fonts.unshift('MathJax_default');" +
                "VARIANT['bold'].fonts.unshift('MathJax_default-bold');" +
                "VARIANT['italic'].fonts.unshift('MathJax_default-italic');" +
                "VARIANT['-tex-mathit'].fonts.unshift('MathJax_default-italic');" +
            "});" +
            "MathJax.Hub.Register.StartupHook('SVG Jax Ready',function () {" +
                "var VARIANT = MathJax.OutputJax.SVG.FONTDATA.VARIANT;" +
                "VARIANT['normal'].fonts.unshift('MathJax_default');" +
                "VARIANT['bold'].fonts.unshift('MathJax_default-bold');" +
                "VARIANT['italic'].fonts.unshift('MathJax_default-italic');" +
                "VARIANT['-tex-mathit'].fonts.unshift('MathJax_default-italic');" +
            "});" +
        "}";

    (document.body || document.getElementsByTagName('head')[0]).appendChild(configscript);
    (document.body || document.getElementsByTagName('head')[0]).appendChild(mathjaxscript);
}
&lt;/script&gt;</content><category term="misc"></category><category term="ipynb"></category><category term="physics"></category></entry><entry><title>Installing sextractor on a mac?</title><link href="https://keflavich.github.io/blog/installing-sextractor-on-a-mac.html" rel="alternate"></link><published>2013-02-27T18:02:00-07:00</published><updated>2013-02-27T18:02:00-07:00</updated><author><name>Adam (keflavich@gmail.com)</name></author><id>tag:keflavich.github.io,2013-02-27:/blog/installing-sextractor-on-a-mac.html</id><summary type="html">&lt;p&gt;Attempting to install sextractor.&lt;/p&gt;
&lt;p&gt;First, tried following these instructions:&lt;/p&gt;
&lt;p&gt;&lt;a class="reference external" href="http://henrysmac.org/blog/2012/8/17/install-sextractor-on-os-x-lion.html"&gt;http://henrysmac.org/blog/2012/8/17/install-sextractor-on-os-x-lion.html&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;Then found out that mac's tar doesn't work properly (see this note: &lt;a class="reference external" href="http://math-atlas.sourceforge.net/atlas_install/node60.html"&gt;http://math-atlas.sourceforge.net/atlas_install/node60.html&lt;/a&gt;)&lt;/p&gt;
&lt;p&gt;Fixed that with:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;wget&lt;span class="w"&gt; &lt;/span&gt;ftp://gnu.mirror.iweb.com/gnu/tar/tar-latest …&lt;/pre&gt;&lt;/div&gt;</summary><content type="html">&lt;p&gt;Attempting to install sextractor.&lt;/p&gt;
&lt;p&gt;First, tried following these instructions:&lt;/p&gt;
&lt;p&gt;&lt;a class="reference external" href="http://henrysmac.org/blog/2012/8/17/install-sextractor-on-os-x-lion.html"&gt;http://henrysmac.org/blog/2012/8/17/install-sextractor-on-os-x-lion.html&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;Then found out that mac's tar doesn't work properly (see this note: &lt;a class="reference external" href="http://math-atlas.sourceforge.net/atlas_install/node60.html"&gt;http://math-atlas.sourceforge.net/atlas_install/node60.html&lt;/a&gt;)&lt;/p&gt;
&lt;p&gt;Fixed that with:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;wget&lt;span class="w"&gt; &lt;/span&gt;ftp://gnu.mirror.iweb.com/gnu/tar/tar-latest.tar.gz
&lt;span class="nb"&gt;cd&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;~/repos/
tar&lt;span class="w"&gt; &lt;/span&gt;-xzvf&lt;span class="w"&gt; &lt;/span&gt;~/Downloads/tar-latest.tar.gz&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="c1"&gt;# ironically&lt;/span&gt;
&lt;span class="nb"&gt;cd&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;tar-1.26/
./configure
make
make&lt;span class="w"&gt; &lt;/span&gt;install&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="c1"&gt;# fails&lt;/span&gt;
sudo&lt;span class="w"&gt; &lt;/span&gt;make&lt;span class="w"&gt; &lt;/span&gt;install
&lt;span class="nb"&gt;hash&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;-r
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;OK, try the instructions again:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="c1"&gt;# first command may not work... visit that link if so&lt;/span&gt;
wget&lt;span class="w"&gt; &lt;/span&gt;https://sourceforge.net/projects/math-atlas/files/latest/download?source&lt;span class="o"&gt;=&lt;/span&gt;files
mkdir&lt;span class="w"&gt; &lt;/span&gt;~/repos/ATLAS3.10
&lt;span class="nb"&gt;cd&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;~/repos/ATLAS3.10
tar&lt;span class="w"&gt; &lt;/span&gt;-xf&lt;span class="w"&gt; &lt;/span&gt;~/Downloads/atlas3.10.1.tar&lt;span class="w"&gt; &lt;/span&gt;-C&lt;span class="w"&gt; &lt;/span&gt;./&lt;span class="w"&gt; &lt;/span&gt;--strip-components&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="m"&gt;1&lt;/span&gt;
mkdir&lt;span class="w"&gt; &lt;/span&gt;build/
&lt;span class="nb"&gt;cd&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;build/
../configure&lt;span class="w"&gt; &lt;/span&gt;-b&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="m"&gt;64&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;--shared&lt;span class="w"&gt; &lt;/span&gt;--prefix&lt;span class="o"&gt;=&lt;/span&gt;/usr/local/lib/atlas&lt;span class="w"&gt; &lt;/span&gt;--with-netlib-lapack-tarfile&lt;span class="o"&gt;=&lt;/span&gt;/Users/adam/Downloads/lapack-3.4.2.tar
make&lt;span class="w"&gt; &lt;/span&gt;build
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Died with errors:&lt;/p&gt;
&lt;pre class="literal-block"&gt;
ar r /Users/adam/repos/ATLAS3.10/build/lib/libatlas.a ATL_dMBJBmm.o
    ATL_dIBNBmm.o ATL_dIBJBmm.o ATL_dgemm.o ATL_dGetNB.o ATL_dGetNCNB.o
    ATL_dgemmNN.o ATL_dgemmNT.o ATL_dgemmTN.o ATL_dgemmTT.o ATL_dNCmmIJK.o
    ATL_dNCmmJIK.o ATL_dNCmmIJK_c.o ATL_dNCmmJIK_c.o ATL_daliased_gemm.o
    ATL_dAgemmNN.o ATL_dAgemmNT.o ATL_dAgemmTN.o ATL_dAgemmTT.o ATL_dmmJIK.o
    ATL_dmmIJK.o ATL_dmmJKI.o ATL_dmmK.o ATL_dmmBPP.o ATL_dmmJITcp.o
    ATL_dcol2blk_aX.o ATL_drow2blkT_aX.o ATL_dcol2blk_a1.o ATL_drow2blkT_a1.o
    ATL_dputblk_bX.o ATL_dputblk_b1.o ATL_dputblk_bn1.o ATL_dputblk_b0.o
ar: fatal error in /usr/bin/ranlib
make[4]: *** [dlib.grd] Error 1
make[3]: *** [dlib] Error 2
make[2]: *** [IBuildPtlibs] Error 2
   DONE  STAGE 4-2-1 at 23:09


   BEGIN STAGE 4-3-0: LAPACK TUNING at 23:09


      BEGIN STAGE 4-3-1: dLAPACK TUNING at 23:09
make -f Makefile IBuildPtlibs 2&amp;gt;&amp;amp;1 | ./xatlas_tee INSTALL_LOG/LIBPTBUILD.LOG
if [ -s &amp;quot;/Users/adam/repos/ATLAS3.10/build/include/atlas_dGetNB_geqrf.h&amp;quot; ]; then \
           echo &amp;quot;Arch Defaults allow us to skip tuning&amp;quot; ; \
        else \
        cd /Users/adam/repos/ATLAS3.10/build/tune/lapack ; make res/ATL_dGetNB_geqrf.h ; \
        cp /Users/adam/repos/ATLAS3.10/build/tune/lapack/res/ATL_dGetNB_geqrf.h \
               /Users/adam/repos/ATLAS3.10/build/include/atlas_dGetNB_geqrf.h ; \
        fi
Arch Defaults allow us to skip tuning
if [ -s &amp;quot;/Users/adam/repos/ATLAS3.10/build/include/atlas_dtGetNB_geqrf.h&amp;quot; ]; then \
           echo &amp;quot;Arch Defaults allow us to skip threaded tuning&amp;quot; ; \
        elif [ -s &amp;quot;/Users/adam/repos/ATLAS3.10/build/include/atlas_pthreads.h&amp;quot; ]; then \
        cd /Users/adam/repos/ATLAS3.10/build/tune/lapack ; make res/ATL_dtGetNB_geqrf.h ; \
        cp /Users/adam/repos/ATLAS3.10/build/tune/lapack/res/ATL_dtGetNB_geqrf.h \
               /Users/adam/repos/ATLAS3.10/build/include/atlas_dtGetNB_geqrf.h ; \
        fi
Arch Defaults allow us to skip threaded tuning
      DONE  STAGE 4-3-1 at 23:09


      BEGIN STAGE 4-3-2: sLAPACK TUNING at 23:09
make -f Makefile ILATune pre=d 2&amp;gt;&amp;amp;1 | ./xatlas_tee INSTALL_LOG/dLATUNE.LOG
if [ -s &amp;quot;/Users/adam/repos/ATLAS3.10/build/include/atlas_sGetNB_geqrf.h&amp;quot; ]; then \
           echo &amp;quot;Arch Defaults allow us to skip tuning&amp;quot; ; \
        else \
        cd /Users/adam/repos/ATLAS3.10/build/tune/lapack ; make res/ATL_sGetNB_geqrf.h ; \
        cp /Users/adam/repos/ATLAS3.10/build/tune/lapack/res/ATL_sGetNB_geqrf.h \
               /Users/adam/repos/ATLAS3.10/build/include/atlas_sGetNB_geqrf.h ; \
        fi
Arch Defaults allow us to skip tuning
if [ -s &amp;quot;/Users/adam/repos/ATLAS3.10/build/include/atlas_stGetNB_geqrf.h&amp;quot; ]; then \
           echo &amp;quot;Arch Defaults allow us to skip threaded tuning&amp;quot; ; \
        elif [ -s &amp;quot;/Users/adam/repos/ATLAS3.10/build/include/atlas_pthreads.h&amp;quot; ]; then \
        cd /Users/adam/repos/ATLAS3.10/build/tune/lapack ; make res/ATL_stGetNB_geqrf.h ; \
        cp /Users/adam/repos/ATLAS3.10/build/tune/lapack/res/ATL_stGetNB_geqrf.h \
               /Users/adam/repos/ATLAS3.10/build/include/atlas_stGetNB_geqrf.h ; \
        fi
Arch Defaults allow us to skip threaded tuning
      DONE  STAGE 4-3-2 at 23:09


      BEGIN STAGE 4-3-3: zLAPACK TUNING at 23:09
make -f Makefile ILATune pre=s 2&amp;gt;&amp;amp;1 | ./xatlas_tee INSTALL_LOG/sLATUNE.LOG
if [ -s &amp;quot;/Users/adam/repos/ATLAS3.10/build/include/atlas_zGetNB_geqrf.h&amp;quot; ]; then \
           echo &amp;quot;Arch Defaults allow us to skip tuning&amp;quot; ; \
        else \
        cd /Users/adam/repos/ATLAS3.10/build/tune/lapack ; make res/ATL_zGetNB_geqrf.h ; \
        cp /Users/adam/repos/ATLAS3.10/build/tune/lapack/res/ATL_zGetNB_geqrf.h \
               /Users/adam/repos/ATLAS3.10/build/include/atlas_zGetNB_geqrf.h ; \
        fi
Arch Defaults allow us to skip tuning
if [ -s &amp;quot;/Users/adam/repos/ATLAS3.10/build/include/atlas_ztGetNB_geqrf.h&amp;quot; ]; then \
           echo &amp;quot;Arch Defaults allow us to skip threaded tuning&amp;quot; ; \
        elif [ -s &amp;quot;/Users/adam/repos/ATLAS3.10/build/include/atlas_pthreads.h&amp;quot; ]; then \
        cd /Users/adam/repos/ATLAS3.10/build/tune/lapack ; make res/ATL_ztGetNB_geqrf.h ; \
        cp /Users/adam/repos/ATLAS3.10/build/tune/lapack/res/ATL_ztGetNB_geqrf.h \
               /Users/adam/repos/ATLAS3.10/build/include/atlas_ztGetNB_geqrf.h ; \
        fi
Arch Defaults allow us to skip threaded tuning
      DONE  STAGE 4-3-3 at 23:09


      BEGIN STAGE 4-3-4: cLAPACK TUNING at 23:09
make -f Makefile ILATune pre=z 2&amp;gt;&amp;amp;1 | ./xatlas_tee INSTALL_LOG/zLATUNE.LOG
if [ -s &amp;quot;/Users/adam/repos/ATLAS3.10/build/include/atlas_cGetNB_geqrf.h&amp;quot; ]; then \
           echo &amp;quot;Arch Defaults allow us to skip tuning&amp;quot; ; \
        else \
        cd /Users/adam/repos/ATLAS3.10/build/tune/lapack ; make res/ATL_cGetNB_geqrf.h ; \
        cp /Users/adam/repos/ATLAS3.10/build/tune/lapack/res/ATL_cGetNB_geqrf.h \
               /Users/adam/repos/ATLAS3.10/build/include/atlas_cGetNB_geqrf.h ; \
        fi
Arch Defaults allow us to skip tuning
if [ -s &amp;quot;/Users/adam/repos/ATLAS3.10/build/include/atlas_ctGetNB_geqrf.h&amp;quot; ]; then \
           echo &amp;quot;Arch Defaults allow us to skip threaded tuning&amp;quot; ; \
        elif [ -s &amp;quot;/Users/adam/repos/ATLAS3.10/build/include/atlas_pthreads.h&amp;quot; ]; then \
        cd /Users/adam/repos/ATLAS3.10/build/tune/lapack ; make res/ATL_ctGetNB_geqrf.h ; \
        cp /Users/adam/repos/ATLAS3.10/build/tune/lapack/res/ATL_ctGetNB_geqrf.h \
               /Users/adam/repos/ATLAS3.10/build/include/atlas_ctGetNB_geqrf.h ; \
        fi
Arch Defaults allow us to skip threaded tuning
      DONE  STAGE 4-3-4 at 23:09
   DONE  STAGE 4-3-0 at 23:09
DONE  STAGE 4-0-0 at 23:09


BEGIN STAGE 5-0-0: FINAL LIBRARY UPDATE at 23:09


   BEGIN STAGE 5-1-0: FINAL STATIC LIBRARY UPDATE at 23:09
make -f Makefile IBuildLibs IBuildPtlibs0 2&amp;gt;&amp;amp;1 | ./xatlas_tee INSTALL_LOG/LIBUPDATE.LOG
cd /Users/adam/repos/ATLAS3.10/build/src/auxil ; make lib
make[3]: Nothing to be done for `lib'.
cd /Users/adam/repos/ATLAS3.10/build/src/blas/gemm ; make lib
make auxillib dcleanuplib dusergemm
cd /Users/adam/repos/ATLAS3.10/build/src/auxil ; make lib
make[5]: Nothing to be done for `lib'.
cd KERNEL ; make -f dMakefile dlib
make[5]: Nothing to be done for `dlib'.
make[4]: Nothing to be done for `dusergemm'.
make -j 4 dlib.grd
ar r /Users/adam/repos/ATLAS3.10/build/lib/libatlas.a ATL_dMBJBmm.o
    ATL_dIBNBmm.o ATL_dIBJBmm.o ATL_dgemm.o ATL_dGetNB.o ATL_dGetNCNB.o
    ATL_dgemmNN.o ATL_dgemmNT.o ATL_dgemmTN.o ATL_dgemmTT.o ATL_dNCmmIJK.o
    ATL_dNCmmJIK.o ATL_dNCmmIJK_c.o ATL_dNCmmJIK_c.o ATL_daliased_gemm.o
    ATL_dAgemmNN.o ATL_dAgemmNT.o ATL_dAgemmTN.o ATL_dAgemmTT.o ATL_dmmJIK.o
    ATL_dmmIJK.o ATL_dmmJKI.o ATL_dmmK.o ATL_dmmBPP.o ATL_dmmJITcp.o
    ATL_dcol2blk_aX.o ATL_drow2blkT_aX.o ATL_dcol2blk_a1.o ATL_drow2blkT_a1.o
    ATL_dputblk_bX.o ATL_dputblk_b1.o ATL_dputblk_bn1.o ATL_dputblk_b0.o
ar: fatal error in /usr/bin/ranlib
make[4]: *** [dlib.grd] Error 1
make[3]: *** [dlib] Error 2
make[2]: *** [IBuildLibs] Error 2
   DONE  STAGE 5-1-0 at 23:09


   BEGIN STAGE 5-2-0: DYNAMIC/SHARED LIBRARY UPDATE at 23:09
make -f Makefile IBuildDyLibs 2&amp;gt;&amp;amp;1 | ./xatlas_tee INSTALL_LOG/LIBDYBUILD.LOG
cd /Users/adam/repos/ATLAS3.10/build ; make dylibs
cd lib ; make shared_all
make dylib
rm -rf RCW_tMp ; mkdir RCW_tMp
cd RCW_tMp ; ar x ../liblapack.a
ar: ../liblapack.a: No such file or directory
make[5]: *** [dylib] Error 1
make[4]: *** [shared_all] Error 2
make[3]: *** [dylibs] Error 2
make[2]: *** [IBuildDyLibs] Error 2
   DONE  STAGE 5-2-0 at 23:09




ATLAS install complete.  Examine
ATLAS/bin/&amp;lt;arch&amp;gt;/INSTALL_LOG/SUMMARY.LOG for details.
make clean
rm -rf *.dSYM
rm -f *.o x* config?.out *core*



make check

Died with errors:

ar r /Users/adam/repos/ATLAS3.10/build/lib/libatlas.a ATL_sMBJBmm.o
    ATL_sIBNBmm.o ATL_sIBJBmm.o ATL_sgemm.o ATL_sGetNB.o ATL_sGetNCNB.o
    ATL_sgemmNN.o ATL_sgemmNT.o ATL_sgemmTN.o ATL_sgemmTT.o ATL_sNCmmIJK.o
    ATL_sNCmmJIK.o ATL_sNCmmIJK_c.o ATL_sNCmmJIK_c.o ATL_saliased_gemm.o
    ATL_sAgemmNN.o ATL_sAgemmNT.o ATL_sAgemmTN.o ATL_sAgemmTT.o ATL_smmJIK.o
    ATL_smmIJK.o ATL_smmJKI.o ATL_smmK.o ATL_smmBPP.o ATL_smmJITcp.o
    ATL_scol2blk_aX.o ATL_srow2blkT_aX.o ATL_scol2blk_a1.o ATL_srow2blkT_a1.o
    ATL_sputblk_bX.o ATL_sputblk_b1.o ATL_sputblk_bn1.o ATL_sputblk_b0.o
ranlib /Users/adam/repos/ATLAS3.10/build/lib/libatlas.a
touch slib.grd
cd /Users/adam/repos/ATLAS3.10/build/src/blas/level3 ; make slib
( cd kernel; make slib )
make -j 4 slib.grd
make[6]: `slib.grd' is up to date.
make sl3ref
cd /Users/adam/repos/ATLAS3.10/build/src/blas/reference/level3 ; make slib
make[7]: Nothing to be done for `slib'.
( cd rblas;  make slib )
make[5]: Nothing to be done for `slib'.
cd ../pklevel3 ; make slib
cd gpmm ; make slib
make -j 4 slib.grd
make[7]: `slib.grd' is up to date.
cd sprk ; make slib
make -j 4 slib.grd
make[7]: `slib.grd' is up to date.
make -j 4 sblas3.grd
ar r /Users/adam/repos/ATLAS3.10/build/lib/libatlas.a ATL_ssymm.o ATL_ssyr2k.o ATL_ssyrk.o ATL_strmm.o ATL_strsm.o
ar: fatal error in /usr/bin/ranlib
make[5]: *** [sblas3.grd] Error 1
make[4]: *** [sblas3] Error 2
make[3]: *** [sl3lib] Error 2
make[2]: *** [sanity_test] Error 2
make[1]: *** [sanity_test] Error 2
make: *** [test] Error 2
&lt;/pre&gt;
&lt;p&gt;Gave up after discovering this is an unsolved (and probably intrinsically unsolveable) problem:
&lt;a class="reference external" href="http://fink.9193.n7.nabble.com/Atlas-STAGE-2-3-2-CacheEdge-DETECTION-error-td26004.html"&gt;http://fink.9193.n7.nabble.com/Atlas-STAGE-2-3-2-CacheEdge-DETECTION-error-td26004.html&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;maybe try this:
&lt;a class="reference external" href="http://okomestudio.net/biboroku/?p=824"&gt;http://okomestudio.net/biboroku/?p=824&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;nope, same thing&lt;/p&gt;
&lt;p&gt;Tried switching from gcc-4.6 to gcc-4.2 (the latter should have been the default anyway).
Even when I renamed gcc-4.6 to dontuse_gcc-4.6, specified CC=/usr/bin/gcc, still found gcc-4.6!&lt;/p&gt;
&lt;p&gt;So I moved /usr/local/bin/gcc-4.6 to /usr/local/bin/dontuse/.gcc-4.6
Ridiculous.&lt;/p&gt;
&lt;p&gt;Then tried what the site actually said, and used the hpc binaries:&lt;/p&gt;
&lt;pre class="literal-block"&gt;
wget http://prdownloads.sourceforge.net/hpc/gfortran-lion.tar.gz?download
wget http://prdownloads.sourceforge.net/hpc/gcc-lion.tar.gz?download
mkdir ~/repos/hpc
tar -xzf ~/Downloads/gcc-lion.tar.gz -C ~/repos/hpc/ --strip-components 2
tar -xzf ~/Downloads/gfortran-lion.tar.gz -C ~/repos/hpc/ --strip-components 2

CC=/Users/adam/repos/hpc/bin/gcc PATH=/Users/adam/repos/hpc/bin:$PATH
    ../configure -b 64 --shared --prefix=/usr/local/lib/atlas
    --with-netlib-lapack-tarfile=/Users/adam/Downloads/lapack-3.4.2.tar


ar r /Users/adam/repos/ATLAS3.10/build/lib/libatlas.a ATL_dMBJBmm.o
    ATL_dIBNBmm.o ATL_dIBJBmm.o ATL_dgemm.o ATL_dGetNB.o ATL_dGetNCNB.o
    ATL_dgemmNN.o ATL_dgemmNT.o ATL_dgemmTN.o ATL_dgemmTT.o ATL_dNCmmIJK.o
    ATL_dNCmmJIK.o ATL_dNCmmIJK_c.o ATL_dNCmmJIK_c.o ATL_daliased_gemm.o
    ATL_dAgemmNN.o ATL_dAgemmNT.o ATL_dAgemmTN.o ATL_dAgemmTT.o ATL_dmmJIK.o
    ATL_dmmIJK.o ATL_dmmJKI.o ATL_dmmK.o ATL_dmmBPP.o ATL_dmmJITcp.o
    ATL_dcol2blk_aX.o ATL_drow2blkT_aX.o ATL_dcol2blk_a1.o ATL_drow2blkT_a1.o
    ATL_dputblk_bX.o ATL_dputblk_b1.o ATL_dputblk_bn1.o ATL_dputblk_b0.o
ar: fatal error in /usr/bin/ranlib
make[4]: *** [dlib.grd] Error 1
make[3]: *** [dlib] Error 2
make[2]: *** [IBuildPtlibs] Error 2
   DONE  STAGE 4-2-1 at 18:09


   BEGIN STAGE 4-3-0: LAPACK TUNING at 18:09


      BEGIN STAGE 4-3-1: dLAPACK TUNING at 18:09
make -f Makefile IBuildPtlibs 2&amp;gt;&amp;amp;1 | ./xatlas_tee INSTALL_LOG/LIBPTBUILD.LOG
if [ -s &amp;quot;/Users/adam/repos/ATLAS3.10/build/include/atlas_dGetNB_geqrf.h&amp;quot; ]; then \
           echo &amp;quot;Arch Defaults allow us to skip tuning&amp;quot; ; \
        else \
        cd /Users/adam/repos/ATLAS3.10/build/tune/lapack ; make res/ATL_dGetNB_geqrf.h ; \
        cp /Users/adam/repos/ATLAS3.10/build/tune/lapack/res/ATL_dGetNB_geqrf.h \
               /Users/adam/repos/ATLAS3.10/build/include/atlas_dGetNB_geqrf.h ; \
        fi
Arch Defaults allow us to skip tuning
if [ -s &amp;quot;/Users/adam/repos/ATLAS3.10/build/include/atlas_dtGetNB_geqrf.h&amp;quot; ]; then \
           echo &amp;quot;Arch Defaults allow us to skip threaded tuning&amp;quot; ; \
        elif [ -s &amp;quot;/Users/adam/repos/ATLAS3.10/build/include/atlas_pthreads.h&amp;quot; ]; then \
        cd /Users/adam/repos/ATLAS3.10/build/tune/lapack ; make res/ATL_dtGetNB_geqrf.h ; \
        cp /Users/adam/repos/ATLAS3.10/build/tune/lapack/res/ATL_dtGetNB_geqrf.h \
               /Users/adam/repos/ATLAS3.10/build/include/atlas_dtGetNB_geqrf.h ; \
        fi
Arch Defaults allow us to skip threaded tuning
      DONE  STAGE 4-3-1 at 18:09


      BEGIN STAGE 4-3-2: sLAPACK TUNING at 18:09
make -f Makefile ILATune pre=d 2&amp;gt;&amp;amp;1 | ./xatlas_tee INSTALL_LOG/dLATUNE.LOG
if [ -s &amp;quot;/Users/adam/repos/ATLAS3.10/build/include/atlas_sGetNB_geqrf.h&amp;quot; ]; then \
           echo &amp;quot;Arch Defaults allow us to skip tuning&amp;quot; ; \
        else \
        cd /Users/adam/repos/ATLAS3.10/build/tune/lapack ; make res/ATL_sGetNB_geqrf.h ; \
        cp /Users/adam/repos/ATLAS3.10/build/tune/lapack/res/ATL_sGetNB_geqrf.h \
               /Users/adam/repos/ATLAS3.10/build/include/atlas_sGetNB_geqrf.h ; \
        fi
Arch Defaults allow us to skip tuning
if [ -s &amp;quot;/Users/adam/repos/ATLAS3.10/build/include/atlas_stGetNB_geqrf.h&amp;quot; ]; then \
           echo &amp;quot;Arch Defaults allow us to skip threaded tuning&amp;quot; ; \
        elif [ -s &amp;quot;/Users/adam/repos/ATLAS3.10/build/include/atlas_pthreads.h&amp;quot; ]; then \
        cd /Users/adam/repos/ATLAS3.10/build/tune/lapack ; make res/ATL_stGetNB_geqrf.h ; \
        cp /Users/adam/repos/ATLAS3.10/build/tune/lapack/res/ATL_stGetNB_geqrf.h \
               /Users/adam/repos/ATLAS3.10/build/include/atlas_stGetNB_geqrf.h ; \
        fi
Arch Defaults allow us to skip threaded tuning
      DONE  STAGE 4-3-2 at 18:09


      BEGIN STAGE 4-3-3: zLAPACK TUNING at 18:09
make -f Makefile ILATune pre=s 2&amp;gt;&amp;amp;1 | ./xatlas_tee INSTALL_LOG/sLATUNE.LOG
if [ -s &amp;quot;/Users/adam/repos/ATLAS3.10/build/include/atlas_zGetNB_geqrf.h&amp;quot; ]; then \
           echo &amp;quot;Arch Defaults allow us to skip tuning&amp;quot; ; \
        else \
        cd /Users/adam/repos/ATLAS3.10/build/tune/lapack ; make res/ATL_zGetNB_geqrf.h ; \
        cp /Users/adam/repos/ATLAS3.10/build/tune/lapack/res/ATL_zGetNB_geqrf.h \
               /Users/adam/repos/ATLAS3.10/build/include/atlas_zGetNB_geqrf.h ; \
        fi
Arch Defaults allow us to skip tuning
if [ -s &amp;quot;/Users/adam/repos/ATLAS3.10/build/include/atlas_ztGetNB_geqrf.h&amp;quot; ]; then \
           echo &amp;quot;Arch Defaults allow us to skip threaded tuning&amp;quot; ; \
        elif [ -s &amp;quot;/Users/adam/repos/ATLAS3.10/build/include/atlas_pthreads.h&amp;quot; ]; then \
        cd /Users/adam/repos/ATLAS3.10/build/tune/lapack ; make res/ATL_ztGetNB_geqrf.h ; \
        cp /Users/adam/repos/ATLAS3.10/build/tune/lapack/res/ATL_ztGetNB_geqrf.h \
               /Users/adam/repos/ATLAS3.10/build/include/atlas_ztGetNB_geqrf.h ; \
        fi
Arch Defaults allow us to skip threaded tuning
      DONE  STAGE 4-3-3 at 18:09


      BEGIN STAGE 4-3-4: cLAPACK TUNING at 18:09
make -f Makefile ILATune pre=z 2&amp;gt;&amp;amp;1 | ./xatlas_tee INSTALL_LOG/zLATUNE.LOG
if [ -s &amp;quot;/Users/adam/repos/ATLAS3.10/build/include/atlas_cGetNB_geqrf.h&amp;quot; ]; then \
           echo &amp;quot;Arch Defaults allow us to skip tuning&amp;quot; ; \
        else \
        cd /Users/adam/repos/ATLAS3.10/build/tune/lapack ; make res/ATL_cGetNB_geqrf.h ; \
        cp /Users/adam/repos/ATLAS3.10/build/tune/lapack/res/ATL_cGetNB_geqrf.h \
               /Users/adam/repos/ATLAS3.10/build/include/atlas_cGetNB_geqrf.h ; \
        fi
Arch Defaults allow us to skip tuning
if [ -s &amp;quot;/Users/adam/repos/ATLAS3.10/build/include/atlas_ctGetNB_geqrf.h&amp;quot; ]; then \
           echo &amp;quot;Arch Defaults allow us to skip threaded tuning&amp;quot; ; \
        elif [ -s &amp;quot;/Users/adam/repos/ATLAS3.10/build/include/atlas_pthreads.h&amp;quot; ]; then \
        cd /Users/adam/repos/ATLAS3.10/build/tune/lapack ; make res/ATL_ctGetNB_geqrf.h ; \
        cp /Users/adam/repos/ATLAS3.10/build/tune/lapack/res/ATL_ctGetNB_geqrf.h \
               /Users/adam/repos/ATLAS3.10/build/include/atlas_ctGetNB_geqrf.h ; \
        fi
Arch Defaults allow us to skip threaded tuning
      DONE  STAGE 4-3-4 at 18:09
   DONE  STAGE 4-3-0 at 18:09
DONE  STAGE 4-0-0 at 18:09


BEGIN STAGE 5-0-0: FINAL LIBRARY UPDATE at 18:09


   BEGIN STAGE 5-1-0: FINAL STATIC LIBRARY UPDATE at 18:09
make -f Makefile IBuildLibs IBuildPtlibs0 2&amp;gt;&amp;amp;1 | ./xatlas_tee INSTALL_LOG/LIBUPDATE.LOG
cd /Users/adam/repos/ATLAS3.10/build/src/auxil ; make lib
make[3]: Nothing to be done for `lib'.
cd /Users/adam/repos/ATLAS3.10/build/src/blas/gemm ; make lib
make auxillib dcleanuplib dusergemm
cd /Users/adam/repos/ATLAS3.10/build/src/auxil ; make lib
make[5]: Nothing to be done for `lib'.
cd KERNEL ; make -f dMakefile dlib
make[5]: Nothing to be done for `dlib'.
make[4]: Nothing to be done for `dusergemm'.
make -j 4 dlib.grd
ar r /Users/adam/repos/ATLAS3.10/build/lib/libatlas.a ATL_dMBJBmm.o
    ATL_dIBNBmm.o ATL_dIBJBmm.o ATL_dgemm.o ATL_dGetNB.o ATL_dGetNCNB.o
    ATL_dgemmNN.o ATL_dgemmNT.o ATL_dgemmTN.o ATL_dgemmTT.o ATL_dNCmmIJK.o
    ATL_dNCmmJIK.o ATL_dNCmmIJK_c.o ATL_dNCmmJIK_c.o ATL_daliased_gemm.o
    ATL_dAgemmNN.o ATL_dAgemmNT.o ATL_dAgemmTN.o ATL_dAgemmTT.o ATL_dmmJIK.o
    ATL_dmmIJK.o ATL_dmmJKI.o ATL_dmmK.o ATL_dmmBPP.o ATL_dmmJITcp.o
    ATL_dcol2blk_aX.o ATL_drow2blkT_aX.o ATL_dcol2blk_a1.o ATL_drow2blkT_a1.o
    ATL_dputblk_bX.o ATL_dputblk_b1.o ATL_dputblk_bn1.o ATL_dputblk_b0.o
ar: fatal error in /usr/bin/ranlib
make[4]: *** [dlib.grd] Error 1
make[3]: *** [dlib] Error 2
make[2]: *** [IBuildLibs] Error 2
   DONE  STAGE 5-1-0 at 18:09


   BEGIN STAGE 5-2-0: DYNAMIC/SHARED LIBRARY UPDATE at 18:09
make -f Makefile IBuildDyLibs 2&amp;gt;&amp;amp;1 | ./xatlas_tee INSTALL_LOG/LIBDYBUILD.LOG
cd /Users/adam/repos/ATLAS3.10/build ; make dylibs
cd lib ; make shared_all
make dylib
rm -rf RCW_tMp ; mkdir RCW_tMp
cd RCW_tMp ; ar x ../liblapack.a
ar: ../liblapack.a: No such file or directory
make[5]: *** [dylib] Error 1
make[4]: *** [shared_all] Error 2
make[3]: *** [dylibs] Error 2
make[2]: *** [IBuildDyLibs] Error 2
   DONE  STAGE 5-2-0 at 18:09




ATLAS install complete.  Examine
ATLAS/bin/&amp;lt;arch&amp;gt;/INSTALL_LOG/SUMMARY.LOG for details.
make clean
rm -rf *.dSYM
rm -f *.o x* config?.out *core*
&lt;/pre&gt;
&lt;p&gt;This is the next step, if I ever get there:&lt;/p&gt;
&lt;pre class="literal-block"&gt;
wget http://www.astromatic.net/download/sextractor/sextractor-2.8.6.tar.gz
tar -xzvf ~/Downloads/sextractor-2.8.6.tar.gz
&lt;/pre&gt;
</content><category term="misc"></category></entry><entry><title>Catalog vs Image shift? A possible solution to the ATLASGAL issue</title><link href="https://keflavich.github.io/blog/catalog-vs-image-shift-a-possible-solution-to-the-atlasgal-issue.html" rel="alternate"></link><published>2012-12-26T23:02:00-07:00</published><updated>2012-12-26T23:02:00-07:00</updated><author><name>Adam (adam.g.ginsburg@gmail.com)</name></author><id>tag:keflavich.github.io,2012-12-26:/blog/catalog-vs-image-shift-a-possible-solution-to-the-atlasgal-issue.html</id><summary type="html">&lt;p&gt;In the &lt;a class="reference external" href="http://bolocam.blogspot.com/2012/12/pointing-cross-correlation-yet-again.html"&gt;previous post&lt;/a&gt;, I came up with a final plot showing the
pointing offset was, on average, not significant, even in the ATLASGAL
overlap zone.
So why did the ATLASGAL group infer a net pointing offset?
The problem is probably one or two fields with a slight pointing offset …&lt;/p&gt;</summary><content type="html">&lt;p&gt;In the &lt;a class="reference external" href="http://bolocam.blogspot.com/2012/12/pointing-cross-correlation-yet-again.html"&gt;previous post&lt;/a&gt;, I came up with a final plot showing the
pointing offset was, on average, not significant, even in the ATLASGAL
overlap zone.
So why did the ATLASGAL group infer a net pointing offset?
The problem is probably one or two fields with a slight pointing offset,
but a huge number of source. &amp;nbsp;l=1 has an offset of the right sign and is
the single most source-rich degree in the survey, with 368 sources.&lt;/p&gt;
&lt;img alt="" src="http://2.bp.blogspot.com/-ONF7C_v8rNk/UNpmXIEe6HI/AAAAAAAAHUI/kdf3pmUKyE0/s320/l001_catalog_image_compare.png" /&gt;
&lt;p&gt;This figure shows the v1 vs v2 source locations in grey, their average
and standard deviation in green, and the cross-correlation offset in
red. &amp;nbsp;The plot is somewhat difficult to interpret, but it appears that
the v1 point sources are systematically more shifted to negative
longitudes than v2, and the point sources more than the maps themselves.
&amp;nbsp;There may have been some reason sources were systematically selected at
more negative longitudes in the v1 catalog; around Sgr B2 there's a lot
of structure that had to be decomposed somehow but was not necessarily
&amp;quot;source&amp;quot;.
One thing to note is the reversal in left-right (in pixel space) vs the
positive/negativeness in longitude. &amp;nbsp;The above plot is correct (negative
longitudes, as shown on the plot, are &amp;quot;right&amp;quot; in images), but most of my
other plots have the X-axis flipped.
In the end, after spending two weeks hammering my head against this, I
find no clear evidence for an offset &amp;nbsp;between the BGPS and Herschel or
v1/v2 data overall or in the ATLASGAL fields. &amp;nbsp;In any individual field,
that statement is not necessarily true.
Despite the strong statistical evidence, it is really hard to be really
sure about sub-pixel offsets, since the &amp;quot;model&amp;quot; image is never perfect.
&amp;nbsp;I think we can safely state the ~1/2 pixel offsets (~3&amp;quot;) but I just
don't feel confident about numbers below that range for ALL fields.&lt;/p&gt;
</content><category term="bgps"></category><category term="googlepost"></category><category term="pointing"></category></entry><entry><title>Idea: Multispectral Eigenimage decomposition...</title><link href="https://keflavich.github.io/blog/idea-multispectral-eigenimage-decomposition.html" rel="alternate"></link><published>2012-12-22T02:53:00-07:00</published><updated>2012-12-22T02:53:00-07:00</updated><author><name>Adam (adam.g.ginsburg@gmail.com)</name></author><id>tag:keflavich.github.io,2012-12-22:/blog/idea-multispectral-eigenimage-decomposition.html</id><content type="html">&lt;p&gt;Can use BGPS + HiGal to look for correlated (thermal) components and
decorrelated (free-free) components. &amp;nbsp;Obviously needs to be tried in GC
first.
Also, need to figure out a method to mitigate negative bowls in
unsharp-masking for herschel-bolocam comparison&lt;/p&gt;
</content><category term="bgps"></category><category term="googlepost"></category></entry><entry><title>Pointing &amp; Cross-Correlation yet again</title><link href="https://keflavich.github.io/blog/pointing-cross-correlation-yet-again.html" rel="alternate"></link><published>2012-12-15T03:21:00-07:00</published><updated>2012-12-15T03:21:00-07:00</updated><author><name>Adam (adam.g.ginsburg@gmail.com)</name></author><id>tag:keflavich.github.io,2012-12-15:/blog/pointing-cross-correlation-yet-again.html</id><summary type="html">&lt;p&gt;Prompted in part by a &lt;a class="reference external" href="http://arxiv.org/abs/1211.0741"&gt;recent ATLASGAL paper&lt;/a&gt;&amp;nbsp;identifying pointing
offsets of about 3&amp;quot; in the BGPS, we revisit the BGPS pointing.
The ATLASGAL team compared the source locations in their catalog to
source locations in the Bolocam catalog by doing &amp;quot;nearest-match&amp;quot;
searches within a 40&amp;quot; radius (see their Figure …&lt;/p&gt;</summary><content type="html">&lt;p&gt;Prompted in part by a &lt;a class="reference external" href="http://arxiv.org/abs/1211.0741"&gt;recent ATLASGAL paper&lt;/a&gt;&amp;nbsp;identifying pointing
offsets of about 3&amp;quot; in the BGPS, we revisit the BGPS pointing.
The ATLASGAL team compared the source locations in their catalog to
source locations in the Bolocam catalog by doing &amp;quot;nearest-match&amp;quot;
searches within a 40&amp;quot; radius (see their Figure 8, reproduced here)&lt;/p&gt;
&lt;img alt="" src="http://1.bp.blogspot.com/-UJVCzHbaDCI/UMYpeAoulVI/AAAAAAAAHR4/cy5SIqL_HFQ/s320/ATLASGALvsBolocam.png" /&gt;
&lt;p&gt;Their comparison was over the range -10 &amp;lt; l &amp;lt; 21, so it only covered a
small fraction of the BGPS. &amp;nbsp;It covered 13 fields with independent
pointing solutions, so it's possible that they have actually discovered
an offset only in some of our fields.&lt;/p&gt;
&lt;p&gt;The catalog comparison, while interesting, is potentially quite flawed.
&amp;nbsp;There's no guarantee that a source extraction algorithm will measure
source centers accurately when a &amp;quot;source&amp;quot; is just a local overdensity on
a complex background. &amp;nbsp;Using source comparison will also lead to a bias
towards the most source-rich fields, e.g. l000 and l001, so an offset in
one of those fields would drastically affect the catalog offset.&lt;/p&gt;
&lt;p&gt;There is a better way to compare pointing between two images that are
expected to be (nearly) identical. &amp;nbsp;It is well-known that
cross-correlation is an effective technique for determining the offsets
between two identical images; I'll briefly summarize some of the
literature here.&lt;/p&gt;
&lt;p&gt;&lt;a class="reference external" href="http://adsabs.harvard.edu/abs/2005A%26A...443..357G"&gt;Gratadour et al 2005&lt;/a&gt;&amp;nbsp;used a maximum likelihood estimator approach to
determine the &amp;quot;best-fit&amp;quot; offset between two images. &amp;nbsp;This approach is
comparable to &lt;a class="reference external" href="http://www.google.com/url?sa=t&amp;amp;rct=j&amp;amp;q=&amp;amp;esrc=s&amp;amp;source=web&amp;amp;cd=5&amp;amp;cad=rja&amp;amp;ved=0CF0QFjAE&amp;amp;url=http%3A%2F%2Fwww.optics.rochester.edu%2Fworkgroups%2Ffienup%2FPUBLICATIONS%2FMGS_OL08_EffRegistration.pdf&amp;amp;ei=rC3GUJC9CcSA2AX3wYCIAg&amp;amp;usg=AFQjCNHdUm0v8qYzNbvrqFRqByR_3svlSA&amp;amp;sig2=GQztgkfvoQzAzQ7kzCJU2w"&gt;Guizar et al (2008)&lt;/a&gt;, who &lt;a class="reference external" href="http://www.mathworks.com/matlabcentral/fileexchange/18401-efficient-subpixel-image-registration-by-cross-correlation"&gt;implemented&lt;/a&gt; a fast solution
for (highly) sub-pixel image registration in matlab. &amp;nbsp;In order for the
image registration to be fast, it must operate in fourier space, but to
get sub-pixel registration in fourier space, you need to either pad
(which is slow, and increases memory use drastically) or fit some
functional form around the peak of the cross-correlation image. &amp;nbsp;The
alternative approach implemented by Guizar utilizes the &lt;a class="reference external" href="http://en.wikipedia.org/wiki/Fourier_transform#Basic_properties"&gt;Fourier scaling
theorem&lt;/a&gt;&amp;nbsp;to create a zoomed-in image of the peak pixel, which allows
you to get much higher precision for a much lower computational cost.
My innovation is to use the minimum $\chi^2$ estimator to determine the
goodness of fit and therefore error bars on the best-fit offset.&lt;/p&gt;
&lt;p&gt;Because the $\chi^2$ value for each offset is simply determined by
sums and multiplication ($\chi^2 = \sum
\frac{x_i-\mu_x}{\sigma_{x_i}^2}$), we can compute each term that
goes in to the $\chi^2$ value independently with fourier transforms,
then create goodness-of-fit contours around the $\chi^2$ minimum. &amp;nbsp;The
statistical requirement for this approach to make sense is that the
errors on the data are gaussian distributed, which is an assumption we
inevitably make for astronomical images. &amp;nbsp;I believe there is also a
requirement that the errors are independent, which may be more difficult
to satisfy, but in the Bolocam images it is satisfied, especially when
multiple independent observations are combined.&lt;/p&gt;
&lt;p&gt;Strictly, this approach can only be used when the model data have the
same multiplicative scale as the fitted data. &amp;nbsp;The peak will never be
wrong using this method, but the errors could be incorrect if the model
and data are multiplicatively offset. &amp;nbsp;In principle, this can be
resolved in the future using a &lt;a class="reference external" href="http://en.wikipedia.org/wiki/Mellin_transform"&gt;Mellin transform&lt;/a&gt;&amp;nbsp;[see &lt;a class="reference external" href="http://ecocodespace.wordpress.com/category/matlab/image-matching/fourier-mellin-transform/"&gt;this site&lt;/a&gt;&amp;nbsp;or
&lt;a class="reference external" href="http://www.mathworks.com/matlabcentral/fileexchange/authors/7667"&gt;this&lt;/a&gt; for
a matlab approach and &lt;a class="reference external" href="http://www.fresnel.fr/perso/derrode/publi/Cviu01.pdf"&gt;this&lt;/a&gt; for an academic paper
on it].&lt;/p&gt;
&lt;p&gt;This is the approach I have implemented
at&amp;nbsp; &lt;a class="reference external" href="http://image-registration.rtfd.org/"&gt;image-registration.rtfd.org&lt;/a&gt;. &amp;nbsp;I used simulated test cases to
demonstrate that it is, indeed, effective and accurate. &amp;nbsp;I used this
method to measure the offsets between the v2 data and the v1 data (which
should, in principle, be the same as the offsets between ATLASGAL and
v1) and the v2 vs Herschel Hi-Gal data (which should be zero).
There are actually a few methods implemented in image-registration, and
I compared those. &amp;nbsp;There's a &amp;quot;dft&amp;quot; and a &amp;quot;$\chi^2$&amp;quot; approach, which are
the same (except $\chi^2$ includes realistic errors), a method where a
2D gaussian is fit to the peak of the cross-correlation image, and a
method where a 2nd-order Taylor expansion is performed around the peak
of the cross-correlation image. &amp;nbsp;The latter two are &lt;em&gt;biased&lt;/em&gt;. &amp;nbsp;An
example comparison plot looks like this:&lt;/p&gt;
&lt;img alt="" src="http://1.bp.blogspot.com/-LtA6owJr_vc/UMZBLK394HI/AAAAAAAAHSI/tR4F0BnFSVs/s320/l000_catalog_image_compare_chi2contours.png" /&gt;
&lt;p&gt;The grey dots are catalog centroid positions offsets measured between v1
and v2. &amp;nbsp;The green cross represents the mean and standard deviation of
the grey points. &amp;nbsp;The other data points, as labeled, show the offsets
between the l000 images in v1 and v2 as measured by the method shown.
They all have errorbars plotted, but the errorbars are generally smaller
than the points. &amp;nbsp;The dark spot seen behind the purple point shows the
$\chi^2$ contours out to 8-$\sigma$: the error in the offset is tiny,
sub-arcsecond. &amp;nbsp;In this case, the offsets nearly agree:&lt;/p&gt;
&lt;p&gt;l000 catalog dx: &amp;nbsp;-0.31 +/- 0.68 &amp;nbsp; dy: 1.48 +/- 0.64&lt;/p&gt;
&lt;p&gt;l000 $\chi^2$ dx: &amp;nbsp; 1.74 +/- 0.03 &amp;nbsp;dy: 1.41 +/- 0.03&lt;/p&gt;
&lt;p&gt;This field agreed nicely between v1 and v2.&lt;/p&gt;
&lt;p&gt;The comparison to Hi-Gal is perhaps more important; HiGal's pointing is
calibrated based on multi-wavelength observations, some of which include
actual stars. &amp;nbsp;It's a space-based mission, so its pointing is more
stable. &amp;nbsp;And finally, being a space mission, there's a large dedicated
team instead of a single, part-time individual working on the data.
Our offsets from Hi-Gal are pretty small in general, though not
trivially small.&lt;/p&gt;
&lt;img alt="" src="http://1.bp.blogspot.com/-JyMtqE536LY/UMaEqOYBRxI/AAAAAAAAHSY/85nEo6rEc9k/s320/Offsets_XYplot.png" /&gt;
&lt;p&gt;And it turns out, the region that overlaps with ATLASGAL had more
serious pointing errors than the rest of the survey:&lt;/p&gt;
&lt;img alt="" src="http://2.bp.blogspot.com/-iXI7TUl1y9I/UMaHHXwN2oI/AAAAAAAAHSg/z3g51NHD0zk/s320/Offsets_XYplot_ATLASGALoverlap.png" /&gt;
&lt;p&gt;(note: both of the above plots are missing L=359 because I forgot it.
&amp;nbsp;Fixing that now...)&lt;/p&gt;
&lt;p&gt;The clearest problem field is l=15, with a longitude offset of -6&amp;quot;
between v2 and HiGal.... that's not the question, though. &amp;nbsp;Somehow I've
lost the code that did the v1-HiGal offsets; I'll have to re-write that
tomorrow and let it run...&lt;/p&gt;
&lt;p&gt;Update 12/13: &amp;nbsp;I've spent the last couple days clearing up some issues
with the offsets. &amp;nbsp;The error bars should be MUCH smaller than in the
above plots. &amp;nbsp;The means are pretty similar, though.
Short story: the offsets between v1 and Hi-Gal are greater in the
ATLASGAL overlap regions than elsewhere, and in the right general
direction, but not quite as serious as they claimed. &amp;nbsp;In v2, the
ATLASGAL overlap fields and the rest of the survey have the same mean
offsets, and those offsets are small (-0.5&amp;quot; in l, -1&amp;quot; in b).
The problem now is the table. &amp;nbsp;If everything made sense,
(v1-v2)+(v2-higal)+(higal-v1) = 0. &amp;nbsp;But that clearly isn't the case,
which implies an error in the method, which sucks since I'm claiming
this method is superior to alternatives. &amp;nbsp;It's possible that I'm
actually underestimating the errors against Hi-Gal - that can be fixed
relatively easily - but the magnitude of the error won't affect the
centroid measurements. &amp;nbsp;So I probably need to investigate one case very
carefully. &amp;nbsp;l050 is a big problem case, with vector sums &amp;gt;1 pixel in
both directions. &amp;nbsp;That will be my next line of investigation.
The approach will be:
-crop identical fields within l050 from v1, v2, herschel
-perform pointing comparison between them
-check that vector sum &amp;lt; sum of errors
I think - and hope - the trouble is just that I'm using inconsistent
sub-fields to compare Herschel with the two different Bolocam versions,
which is possible because of the way I selected these sub-fields. &amp;nbsp;I'll
do more careful cropping, and probably re-do this analysis
degree-by-degree (with $512^2$ fields, in the hope that it speeds up the
FTs).
Update 12/14:
I've now cropped identical sections in each of the survey, 1 square
degree (512 pixels) each - which is great for speed. &amp;nbsp;As a sidenote, a
little line profiling revealed that the make_cross_plots
&amp;nbsp;code was the slow point in the process, and it is dominated by savefig
calls, not ffts.
I've run a careful examination of self consistency on the l=0 field,
with positive results: the offsets agree to well within the errorbars
(though there is some residual error at the 0.5&amp;quot; level).&lt;/p&gt;
&lt;img alt="" src="http://1.bp.blogspot.com/--3Q9h0Q1jA4/UMuUjQ33dCI/AAAAAAAAHS4/zSD3H26r5dA/s320/circular_selfconsistency.png" /&gt;
&lt;p&gt;However, a similar inspection of l=50 resulted in a major failure:&lt;/p&gt;
&lt;img alt="" src="http://2.bp.blogspot.com/-wlwvC26eTEk/UMuYZHU179I/AAAAAAAAHTI/Csf3mBSdbGI/s320/circular_selfconsistency.png" /&gt;
&lt;p&gt;In this case, the problem is caused by W51 being exactly on the field
edge, leading to huge cross-correlation power at dx=0, but spread over a
large y range. &amp;nbsp;My first thought is to try to downweight the edges,
which can be achieved by &amp;quot;zero-padding&amp;quot; the noise image, but with high
values instead of zero... or alternatively, by setting the edge region
to zero smoothly.&lt;/p&gt;
&lt;p&gt;OK, first thought: Bad idea. &amp;nbsp;Increasing the noise along the edges
drastically increases the small-shift autocorrelation for the noise,
which in turn ends up ruling out the small shifts as a fit possibility.
&amp;nbsp;I don't think this really makes sense mathematically, but each step
does. &amp;nbsp;Why would increasing the noise along the edges make the $\chi^2$
fit worse?&lt;/p&gt;
&lt;p&gt;This revealed a serious bug in the code that, luckily, only affected
non-uniform error maps. &amp;nbsp;Basically, I had decomposed the $\chi^2$
equation wrong (which is as bad as it sounds).&lt;/p&gt;
&lt;p&gt;That total mess has been resolved now. &amp;nbsp;The image edges are downweighted
with a gaussian of 12 pixels, error=100 outside and weight=0 outside
(with weight^2 inside... best to just view the source if you really want
to know the details). &amp;nbsp;The new versions of the above diagrams:&lt;/p&gt;
&lt;img alt="" src="http://4.bp.blogspot.com/-mjPyO7LkbGc/UMuxVgSxwZI/AAAAAAAAHTY/ilRnJRaAiOQ/s320/circular_selfconsistency.png" /&gt;
&lt;img alt="" src="http://3.bp.blogspot.com/-rMiHxucSQuo/UMuxZSH63fI/AAAAAAAAHTg/W_IzmhcFCzo/s320/circular_selfconsistency.png" /&gt;
&lt;p&gt;Less than spectacular for l=50, but acceptable given the errors, which
are indeed significantly larger, as you might expect given the lower
total signal in l=50. Now I need to re-run the fits on every field.&lt;/p&gt;
&lt;p&gt;OK, cool, last thing accomplished today (...by 8pm): offset comparison
by square degree for all fields. &amp;nbsp;Again, I don't reproduce the magnitude
of the ATLASGAL-measured offsets, but the ATLASGAL fields are, on
average, more offset in longitude (to the negative) than the overall
average.&lt;/p&gt;
&lt;p&gt;Curiously, for both v1 and v2, there appears to be a -1.5 deg shift in
latitude from Hi-Gal.&lt;/p&gt;
&lt;p&gt;The vector sums are mostly sub-arcsecond, with most exceptions at l&amp;gt;50.
&amp;nbsp;l=59,64, and 65 are particularly bad - but l=50 isn't so bad. &amp;nbsp;So I
should do the &amp;quot;deep&amp;quot; examination of one or two of those fields... who
knows what new errors I'll turn up?&lt;/p&gt;
&lt;p&gt;Here's the new v1-ATLASGAL offset plot:&lt;/p&gt;
&lt;img alt="" src="http://3.bp.blogspot.com/-iv_FsACT958/UMvsyr90haI/AAAAAAAAHTw/g56hcK6hMCw/s320/Offsets_XYplot_v1-Hi-Gal_ATLASGALoverlap.png" /&gt;
</content><category term="bgps"></category><category term="googlepost"></category><category term="pointing"></category></entry><entry><title>The Peculiar Balmer Decrement of SN 2009ip: Constraints on Circumstellar Geometry</title><link href="https://keflavich.github.io/blog/the-peculiar-balmer-decrement-of-sn-2009ip-constraints-on-circumstellar-geometry.html" rel="alternate"></link><published>2012-11-21T21:01:00-07:00</published><updated>2012-11-21T21:01:00-07:00</updated><author><name>Adam (keflavich@gmail.com)</name></author><id>tag:keflavich.github.io,2012-11-21:/blog/the-peculiar-balmer-decrement-of-sn-2009ip-constraints-on-circumstellar-geometry.html</id><summary type="html">&lt;p&gt;&lt;a class="reference external" href="http://arxiv.org/find/astro-ph/1/au:+Levesque_E/0/1/0/all/0/1"&gt;Emily M. Levesque&lt;/a&gt;,&amp;nbsp;&lt;a class="reference external" href="http://arxiv.org/find/astro-ph/1/au:+Stringfellow_G/0/1/0/all/0/1"&gt;Guy S. Stringfellow&lt;/a&gt;,&amp;nbsp;&lt;a class="reference external" href="http://arxiv.org/find/astro-ph/1/au:+Ginsburg_A/0/1/0/all/0/1"&gt;Adam G.
Ginsburg&lt;/a&gt;,&amp;nbsp;&lt;a class="reference external" href="http://arxiv.org/find/astro-ph/1/au:+Bally_J/0/1/0/all/0/1"&gt;John Bally&lt;/a&gt;,&amp;nbsp;&lt;a class="reference external" href="http://arxiv.org/find/astro-ph/1/au:+Keeney_B/0/1/0/all/0/1"&gt;Brian A. Keeney&lt;/a&gt;&lt;/p&gt;
&lt;hr class="docutils" /&gt;
&lt;p&gt;SN2009ip is a particularly interesting &amp;quot;supernova&amp;quot; since it left a
bright remnant behind, indicating that it was instead a supernova
impostor. &amp;nbsp;The 2012B event, a brightening in late September 2012, looked
like it might be a …&lt;/p&gt;</summary><content type="html">&lt;p&gt;&lt;a class="reference external" href="http://arxiv.org/find/astro-ph/1/au:+Levesque_E/0/1/0/all/0/1"&gt;Emily M. Levesque&lt;/a&gt;,&amp;nbsp;&lt;a class="reference external" href="http://arxiv.org/find/astro-ph/1/au:+Stringfellow_G/0/1/0/all/0/1"&gt;Guy S. Stringfellow&lt;/a&gt;,&amp;nbsp;&lt;a class="reference external" href="http://arxiv.org/find/astro-ph/1/au:+Ginsburg_A/0/1/0/all/0/1"&gt;Adam G.
Ginsburg&lt;/a&gt;,&amp;nbsp;&lt;a class="reference external" href="http://arxiv.org/find/astro-ph/1/au:+Bally_J/0/1/0/all/0/1"&gt;John Bally&lt;/a&gt;,&amp;nbsp;&lt;a class="reference external" href="http://arxiv.org/find/astro-ph/1/au:+Keeney_B/0/1/0/all/0/1"&gt;Brian A. Keeney&lt;/a&gt;&lt;/p&gt;
&lt;hr class="docutils" /&gt;
&lt;p&gt;SN2009ip is a particularly interesting &amp;quot;supernova&amp;quot; since it left a
bright remnant behind, indicating that it was instead a supernova
impostor. &amp;nbsp;The 2012B event, a brightening in late September 2012, looked
like it might be a &amp;quot;genuine supernova&amp;quot;, but maybe not. &amp;nbsp;Have a look at
the other papers on this
object:&amp;nbsp;&lt;a class="reference external" href="http://arxiv.org/abs/1210.3568"&gt;http://arxiv.org/abs/1210.3568&lt;/a&gt;,&amp;nbsp;&lt;a class="reference external" href="http://arxiv.org/abs/1210.3347"&gt;http://arxiv.org/abs/1210.3347&lt;/a&gt;,&amp;nbsp;&lt;a class="reference external" href="http://arxiv.org/abs/1209.6320"&gt;http://arxiv.org/abs/1209.6320&lt;/a&gt;.
A few folks at CU, primarily Guy, had acquired some spectra of SN2009ip
right around the 2012B event. &amp;nbsp;We had a quick look at the data and
decided there was something really interesting in it that other groups
(who probably had more complete data) had overlooked.
The most interesting single point we noted was a peculiar &amp;quot;Balmer
Decrement&amp;quot; (which is the ratio of H-alpha to H-beta). &amp;nbsp;The normal Balmer
decrement is ~3 (2.87 at n~10&lt;sup&gt;3&lt;/sup&gt; and 10000K), but we observed a
decrement of ~1.4 (and so did others, see
e.g.&amp;nbsp;&lt;a class="reference external" href="http://users.northnet.com.au/~bohlsen/Nova/sn2009ip.htm"&gt;http://users.northnet.com.au/~bohlsen/Nova/sn2009ip.htm&lt;/a&gt;).
This Balmer decrement is weird, because all normal effects will
&lt;em&gt;increase&lt;/em&gt;&amp;nbsp;rather than decrease the Balmer decrement.&lt;/p&gt;
&lt;ul class="simple"&gt;
&lt;li&gt;Interstellar reddening - affects the blue more than the red,
therefore should decrease H-beta relative to H-alpha. &amp;nbsp;Of course, the
reddening towards SN2009ip has been measured to be quite low.&lt;/li&gt;
&lt;li&gt;Line Splitting due to optical depth in the H-beta line (photons
become &amp;quot;trapped&amp;quot; in the n=4 state and &amp;quot;escape&amp;quot; via Paschen-alpha and
H-alpha) - but this only serves to decrease H-beta and increase
H-alpha. &amp;nbsp;This is known as &amp;quot;Case C recombination&amp;quot; (see &lt;a class="reference external" href="http://adsabs.harvard.edu/abs/1992ApJ...386..181X"&gt;Xu et al
1992&lt;/a&gt;, Figure 1)&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;So what can increase the Balmer decrement? &amp;nbsp;Two possibilities:&lt;/p&gt;
&lt;ol class="arabic simple"&gt;
&lt;li&gt;Hydrogen reaches local densities above 10&lt;sup&gt;13&lt;/sup&gt; cm&lt;sup&gt;-3&lt;/sup&gt;:
above these densities, it reaches collisional equilibrium with the
gas and adopts the gas temperature. &amp;nbsp;At 10000K, H-beta will be a few
times brighter than H-alpha [to-do: put exactly how much brighter...]&lt;/li&gt;
&lt;li&gt;H-alpha becomes optically thick, while H-beta remains optically thin.
&amp;nbsp;This is essentially a geometric argument, and is explored a little
in the text. &amp;nbsp;If H-alpha becomes optically thick, more hydrogen won't
increase the H-alpha brightness, but if H-beta remains optically
thin, more hydrogen will increase its brightness. &amp;nbsp;Simple argument,
and it hasn't been fully explored yet (does the radiative transfer
work, or does the &amp;quot;Case-C&amp;quot; situation kick in too hard first?), but it
is a plausible alternative.&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;If you want to see my calculations in action, check out the &lt;a class="reference external" href="http://nbviewer.ipython.org/urls/raw.github.com/keflavich/sn2009ip/master/SN2009ip.ipynb"&gt;ipython
notebook&lt;/a&gt;&amp;nbsp;performing the calculations.
In case you're interested in Case C recombination, here's a first step:
a hydrogen level diagram with levels connected by the (sum of the)
Einstein A values between the relevant levels
(from&amp;nbsp;&lt;a class="reference external" href="http://physics.nist.gov/cgi-bin/ASD/lines1.pl"&gt;http://physics.nist.gov/cgi-bin/ASD/lines1.pl&lt;/a&gt;, generated
with&amp;nbsp;&lt;a class="reference external" href="https://github.com/keflavich/energyleveldiagrams"&gt;https://github.com/keflavich/energyleveldiagrams&lt;/a&gt;).&lt;/p&gt;
&lt;img alt="" src="http://1.bp.blogspot.com/-L1C1rEu7cSQ/UK1A2KuTwcI/AAAAAAAAHRo/49TKIW0TChQ/s640/EnergyLevelDiagram.png" /&gt;
</content><category term="publications"></category><category term="googlepost"></category><category term="publication"></category></entry><entry><title>Galactic H2CO Densitometry I: Pilot survey of Ultracompact HII regions and methodology</title><link href="https://keflavich.github.io/blog/galactic-h2co-densitometry-i-pilot-survey-of-ultracompact-hii-regions-and-methodology.html" rel="alternate"></link><published>2012-11-21T04:59:00-07:00</published><updated>2012-11-21T04:59:00-07:00</updated><author><name>Adam (keflavich@gmail.com)</name></author><id>tag:keflavich.github.io,2012-11-21:/blog/galactic-h2co-densitometry-i-pilot-survey-of-ultracompact-hii-regions-and-methodology.html</id><summary type="html">&lt;p&gt;&lt;em&gt;First Author&lt;/em&gt; [ &lt;a class="reference external" href="http://adsabs.harvard.edu/abs/2011ApJ...736..149G"&gt;ADS&lt;/a&gt; ] [ &lt;a class="reference external" href="http://eta.colorado.edu/papers/h2co_pilot_draft0607.pdf"&gt;Full Version&lt;/a&gt; ]&lt;/p&gt;
&lt;hr class="docutils" /&gt;
&lt;p&gt;We examined 24 UCHII regions using the GBT to observe the 2-2 line of
ortho-Formaldehyde. We measured the local gas density and compared to
GMCs and other galaxies. We found densities in GMCs that are 1-2 orders
of magnitude higher than the mean density in …&lt;/p&gt;</summary><content type="html">&lt;p&gt;&lt;em&gt;First Author&lt;/em&gt; [ &lt;a class="reference external" href="http://adsabs.harvard.edu/abs/2011ApJ...736..149G"&gt;ADS&lt;/a&gt; ] [ &lt;a class="reference external" href="http://eta.colorado.edu/papers/h2co_pilot_draft0607.pdf"&gt;Full Version&lt;/a&gt; ]&lt;/p&gt;
&lt;hr class="docutils" /&gt;
&lt;p&gt;We examined 24 UCHII regions using the GBT to observe the 2-2 line of
ortho-Formaldehyde. We measured the local gas density and compared to
GMCs and other galaxies. We found densities in GMCs that are 1-2 orders
of magnitude higher than the mean density in GMCs, implying that extreme
overdensities are common even in &amp;quot;quiescent&amp;quot; (non-star-forming) GMCs.
This work was almost entirely my own, but was seeded by &lt;a class="reference external" href="http://casa.colorado.edu/~jdarling/"&gt;Jeremy
Darling&lt;/a&gt; Some highlight figures from the paper:&lt;/p&gt;
&lt;img alt="" src="http://1.bp.blogspot.com/-2FeB2dq7tXE/UGMxy17g_NI/AAAAAAAAHQQ/Ugswqn154-4/s400/G32.80%252B0.19_both.png" /&gt;
&lt;p&gt;A sample spectrum. On the top, black is Formaldehyde 1-1, red is
Formaldehyde 2-2. On the bottom, blue is 13CO, red is H77α, black is
H110α.&lt;/p&gt;
&lt;img alt="" src="http://3.bp.blogspot.com/-B9zbOPROYn4/UGMxzZSsz9I/AAAAAAAAHQc/tQ_NVJNiVTE/s400/DensityHistogram.png" /&gt;
&lt;p&gt;Histograms of GMC mean densities and the densities measured directly
from our survey. Note that even for &amp;quot;serendipitious&amp;quot; line of sight GMCs,
the densities are MUCH higher than typical GMC densities.&lt;/p&gt;
&lt;img alt="" src="http://4.bp.blogspot.com/-jfspjzvR6Tc/UGMxz8-7dEI/AAAAAAAAHQo/chH7rwVuyhs/s400/Derived_DensityVsColumn_ExgalCompare_all_colored.png" /&gt;
&lt;p&gt;Comparison of the measured column densities of formaldehyde and inferred
number densities of H&lt;sub&gt;2&lt;/sub&gt;.&lt;/p&gt;
</content><category term="publications"></category><category term="googlepost"></category><category term="star formation"></category><category term="first author"></category><category term="formaldehyde"></category><category term="publication"></category></entry><entry><title>Short timescale variability in Orion? Nope.</title><link href="https://keflavich.github.io/blog/short-timescale-variability-in-orion-nope.html" rel="alternate"></link><published>2012-11-19T17:07:00-07:00</published><updated>2012-11-19T17:07:00-07:00</updated><author><name>Adam (keflavich@gmail.com)</name></author><id>tag:keflavich.github.io,2012-11-19:/blog/short-timescale-variability-in-orion-nope.html</id><summary type="html">&lt;div dir="ltr" style="text-align: left;"&gt;&lt;p&gt;I attempted to use TripleSpec finder / guider images to search for
variability &amp;nbsp;on short (~5s) timescales in the Orion Nebula region. &amp;nbsp;This
project was an offshoot of the related
&lt;a class="reference external" href="http://adamginsburg.blogspot.com/2012/10/using-guider-images-to-achieve.html"&gt;http://adamginsburg.blogspot.com/2012/10/using-guider-images-to-achieve.html&lt;/a&gt;.
&amp;nbsp;I successfully matched the images using a particular catalog &amp;amp; the
ever-cool&amp;nbsp;&lt;a class="reference external" href="http://astrometry.net/"&gt;astrometry.net …&lt;/a&gt;&lt;/p&gt;&lt;/div&gt;</summary><content type="html">&lt;div dir="ltr" style="text-align: left;"&gt;&lt;p&gt;I attempted to use TripleSpec finder / guider images to search for
variability &amp;nbsp;on short (~5s) timescales in the Orion Nebula region. &amp;nbsp;This
project was an offshoot of the related
&lt;a class="reference external" href="http://adamginsburg.blogspot.com/2012/10/using-guider-images-to-achieve.html"&gt;http://adamginsburg.blogspot.com/2012/10/using-guider-images-to-achieve.html&lt;/a&gt;.
&amp;nbsp;I successfully matched the images using a particular catalog &amp;amp; the
ever-cool&amp;nbsp;&lt;a class="reference external" href="http://astrometry.net/"&gt;astrometry.net&lt;/a&gt;with a great deal of assistance from
&lt;a class="reference external" href="http://www.astro.princeton.edu/~dstn/"&gt;Dustin Lang&lt;/a&gt;&amp;nbsp;and some from &lt;a class="reference external" href="http://hoggresearch.blogspot.com/2012/10/time-for-astrometrynet-to-rise-again.html"&gt;David Hogg&lt;/a&gt;. &amp;nbsp;I'll post details of that
process later; it proved challenging but will DEFINITELY be useful again
in the future. &amp;nbsp;Short story: I had to build my own indices, then fit
twice - once for the first match, once after distortion was applied to
re-extract the sources in the right location.
Conveniently, one of the products output by the astrometry.net code is
ra,dec locations and fluxes (background subtracted) for all of the
identified sources. &amp;nbsp;So, I used a simple script to match all sources
within 2&amp;quot; of a known source from my input catalog and generate
timestream data. &amp;nbsp;It took about an hour of processing (nested for loops
- awful, but the only obvious choice at first. &amp;nbsp;Half of the time was
probably file IO anyway).
I now had a few hundred timestreams of Orion stars. &amp;nbsp;At this point, I
hadn't done any kind of quality control, which was obviously a problem
because the Trapezium and neighbors were clearly saturated. &amp;nbsp;Also, there
are known hot pixels that will drive some stars into weird behavior.
&amp;nbsp;But I ignored all of that. &amp;nbsp;All I did for quality control was reject
stars with more than about 5% missing data.
I elected to go straight for PCA analysis. &amp;nbsp;I assumed the primary
component (the most correlated component) would be from the atmosphere,
which is almost certainly true. &amp;nbsp;Subtracting that off (shown in the
notebook linked below) left some clearly correlated components left over
- some of these are instrumental, others are correlated backgrounds,
others are correlated saturation levels. &amp;nbsp;I don't honestly know what all
of the components are, but I DO know that correlated components are very
unlikely to be intrinsic phenomena - stellar brightness isn't
correlated.
So I tried to cut out ALL correlated components. &amp;nbsp;However, I think in
the process I probably removed any useful information - even
un-correlated signal should probably have a high amplitude (if it's
interesting...) that will get removed through the process I used.
&amp;nbsp;Nonetheless, I probably have some upper limits on the 5s scale
variability of these stars in K-band. &amp;nbsp;Not enough to do anything like
asteroseismology, but it was worth a day's effort.
Here's the ipython notebook (gist &amp;amp; nbviewer) for those interested:
&lt;a class="reference external" href="https://gist.github.com/4109329"&gt;https://gist.github.com/4109329&lt;/a&gt;
&lt;a class="reference external" href="http://nbviewer.ipython.org/4109329/"&gt;http://nbviewer.ipython.org/4109329/&lt;/a&gt;&lt;/p&gt;
&lt;/div&gt;&lt;/p&gt;</content><category term="misc"></category><category term="googlepost"></category></entry><entry><title>Attempts to install astrometry.net (comment on problems-with-index-files-generation)</title><link href="https://keflavich.github.io/blog/attempts-to-install-astrometrynet-comment-on-problems-with-index-files-generation.html" rel="alternate"></link><published>2012-11-04T17:26:00-07:00</published><updated>2012-11-04T17:26:00-07:00</updated><author><name>Adam</name></author><id>tag:keflavich.github.io,2012-11-04:/blog/attempts-to-install-astrometrynet-comment-on-problems-with-index-files-generation.html</id><summary type="html">&lt;p&gt;Some progress in this vein:
1. installed astrometry.net (but without some graphical extras)
2. figured out how to create indexes! Finders are ~5x5', so based on
&lt;a class="reference external" href="http://forum.astrometry.net/index.php?p=/discussion/2/problems-with-index-files-generation/p1"&gt;this post&lt;/a&gt; I want to use ~2-3' healpixes.
3. I also should be using denser catalogs than the all-sky USNO B1,
especially for …&lt;/p&gt;</summary><content type="html">&lt;p&gt;Some progress in this vein:
1. installed astrometry.net (but without some graphical extras)
2. figured out how to create indexes! Finders are ~5x5', so based on
&lt;a class="reference external" href="http://forum.astrometry.net/index.php?p=/discussion/2/problems-with-index-files-generation/p1"&gt;this post&lt;/a&gt; I want to use ~2-3' healpixes.
3. I also should be using denser catalogs than the all-sky USNO B1,
especially for infrared targets.
So, here's a sample build command (using a CDS-based FITS table, but
modified by me using atpy):
build-index -v -i OMC1_optical_phot_DaRio.fits -o
OMC1_optical_phot_DaRio_astrometryindex -N 1758&lt;/p&gt;
</content><category term="misc"></category><category term="comment"></category></entry><entry><title>Planned Serendipity: H-alpha maps around O-stars</title><link href="https://keflavich.github.io/blog/planned-serendipity-h-alpha-maps-around-o-stars.html" rel="alternate"></link><published>2012-10-11T14:13:00-06:00</published><updated>2012-10-11T14:13:00-06:00</updated><author><name>Adam (keflavich@gmail.com)</name></author><id>tag:keflavich.github.io,2012-10-11:/blog/planned-serendipity-h-alpha-maps-around-o-stars.html</id><summary type="html">&lt;div dir="ltr" style="text-align: left;"&gt;&lt;p&gt;Plenty of O-stars have been observed in H-alpha because they're in star
forming regions. &amp;nbsp;But there are plenty of others - runaways and the like
- that haven't. &amp;nbsp;A survey of these stars may turn up nearby ionized
features. &amp;nbsp;We may find externally illuminated AGB stars, allowing for
determination of their ejecta …&lt;/p&gt;&lt;/div&gt;</summary><content type="html">&lt;div dir="ltr" style="text-align: left;"&gt;&lt;p&gt;Plenty of O-stars have been observed in H-alpha because they're in star
forming regions. &amp;nbsp;But there are plenty of others - runaways and the like
- that haven't. &amp;nbsp;A survey of these stars may turn up nearby ionized
features. &amp;nbsp;We may find externally illuminated AGB stars, allowing for
determination of their ejecta composition with diagnostic lines that are
usually unexcited and unavailable. &amp;nbsp;We may find bipolar ejection nebulae
or planetary nebulae with peculiar illumination patterns because they
are not centrally lit.&lt;/p&gt;
&lt;div&gt;&lt;/div&gt;&lt;div&gt;&lt;p&gt;A good starting point &amp;amp; justification for this survey would be to
estimate the chance of a coincidence (within 5 pc? &amp;nbsp;10 pc?) of an O star
and an AGB star given purely random sampling. &amp;nbsp;Based on the detection of
SBW 2 in Carina, I think the odds must be pretty good.&lt;/p&gt;
&lt;/div&gt;&lt;/div&gt;&lt;/p&gt;</content><category term="misc"></category><category term="googlepost"></category><category term="research ideas"></category></entry><entry><title>Using Guider images to achieve ~arcsecond pointing accuracy</title><link href="https://keflavich.github.io/blog/using-guider-images-to-achieve-arcsecond-pointing-accuracy.html" rel="alternate"></link><published>2012-10-05T14:46:00-06:00</published><updated>2012-10-05T14:46:00-06:00</updated><author><name>Adam (keflavich@gmail.com)</name></author><id>tag:keflavich.github.io,2012-10-05:/blog/using-guider-images-to-achieve-arcsecond-pointing-accuracy.html</id><summary type="html">&lt;div dir="ltr" style="text-align: left;"&gt;&lt;p&gt;One of the challenges of observing in the near-IR / optical is field
identification. In the case of the Apache Point Observatory 3.5m, the
&amp;quot;raw&amp;quot; pointing - i.e., if you enter a coordinate and press &amp;quot;slew&amp;quot; - is
usually good to within ~1 arcminute. However, once you're on the target
field …&lt;/p&gt;&lt;/div&gt;</summary><content type="html">&lt;div dir="ltr" style="text-align: left;"&gt;&lt;p&gt;One of the challenges of observing in the near-IR / optical is field
identification. In the case of the Apache Point Observatory 3.5m, the
&amp;quot;raw&amp;quot; pointing - i.e., if you enter a coordinate and press &amp;quot;slew&amp;quot; - is
usually good to within ~1 arcminute. However, once you're on the target
field, it's up to you as the observer to identify the exact location
within the 5x5' field to observe.
This proves quite challenging in crowded fields, especially with
rotation. It is far more difficult, though, in sparse fields when your
target is a faint emission line feature - there will be no corresponding
light in your guider image. But you still want ~arcsecond pointing
accuracy.
I think this can be achieved by using the astrometry.net source
recognition and field identification tools, but highly constrained to be
within ~10' of the target field. The WCS coordinates would then be
applied to the guider image, and the target location identified and
translated into a telescope pointing offset.
This technique is probably not needed for most spectroscopic
observations (e.g., of bright point sources). However, for
slit-scan-mapping or observations of faint point sources, this approach
provides the opportunity to do fast-switching with a bright calibration
star so that telluric correction can be provided on a short (~5-10
minute) timescale, as is needed for truly accurate calibration.&lt;/p&gt;
&lt;/div&gt;&lt;/p&gt;</content><category term="misc"></category><category term="googlepost"></category><category term="research ideas"></category><category term="astronomy"></category><category term="observing"></category></entry><entry><title>Lognormal Density / IPython Notebook</title><link href="https://keflavich.github.io/blog/lognormal-density-ipython-notebook.html" rel="alternate"></link><published>2012-09-20T20:07:00-06:00</published><updated>2012-09-20T20:07:00-06:00</updated><author><name>Adam (keflavich@gmail.com)</name></author><id>tag:keflavich.github.io,2012-09-20:/blog/lognormal-density-ipython-notebook.html</id><summary type="html">&lt;p&gt;An experiment with log normal density distributions (simple, pretty
obvious) and a test of including ipython notebooks in blog posts. To do
this, I created a gist (&lt;a class="reference external" href="https://gist.github.com/3750781"&gt;https://gist.github.com/3750781&lt;/a&gt;) and used the
ipython notebook viewer (&lt;a class="reference external" href="http://nbviewer.ipython.org/3750781/"&gt;http://nbviewer.ipython.org/3750781/&lt;/a&gt;) to render
the notebook in HTML. It …&lt;/p&gt;</summary><content type="html">&lt;p&gt;An experiment with log normal density distributions (simple, pretty
obvious) and a test of including ipython notebooks in blog posts. To do
this, I created a gist (&lt;a class="reference external" href="https://gist.github.com/3750781"&gt;https://gist.github.com/3750781&lt;/a&gt;) and used the
ipython notebook viewer (&lt;a class="reference external" href="http://nbviewer.ipython.org/3750781/"&gt;http://nbviewer.ipython.org/3750781/&lt;/a&gt;) to render
the notebook in HTML. It worked pretty well; all I had to do was c&amp;amp;p the
source and then change 2 lines of the style (background color -&amp;gt; black,
foreground color -&amp;gt; white for the markup... maybe I should do it for the
rest too).&lt;/p&gt;
&lt;p&gt;Comparison of the derived power spectra and density PDFs for lognormal
power distributions. Obviously (if you think about it), the power
spectra are always flat for randomly distributed signal. The PDFs change
significantly.&lt;/p&gt;
</content><category term="misc"></category><category term="googlepost"></category><category term="research notes"></category><category term="ipython notebook"></category></entry><entry><title>Research idea: NIR variation</title><link href="https://keflavich.github.io/blog/research-idea-nir-variation.html" rel="alternate"></link><published>2012-09-20T20:07:00-06:00</published><updated>2012-09-20T20:07:00-06:00</updated><author><name>Adam (keflavich@gmail.com)</name></author><id>tag:keflavich.github.io,2012-09-20:/blog/research-idea-nir-variation.html</id><summary type="html">&lt;p&gt;&lt;a class="reference external" href="http://www.adamgginsburg.com/index.htm"&gt;I&lt;/a&gt;&amp;nbsp;really want to know how near-infrared absorption lines correlate
with emission lines; understanding this is essential for near infrared
calibration.&lt;/p&gt;
&lt;img alt="" src="http://3.bp.blogspot.com/-g_ixmCtNH6c/UEbiTCymILI/AAAAAAAAHNc/WabU1JlWoVo/s320/nightskycorrelation_test.png" /&gt;
&lt;p&gt;The emission lines correlate reasonably well, but not perfectly. &amp;nbsp;There
are models out there of how these should behave, but they seem to be
proprietary and non-free so I …&lt;/p&gt;</summary><content type="html">&lt;p&gt;&lt;a class="reference external" href="http://www.adamgginsburg.com/index.htm"&gt;I&lt;/a&gt;&amp;nbsp;really want to know how near-infrared absorption lines correlate
with emission lines; understanding this is essential for near infrared
calibration.&lt;/p&gt;
&lt;img alt="" src="http://3.bp.blogspot.com/-g_ixmCtNH6c/UEbiTCymILI/AAAAAAAAHNc/WabU1JlWoVo/s320/nightskycorrelation_test.png" /&gt;
&lt;p&gt;The emission lines correlate reasonably well, but not perfectly. &amp;nbsp;There
are models out there of how these should behave, but they seem to be
proprietary and non-free so I have no interest in them - I won't pay
before I know they work, and I can't test them.
But perhaps more careful measurements of the night sky lines could
provide some information about the absorption, particularly in the
Brackett-delta and Brackett-epsilon region we've been interested in
lately.
I'm pretty sure the change in slope observed above is from observing at
different airmasses (2.3 vs 1.05)&lt;/p&gt;
</content><category term="misc"></category><category term="googlepost"></category><category term="research ideas"></category></entry><entry><title>Research Idea: Stacking Finders</title><link href="https://keflavich.github.io/blog/research-idea-stacking-finders.html" rel="alternate"></link><published>2012-09-20T20:07:00-06:00</published><updated>2012-09-20T20:07:00-06:00</updated><author><name>Adam (keflavich@gmail.com)</name></author><id>tag:keflavich.github.io,2012-09-20:/blog/research-idea-stacking-finders.html</id><summary type="html">&lt;div dir="ltr" style="text-align: left;"&gt;&lt;p&gt;Idea: Stack all of the finders from spectroscopic observations. &amp;nbsp;Finder
images tend to be on lower-quality CCDs with no filter, but they
frequently produce very deep observations. &amp;nbsp;For example, the open K-band
finder on TripleSpec (though it's technically not a CCD).&lt;/p&gt;
&lt;div&gt;&lt;/div&gt;&lt;div&gt;&lt;p&gt;In order to stack them, you would need to …&lt;/p&gt;&lt;/div&gt;&lt;/div&gt;</summary><content type="html">&lt;div dir="ltr" style="text-align: left;"&gt;&lt;p&gt;Idea: Stack all of the finders from spectroscopic observations. &amp;nbsp;Finder
images tend to be on lower-quality CCDs with no filter, but they
frequently produce very deep observations. &amp;nbsp;For example, the open K-band
finder on TripleSpec (though it's technically not a CCD).&lt;/p&gt;
&lt;div&gt;&lt;/div&gt;&lt;div&gt;&lt;p&gt;In order to stack them, you would need to mask out the bad pixels
(already done) and compute astrometic solutions for the CCD. &amp;nbsp;Un-warping
the images will take some work, but there should be plenty of
information available from thousands of observations of different fields
to make this computation nearly ideal. &amp;nbsp;Similarly, it should be possible
to calibrate different pixels on the imager based on response to 2MASS
standards.&lt;/p&gt;
&lt;/div&gt;&lt;div&gt;&lt;/div&gt;&lt;div&gt;&lt;p&gt;Applications? &amp;nbsp;Very deep imaging of spectroscopic targets. &amp;nbsp;Short- and
long-term variability (typical finder cadence is ~a few seconds). &amp;nbsp;Deep
imaging around stars and galaxies of interest - probably far deeper than
you could get with classical observing requests.&lt;/p&gt;
&lt;/div&gt;&lt;div&gt;&lt;/div&gt;&lt;div&gt;&lt;p&gt;This project should be achievable by a motivated undergraduate, but I
think the tools for astrometric solutions need to be in place first.
&amp;nbsp;Astrometry.net is a great tool for this, but I think operates on
spatial scales that are too large. &amp;nbsp;Once basic astrometric solutions are
available (e.g., pointing center for the image), I think IRAF tools
could be automated to compute the complete solution, which would then be
applied to all images.&lt;/p&gt;
&lt;/div&gt;&lt;div&gt;&lt;/div&gt;&lt;div&gt;&lt;p&gt;Calibration might end up being the most challenging component, since
there is variable atmospheric emission (absorption) that is not filtered
by the finder. &amp;nbsp;Depending on the application, though, large calibration
errors may be acceptable. &amp;nbsp;i.e., for deep nebular observations,
morphology will be more important than absolute brightness, since the
line responsible for the brightness cannot be directly determined.
&amp;nbsp;Whereas, for variability, calibration is important, but it can be
computed directly from other stars in the field.&lt;/p&gt;
&lt;/div&gt;&lt;/div&gt;&lt;/p&gt;</content><category term="misc"></category><category term="googlepost"></category><category term="research ideas"></category><category term="observing"></category></entry><entry><title>#6 on Astro-ph today</title><link href="https://keflavich.github.io/blog/6-on-astro-ph-today.html" rel="alternate"></link><published>2012-09-20T20:02:00-06:00</published><updated>2012-09-20T20:02:00-06:00</updated><author><name>Adam (keflavich@gmail.com)</name></author><id>tag:keflavich.github.io,2012-09-20:/blog/6-on-astro-ph-today.html</id><content type="html">&lt;p&gt;&lt;a class="reference external" href="http://arxiv.org/abs/0910.2990"&gt;IRAS 05358 on astro-ph&lt;/a&gt;. Check out &lt;a class="reference external" href="http://casa.colorado.edu/~ginsbura/iras05358.htm"&gt;my page on the region&lt;/a&gt; too.&lt;/p&gt;
</content><category term="misc"></category><category term="googleblog"></category><category term="astronomy"></category></entry><entry><title>Acquiring DSS images</title><link href="https://keflavich.github.io/blog/acquiring-dss-images.html" rel="alternate"></link><published>2012-09-20T20:02:00-06:00</published><updated>2012-09-20T20:02:00-06:00</updated><author><name>Adam (keflavich@gmail.com)</name></author><id>tag:keflavich.github.io,2012-09-20:/blog/acquiring-dss-images.html</id><content type="html">&lt;p&gt;This is the way to get DSS images:
&lt;a class="reference external" href="http://archive.eso.org/cms/tools-documentation/the-eso-st-ecf-digitized-sky-survey-application"&gt;ESO's batch downloader&lt;/a&gt;&lt;/p&gt;
</content><category term="misc"></category><category term="googleblog"></category><category term="astronomy"></category></entry><entry><title>Another attempt to get 64 bit python on Snow Leopard</title><link href="https://keflavich.github.io/blog/another-attempt-to-get-64-bit-python-on-snow-leopard.html" rel="alternate"></link><published>2012-09-20T20:02:00-06:00</published><updated>2012-09-20T20:02:00-06:00</updated><author><name>Adam (keflavich@gmail.com)</name></author><id>tag:keflavich.github.io,2012-09-20:/blog/another-attempt-to-get-64-bit-python-on-snow-leopard.html</id><content type="html">&lt;p&gt;Sam Skillman posted &lt;a class="reference external" href="http://casa.colorado.edu/~skillman/research_and_codes/files/5426de84108df075adee2e9a5c23d90e-4.html"&gt;his attempt to get 64 bit python on snow leopard&lt;/a&gt;.
It worked, but you need to install python with --enable-framework and
NOT --prefix and NOT --enable-universalSDK. It is 64-bit only, not
universal: universal causes trouble.&lt;/p&gt;
</content><category term="misc"></category><category term="googleblog"></category><category term="python"></category><category term="mac"></category></entry><entry><title>apache/php/mysql on snow leopard</title><link href="https://keflavich.github.io/blog/apachephpmysql-on-snow-leopard.html" rel="alternate"></link><published>2012-09-20T20:02:00-06:00</published><updated>2012-09-20T20:02:00-06:00</updated><author><name>Adam (keflavich@gmail.com)</name></author><id>tag:keflavich.github.io,2012-09-20:/blog/apachephpmysql-on-snow-leopard.html</id><content type="html">&lt;p&gt;&lt;a class="reference external" href="http://maestric.com/doc/mac/apache_php_mysql_snow_leopard"&gt;This post&lt;/a&gt; helped me out&lt;/p&gt;
</content><category term="misc"></category><category term="googlepost"></category><category term="mac"></category><category term="computer"></category></entry><entry><title>API documentation on agpy</title><link href="https://keflavich.github.io/blog/api-documentation-on-agpy.html" rel="alternate"></link><published>2012-09-20T20:02:00-06:00</published><updated>2012-09-20T20:02:00-06:00</updated><author><name>Adam (keflavich@gmail.com)</name></author><id>tag:keflavich.github.io,2012-09-20:/blog/api-documentation-on-agpy.html</id><content type="html">&lt;p&gt;I finally processed agpy through sphinx and made some nice html
documentation.
&lt;a class="reference external" href="http://agpy.googlecode.com/svn/trunk/doc/html/agpy.html"&gt;http://agpy.googlecode.com/svn/trunk/doc/html/agpy.html&lt;/a&gt;&lt;/p&gt;
</content><category term="misc"></category><category term="googlepost"></category><category term="code"></category></entry><entry><title>Applescripting out that VIM error</title><link href="https://keflavich.github.io/blog/applescripting-out-that-vim-error.html" rel="alternate"></link><published>2012-09-20T20:02:00-06:00</published><updated>2012-09-20T20:02:00-06:00</updated><author><name>Adam (keflavich@gmail.com)</name></author><id>tag:keflavich.github.io,2012-09-20:/blog/applescripting-out-that-vim-error.html</id><summary type="html">&lt;p&gt;&lt;p&gt;I have a frequent problem where my VIM window is too large for my
macbook screen but it fits on my external monitor, so when I unplug the
external the VIM file bar gets stuck behind the Mac OS menu bar. It's a
huge pain to fix this normally, but …&lt;/p&gt;&lt;/p&gt;</summary><content type="html">&lt;p&gt;&lt;p&gt;I have a frequent problem where my VIM window is too large for my
macbook screen but it fits on my external monitor, so when I unplug the
external the VIM file bar gets stuck behind the Mac OS menu bar. It's a
huge pain to fix this normally, but I wrote/stole an applescript to fix
the problem:&lt;/p&gt;
&lt;pre class="literal-block"&gt;
try    tell application &amp;quot;Vim&amp;quot;        activate    end tell    tell application &amp;quot;System Events&amp;quot;        tell process &amp;quot;Vim&amp;quot;            set size of the first window to {1000, 200}            set position of the first window to {50, 50}        end tell    end tellend try
&lt;/pre&gt;
&lt;/p&gt;</content><category term="misc"></category><category term="googlepost"></category><category term="computer"></category></entry><entry><title>Art mimicing reality</title><link href="https://keflavich.github.io/blog/art-mimicing-reality.html" rel="alternate"></link><published>2012-09-20T20:02:00-06:00</published><updated>2012-09-20T20:02:00-06:00</updated><author><name>Adam (keflavich@gmail.com)</name></author><id>tag:keflavich.github.io,2012-09-20:/blog/art-mimicing-reality.html</id><content type="html">&lt;p&gt;An artist who likes painting astronomical objects:
&lt;a class="reference external" href="http://web.me.com/mariannebeacham/Manifestations/Gallery_I.html"&gt;Marianne Beacham Gallery&lt;/a&gt;&lt;/p&gt;
</content><category term="misc"></category><category term="googlepost"></category><category term="art"></category></entry><entry><title>astro-better post</title><link href="https://keflavich.github.io/blog/astro-better-post.html" rel="alternate"></link><published>2012-09-20T20:02:00-06:00</published><updated>2012-09-20T20:02:00-06:00</updated><author><name>Adam (keflavich@gmail.com)</name></author><id>tag:keflavich.github.io,2012-09-20:/blog/astro-better-post.html</id><content type="html">&lt;p&gt;I &lt;a class="reference external" href="http://www.astrobetter.com/analysis/better-ways-to-make-large-image-mosiacs/"&gt;contributed to a post&lt;/a&gt; on &lt;a class="reference external" href="http://www.astrobetter.com/"&gt;Astro Better&lt;/a&gt; asking about mosaicing
software.&lt;/p&gt;
</content><category term="misc"></category><category term="googlepost"></category><category term="astronomy"></category><category term="meta"></category></entry><entry><title>Astronomy gets some recognition</title><link href="https://keflavich.github.io/blog/astronomy-gets-some-recognition.html" rel="alternate"></link><published>2012-09-20T20:02:00-06:00</published><updated>2012-09-20T20:02:00-06:00</updated><author><name>Adam (keflavich@gmail.com)</name></author><id>tag:keflavich.github.io,2012-09-20:/blog/astronomy-gets-some-recognition.html</id><content type="html">&lt;p&gt;First off, &lt;a class="reference external" href="http://www.cfa.harvard.edu/%7Ereid/"&gt;this guy&lt;/a&gt; does some amazing work, like &lt;a class="reference external" href="http://arxiv.org/abs/0902.3913"&gt;measuring the
galactic rotation curve&lt;/a&gt;. He got recognized by the &lt;a class="reference external" href="http://www.colbertnation.com/the-colbert-report-videos/215963/january-14-2009/little-victories---america-s-galaxy-is-big"&gt;Colbert Report&lt;/a&gt;.
Sweet.&lt;/p&gt;
</content><category term="misc"></category><category term="googlepost"></category></entry><entry><title>Awk sexagesimal to decimal conversion</title><link href="https://keflavich.github.io/blog/awk-sexagesimal-to-decimal-conversion.html" rel="alternate"></link><published>2012-09-20T20:02:00-06:00</published><updated>2012-09-20T20:02:00-06:00</updated><author><name>Adam (keflavich@gmail.com)</name></author><id>tag:keflavich.github.io,2012-09-20:/blog/awk-sexagesimal-to-decimal-conversion.html</id><summary type="html">&lt;p&gt;In VIM I often need to convert columns of RA/Dec from Sexagesimal into
Decimal format.
&lt;tt class="docutils literal"&gt;%!awk '{ra = &lt;span class="pre"&gt;($2+$3/60+$4/3600)*15;&lt;/span&gt; dec = &lt;span class="pre"&gt;$6+$7/60+$8/3600;&lt;/span&gt; print &lt;span class="pre"&gt;$1,&amp;quot;ra=&amp;quot;,ra,&amp;quot;,&lt;/span&gt;&amp;nbsp; dec=&amp;nbsp; &lt;span class="pre"&gt;&amp;quot;,$5,dec}'&lt;/span&gt;&lt;/tt&gt;
The far more irritating inverse operation:
`` %!awk '{h=($2/15); h=h-(h …&lt;/p&gt;</summary><content type="html">&lt;p&gt;In VIM I often need to convert columns of RA/Dec from Sexagesimal into
Decimal format.
&lt;tt class="docutils literal"&gt;%!awk '{ra = &lt;span class="pre"&gt;($2+$3/60+$4/3600)*15;&lt;/span&gt; dec = &lt;span class="pre"&gt;$6+$7/60+$8/3600;&lt;/span&gt; print &lt;span class="pre"&gt;$1,&amp;quot;ra=&amp;quot;,ra,&amp;quot;,&lt;/span&gt;&amp;nbsp; dec=&amp;nbsp; &lt;span class="pre"&gt;&amp;quot;,$5,dec}'&lt;/span&gt;&lt;/tt&gt;
The far more irritating inverse operation:
`` %!awk '{h=($2/15); h=h-(h%1);  m=($2-h*15)/15*60; m=m-(m%1); s=($2-h*15-m*15/60)/15*3600; d=-($3-$3%1); am=(-$3-d)*60; am=am-(am%1); as=(-$3-d-am/60)*3600; printf &amp;quot;%s  %02i:%02i:%02.2f,  -%02i:%02i:%02.2f   %s  %s  %sn&amp;quot; , $1,h,m,s,d,am,as,$4,$5,$6}'   ``&lt;/p&gt;
</content><category term="misc"></category><category term="googlepost"></category><category term="astronomy"></category><category term="computer"></category></entry><entry><title>Back to site editing</title><link href="https://keflavich.github.io/blog/back-to-site-editing.html" rel="alternate"></link><published>2012-09-20T20:02:00-06:00</published><updated>2012-09-20T20:02:00-06:00</updated><author><name>Adam (keflavich@gmail.com)</name></author><id>tag:keflavich.github.io,2012-09-20:/blog/back-to-site-editing.html</id><summary type="html">&lt;p&gt;I'm editing class web pages, php, cgi, etc. again. I don't think I ever
really understood how to do this, but I'd like to know how to use PHP to
fold text. That would be sweet.
I found it by googling this time.
This is really the right way to …&lt;/p&gt;</summary><content type="html">&lt;p&gt;I'm editing class web pages, php, cgi, etc. again. I don't think I ever
really understood how to do this, but I'd like to know how to use PHP to
fold text. That would be sweet.
I found it by googling this time.
This is really the right way to do things:
&lt;a class="reference external" href="http://help.blogger.com/bin/answer.py?hl=en&amp;amp;answer=42214"&gt;http://help.blogger.com/bin/answer.py?hl=en&amp;amp;answer=42214&lt;/a&gt;
Of course, it's pretty disappointing that it doesn't work with the
non-classic template for blogger.&lt;/p&gt;
</content><category term="misc"></category><category term="googlepost"></category><category term="computer"></category></entry><entry><title>BASH discoveries, readline questions</title><link href="https://keflavich.github.io/blog/bash-discoveries-readline-questions.html" rel="alternate"></link><published>2012-09-20T20:02:00-06:00</published><updated>2012-09-20T20:02:00-06:00</updated><author><name>Adam (keflavich@gmail.com)</name></author><id>tag:keflavich.github.io,2012-09-20:/blog/bash-discoveries-readline-questions.html</id><summary type="html">&lt;p&gt;1. `` shopt -p ``
Maybe my hostname completion worked and then stopped working because the
bash option hostcomplete was not set. Duh! Why? I don't know. Anyway,
`` shopt -s hostcomplete`` solves the problem.
`` nocaseglob `` is also pretty cool (case insensitive tab completion)
2. it's really hard to search for readline stuff …&lt;/p&gt;</summary><content type="html">&lt;p&gt;1. `` shopt -p ``
Maybe my hostname completion worked and then stopped working because the
bash option hostcomplete was not set. Duh! Why? I don't know. Anyway,
`` shopt -s hostcomplete`` solves the problem.
`` nocaseglob `` is also pretty cool (case insensitive tab completion)
2. it's really hard to search for readline stuff on google. Can anyone
explain to me how BASH readline works? I would REALLY like to make bash
readline work like ipython, in which you can start typing a command and
hit the 'up' key to search through the history for anything beginning
with the stuff you've typed up to that point. But I can't even find
documentation for the ipython readline! Any hints, anyone?
3. my desktop at work blocks ssh connections. I can ssh into some
computers and then into it, but not directly into it.
...as usual, I made a list where not-a-list would have sufficed, and I
had to add the last thing because a 2-item list is dumb.&lt;/p&gt;
</content><category term="misc"></category><category term="googlepost"></category><category term="bash"></category><category term="python"></category><category term="unix"></category><category term="computer"></category></entry><entry><title>BGPS public release</title><link href="https://keflavich.github.io/blog/bgps-public-release.html" rel="alternate"></link><published>2012-09-20T20:02:00-06:00</published><updated>2012-09-20T20:02:00-06:00</updated><author><name>Adam (keflavich@gmail.com)</name></author><id>tag:keflavich.github.io,2012-09-20:/blog/bgps-public-release.html</id><content type="html">&lt;p&gt;&lt;a class="reference external" href="http://irsa.ipac.caltech.edu/"&gt;http://irsa.ipac.caltech.edu/&lt;/a&gt;&lt;/p&gt;
</content><category term="misc"></category><category term="googlepost"></category><category term="bgps"></category></entry><entry><title>CGI errors on Origins</title><link href="https://keflavich.github.io/blog/cgi-errors-on-origins.html" rel="alternate"></link><published>2012-09-20T20:02:00-06:00</published><updated>2012-09-20T20:02:00-06:00</updated><author><name>Adam (keflavich@gmail.com)</name></author><id>tag:keflavich.github.io,2012-09-20:/blog/cgi-errors-on-origins.html</id><content type="html">&lt;p&gt;&lt;p&gt;First step:&lt;/p&gt;
&lt;pre class="literal-block"&gt;
tail -f /usr/local/apache/logs/casa/casa_error_log
&lt;/pre&gt;
&lt;p&gt;Then, make sure .htaccess has the right lines.&lt;/p&gt;
&lt;pre class="literal-block"&gt;
AddType text/html  .htmAddHandler application/x-httpd-php .php .htmAddHandler server-parsed .htm .htmlAddHandler cgi-script .cgi .pl
&lt;/pre&gt;
&lt;/p&gt;</content><category term="misc"></category><category term="googlepost"></category><category term="computer"></category></entry><entry><title>command line &amp; escape key</title><link href="https://keflavich.github.io/blog/command-line-escape-key.html" rel="alternate"></link><published>2012-09-20T20:02:00-06:00</published><updated>2012-09-20T20:02:00-06:00</updated><author><name>Adam (keflavich@gmail.com)</name></author><id>tag:keflavich.github.io,2012-09-20:/blog/command-line-escape-key.html</id><content type="html">&lt;p&gt;Problem: in both the bash command line and ipython, if I hit escape
twice, I can never again do history-search-backwards (i.e. when you type
part of a command and type &amp;quot;up&amp;quot; and reverse-search through your command
history). Any idea how to fix this?&lt;/p&gt;
</content><category term="misc"></category><category term="googlepost"></category><category term="python"></category><category term="computer"></category></entry><entry><title>Command of the Day</title><link href="https://keflavich.github.io/blog/command-of-the-day.html" rel="alternate"></link><published>2012-09-20T20:02:00-06:00</published><updated>2012-09-20T20:02:00-06:00</updated><author><name>Adam (keflavich@gmail.com)</name></author><id>tag:keflavich.github.io,2012-09-20:/blog/command-of-the-day.html</id><content type="html">&lt;p&gt;`` ls | wc ``
and for when `` ls * `` fails
`` find . -name &amp;quot;*&amp;quot; | xargs -I {} mv {} away/ ``&lt;/p&gt;
</content><category term="misc"></category><category term="googlepost"></category><category term="computer"></category></entry><entry><title>Compiling vim...</title><link href="https://keflavich.github.io/blog/compiling-vim.html" rel="alternate"></link><published>2012-09-20T20:02:00-06:00</published><updated>2012-09-20T20:02:00-06:00</updated><author><name>Adam (keflavich@gmail.com)</name></author><id>tag:keflavich.github.io,2012-09-20:/blog/compiling-vim.html</id><summary type="html">&lt;p&gt;Figured I had to post this...
I've been trying to compile command-line vim 7.3 on Mac OS X 10.7. I
have the latest `hg clone`d version of vim. I'm stuck on ncurses.
If I `./configure` with no options, I get the following error:
checking --with-tlib argument... empty …&lt;/p&gt;</summary><content type="html">&lt;p&gt;Figured I had to post this...
I've been trying to compile command-line vim 7.3 on Mac OS X 10.7. I
have the latest `hg clone`d version of vim. I'm stuck on ncurses.
If I `./configure` with no options, I get the following error:
checking --with-tlib argument... empty: automatic terminal library
selection
checking for tgetent in -ltinfo... no
checking for tgetent in -lncurses... no
checking for tgetent in -ltermlib... no
checking for tgetent in -ltermcap... no
checking for tgetent in -lcurses... no
no terminal library found
checking for tgetent()... configure: error: NOT FOUND!
You need to install a terminal library; for example ncurses.
Or specify the name of the library with --with-tlib.
If instead I try `./configure --with-tlib=ncurses`
checking --with-tlib argument... ncurses
checking for linking with ncurses library... configure: error: FAILED
I have Xcode 4.1. As far as I can tell, ncurses is available:
$ file /usr/lib/libncurses.*
/usr/lib/libncurses.5.4.dylib: Mach-O universal binary with 2
architectures
/usr/lib/libncurses.5.4.dylib (for architecture x86_64): Mach-O 64-bit
dynamically linked shared library x86_64
/usr/lib/libncurses.5.4.dylib (for architecture i386): Mach-O
dynamically linked shared library i386
/usr/lib/libncurses.5.dylib: Mach-O dynamically linked shared library
i386
/usr/lib/libncurses.dylib: Mach-O universal binary with 2 architectures
/usr/lib/libncurses.dylib (for architecture x86_64): Mach-O 64-bit
dynamically linked shared library x86_64
/usr/lib/libncurses.dylib (for architecture i386): Mach-O dynamically
linked shared library i386
Then I changed my PATH from /usr/local/bin... to /usr/bin.....
The problem was trying to use my /usr/local/bin/gcc instead of the mac
default /usr/bin/gcc. Something about my locally installed gcc (4.6.1)
caused major problems.
I also eventually had to do this command:
LDFLAGS=-L/usr/lib CFLAGS='-arch i386 -arch x86_64' CCFLAGS='-arch i386
-arch x86_64' CXXFLAGS='-arch i386 -arch x86_64' ./configure
--enable-perlinterp --enable-pythoninterp --enable-cscope
--with-features=huge
and then had to make sure my default python was NOT pointing to
enthought!&lt;/p&gt;
</content><category term="misc"></category><category term="googlepost"></category><category term="install"></category><category term="vim"></category></entry><entry><title>Comps 2 reflections</title><link href="https://keflavich.github.io/blog/comps-2-reflections.html" rel="alternate"></link><published>2012-09-20T20:02:00-06:00</published><updated>2012-09-20T20:02:00-06:00</updated><author><name>Adam (keflavich@gmail.com)</name></author><id>tag:keflavich.github.io,2012-09-20:/blog/comps-2-reflections.html</id><summary type="html">&lt;p&gt;Comps 2 included some successes and some failures.
The most successful part of my Comps preparation was the Monday talk.
The previous talk on Tuesday was somewhat helpful in terms of realizing
that I needed larger figure axes, but otherwise provided no useful
feedback. The Monday talk allowed me to …&lt;/p&gt;</summary><content type="html">&lt;p&gt;Comps 2 included some successes and some failures.
The most successful part of my Comps preparation was the Monday talk.
The previous talk on Tuesday was somewhat helpful in terms of realizing
that I needed larger figure axes, but otherwise provided no useful
feedback. The Monday talk allowed me to realize what needed to be done
to make my talk accessible to a larger audience.
At the defense, I ended up going only ~40 minutes despite having gone
far over time in the Monday version and spending ~5 minutes answering
questions from Don and Mike. I think that was a good thing; I didn't
need to say anything more even though there was an enormous amount of
additional material I could have covered.
The main change I made from Monday to Friday was reorganizing such that
I discussed the largest scales first and zoomed in, and I spent much
more time discussing the larger context of my work. Unfortunately, I
also spent most of the week before the presentation determining the
larger context and reading papers. Ideally, I would have done that
before handing in the paper.
The closed door Q&amp;amp;A section went OK but not great. There were a few
important bits of information related to the IMF that I didn't know off
the top of my head - e.g. the ratio of total # of stars to the # of B
stars. I got the lowest mass star (.07) confused with the most common
star mass (.3). I wasn't particularly able to integrated the IMF on the
board either. I didn't remember the Jeans mass-temperature and
mass-density relationships but was able to derive them quickly enough.
Probably the biggest problem was dealing with a question about the
partition function - specifically how did the partition function come
into play in the column density equation. I didn't come up with the
right answer at all, and in particular quoted the wrong distribution.
However, I think a big part of what they expected to hear was a
dependence on temperature AND degeneracy, and I never explicitly
mentioned degeneracy. It turned out that the equation I had quoted in
both the paper and the talk was correct, but I couldn't come anywhere
close to proving that on the spot.
My expected result is therefore a low pass, though it was not made
explicit. That's rather unfortunate as it's possible that another month
of preparation could have gotten me the high pass, but at the same time,
it's well worth having the project done.&lt;/p&gt;
</content><category term="misc"></category><category term="googlepost"></category><category term="grad school"></category></entry><entry><title>Connecting to ipython notebook with SSH tunneling</title><link href="https://keflavich.github.io/blog/connecting-to-ipython-notebook-with-ssh-tunneling.html" rel="alternate"></link><published>2012-09-20T20:02:00-06:00</published><updated>2012-09-20T20:02:00-06:00</updated><author><name>Adam (keflavich@gmail.com)</name></author><id>tag:keflavich.github.io,2012-09-20:/blog/connecting-to-ipython-notebook-with-ssh-tunneling.html</id><summary type="html">&lt;div dir="ltr" style="text-align: left;"&gt;&lt;div dir="ltr" style="text-align: left;"&gt;&lt;p&gt;My typical ssh tunnel looks something like:
&lt;tt class="docutils literal"&gt;ssh &lt;span class="pre"&gt;-N&lt;/span&gt; &lt;span class="pre"&gt;-f&lt;/span&gt; &lt;span class="pre"&gt;-L&lt;/span&gt; 8889:SERVER.colorado.edu:8889 ginsbura&amp;#64;SERVER.colorado.edu&lt;/tt&gt;&lt;/p&gt;
&lt;/div&gt;&lt;p&gt;For ipython notebooks, this approach was giving me the error:
`` channel 2: open failed: connect failed: Connection refused``.
The ipython notebook is at &lt;a class="reference external" href="http://127.0.0.1:8888/"&gt;http://127.0.0.1:8888/&lt;/a&gt; locally …&lt;/p&gt;&lt;/div&gt;</summary><content type="html">&lt;div dir="ltr" style="text-align: left;"&gt;&lt;div dir="ltr" style="text-align: left;"&gt;&lt;p&gt;My typical ssh tunnel looks something like:
&lt;tt class="docutils literal"&gt;ssh &lt;span class="pre"&gt;-N&lt;/span&gt; &lt;span class="pre"&gt;-f&lt;/span&gt; &lt;span class="pre"&gt;-L&lt;/span&gt; 8889:SERVER.colorado.edu:8889 ginsbura&amp;#64;SERVER.colorado.edu&lt;/tt&gt;&lt;/p&gt;
&lt;/div&gt;&lt;p&gt;For ipython notebooks, this approach was giving me the error:
`` channel 2: open failed: connect failed: Connection refused``.
The ipython notebook is at &lt;a class="reference external" href="http://127.0.0.1:8888/"&gt;http://127.0.0.1:8888/&lt;/a&gt; locally. Therefore,
the correct ssh tunnel command is:
&lt;tt class="docutils literal"&gt;ssh &lt;span class="pre"&gt;-N&lt;/span&gt; &lt;span class="pre"&gt;-f&lt;/span&gt; &lt;span class="pre"&gt;-L&lt;/span&gt; localhost:8888:localhost:8888 adam&amp;#64;SERVER.colorado.edu&lt;/tt&gt;&lt;/p&gt;
&lt;/div&gt;&lt;/p&gt;</content><category term="misc"></category><category term="googlepost"></category></entry><entry><title>Converting a CLASS-created .fits file to a real (FITS-compliant) FITS file</title><link href="https://keflavich.github.io/blog/converting-a-class-created-fits-file-to-a-real-fits-compliant-fits-file.html" rel="alternate"></link><published>2012-09-20T20:02:00-06:00</published><updated>2012-09-20T20:02:00-06:00</updated><author><name>Adam (keflavich@gmail.com)</name></author><id>tag:keflavich.github.io,2012-09-20:/blog/converting-a-class-created-fits-file-to-a-real-fits-compliant-fits-file.html</id><summary type="html">&lt;p&gt;This post is to remind me, the next time I go looking, how the hell to
convert from a GILDAS CLASS fits spectrum (created by
&lt;tt class="docutils literal"&gt;fits write blah.fits /mode spectrum&lt;/tt&gt;) to a FITS-compliant spectrum.
First, remember the FITS-WCS spectral definitions:
&lt;a class="reference external" href="http://www.aanda.org/index.php?option=com_article&amp;amp;access=bibcode&amp;amp;Itemid=129&amp;amp;bibcode=2006A%2526A...446..747GFUL"&gt;http://www.aanda.org/index.php?option=com_article …&lt;/a&gt;&lt;/p&gt;</summary><content type="html">&lt;p&gt;This post is to remind me, the next time I go looking, how the hell to
convert from a GILDAS CLASS fits spectrum (created by
&lt;tt class="docutils literal"&gt;fits write blah.fits /mode spectrum&lt;/tt&gt;) to a FITS-compliant spectrum.
First, remember the FITS-WCS spectral definitions:
&lt;a class="reference external" href="http://www.aanda.org/index.php?option=com_article&amp;amp;access=bibcode&amp;amp;Itemid=129&amp;amp;bibcode=2006A%2526A...446..747GFUL"&gt;http://www.aanda.org/index.php?option=com_article&amp;amp;access=bibcode&amp;amp;Itemid=129&amp;amp;bibcode=2006A%2526A...446..747GFUL&lt;/a&gt;
And the peculiar CLASS definitions:
&lt;a class="reference external" href="http://iram.fr/IRAMFR/GILDAS/doc/html/class-html/node84.html"&gt;http://iram.fr/IRAMFR/GILDAS/doc/html/class-html/node84.html&lt;/a&gt;
Key points:
CLASS stores the CDELT parameter as DELTAV in m/s instead of km/s and
the velocity offset of the spectral frame in VELO-LSR also in m/s.
Things to set:
CTYPE = VRAD
SPECSYS = SOURCE
SSYSSRC = LSRK
VELOSYS = frame velocity (VELO-LSR or CRVAL1)
This information is subject to change...&lt;/p&gt;
</content><category term="misc"></category><category term="googlepost"></category></entry><entry><title>Converting GILDAS-CLASS data cubes (lmv files) to fits</title><link href="https://keflavich.github.io/blog/converting-gildas-class-data-cubes-lmv-files-to-fits.html" rel="alternate"></link><published>2012-09-20T20:02:00-06:00</published><updated>2012-09-20T20:02:00-06:00</updated><author><name>Adam (keflavich@gmail.com)</name></author><id>tag:keflavich.github.io,2012-09-20:/blog/converting-gildas-class-data-cubes-lmv-files-to-fits.html</id><content type="html">&lt;p&gt;As usual, CLASS documentation is nearly impossible to navigate. At the
end of the CLASS &amp;quot;introduction&amp;quot; (&lt;a class="reference external" href="iram.fr/IRAMFR/GILDAS/doc/pdf/gildas-intro.pdf"&gt;gildas-intro.pdf&lt;/a&gt;) there is a subtle
and obscure reference to the vector\fits command. The conversion is
actually relatively straightforward:
&lt;tt class="docutils literal"&gt;vector\fits outfile.fits from infile.lmv&lt;/tt&gt;
&lt;a class="reference external" href="http://casa.colorado.edu/~ginsbura/index.htm"&gt;AG&lt;/a&gt;&lt;/p&gt;
</content><category term="misc"></category><category term="googlepost"></category><category term="fits"></category><category term="class"></category></entry><entry><title>cython vs f2py</title><link href="https://keflavich.github.io/blog/cython-vs-f2py.html" rel="alternate"></link><published>2012-09-20T20:02:00-06:00</published><updated>2012-09-20T20:02:00-06:00</updated><author><name>Adam (keflavich@gmail.com)</name></author><id>tag:keflavich.github.io,2012-09-20:/blog/cython-vs-f2py.html</id><summary type="html">&lt;p&gt;I had a go at optimizing some code this past week, and ended up learning
to use both cython and f2py.
f2py is much easier to use. If you want to write a function in fortran
and use it in python, all you do is write the code and add …&lt;/p&gt;</summary><content type="html">&lt;p&gt;I had a go at optimizing some code this past week, and ended up learning
to use both cython and f2py.
f2py is much easier to use. If you want to write a function in fortran
and use it in python, all you do is write the code and add
specifications using comments in the fortran code.
cython is more natural to code. The code style is C/fortran-like: think
in terms of loops instead of arrays. The syntax is python-like, which
makes coding somewhat clearer and simpler.
For my code, I found that cython was ~10% slower than fortran.
Check out the plfits in:
&lt;a class="reference external" href="http://code.google.com/p/agpy/source/browse/#svn/trunk/"&gt;http://code.google.com/p/agpy/source/browse/#svn/trunk/&lt;/a&gt;&lt;/p&gt;
</content><category term="misc"></category><category term="googlepost"></category><category term="python"></category><category term="computer"></category></entry><entry><title>Danger Zone</title><link href="https://keflavich.github.io/blog/danger-zone.html" rel="alternate"></link><published>2012-09-20T20:02:00-06:00</published><updated>2012-09-20T20:02:00-06:00</updated><author><name>Adam (keflavich@gmail.com)</name></author><id>tag:keflavich.github.io,2012-09-20:/blog/danger-zone.html</id><content type="html">&lt;p&gt;The Danger Zone: Where the Buffalo Roam.&lt;/p&gt;
</content><category term="misc"></category><category term="googlepost"></category></entry><entry><title>Defining a Molecular Cloud</title><link href="https://keflavich.github.io/blog/defining-a-molecular-cloud.html" rel="alternate"></link><published>2012-09-20T20:02:00-06:00</published><updated>2012-09-20T20:02:00-06:00</updated><author><name>Adam (keflavich@gmail.com)</name></author><id>tag:keflavich.github.io,2012-09-20:/blog/defining-a-molecular-cloud.html</id><summary type="html">&lt;p&gt;I'm going to try to answer a few questions [this post is in-progress and
will be updated]:&lt;/p&gt;
&lt;ol class="arabic simple"&gt;
&lt;li&gt;&lt;a class="reference external" href="http://molecularclouds.blogspot.com/2008/08/defining-molecular-cloud.html#one"&gt;Why are molecular clouds called molecular clouds?&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a class="reference external" href="http://molecularclouds.blogspot.com/2008/08/defining-molecular-cloud.html#two.htm"&gt;What distinguishes a molecular cloud from similar objects (e.g.
cores, clumps, HII regions)?&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a class="reference external" href="http://molecularclouds.blogspot.com/2008/08/defining-molecular-cloud.html#three.htm"&gt;What do molecular clouds look like?&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a class="reference external" href="http://molecularclouds.blogspot.com/2008/08/defining-molecular-cloud.html#four.htm"&gt;How do astronomers look at molecular …&lt;/a&gt;&lt;/li&gt;&lt;/ol&gt;</summary><content type="html">&lt;p&gt;I'm going to try to answer a few questions [this post is in-progress and
will be updated]:&lt;/p&gt;
&lt;ol class="arabic simple"&gt;
&lt;li&gt;&lt;a class="reference external" href="http://molecularclouds.blogspot.com/2008/08/defining-molecular-cloud.html#one"&gt;Why are molecular clouds called molecular clouds?&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a class="reference external" href="http://molecularclouds.blogspot.com/2008/08/defining-molecular-cloud.html#two.htm"&gt;What distinguishes a molecular cloud from similar objects (e.g.
cores, clumps, HII regions)?&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a class="reference external" href="http://molecularclouds.blogspot.com/2008/08/defining-molecular-cloud.html#three.htm"&gt;What do molecular clouds look like?&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a class="reference external" href="http://molecularclouds.blogspot.com/2008/08/defining-molecular-cloud.html#four.htm"&gt;How do astronomers look at molecular clouds?&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;Why are astronomers look at molecular clouds (why are they
interesting)?&lt;/li&gt;
&lt;li&gt;What do molecular clouds have to do with star formation and planet
formation?&lt;/li&gt;
&lt;li&gt;How are molecular clouds involved in galactic evolution?&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;1. Molecular clouds are regions in space with densities high enough and
temperatures low enough that molecules can form. The most common
molecule is Hydrogen (H:sub:&lt;cite&gt;2&lt;/cite&gt;), simply because hydrogen is the most
common atom. The next most common is Carbon Monoxide, CO, that is
~10&lt;sup&gt;4&lt;/sup&gt; times less common. It is the easiest to observe, though,
because H&lt;sub&gt;2&lt;/sub&gt; can only emit light and energy in 'forbidden'
transitions that don't happen very often.
2. Size, temperature, and composition all distinguish molecular clouds
from other nebulae.&lt;/p&gt;
&lt;dl&gt;&lt;dt&gt;&lt;p&gt;An H II region is very hot - in it, hydrogen atoms are ionized by
radiation from a nearby O-type star. In regions hot enough to ionize
hydrogen, all molecules are destroyed unless they have already collected
into larger dust particles.&lt;/p&gt;
&lt;dt&gt;&lt;p&gt;A core is a much denser bunch of gas than a molecular cloud. Cores are
dense enough that their outsides shield their insides from the radiation
of the rest of the universe and their insides cool to very low
temperatures. At low temperatures, the pressure supporting the cloud
against collapse is lower, and stars can form via gravitational
collapse.&lt;/p&gt;
&lt;dt&gt;&lt;p&gt;I don't really know what clumps are... they're supposed to be something
intermediate between cores and clouds, but I don't know what their
distinguishing features are.&lt;/p&gt;
&lt;/dl&gt;&lt;p&gt;3. It depends on what wavelength you're looking in. In the optical,
where our eyes can see, they look dark - they're seen because they
absorb light from behind them. In the infrared, the hot ones glow, but
the cold ones are still invisible. If you go all the way to the
millimeter, all molecular clouds glow, no matter how cold, but in order
to see them there has to be a lot of material. I'll add some pictures
here later.
4. Lots of ways. Optical telescopes aren't the best choice, though. With
near-infrared images, we can detect molecular clouds by counting stars
and noticing when there aren't as many in some regions. This technique
is called &amp;quot;NICE&amp;quot; and works because there are so many stars in the sky
and dust in molecular clouds includes some, but not all, of their light.
In the far infrared, we can see hot dust glowing, but this is very
difficult because our atmosphere is opaque in the infrared - it's like
trying to look through a brick wall. We need telescopes in space to be
able to see anything at these wavelengths. In the millimeter, there are
some 'holes' in the atmospheric absorption, sort of like color filters,
that we can see through to detect the coldest emission.&lt;/p&gt;
&lt;/p&gt;</content><category term="misc"></category><category term="googlepost"></category><category term="intro"></category></entry><entry><title>Delirium Nocturne</title><link href="https://keflavich.github.io/blog/delirium-nocturne.html" rel="alternate"></link><published>2012-09-20T20:02:00-06:00</published><updated>2012-09-20T20:02:00-06:00</updated><author><name>Adam (keflavich@gmail.com)</name></author><id>tag:keflavich.github.io,2012-09-20:/blog/delirium-nocturne.html</id><summary type="html">&lt;p&gt;Delirium Tremens is a tasty beer itself, I think. I'm drinking Delirium
Nocturne right now. It has a cool (opaque!) bottle, plus a pink elephant
on the label. At 8.5% it's pretty strong, but very drinkable with no
taste of alcohol. It's definitely my favorite Belgian brown now. It …&lt;/p&gt;</summary><content type="html">&lt;p&gt;Delirium Tremens is a tasty beer itself, I think. I'm drinking Delirium
Nocturne right now. It has a cool (opaque!) bottle, plus a pink elephant
on the label. At 8.5% it's pretty strong, but very drinkable with no
taste of alcohol. It's definitely my favorite Belgian brown now. It
still has that wheat-soy-sauce taste to it, but very weakly. It poured
with ridiculous head - I could not control it. Overall, great beer,
worth the ridiculous price I paid for it, whatever that was.&lt;/p&gt;
</content><category term="misc"></category><category term="googlepost"></category><category term="beer tasting"></category></entry><entry><title>Detexify!</title><link href="https://keflavich.github.io/blog/detexify.html" rel="alternate"></link><published>2012-09-20T20:02:00-06:00</published><updated>2012-09-20T20:02:00-06:00</updated><author><name>Adam (keflavich@gmail.com)</name></author><id>tag:keflavich.github.io,2012-09-20:/blog/detexify.html</id><content type="html">&lt;p&gt;for when you can't remember how to draw an angstrom:
&lt;a class="reference external" href="http://detexify.kirelabs.org/classify.html"&gt;detexify&lt;/a&gt;
.. image:: &lt;a class="reference external" href="http://2.bp.blogspot.com/_lsgW26mWZnU/SydQdSeP5EI/AAAAAAAAFds/f8-29Qvef3E/s400/detexify.png"&gt;http://2.bp.blogspot.com/_lsgW26mWZnU/SydQdSeP5EI/AAAAAAAAFds/f8-29Qvef3E/s400/detexify.png&lt;/a&gt;&lt;/p&gt;
</content><category term="misc"></category><category term="googlepost"></category><category term="latex"></category></entry><entry><title>Do not install 10.5.5</title><link href="https://keflavich.github.io/blog/do-not-install-1055.html" rel="alternate"></link><published>2012-09-20T20:02:00-06:00</published><updated>2012-09-20T20:02:00-06:00</updated><author><name>Adam (keflavich@gmail.com)</name></author><id>tag:keflavich.github.io,2012-09-20:/blog/do-not-install-1055.html</id><summary type="html">&lt;p&gt;Well, I didn't obey that excellent advice from Charles. I installed the
10.5.5 update. Now DS9 - in my opinion, one of the heartiest and most
reliable programs I've dealt with in the astronomy world - won't work
because TCL is broken. I doubt TUI or most of the other …&lt;/p&gt;</summary><content type="html">&lt;p&gt;Well, I didn't obey that excellent advice from Charles. I installed the
10.5.5 update. Now DS9 - in my opinion, one of the heartiest and most
reliable programs I've dealt with in the astronomy world - won't work
because TCL is broken. I doubt TUI or most of the other things I use
will work either. That's a tragedy of significant proportions - I NEED
ds9 to make my observing files! I can only pray that an update of TCL
using port will work... if not I'm basically screwed.&lt;/p&gt;
</content><category term="misc"></category><category term="googlepost"></category><category term="computer"></category></entry><entry><title>ds9 commands to test distortion mapping</title><link href="https://keflavich.github.io/blog/ds9-commands-to-test-distortion-mapping.html" rel="alternate"></link><published>2012-09-20T20:02:00-06:00</published><updated>2012-09-20T20:02:00-06:00</updated><author><name>Adam (keflavich@gmail.com)</name></author><id>tag:keflavich.github.io,2012-09-20:/blog/ds9-commands-to-test-distortion-mapping.html</id><summary type="html">&lt;p&gt;&lt;p&gt;trying to figure out whether I'm screwing something up in the distortion
map phase... the -scale limits command here is new and useful&lt;/p&gt;
&lt;pre class="literal-block"&gt;
ds9 testfields_*pix5*_map0.fits -cmap sls -scale limits 0 .005 -zoom 4 -match frames wcs -match scales -match colorbars &amp;amp;ds9 testfields_*pix15*_map0.fits -cmap sls …&lt;/pre&gt;&lt;/p&gt;</summary><content type="html">&lt;p&gt;&lt;p&gt;trying to figure out whether I'm screwing something up in the distortion
map phase... the -scale limits command here is new and useful&lt;/p&gt;
&lt;pre class="literal-block"&gt;
ds9 testfields_*pix5*_map0.fits -cmap sls -scale limits 0 .005 -zoom 4 -match frames wcs -match scales -match colorbars &amp;amp;ds9 testfields_*pix15*_map0.fits -cmap sls -scale limits 0 .003 -zoom 4 -match frames wcs -match scales -match colorbars &amp;amp;ds9 testfields_*pix10*_map0.fits -cmap sls -scale limits 0 .004 -zoom 4 -match frames wcs -match scales -match colorbars &amp;amp;
&lt;/pre&gt;
</content><category term="misc"></category><category term="googlepost"></category><category term="ds9"></category><category term="bgps"></category></entry><entry><title>DS9 - crosshairs on command line</title><link href="https://keflavich.github.io/blog/ds9-crosshairs-on-command-line.html" rel="alternate"></link><published>2012-09-20T20:02:00-06:00</published><updated>2012-09-20T20:02:00-06:00</updated><author><name>Adam (keflavich@gmail.com)</name></author><id>tag:keflavich.github.io,2012-09-20:/blog/ds9-crosshairs-on-command-line.html</id><summary type="html">&lt;p&gt;&lt;tt class="docutils literal"&gt;ds9 pmm*_map0.fits &lt;span class="pre"&gt;-zscale&lt;/span&gt; &lt;span class="pre"&gt;-match&lt;/span&gt; scales &lt;span class="pre"&gt;-zoom&lt;/span&gt; 4 &lt;span class="pre"&gt;-match&lt;/span&gt; frames wcs &lt;span class="pre"&gt;-crosshair&lt;/span&gt; 17:33:02.7 &lt;span class="pre"&gt;-13:04:49.5&lt;/span&gt; wcs fk5 &lt;span class="pre"&gt;-lock&lt;/span&gt; crosshairs wcs &amp;amp;&lt;/tt&gt;
&lt;tt class="docutils literal"&gt;ds9 pmp*_map0.fits &lt;span class="pre"&gt;-zscale&lt;/span&gt; &lt;span class="pre"&gt;-match&lt;/span&gt; scales &lt;span class="pre"&gt;-zoom&lt;/span&gt; 4 &lt;span class="pre"&gt;-match&lt;/span&gt; frames wcs &lt;span class="pre"&gt;-crosshair&lt;/span&gt; 17:33:02.7 &lt;span class="pre"&gt;-13:04:49.5&lt;/span&gt; wcs fk5 &lt;span class="pre"&gt;-lock …&lt;/span&gt;&lt;/tt&gt;&lt;/p&gt;</summary><content type="html">&lt;p&gt;&lt;tt class="docutils literal"&gt;ds9 pmm*_map0.fits &lt;span class="pre"&gt;-zscale&lt;/span&gt; &lt;span class="pre"&gt;-match&lt;/span&gt; scales &lt;span class="pre"&gt;-zoom&lt;/span&gt; 4 &lt;span class="pre"&gt;-match&lt;/span&gt; frames wcs &lt;span class="pre"&gt;-crosshair&lt;/span&gt; 17:33:02.7 &lt;span class="pre"&gt;-13:04:49.5&lt;/span&gt; wcs fk5 &lt;span class="pre"&gt;-lock&lt;/span&gt; crosshairs wcs &amp;amp;&lt;/tt&gt;
&lt;tt class="docutils literal"&gt;ds9 pmp*_map0.fits &lt;span class="pre"&gt;-zscale&lt;/span&gt; &lt;span class="pre"&gt;-match&lt;/span&gt; scales &lt;span class="pre"&gt;-zoom&lt;/span&gt; 4 &lt;span class="pre"&gt;-match&lt;/span&gt; frames wcs &lt;span class="pre"&gt;-crosshair&lt;/span&gt; 17:33:02.7 &lt;span class="pre"&gt;-13:04:49.5&lt;/span&gt; wcs fk5 &lt;span class="pre"&gt;-lock&lt;/span&gt; crosshairs wcs &amp;amp;&lt;/tt&gt;
&lt;tt class="docutils literal"&gt;ds9 mpp*_map0.fits &lt;span class="pre"&gt;-zscale&lt;/span&gt; &lt;span class="pre"&gt;-match&lt;/span&gt; scales &lt;span class="pre"&gt;-zoom&lt;/span&gt; 4 &lt;span class="pre"&gt;-match&lt;/span&gt; frames wcs &lt;span class="pre"&gt;-crosshair&lt;/span&gt; 17:33:02.7 &lt;span class="pre"&gt;-13:04:49.5&lt;/span&gt; wcs fk5 &lt;span class="pre"&gt;-lock&lt;/span&gt; crosshairs wcs &amp;amp;&lt;/tt&gt;
&lt;tt class="docutils literal"&gt;ds9 mpm*_map0.fits &lt;span class="pre"&gt;-zscale&lt;/span&gt; &lt;span class="pre"&gt;-match&lt;/span&gt; scales &lt;span class="pre"&gt;-zoom&lt;/span&gt; 4 &lt;span class="pre"&gt;-match&lt;/span&gt; frames wcs &lt;span class="pre"&gt;-crosshair&lt;/span&gt; 17:33:02.7 &lt;span class="pre"&gt;-13:04:49.5&lt;/span&gt; wcs fk5 &lt;span class="pre"&gt;-lock&lt;/span&gt; crosshairs wcs &amp;amp;&lt;/tt&gt;
DS9's crosshairs are extremely useful for checking on WCS coordinate
matching, especially when they can be set precisely using the command
line. I don't know how to set the coordinates exactly interactively...
that may come later.&lt;/p&gt;
</content><category term="misc"></category><category term="googlepost"></category><category term="ds9"></category><category term="computer"></category></entry><entry><title>DS9 gaussian fitting</title><link href="https://keflavich.github.io/blog/ds9-gaussian-fitting.html" rel="alternate"></link><published>2012-09-20T20:02:00-06:00</published><updated>2012-09-20T20:02:00-06:00</updated><author><name>Adam (keflavich@gmail.com)</name></author><id>tag:keflavich.github.io,2012-09-20:/blog/ds9-gaussian-fitting.html</id><summary type="html">&lt;p&gt;One thing DS9 desperately needs is an interactive gaussian fitter. I
have NOT implemented one yet, but it is high on my to do list. Has
anyone else (googlers?) tried or succeeded in implementing such a thing?
Ideally, something with NO dependencies: if I write one, it will require
python …&lt;/p&gt;</summary><content type="html">&lt;p&gt;One thing DS9 desperately needs is an interactive gaussian fitter. I
have NOT implemented one yet, but it is high on my to do list. Has
anyone else (googlers?) tried or succeeded in implementing such a thing?
Ideally, something with NO dependencies: if I write one, it will require
python, numpy, and probably pyds9 - ick. Straight-up TCL would be very
much preferable.&lt;/p&gt;
</content><category term="misc"></category><category term="googlepost"></category><category term="ds9"></category><category term="python"></category></entry><entry><title>Dying Dock</title><link href="https://keflavich.github.io/blog/dying-dock.html" rel="alternate"></link><published>2012-09-20T20:02:00-06:00</published><updated>2012-09-20T20:02:00-06:00</updated><author><name>Adam (keflavich@gmail.com)</name></author><id>tag:keflavich.github.io,2012-09-20:/blog/dying-dock.html</id><summary type="html">&lt;p&gt;My dock keeps dying. Repeatedly. Over and over.
Only solution so far:
&lt;tt class="docutils literal"&gt;ps &lt;span class="pre"&gt;-vax&lt;/span&gt; | grep &lt;span class="pre"&gt;-E&lt;/span&gt; &amp;quot;Dock|PID&amp;quot;kill &lt;span class="pre"&gt;-HUP&lt;/span&gt; PIDkill &lt;span class="pre"&gt;-s&lt;/span&gt; SIGCHLD PID&lt;/tt&gt;
And similarly for problems with Chrome + /usr/sbin/mDNSResponder. They
tend to go bad together.... no clues yet from the system logs.
Ironically, the crash reporter …&lt;/p&gt;</summary><content type="html">&lt;p&gt;My dock keeps dying. Repeatedly. Over and over.
Only solution so far:
&lt;tt class="docutils literal"&gt;ps &lt;span class="pre"&gt;-vax&lt;/span&gt; | grep &lt;span class="pre"&gt;-E&lt;/span&gt; &amp;quot;Dock|PID&amp;quot;kill &lt;span class="pre"&gt;-HUP&lt;/span&gt; PIDkill &lt;span class="pre"&gt;-s&lt;/span&gt; SIGCHLD PID&lt;/tt&gt;
And similarly for problems with Chrome + /usr/sbin/mDNSResponder. They
tend to go bad together.... no clues yet from the system logs.
Ironically, the crash reporter seems to fail the most often...&lt;/p&gt;
</content><category term="misc"></category><category term="googlepost"></category><category term="computer"></category></entry><entry><title>Electron-Cyclotron Masers from planets around White Dwarves</title><link href="https://keflavich.github.io/blog/electron-cyclotron-masers-from-planets-around-white-dwarves.html" rel="alternate"></link><published>2012-09-20T20:02:00-06:00</published><updated>2012-09-20T20:02:00-06:00</updated><author><name>Adam (keflavich@gmail.com)</name></author><id>tag:keflavich.github.io,2012-09-20:/blog/electron-cyclotron-masers-from-planets-around-white-dwarves.html</id><summary type="html">&lt;p&gt;I believe two departures from the stated topic become a rule rather than
an exception. OK, so this is now a blog about generally interesting
astronomical topics.
Today's topic is planets around white dwarves. First, why do we care?
Well, everyone wants to find more planets, and in this case …&lt;/p&gt;</summary><content type="html">&lt;p&gt;I believe two departures from the stated topic become a rule rather than
an exception. OK, so this is now a blog about generally interesting
astronomical topics.
Today's topic is planets around white dwarves. First, why do we care?
Well, everyone wants to find more planets, and in this case we'd be
seeing planets that survived the deaths of their host stars.
When a main sequence star like the sun reaches a certain age (around 10
billion years old for the sun), it expands and cools, becoming a red
giant. At this point, depending on a number of factors including the
mass of the star, it can engulf the planets around it. If this happens,
the planets experience a drag force (think &amp;quot;wind resistance&amp;quot;) as they
move through the star's atmosphere and they spiral in to the center,
where they burn up and are destroyed.&lt;/p&gt;
&lt;img alt="" src="http://1.bp.blogspot.com/_lsgW26mWZnU/SdexrdYSm7I/AAAAAAAAE0A/NtEciMZODrQ/s400/Picture+3.png" /&gt;
&lt;p&gt;However, if the star is just the right size and the planet is in just
the right place, something more interesting may happen. The Red Giant
phase lasts for a few hundred million years, after which it undergoes an
Asymptotic Giant Branch (AGB) phase where it alternately grows and
shrinks. During this phase, it will temporarily engulf a planet, but not
for long enough to destroy it - just long enough to move it inwards a
little bit. Of course, conditions on the planet won't be very pleasant
during this period.&lt;/p&gt;
&lt;img alt="" src="http://upload.wikimedia.org/wikipedia/commons/d/dc/Planetary_nebula_%26_white_dwarf_formation.gif" /&gt;
&lt;p&gt;As shown in the animation, the AGB phase leads into the formation of a
planetary nebula with a white dwarf at the center. If things went right,
a planet could end up close to the white dwarf after the tumultuous
period just described.
This is an exciting proposition because it opens the possibility that we
could detect the planet interacting with the White Dwarf's magnetic
field. You may recall hearing that the Earth has an iron core, which is
why it has a magnetic field surrounding it. A similar planet orbiting a
white dwarf would generate currents, and the electrons would then flow
onto the poles of the white dwarf and show up as hot spots, like on
Jupiter.&lt;/p&gt;
&lt;img alt="" src="http://www.nasa.gov/images/content/170561main_jupiter_aurora_450.jpg" /&gt;
&lt;p&gt;The hot spots would be impossible to spot by normal methods, but on
either side of the hot spots there are big lobes where the electrons
will emit radio light, which is detectable by the best radio arrays on
the ground (e.g. the &lt;a class="reference external" href="http://en.wikipedia.org/wiki/Very_Large_Array"&gt;Very Large Array&lt;/a&gt; and &lt;a class="reference external" href="http://en.wikipedia.org/wiki/LOFAR"&gt;LOFAR&lt;/a&gt;).&lt;/p&gt;
&lt;img alt="" src="http://1.bp.blogspot.com/_lsgW26mWZnU/SdetWZrqe-I/AAAAAAAAEz4/UTUaXEeeWWY/s400/WillesWuFig1.png" /&gt;
&lt;p&gt;Why should we care? Well, besides just detecting the presence of a
planet, we would be able to tell something about the conductivity of its
core, which is very difficult in any other situation. We might also be
able to say whether the planet has a magnetosphere and therefore was
Earth-like. Finally, we could say something definitive about the
eventual fate of the Earth... in about 4.5 billion years.
This post was based on papers by Andrew Willes and Kinwah Wu in &lt;a class="reference external" href="http://cdsads.u-strasbg.fr/abs/2004MNRAS.348..285W"&gt;2004&lt;/a&gt;
and &lt;a class="reference external" href="http://cdsads.u-strasbg.fr/abs/2005A%26A...432.1091W"&gt;2005&lt;/a&gt;.&lt;/p&gt;
</content><category term="misc"></category><category term="googlepost"></category><category term="exoplanets"></category></entry><entry><title>Eta Carinae</title><link href="https://keflavich.github.io/blog/eta-carinae.html" rel="alternate"></link><published>2012-09-20T20:02:00-06:00</published><updated>2012-09-20T20:02:00-06:00</updated><author><name>Adam (keflavich@gmail.com)</name></author><id>tag:keflavich.github.io,2012-09-20:/blog/eta-carinae.html</id><summary type="html">&lt;p&gt;Post #4 and I'm diverging from the purported theme. But it's Eta
Carinae, it must be discussed!
Eta Carinae is the most amazing object in the sky, in my opinion. It has
been the most active nearby (around 2 kiloparsecs, or 6000 light-years,
distant - close only relative to, say, the …&lt;/p&gt;</summary><content type="html">&lt;p&gt;Post #4 and I'm diverging from the purported theme. But it's Eta
Carinae, it must be discussed!
Eta Carinae is the most amazing object in the sky, in my opinion. It has
been the most active nearby (around 2 kiloparsecs, or 6000 light-years,
distant - close only relative to, say, the Galactic Center or other
galaxies) object in the past few centuries. In 1840 it brightened by a
few magnitudes, and it has been discovered since then that this event
was a huge explosion.
But it wasn't a 'normal' explosion. Most exploding stars blow up and die
in supernovae. Those are awesome events that sometimes completely
annihilate a star and sometimes leave a black hole or neutron star
behind.
This explosion was nearly as powerful as a supernova, but the star is
still there. And it turns out that there are TWO stars there. There are
a number of different theories going around, but this system is
incredibly difficult to observe because there's just &lt;em&gt;so much&lt;/em&gt; stuff
there.
The prevailing theory is that there are two stars, one around 80 solar
masses, the other around 20. Either one of these on its own would be
pretty big, hot, and impressive. Two together is something pretty
impressive - but actually not that uncommon.
Other pairs of hot, massive stars are observed frequently. One example
is WR 40, in which two 80 solar mass stars are orbiting one another. The
curious thing is that most of these massive stars have very circular
orbits, but in Eta Carinae the small star has a very eccentric orbit
around the large star.
One explanation for this - which is not widely accepted yet because it's
very hard to confirm, but it's plausible - is that Eta Carinae used to
be a nearly equal-mass binary system like WR40, but one of the stars
blew off its outer envelope (the outer part of the star) in a huge
explosion, and when it lost this mass its orbit changed. One bit of
evidence in favor of this hypothesis is that the small star has a very
fast wind - 3000 km/s, which is faster than any normal star's wind. Wolf
Rayet stars have winds that fast, though, and they are stars with
blown-off envelopes. It's going to take a lot of skilled observations to
confirm this, though.
Another neat thing is that the smaller star disappears on its closest
approach to the large star. Why? The large star is losing mass at a very
fast rate - about a Jupiter mass every year! That's more than a million
times as fast as the sun is losing its mass in the Solar Wind. All of
this mass loss has an interesting result - you can't see the star, you
only see the outside of its wind. But the small star passes inside the
'sphere' that is producing the wind, and so it's as though the small
star was going inside the large one! You don't see it at all during
closest approach.
I get excited about this star... I'd like to add a lot more on it, and
so you might see Luminous Blue Variables as a recurring theme on this
blog. I hope to post a lot of pictures and add some links to references
too.&lt;/p&gt;
</content><category term="misc"></category><category term="googlepost"></category><category term="stars"></category></entry><entry><title>EVLA information</title><link href="https://keflavich.github.io/blog/evla-information.html" rel="alternate"></link><published>2012-09-20T20:02:00-06:00</published><updated>2012-09-20T20:02:00-06:00</updated><author><name>Adam (keflavich@gmail.com)</name></author><id>tag:keflavich.github.io,2012-09-20:/blog/evla-information.html</id><content type="html">&lt;p&gt;It has been really hard to find EVLA information like beam size, largest
angular scale, sensitivity, etc. on the VLA pages because all of the
google searches point to old VLA information. The most useful and recent
&lt;a class="reference external" href="http://evlaguides.nrao.edu/index.php?title=Category:Status"&gt;EVLA information on beam size and largest angular scale is here&lt;/a&gt;&lt;/p&gt;
</content><category term="misc"></category><category term="googlepost"></category><category term="astronomy"></category></entry><entry><title>Explosion</title><link href="https://keflavich.github.io/blog/explosion.html" rel="alternate"></link><published>2012-09-20T20:02:00-06:00</published><updated>2012-09-20T20:02:00-06:00</updated><author><name>Adam (keflavich@gmail.com)</name></author><id>tag:keflavich.github.io,2012-09-20:/blog/explosion.html</id><summary type="html">&lt;p&gt;Our &amp;quot;Workie Ticket&amp;quot;, which was doing its primary in the carboy, popped
its top. It made a mess but should still be healthy... the yeast was
going extremely strong at the way-too-hot 78 degrees it's sitting at
this morning. It already has a fruity aroma, though, so it's likely that …&lt;/p&gt;</summary><content type="html">&lt;p&gt;Our &amp;quot;Workie Ticket&amp;quot;, which was doing its primary in the carboy, popped
its top. It made a mess but should still be healthy... the yeast was
going extremely strong at the way-too-hot 78 degrees it's sitting at
this morning. It already has a fruity aroma, though, so it's likely that
all of our brews are going to be extremely fruity. Bleh.
Our &lt;a class="reference external" href="http://casa.colorado.edu/~ginsbura/sketch_beers.htm"&gt;Honey Brown&lt;/a&gt;, which was excellent at the start, has gotten a bit
too dry and alcoholic. The first few sips have a strong flavor of
alcohol to them. However, once you get into the beer, it gains a little
bit of depth and isn't too bad... probably the alcohol talking. I think
most of the bottles are probably overcarbonated at this point, but we
only have a few left. Overall point: Honey beers need to be drunk within
about a week of bottling for peak deliciousness; apparently honey dries
out very strongly.&lt;/p&gt;
</content><category term="misc"></category><category term="googlepost"></category><category term="brewing"></category><category term="beer tasting"></category></entry><entry><title>Extracting figures from papers</title><link href="https://keflavich.github.io/blog/extracting-figures-from-papers.html" rel="alternate"></link><published>2012-09-20T20:02:00-06:00</published><updated>2012-09-20T20:02:00-06:00</updated><author><name>Adam (keflavich@gmail.com)</name></author><id>tag:keflavich.github.io,2012-09-20:/blog/extracting-figures-from-papers.html</id><summary type="html">&lt;p&gt;I want to automatically extract figures from papers, but of course most
papers come in .pdf, not .ps form...
This site has a great tool for extracting figures from .ps papers:
&lt;a class="reference external" href="http://www-hermes.desy.de/notes/extras/postscript.html"&gt;http://www-hermes.desy.de/notes/extras/postscript.html&lt;/a&gt;
If anyone can tell me how to do the same thing …&lt;/p&gt;</summary><content type="html">&lt;p&gt;I want to automatically extract figures from papers, but of course most
papers come in .pdf, not .ps form...
This site has a great tool for extracting figures from .ps papers:
&lt;a class="reference external" href="http://www-hermes.desy.de/notes/extras/postscript.html"&gt;http://www-hermes.desy.de/notes/extras/postscript.html&lt;/a&gt;
If anyone can tell me how to do the same thing for .pdfs (automatically
extract figures from pdfs) I'd appreciate it.
Update 12/13/08: One solution is listed at
&lt;a class="reference external" href="http://ubuntuforums.org/showthread.php?t=884002"&gt;http://ubuntuforums.org/showthread.php?t=884002&lt;/a&gt;: use pdfimages, part
of the xpdf package.&lt;/p&gt;
</content><category term="misc"></category><category term="googlepost"></category><category term="computer"></category><category term="postscript"></category></entry><entry><title>Failure to compile 64 bit gtk on mac os</title><link href="https://keflavich.github.io/blog/failure-to-compile-64-bit-gtk-on-mac-os.html" rel="alternate"></link><published>2012-09-20T20:02:00-06:00</published><updated>2012-09-20T20:02:00-06:00</updated><author><name>Adam (keflavich@gmail.com)</name></author><id>tag:keflavich.github.io,2012-09-20:/blog/failure-to-compile-64-bit-gtk-on-mac-os.html</id><summary type="html">&lt;p&gt;Attempted to install gtk+-2.17.2 on my mac. Had to install:
&lt;tt class="docutils literal"&gt;&lt;span class="pre"&gt;glib-2.21.2&lt;/span&gt;&lt;/tt&gt;
which would not let me compile with multiple architectures, and
&lt;tt class="docutils literal"&gt;&lt;span class="pre"&gt;pkgconfig-0.9.0,&lt;/span&gt;&lt;/tt&gt;
which won't configure because:
&lt;tt class="docutils literal"&gt;configure: configuring in &lt;span class="pre"&gt;glib-1.2.8configure:&lt;/span&gt; running /bin/sh &lt;span class="pre"&gt;'./configure'&lt;/span&gt; &lt;span class="pre"&gt;--prefix=/usr/local&lt;/span&gt;&amp;nbsp; CC= CFLAGS= LDFLAGS= &lt;span class="pre"&gt;--cache-file …&lt;/span&gt;&lt;/tt&gt;&lt;/p&gt;</summary><content type="html">&lt;p&gt;Attempted to install gtk+-2.17.2 on my mac. Had to install:
&lt;tt class="docutils literal"&gt;&lt;span class="pre"&gt;glib-2.21.2&lt;/span&gt;&lt;/tt&gt;
which would not let me compile with multiple architectures, and
&lt;tt class="docutils literal"&gt;&lt;span class="pre"&gt;pkgconfig-0.9.0,&lt;/span&gt;&lt;/tt&gt;
which won't configure because:
&lt;tt class="docutils literal"&gt;configure: configuring in &lt;span class="pre"&gt;glib-1.2.8configure:&lt;/span&gt; running /bin/sh &lt;span class="pre"&gt;'./configure'&lt;/span&gt; &lt;span class="pre"&gt;--prefix=/usr/local&lt;/span&gt;&amp;nbsp; CC= CFLAGS= LDFLAGS= &lt;span class="pre"&gt;--cache-file=/dev/null&lt;/span&gt; &lt;span class="pre"&gt;--srcdir=.configure:&lt;/span&gt; warning: CC=: invalid host typeconfigure: warning: CFLAGS=: invalid host typeconfigure: error: can only configure for one host and one target at a timeconfigure: error: /bin/sh &lt;span class="pre"&gt;'./configure'&lt;/span&gt; failed for &lt;span class="pre"&gt;glib-1.2.8&lt;/span&gt;&lt;/tt&gt;
which is bs because I don't have any compiler flags set.&lt;/p&gt;
&lt;p&gt;So, gtk+ seems hopeless.
UPDATE: 0.9.0 is not the latest version, 0.23.0 is. Dumb version
numbering.&lt;/p&gt;
&lt;p&gt;GTK is absurd to install. You need:&lt;/p&gt;
&lt;blockquote&gt;
&lt;ul class="simple"&gt;
&lt;li&gt;pkg-config&lt;/li&gt;
&lt;li&gt;glib&lt;/li&gt;
&lt;li&gt;cairo&lt;/li&gt;
&lt;li&gt;pixman&lt;/li&gt;
&lt;li&gt;pango (MUST be installed AFTER cairo)&lt;/li&gt;
&lt;li&gt;&lt;a class="reference external" href="http://ftp.gnome.org/pub/gnome/sources/atk/"&gt;atk&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a class="reference external" href="ftp://ftp.remotesensing.org/pub/libtiff/"&gt;libtiff&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a class="reference external" href="http://www.ijg.org/"&gt;libjpg&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a class="reference external" href="http://www.openjpeg.org/index.php"&gt;jpeg2000&lt;/a&gt; - but I just passed a flag to not do this because it didn't install right. &lt;tt class="docutils literal"&gt;&lt;span class="pre"&gt;--without-libjasper&lt;/span&gt;&lt;/tt&gt;&lt;/li&gt;
&lt;li&gt;&lt;a class="reference external" href="http://fontconfig.org/wiki/"&gt;fontconfig&lt;/a&gt; I mean, really? at this point it's just ridiculous....&lt;/li&gt;
&lt;/ul&gt;
&lt;/blockquote&gt;
&lt;p&gt;and finally, it died with this:
checking Pango flags... configure: error:&lt;/p&gt;
&lt;dl class="docutils"&gt;
&lt;dt&gt;::&lt;/dt&gt;
&lt;dd&gt;*** Pango not found. Pango built with Cairo support is required
*** to build GTK+. See &lt;a class="reference external" href="http://www.pango.org"&gt;http://www.pango.org&lt;/a&gt; for Pango information.&lt;/dd&gt;
&lt;/dl&gt;
&lt;p&gt;which meant that I had to reinstall Pango because I had installed it
before Cairo.&lt;/p&gt;
&lt;p&gt;I believe this is where the term &lt;a class="reference external" href="http://en.wikipedia.org/wiki/Dependency_hell"&gt;dependency hell&lt;/a&gt; comes from.&lt;/p&gt;
&lt;p&gt;Also, I don't think any of these are x86-64 compatible.&lt;/p&gt;
&lt;p&gt;Then I'm STILL not done.
PyGTK dies with an import error on dsextras, which a painful google
search traces to pygobject. pygobject makes and installs fine.... but
then I find out it installed to
/usr/local/lib/python2.6/site-packages/gtk-2.0/, which is obviously not
on my python path since I installed a framework.&lt;/p&gt;
&lt;p&gt;So:
&lt;tt class="docutils literal"&gt;./configure &lt;span class="pre"&gt;--prefix=/Library/Frameworks/Python.framework/Versions/2.6/&lt;/span&gt;&lt;/tt&gt;
in both pygobject and pygtk.&lt;/p&gt;
&lt;p&gt;Oh, guess what? Need pycairo too. What happens there? What you'd guess:&lt;/p&gt;
&lt;pre class="literal-block"&gt;
ld warning: in /Developer/SDKs/MacOSX10.5.sdk/usr/local/lib/libcairo.dylib, file is not of required architecture
&lt;/pre&gt;
&lt;p&gt;so when I configure pygtk:&lt;/p&gt;
&lt;dl class="docutils"&gt;
&lt;dt&gt;The following modules will be built:&lt;/dt&gt;
&lt;dd&gt;&lt;ul class="first last simple"&gt;
&lt;li&gt;atk&lt;/li&gt;
&lt;li&gt;pango&lt;/li&gt;
&lt;/ul&gt;
&lt;/dd&gt;
&lt;dt&gt;The following modules will NOT be built:&lt;/dt&gt;
&lt;dd&gt;&lt;ul class="first last simple"&gt;
&lt;li&gt;pangocairo&lt;/li&gt;
&lt;li&gt;gtk&lt;/li&gt;
&lt;li&gt;gtk.glade&lt;/li&gt;
&lt;li&gt;gtk.unixprint&lt;/li&gt;
&lt;/ul&gt;
&lt;/dd&gt;
&lt;/dl&gt;
&lt;p&gt;Damn. That blows.&lt;/p&gt;
&lt;pre class="literal-block"&gt;
python-64 -c &amp;quot;import gtk&amp;quot;
ImportError:
dlopen(/Library/Frameworks/Python.framework/Versions/2.6/lib/python2.6/site-packages/gtk-2.0/glib/\_glib.so,
2): no suitable image found. Did find:

/Library/Frameworks/Python.framework/Versions/2.6/lib/python2.6/site-packages/gtk-2.0/glib/\_glib.so:
mach-o, but wrong architecture
&lt;/pre&gt;
&lt;p&gt;FAIL.&lt;/p&gt;
</content><category term="misc"></category><category term="googlepost"></category><category term="computer"></category></entry><entry><title>fermentation</title><link href="https://keflavich.github.io/blog/fermentation.html" rel="alternate"></link><published>2012-09-20T20:02:00-06:00</published><updated>2012-09-20T20:02:00-06:00</updated><author><name>Adam (keflavich@gmail.com)</name></author><id>tag:keflavich.github.io,2012-09-20:/blog/fermentation.html</id><content type="html">&lt;p&gt;ideas + beer. Same process. They catalyze each other.&lt;/p&gt;
</content><category term="misc"></category><category term="googlepost"></category><category term="beer"></category></entry><entry><title>figure*</title><link href="https://keflavich.github.io/blog/figure.html" rel="alternate"></link><published>2012-09-20T20:02:00-06:00</published><updated>2012-09-20T20:02:00-06:00</updated><author><name>Adam (keflavich@gmail.com)</name></author><id>tag:keflavich.github.io,2012-09-20:/blog/figure.html</id><content type="html">&lt;p&gt;to make figures/deluxetables span the page in LaTeX:
\begin{figure*}
...
\end{figure*}&lt;/p&gt;
</content><category term="misc"></category><category term="googlepost"></category><category term="latex"></category></entry><entry><title>Filled step plots in matplotlib</title><link href="https://keflavich.github.io/blog/filled-step-plots-in-matplotlib.html" rel="alternate"></link><published>2012-09-20T20:02:00-06:00</published><updated>2012-09-20T20:02:00-06:00</updated><author><name>Adam (keflavich@gmail.com)</name></author><id>tag:keflavich.github.io,2012-09-20:/blog/filled-step-plots-in-matplotlib.html</id><summary type="html">&lt;p&gt;&lt;p&gt;It's not possible to do a simple filled step plot in matplotlib using
default
commands. Workaround:&lt;/p&gt;
&lt;pre class="literal-block"&gt;
def steppify(arr,isX=False,interval=0):    &amp;quot;&amp;quot;&amp;quot;    Converts an array to double-length for step plotting    &amp;quot;&amp;quot;&amp;quot;    if isX and interval==0:        interval = abs(arr[1]-arr[0]) / 2.0        newarr = array(zip(arr-interval,arr+interval …&lt;/pre&gt;&lt;/p&gt;</summary><content type="html">&lt;p&gt;&lt;p&gt;It's not possible to do a simple filled step plot in matplotlib using
default
commands. Workaround:&lt;/p&gt;
&lt;pre class="literal-block"&gt;
def steppify(arr,isX=False,interval=0):    &amp;quot;&amp;quot;&amp;quot;    Converts an array to double-length for step plotting    &amp;quot;&amp;quot;&amp;quot;    if isX and interval==0:        interval = abs(arr[1]-arr[0]) / 2.0        newarr = array(zip(arr-interval,arr+interval)).ravel()        return newarrplot(xx,yy,linestyle='steps-mid',color='b',linewidth=1.5)fill_between(steppify(xx[x1:x2],isX=True),    steppify(yy[x1:x2])*0,    steppify(yy[x1:x2]),    facecolor='b',alpha=0.2)
&lt;/pre&gt;
&lt;/p&gt;</content><category term="misc"></category><category term="googlepost"></category><category term="matplotlib"></category><category term="python"></category></entry><entry><title>finally got matplotlib to install...</title><link href="https://keflavich.github.io/blog/finally-got-matplotlib-to-install.html" rel="alternate"></link><published>2012-09-20T20:02:00-06:00</published><updated>2012-09-20T20:02:00-06:00</updated><author><name>Adam (keflavich@gmail.com)</name></author><id>tag:keflavich.github.io,2012-09-20:/blog/finally-got-matplotlib-to-install.html</id><summary type="html">&lt;p&gt;the key is reading the readme, not just the make.osx file.&lt;/p&gt;
&lt;p&gt;These commands Just Work:
&lt;tt class="docutils literal"&gt;make &lt;span class="pre"&gt;-f&lt;/span&gt; make.osx PYVERSION=2.6 &lt;span class="pre"&gt;PREFIX=/Users/adam/repos/mpl_dependencies/&lt;/span&gt; fetch deps mpl_install_stdmake &lt;span class="pre"&gt;-f&lt;/span&gt; make.osx PYVERSION=2.7 &lt;span class="pre"&gt;PREFIX=/Users/adam/repos/mpl_dependencies/&lt;/span&gt; fetch deps mpl_install …&lt;/tt&gt;&lt;/p&gt;</summary><content type="html">&lt;p&gt;the key is reading the readme, not just the make.osx file.&lt;/p&gt;
&lt;p&gt;These commands Just Work:
&lt;tt class="docutils literal"&gt;make &lt;span class="pre"&gt;-f&lt;/span&gt; make.osx PYVERSION=2.6 &lt;span class="pre"&gt;PREFIX=/Users/adam/repos/mpl_dependencies/&lt;/span&gt; fetch deps mpl_install_stdmake &lt;span class="pre"&gt;-f&lt;/span&gt; make.osx PYVERSION=2.7 &lt;span class="pre"&gt;PREFIX=/Users/adam/repos/mpl_dependencies/&lt;/span&gt; fetch deps mpl_install_std&lt;/tt&gt;&lt;/p&gt;
&lt;p&gt;while, e.g., this one:
&lt;tt class="docutils literal"&gt;make &lt;span class="pre"&gt;-f&lt;/span&gt; make.osx PYVERSION=2.6 &lt;span class="pre"&gt;PREFIX=/Users/adam/repos/mpl_dependencies/&lt;/span&gt; fetch deps mpl_install&lt;/tt&gt;
didn't. I guess because that one doesn't actually install anything.&lt;/p&gt;
</content><category term="misc"></category><category term="googlepost"></category><category term="matplotlib"></category><category term="computer"></category></entry><entry><title>find and xargs</title><link href="https://keflavich.github.io/blog/find-and-xargs.html" rel="alternate"></link><published>2012-09-20T20:02:00-06:00</published><updated>2012-09-20T20:02:00-06:00</updated><author><name>Adam (keflavich@gmail.com)</name></author><id>tag:keflavich.github.io,2012-09-20:/blog/find-and-xargs.html</id><content type="html">&lt;p&gt;&lt;a class="reference external" href="http://www.kalamazoolinux.org/tech/find.html"&gt;pretty useful info on find and xargs&lt;/a&gt;, e.g.
&lt;tt class="docutils literal"&gt;find /scratch/adam_work/ &lt;span class="pre"&gt;-name&lt;/span&gt; 'mmm*sav' | xargs rm&lt;/tt&gt;&lt;/p&gt;
</content><category term="misc"></category><category term="googlepost"></category><category term="computer"></category></entry><entry><title>First!</title><link href="https://keflavich.github.io/blog/first.html" rel="alternate"></link><published>2012-09-20T20:02:00-06:00</published><updated>2012-09-20T20:02:00-06:00</updated><author><name>Adam (keflavich@gmail.com)</name></author><id>tag:keflavich.github.io,2012-09-20:/blog/first.html</id><content type="html">&lt;p&gt;First post by &lt;a class="reference external" href="http://casa.colorado.edu/~ginsbura/index.htm"&gt;me&lt;/a&gt; on my own BLDG! I should transition to this address
eventually...&lt;/p&gt;
</content><category term="misc"></category><category term="googlepost"></category><category term="blog"></category></entry><entry><title>First paper accepted</title><link href="https://keflavich.github.io/blog/first-paper-accepted.html" rel="alternate"></link><published>2012-09-20T20:02:00-06:00</published><updated>2012-09-20T20:02:00-06:00</updated><author><name>Adam (keflavich@gmail.com)</name></author><id>tag:keflavich.github.io,2012-09-20:/blog/first-paper-accepted.html</id><summary type="html">&lt;p&gt;&lt;a class="reference external" href="http://casa.colorado.edu/~ginsbura/iras05358.htm"&gt;My Comps II paper on IRAS 05358+3543&lt;/a&gt; was accepted by ApJ on
Wednesday. It will show up on arxiv in a few days and I'll post the link
then. Unfortunately, there were significant problems rendering the
paper, so I recommend downloading my version.
Also, working on the HISA KDA …&lt;/p&gt;</summary><content type="html">&lt;p&gt;&lt;a class="reference external" href="http://casa.colorado.edu/~ginsbura/iras05358.htm"&gt;My Comps II paper on IRAS 05358+3543&lt;/a&gt; was accepted by ApJ on
Wednesday. It will show up on arxiv in a few days and I'll post the link
then. Unfortunately, there were significant problems rendering the
paper, so I recommend downloading my version.
Also, working on the HISA KDA... &lt;a class="reference external" href="http://eta.colorado.edu/cutouts/"&gt;I have a nice section of cutouts&lt;/a&gt;&lt;/p&gt;
</content><category term="misc"></category><category term="googlepost"></category><category term="astronomy"></category></entry><entry><title>FITS manipuation with imagemagick, gimp, etc.</title><link href="https://keflavich.github.io/blog/fits-manipuation-with-imagemagick-gimp-etc.html" rel="alternate"></link><published>2012-09-20T20:02:00-06:00</published><updated>2012-09-20T20:02:00-06:00</updated><author><name>Adam (keflavich@gmail.com)</name></author><id>tag:keflavich.github.io,2012-09-20:/blog/fits-manipuation-with-imagemagick-gimp-etc.html</id><summary type="html">&lt;p&gt;It is possible to convert .fits files to .png, .jpg, etc:
`` convert -normalize a.fits a.png ``
To get things to come out nicely, you have to do the scaling essentially
by hand in python/idl/iraf. DS9 is only useful for finding out what
scaling you want to use …&lt;/p&gt;</summary><content type="html">&lt;p&gt;It is possible to convert .fits files to .png, .jpg, etc:
`` convert -normalize a.fits a.png ``
To get things to come out nicely, you have to do the scaling essentially
by hand in python/idl/iraf. DS9 is only useful for finding out what
scaling you want to use; past that it's pretty much not useable.
To make colors look nice in the GIMP, use solid background layers with
your image as the alpha mask. Then put your image in with itself as an
alpha mask so you can easily control the whiteness (saturation) of the
color you've selected.
I'll be blogging about this more as I prep my next entry for the NRAO
photo contest.&lt;/p&gt;
</content><category term="misc"></category><category term="googlepost"></category><category term="photo"></category><category term="unix"></category></entry><entry><title>Galactic Formaldehyde Densitometry Project</title><link href="https://keflavich.github.io/blog/galactic-formaldehyde-densitometry-project.html" rel="alternate"></link><published>2012-09-20T20:02:00-06:00</published><updated>2012-09-20T20:02:00-06:00</updated><author><name>Adam (keflavich@gmail.com)</name></author><id>tag:keflavich.github.io,2012-09-20:/blog/galactic-formaldehyde-densitometry-project.html</id><summary type="html">&lt;p&gt;The Galactic Formaldehyde Densitometry Project is finally official and
on its way. I am PI of a joint Arecibo / Green Bank Telescope project to
survey formaldehyde, H2CO, in a sample of ~400 &amp;quot;dust clumps&amp;quot; in the
Galactic Plane. The clumps represent condensations within larger
molecular clouds that are likely to …&lt;/p&gt;</summary><content type="html">&lt;p&gt;The Galactic Formaldehyde Densitometry Project is finally official and
on its way. I am PI of a joint Arecibo / Green Bank Telescope project to
survey formaldehyde, H2CO, in a sample of ~400 &amp;quot;dust clumps&amp;quot; in the
Galactic Plane. The clumps represent condensations within larger
molecular clouds that are likely to be forming stars, particularly
massive stars and star clusters.
Formaldehyde is uniquely useful for measuring densities of these gas
clumps. Because of a collisional selection effect, the low-lying
K-doublet transitions of H2CO undergo &amp;quot;anti-inversion&amp;quot;, which means
their lower-energy states are overpopulated relative to the higher
states, and it can therefore be seen in absorption against the cosmic
microwave background. This unique property removes a key bias present in
emission line studies in which variable excitation conditions can
dominate the observability of a line.
For the next few posts, I will include calibration and data reduction
information from the observations in this survey. The Green Bank
observations are well underway, with nearly half of the sources observed
(though many at poor sensitivity) and the Arecibo observations have been
approved.&lt;/p&gt;
</content><category term="misc"></category><category term="googlepost"></category><category term="formaldehyde"></category></entry><entry><title>Galaxy Map</title><link href="https://keflavich.github.io/blog/galaxy-map.html" rel="alternate"></link><published>2012-09-20T20:02:00-06:00</published><updated>2012-09-20T20:02:00-06:00</updated><author><name>Adam (keflavich@gmail.com)</name></author><id>tag:keflavich.github.io,2012-09-20:/blog/galaxy-map.html</id><content type="html">&lt;p&gt;If you're ever interested in seeing a face-on view of the Milky Way,
check out the &lt;a class="reference external" href="http://www.spitzer.caltech.edu/Media/releases/ssc2008-10/index.shtml"&gt;Spitzer press release&lt;/a&gt;. This link is very surprisingly
hard to find on google.&lt;/p&gt;
</content><category term="misc"></category><category term="googlepost"></category><category term="astronomy"></category></entry><entry><title>Ghostscript error?</title><link href="https://keflavich.github.io/blog/ghostscript-error.html" rel="alternate"></link><published>2012-09-20T20:02:00-06:00</published><updated>2012-09-20T20:02:00-06:00</updated><author><name>Adam (keflavich@gmail.com)</name></author><id>tag:keflavich.github.io,2012-09-20:/blog/ghostscript-error.html</id><summary type="html">&lt;p&gt;&lt;p&gt;I've been receiving the following error when attempting to compile
(ps2pdf) my w5 outflows paper:&lt;/p&gt;
&lt;pre class="literal-block"&gt;
Error: /rangecheck in --get--Operand stack:   pdfmark   --dict:20/25(ro)(L)--   --nostringval--   50Execution stack:   %interp_exit   .runexec2   --nostringval--   --nostringval--   --nostringval--   2   %stopped_push   --nostringval--   --nostringval--   --nostringval--   false   1   %stopped_push   1878   1   3   %oparray_pop …&lt;/pre&gt;&lt;/p&gt;</summary><content type="html">&lt;p&gt;&lt;p&gt;I've been receiving the following error when attempting to compile
(ps2pdf) my w5 outflows paper:&lt;/p&gt;
&lt;pre class="literal-block"&gt;
Error: /rangecheck in --get--Operand stack:   pdfmark   --dict:20/25(ro)(L)--   --nostringval--   50Execution stack:   %interp_exit   .runexec2   --nostringval--   --nostringval--   --nostringval--   2   %stopped_push   --nostringval--   --nostringval--   --nostringval--   false   1   %stopped_push   1878   1   3   %oparray_pop   1877   1   3   %oparray_pop   1861   1   3   %oparray_pop   1755   1   3   %oparray_pop   --nostringval--   %errorexec_pop   .runexec2   --nostringval--   --nostringval--   --nostringval--   2   %stopped_push   --nostringval--   %finish_show   --nostringval--   --nostringval--   8   6   1   --nostringval--   (pdf_text_enum_t)   %op_show_continue   --nostringval--Dictionary stack:   --dict:1153/1684(ro)(G)--   --dict:0/20(G)--   --dict:71/200(L)--   --dict:125/300(L)--   --dict:44/200(L)--   --dict:138/224(L)--Current allocation mode is localLast OS error: 2Current file position is 267478928GPL Ghostscript 8.71: Unrecoverable error, exit code 1
&lt;/pre&gt;
&lt;p&gt;I get the same error with Ghostscript 8.64, but on my laptop, using the
fink version, it works. Similarly, there are errors with the postscript,
so I'm led to believe it's an error in latex:&lt;/p&gt;
&lt;pre class="literal-block"&gt;
$ latex --versionpdfTeX 3.1415926-1.40.10-2.2 (TeX Live 2009)kpathsea version 5.0.0Copyright 2009 Peter Breitenlohner (eTeX)/Han The Thanh (pdfTeX).There is NO warranty.  Redistribution of this software iscovered by the terms of both the pdfTeX copyright andthe Lesser GNU General Public License.For more information about these matters, see the filenamed COPYING and the pdfTeX source.Primary author of pdfTeX: Peter Breitenlohner (eTeX)/Han The Thanh (pdfTeX).Compiled with libpng 1.2.39; using libpng 1.2.39Compiled with zlib 1.2.3; using zlib 1.2.3Compiled with xpdf version 3.02pl3
&lt;/pre&gt;
&lt;p&gt;No idea what the cause is but it's time to start documenting steps and
looking for a workaround. Compiling on the lappy isn't a good option.&lt;/p&gt;
&lt;/p&gt;</content><category term="misc"></category><category term="googlepost"></category><category term="latex"></category><category term="postscript"></category></entry><entry><title>Gildas CLASS</title><link href="https://keflavich.github.io/blog/gildas-class.html" rel="alternate"></link><published>2012-09-20T20:02:00-06:00</published><updated>2012-09-20T20:02:00-06:00</updated><author><name>Adam (keflavich@gmail.com)</name></author><id>tag:keflavich.github.io,2012-09-20:/blog/gildas-class.html</id><summary type="html">&lt;p&gt;It's absurdly difficult to find help on GILDAS Class, probably because
you can't google &amp;quot;class&amp;quot; and most people probably don't label every
piece of code with &amp;quot;GILDAS class&amp;quot;.
Anyway, here are some scripts that I refer back to often:
&lt;tt class="docutils literal"&gt;file in August2009BGPS.datfile out August2009fits.dat multipleon error &amp;quot;file out …&lt;/tt&gt;&lt;/p&gt;</summary><content type="html">&lt;p&gt;It's absurdly difficult to find help on GILDAS Class, probably because
you can't google &amp;quot;class&amp;quot; and most people probably don't label every
piece of code with &amp;quot;GILDAS class&amp;quot;.
Anyway, here are some scripts that I refer back to often:
&lt;tt class="docutils literal"&gt;file in August2009BGPS.datfile out August2009fits.dat multipleon error &amp;quot;file out August2009fits.dat&amp;quot;say &amp;quot;READ IN FILES&amp;quot;define character sourcelist*10[300]accept sourcelist /column observed_sources.txton error &amp;quot;continue&amp;quot;get 1001set window &lt;span class="pre"&gt;-100&lt;/span&gt; 160set mask &lt;span class="pre"&gt;-400&lt;/span&gt; &lt;span class="pre"&gt;-100&lt;/span&gt; 160 400set mode x &lt;span class="pre"&gt;-400&lt;/span&gt; 400set align velocityfor i 1 to 161&amp;nbsp;&amp;nbsp;&amp;nbsp; say &amp;quot;Working on SOURCE &amp;quot;'i'&amp;nbsp;&amp;nbsp;&amp;nbsp; find /source 'sourcelist[i]' /telescope &amp;quot;CSO 4GHZ IF1&amp;quot; /offset 0 0 /quality 5&amp;nbsp;&amp;nbsp;&amp;nbsp; average&amp;nbsp;&amp;nbsp;&amp;nbsp; on error &amp;quot;&amp;#64;avplot2 'sourcelist[i]' 'i'; next&amp;quot;&amp;nbsp;&amp;nbsp;&amp;nbsp; base 3&amp;nbsp;&amp;nbsp;&amp;nbsp; line 0&amp;nbsp;&amp;nbsp;&amp;nbsp; min&amp;nbsp;&amp;nbsp;&amp;nbsp; plot&amp;nbsp;&amp;nbsp;&amp;nbsp; vis&amp;nbsp;&amp;nbsp;&amp;nbsp; write i!&amp;nbsp;&amp;nbsp;&amp;nbsp; on error &amp;quot;continue&amp;quot;next&lt;/tt&gt;
and
&lt;tt class="docutils literal"&gt;file in &lt;span class="pre"&gt;araya-2004.clsfinddefine&lt;/span&gt; character filename*20for i 1 to 20&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp; say &amp;quot;Working on source &amp;quot;'i'&amp;nbsp;&amp;nbsp;&amp;nbsp; get next&amp;nbsp;&amp;nbsp;&amp;nbsp; let filename &lt;span class="pre"&gt;&amp;quot;araya-2004_&amp;quot;'i'&amp;quot;.fits&amp;quot;&lt;/span&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp; say &amp;quot;fits write &amp;quot;'filename'&amp;quot; /mode spectrum&amp;quot;&amp;nbsp;&amp;nbsp;&amp;nbsp; fits write 'filename' /mode spectrumnext!file in &lt;span class="pre"&gt;araya-2002.cls!find!define&lt;/span&gt; character filename*20!for i 1 to 42 !&amp;nbsp;&amp;nbsp;&amp;nbsp; say &amp;quot;Working on source &amp;quot;'i'!&amp;nbsp;&amp;nbsp;&amp;nbsp; get i!&amp;nbsp;&amp;nbsp;&amp;nbsp; let filename &lt;span class="pre"&gt;&amp;quot;araya-2002_&amp;quot;'i'&amp;quot;.fits&amp;quot;&lt;/span&gt; !&amp;nbsp;&amp;nbsp;&amp;nbsp; say &amp;quot;fits write &amp;quot;'filename'&amp;quot; /mode spectrum&amp;quot;!&amp;nbsp;&amp;nbsp;&amp;nbsp; fits write 'filename' /mode spectrum!next&lt;/tt&gt;&lt;/p&gt;
</content><category term="misc"></category><category term="googlepost"></category><category term="class"></category></entry><entry><title>Histogram in Google Spreadsheet</title><link href="https://keflavich.github.io/blog/histogram-in-google-spreadsheet.html" rel="alternate"></link><published>2012-09-20T20:02:00-06:00</published><updated>2012-09-20T20:02:00-06:00</updated><author><name>Adam (keflavich@gmail.com)</name></author><id>tag:keflavich.github.io,2012-09-20:/blog/histogram-in-google-spreadsheet.html</id><summary type="html">&lt;p&gt;It's not easy to make a histogram in google spreadsheets without
replicating data. The &amp;quot;countif&amp;quot; function would be great, except it only
allows very simple criteria. However, there's a workaround:
=count(Filter('Grades'!V2:V30,'Grades'!V2:V30&amp;gt;0.9))
=count(Filter('Grades'!V2:V30,'Grades'!V2:V30&amp;lt;0.9 …&lt;/p&gt;</summary><content type="html">&lt;p&gt;It's not easy to make a histogram in google spreadsheets without
replicating data. The &amp;quot;countif&amp;quot; function would be great, except it only
allows very simple criteria. However, there's a workaround:
=count(Filter('Grades'!V2:V30,'Grades'!V2:V30&amp;gt;0.9))
=count(Filter('Grades'!V2:V30,'Grades'!V2:V30&amp;lt;0.9,'Grades'!V2:V30&amp;gt;0.8))
The Filter() function returns an array, which can be operated on like
any other set of cells.
It's still not easy to make a nice-looking histogram, but the output of
this process is at least usable.&lt;/p&gt;
</content><category term="misc"></category><category term="googlepost"></category><category term="spreadsheet"></category></entry><entry><title>Hosting on my mac</title><link href="https://keflavich.github.io/blog/hosting-on-my-mac.html" rel="alternate"></link><published>2012-09-20T20:02:00-06:00</published><updated>2012-09-20T20:02:00-06:00</updated><author><name>Adam (keflavich@gmail.com)</name></author><id>tag:keflavich.github.io,2012-09-20:/blog/hosting-on-my-mac.html</id><summary type="html">&lt;p&gt;I'm hosting my website off my mac; it should be accessible to the
outside world now: &lt;a class="reference external" href="http://eta.colorado.edu/"&gt;eta.colorado.edu&lt;/a&gt;.
A few things went into this....&lt;/p&gt;
&lt;ol class="arabic simple"&gt;
&lt;li&gt;Don't install the fink version. The two versions clash and depending
on how you access your computer you could end up looking at entirely
different …&lt;/li&gt;&lt;/ol&gt;</summary><content type="html">&lt;p&gt;I'm hosting my website off my mac; it should be accessible to the
outside world now: &lt;a class="reference external" href="http://eta.colorado.edu/"&gt;eta.colorado.edu&lt;/a&gt;.
A few things went into this....&lt;/p&gt;
&lt;ol class="arabic simple"&gt;
&lt;li&gt;Don't install the fink version. The two versions clash and depending
on how you access your computer you could end up looking at entirely
different directories (e.g. localhost and eta.colorado.edu referred
to different sites for a while)&lt;/li&gt;
&lt;li&gt;The configuration file is /private/etc/apache2/httpd.conf&lt;/li&gt;
&lt;li&gt;I needed to change DirectoryIndex to index.htm (from index.html)&lt;/li&gt;
&lt;li&gt;uncommmented &amp;quot;LoadModule php5_module libexec/apache2/libphp5.so&amp;quot;&lt;/li&gt;
&lt;li&gt;had to allow override so that .htaccess files would work.&lt;/li&gt;
&lt;/ol&gt;
&lt;/p&gt;</content><category term="misc"></category><category term="googlepost"></category><category term="computer"></category></entry><entry><title>How do I print a multi-page postscript?</title><link href="https://keflavich.github.io/blog/how-do-i-print-a-multi-page-postscript.html" rel="alternate"></link><published>2012-09-20T20:02:00-06:00</published><updated>2012-09-20T20:02:00-06:00</updated><author><name>Adam (keflavich@gmail.com)</name></author><id>tag:keflavich.github.io,2012-09-20:/blog/how-do-i-print-a-multi-page-postscript.html</id><summary type="html">&lt;p&gt;I want to print a multi-page postscript duplexed and, if possible, two
per page. pstopng, pstopdf, and the variants failed me horribly by
making postscripts that don't fit the bounding box at all. Any ideas?
So far the best I've come up with is switching gnuplot's output to pdf,
which …&lt;/p&gt;</summary><content type="html">&lt;p&gt;I want to print a multi-page postscript duplexed and, if possible, two
per page. pstopng, pstopdf, and the variants failed me horribly by
making postscripts that don't fit the bounding box at all. Any ideas?
So far the best I've come up with is switching gnuplot's output to pdf,
which is a workaround rather than a solution, but is useful nonetheless:
&lt;tt class="docutils literal"&gt;set terminal pdf enhanced dashed&lt;/tt&gt;&lt;/p&gt;
</content><category term="misc"></category><category term="googlepost"></category><category term="gnuplot"></category><category term="computer"></category><category term="postscript"></category></entry><entry><title>How to make a pretty image</title><link href="https://keflavich.github.io/blog/how-to-make-a-pretty-image.html" rel="alternate"></link><published>2012-09-20T20:02:00-06:00</published><updated>2012-09-20T20:02:00-06:00</updated><author><name>Adam (keflavich@gmail.com)</name></author><id>tag:keflavich.github.io,2012-09-20:/blog/how-to-make-a-pretty-image.html</id><summary type="html">&lt;p&gt;The most difficult requirement to satisfy is WCS matching. Each image
has to be in exactly the same pixel space in order to overlay them
successfully in an image program. The process is generally to use
Montage's mProject to project the images into the same plane, then mAdd
with a …&lt;/p&gt;</summary><content type="html">&lt;p&gt;The most difficult requirement to satisfy is WCS matching. Each image
has to be in exactly the same pixel space in order to overlay them
successfully in an image program. The process is generally to use
Montage's mProject to project the images into the same plane, then mAdd
with a blank map of a given size so that the dimensions in pixels are
identical.
Once that's done, I load the images into GIMP. However, GIMP reads .fits
files as 256 bit data - which is essentially useless because most
(interesting) images have a dynamical range &amp;gt;~1000. So I usually make
images emphasizing the faint emission in log scale with the high and low
ends cut off (I use DS9 to determine high/low). I make a second copy
showing the details of the very bright regions, again in logscale but it
ends up being a different log scale - essentially, my transfer function
becomes a broken power law.
The tricks in GIMP are numerous, but primarily two:
1. Rotate the color table ~60 degrees
2. Use images as &amp;quot;Layer Masks&amp;quot; (aka alpha layers) on a solid color
background
There's also the nice trick when using radio data of using optical or
some other wavelength to provide the high-resolution details, while the
radio emission provides the intensity.&lt;/p&gt;
</content><category term="misc"></category><category term="googlepost"></category><category term="photo"></category></entry><entry><title>IDL array indexing</title><link href="https://keflavich.github.io/blog/idl-array-indexing.html" rel="alternate"></link><published>2012-09-20T20:02:00-06:00</published><updated>2012-09-20T20:02:00-06:00</updated><author><name>Adam (keflavich@gmail.com)</name></author><id>tag:keflavich.github.io,2012-09-20:/blog/idl-array-indexing.html</id><content type="html">&lt;p&gt;&lt;tt class="docutils literal"&gt;array_indices(array, location)&lt;/tt&gt;
instead of that x mod n_e(), y / n_e() crap&lt;/p&gt;
</content><category term="misc"></category><category term="googlepost"></category><category term="computer"></category></entry><entry><title>IDL colors</title><link href="https://keflavich.github.io/blog/idl-colors.html" rel="alternate"></link><published>2012-09-20T20:02:00-06:00</published><updated>2012-09-20T20:02:00-06:00</updated><author><name>Adam (keflavich@gmail.com)</name></author><id>tag:keflavich.github.io,2012-09-20:/blog/idl-colors.html</id><summary type="html">&lt;p&gt;&lt;p&gt;To get IDL colors to 'work right' (i.e. a colortable has 255 colors
etc), put this in a startup file:&lt;/p&gt;
&lt;pre class="literal-block"&gt;
device, true_color = 24, retain = 2, decompose = 0red = [0,1,1,0,0,1]green = [0,1,0,1,0,1]blue = [0,1,0,0,1,0]if …&lt;/pre&gt;&lt;/p&gt;</summary><content type="html">&lt;p&gt;&lt;p&gt;To get IDL colors to 'work right' (i.e. a colortable has 255 colors
etc), put this in a startup file:&lt;/p&gt;
&lt;pre class="literal-block"&gt;
device, true_color = 24, retain = 2, decompose = 0red = [0,1,1,0,0,1]green = [0,1,0,1,0,1]blue = [0,1,0,0,1,0]if not strcmp(getenv('DISPLAY'),'') then $   tvlct, 255*red, 255*green, 255*blue
&lt;/pre&gt;
&lt;/p&gt;</content><category term="misc"></category><category term="googlepost"></category><category term="computer"></category></entry><entry><title>IDL string conversion</title><link href="https://keflavich.github.io/blog/idl-string-conversion.html" rel="alternate"></link><published>2012-09-20T20:02:00-06:00</published><updated>2012-09-20T20:02:00-06:00</updated><author><name>Adam (keflavich@gmail.com)</name></author><id>tag:keflavich.github.io,2012-09-20:/blog/idl-string-conversion.html</id><content type="html">&lt;p&gt;Just a reminder to me:
to convert an IDL number to a string, use string!
`` s = string(x,format='(F10.5)')``
Also, &lt;a class="reference external" href="http://aa.usno.navy.mil/data/docs/JulianDate.php"&gt;Julian Date conversion&lt;/a&gt;&lt;/p&gt;
</content><category term="misc"></category><category term="googlepost"></category><category term="computer"></category></entry><entry><title>IDL syntax highlighting in VIM</title><link href="https://keflavich.github.io/blog/idl-syntax-highlighting-in-vim.html" rel="alternate"></link><published>2012-09-20T20:02:00-06:00</published><updated>2012-09-20T20:02:00-06:00</updated><author><name>Adam (keflavich@gmail.com)</name></author><id>tag:keflavich.github.io,2012-09-20:/blog/idl-syntax-highlighting-in-vim.html</id><content type="html">&lt;p&gt;I've edited my idlang.vim to auto-identify files that start with a
semicolon.
Add Line 19:
`` syn match idlangStatement &amp;quot;^s*;s&amp;quot;``
Line 61/2 (allow spaces before ;):
&lt;tt class="docutils literal"&gt;syn match&amp;nbsp; idlangComment &lt;span class="pre"&gt;&amp;quot;\s*[\;].*$&amp;quot;&lt;/span&gt; contains=idlangTodo&lt;/tt&gt;
&lt;a class="reference external" href="http://casa.colorado.edu/~ginsbura/index.htm"&gt;AG&lt;/a&gt;&lt;/p&gt;
</content><category term="misc"></category><category term="googlepost"></category><category term="idl"></category></entry><entry><title>IDL-to-Python</title><link href="https://keflavich.github.io/blog/idl-to-python.html" rel="alternate"></link><published>2012-09-20T20:02:00-06:00</published><updated>2012-09-20T20:02:00-06:00</updated><author><name>Adam (keflavich@gmail.com)</name></author><id>tag:keflavich.github.io,2012-09-20:/blog/idl-to-python.html</id><content type="html">&lt;p&gt;astrobetter started up an &lt;a class="reference external" href="http://www.astrobetter.com/wiki/tiki-index.php?page=Python+Switchers+Guide"&gt;idl-to-python guide&lt;/a&gt; on their wiki.&lt;/p&gt;
</content><category term="misc"></category><category term="googlepost"></category><category term="python"></category><category term="astronomy"></category></entry><entry><title>.inputrc</title><link href="https://keflavich.github.io/blog/inputrc.html" rel="alternate"></link><published>2012-09-20T20:02:00-06:00</published><updated>2012-09-20T20:02:00-06:00</updated><author><name>Adam (keflavich@gmail.com)</name></author><id>tag:keflavich.github.io,2012-09-20:/blog/inputrc.html</id><summary type="html">&lt;p&gt;New unix stuff!
This is, again, stuff I'd searched for forever but never found the right
collection of terms. This is what bash readline is REALLY all about.
if you make an inputrc file, you can get awesome readline capabilities
(similar to ipython). &lt;a class="reference external" href="http://lifehacker.com/software/command-line/ctrl%252Br-to-search-and-other-terminal-history-tricks-278888.php#c1887277"&gt;This post at lifehacker&lt;/a&gt; showed me how …&lt;/p&gt;</summary><content type="html">&lt;p&gt;New unix stuff!
This is, again, stuff I'd searched for forever but never found the right
collection of terms. This is what bash readline is REALLY all about.
if you make an inputrc file, you can get awesome readline capabilities
(similar to ipython). &lt;a class="reference external" href="http://lifehacker.com/software/command-line/ctrl%252Br-to-search-and-other-terminal-history-tricks-278888.php#c1887277"&gt;This post at lifehacker&lt;/a&gt; showed me how to do it.
&lt;a class="reference external" href="http://www.comptechdoc.org/os/linux/howlinuxworks/linux_hlkeyprogs.html"&gt;This site&lt;/a&gt; has a more complete description of how to use
readline/inputrc.
Even better: &lt;a class="reference external" href="http://www.catonmat.net/blog/bash-vi-editing-mode-cheat-sheet/"&gt;VI command line editing&lt;/a&gt;.
There's also something called &lt;a class="reference external" href="http://stackoverflow.org/wiki/Inputrc_for_bash_history_completion_using_up/down_arrows"&gt;magic space&lt;/a&gt; but I don't know what
purpose it serves all the time... it will replace 'magic' characters
like !* and !&amp;amp; and !! with whatever command they represent if you hit
space immediately after typing them (explained better &lt;a class="reference external" href="http://mike.hostetlerhome.com/2006/05/18/neat-bash-tricks/"&gt;here&lt;/a&gt;).
Wow. Awesome.&lt;/p&gt;
</content><category term="misc"></category><category term="googlepost"></category><category term="unix"></category><category term="computer"></category></entry><entry><title>Installing 64 bit tcl/tk on Mac OS X</title><link href="https://keflavich.github.io/blog/installing-64-bit-tcltk-on-mac-os-x.html" rel="alternate"></link><published>2012-09-20T20:02:00-06:00</published><updated>2012-09-20T20:02:00-06:00</updated><author><name>Adam (keflavich@gmail.com)</name></author><id>tag:keflavich.github.io,2012-09-20:/blog/installing-64-bit-tcltk-on-mac-os-x.html</id><summary type="html">&lt;p&gt;Everything is described in this post:
&lt;a class="reference external" href="http://www.nabble.com/Error-compiling-tk-8.5.7-on-Mac-OS-X-10.5-td23790967.html"&gt;http://www.nabble.com/Error-compiling-tk-8.5.7-on-Mac-OS-X-10.5-td23790967.html&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;But here's a script too:
&lt;tt class="docutils literal"&gt;curl &lt;span class="pre"&gt;-O&lt;/span&gt; &lt;span class="pre"&gt;'http://osdn.dl.sourceforge.net/sourceforge/tcl/t{cl,k}8.5.7-src.tar.gz'for&lt;/span&gt; f in &lt;span class="pre"&gt;t*8.5.7*.gz;&lt;/span&gt; do tar zxf $f; done cd …&lt;/tt&gt;&lt;/p&gt;</summary><content type="html">&lt;p&gt;Everything is described in this post:
&lt;a class="reference external" href="http://www.nabble.com/Error-compiling-tk-8.5.7-on-Mac-OS-X-10.5-td23790967.html"&gt;http://www.nabble.com/Error-compiling-tk-8.5.7-on-Mac-OS-X-10.5-td23790967.html&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;But here's a script too:
&lt;tt class="docutils literal"&gt;curl &lt;span class="pre"&gt;-O&lt;/span&gt; &lt;span class="pre"&gt;'http://osdn.dl.sourceforge.net/sourceforge/tcl/t{cl,k}8.5.7-src.tar.gz'for&lt;/span&gt; f in &lt;span class="pre"&gt;t*8.5.7*.gz;&lt;/span&gt; do tar zxf $f; done cd &lt;span class="pre"&gt;tcl8.5.7/unix/./configure&lt;/span&gt; &lt;span class="pre"&gt;--enable-framework&lt;/span&gt; &lt;span class="pre"&gt;--enable-64-bitcd&lt;/span&gt; &lt;span class="pre"&gt;tk8.5.7/unix/./configure&lt;/span&gt; &lt;span class="pre"&gt;--enable-framework&lt;/span&gt; &lt;span class="pre"&gt;--enable-64-bitmake&lt;/span&gt; &lt;span class="pre"&gt;-j&lt;/span&gt; 4 &lt;span class="pre"&gt;-C&lt;/span&gt; tcl8.5.7/unix make &lt;span class="pre"&gt;-j&lt;/span&gt; 4 &lt;span class="pre"&gt;-C&lt;/span&gt; tk8.5.7/unixsudo make install &lt;span class="pre"&gt;-C&lt;/span&gt; tcl8.5.7/unix sudo make install &lt;span class="pre"&gt;-C&lt;/span&gt; tk8.5.7/unix&lt;/tt&gt;&lt;/p&gt;
&lt;p&gt;Concerns:&lt;/p&gt;
&lt;blockquote&gt;
&lt;ul class="simple"&gt;
&lt;li&gt;might be necessary to do this in the macosx directory for some reason,
though Aqua doesn't support 64 bits&lt;/li&gt;
&lt;li&gt;have to recompile python to get _tkinter to work (see &lt;a class="reference external" href="http://buffalothedestroyer.blogspot.com/2009/07/success-64-bit-python-with-64-bit-tcltk.html"&gt;a later post&lt;/a&gt;)&lt;/li&gt;
&lt;/ul&gt;
&lt;/blockquote&gt;
</content><category term="misc"></category><category term="googlepost"></category><category term="python"></category><category term="computer"></category></entry><entry><title>Installing Snow Leopard</title><link href="https://keflavich.github.io/blog/installing-snow-leopard.html" rel="alternate"></link><published>2012-09-20T20:02:00-06:00</published><updated>2012-09-20T20:02:00-06:00</updated><author><name>Adam (keflavich@gmail.com)</name></author><id>tag:keflavich.github.io,2012-09-20:/blog/installing-snow-leopard.html</id><summary type="html">&lt;p&gt;I'm going to attempt to install snow leopard today. This post will serve
as a record of the difficulties I run into.
Things to install (and ensure they are 64-bit):&lt;/p&gt;
&lt;ul class="simple"&gt;
&lt;li&gt;ipython&lt;/li&gt;
&lt;li&gt;numpy&lt;/li&gt;
&lt;li&gt;scipy&lt;/li&gt;
&lt;li&gt;matplotlib&lt;/li&gt;
&lt;li&gt;stsci-python&lt;/li&gt;
&lt;li&gt;starlink&lt;/li&gt;
&lt;li&gt;gfortran&lt;/li&gt;
&lt;li&gt;latex&lt;/li&gt;
&lt;li&gt;idl (check)&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Things that have happened:&lt;/p&gt;
&lt;ol class="arabic simple"&gt;
&lt;li&gt;Had to restart again (twice) to …&lt;/li&gt;&lt;/ol&gt;</summary><content type="html">&lt;p&gt;I'm going to attempt to install snow leopard today. This post will serve
as a record of the difficulties I run into.
Things to install (and ensure they are 64-bit):&lt;/p&gt;
&lt;ul class="simple"&gt;
&lt;li&gt;ipython&lt;/li&gt;
&lt;li&gt;numpy&lt;/li&gt;
&lt;li&gt;scipy&lt;/li&gt;
&lt;li&gt;matplotlib&lt;/li&gt;
&lt;li&gt;stsci-python&lt;/li&gt;
&lt;li&gt;starlink&lt;/li&gt;
&lt;li&gt;gfortran&lt;/li&gt;
&lt;li&gt;latex&lt;/li&gt;
&lt;li&gt;idl (check)&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Things that have happened:&lt;/p&gt;
&lt;ol class="arabic simple"&gt;
&lt;li&gt;Had to restart again (twice) to install additional updates&lt;/li&gt;
&lt;li&gt;My bash command line looked funny - something about bash changed, but
I don't know what. The fix was easy: commented out some code from
&lt;a class="reference external" href="http://pseudogreen.org/blog/set_tab_names_in_leopard_terminal.html"&gt;http://pseudogreen.org/blog/set_tab_names_in_leopard_terminal.html&lt;/a&gt;
that I had been using to set the tab title&lt;/li&gt;
&lt;li&gt;My locate db broke. Needed repair: &lt;tt class="docutils literal"&gt;sudo /usr/libexec/locate.updatedb&lt;/tt&gt;&lt;/li&gt;
&lt;li&gt;numpy svn failed to build:
`` python setup.py buildRunning from numpy source directory.non-existing path in 'numpy/distutils': 'site.cfg'F2PY Version 2_8111numpy/core/setup_common.py:86: MismatchCAPIWarning: API mismatch detected, the C API version numbers have to be updated. Current C api version is 4, with checksum 59750b518272c8987f02d66445afd3f1, but recorded checksum for C API version 4 in codegen_dir/cversions.txt is 3d8940bf7b0d2a4e25be4338c14c3c85. If functions were added in the C API, you have to update C_API_VERSION  in numpy/core/setup_common.pyc.  MismatchCAPIWarning)blas_opt_info:  FOUND:    extra_link_args = ['-Wl,-framework', '-Wl,Accelerate']    define_macros = [('NO_ATLAS_INFO', 3)]    extra_compile_args = ['-faltivec', '-I/System/Library/Frameworks/vecLib.framework/Headers']lapack_opt_info:  FOUND:    extra_link_args = ['-Wl,-framework', '-Wl,Accelerate']    define_macros = [('NO_ATLAS_INFO', 3)]    extra_compile_args = ['-faltivec']running buildrunning config_ccunifing config_cc, config, build_clib, build_ext, build commands --compiler optionsrunning config_fcunifing config_fc, config, build_clib, build_ext, build commands --fcompiler optionsrunning build_srcbuild_srcbuilding py_modules sourcesbuilding library &amp;quot;npymath&amp;quot; sourcescustomize NAGFCompilerFound executable /usr/local/bin/f95customize AbsoftFCompilerCould not locate executable f90Found executable /usr/bin/f77absoft: no Fortran 90 compiler foundabsoft: no Fortran 90 compiler foundcustomize IBMFCompilerCould not locate executable xlf90Could not locate executable xlfcustomize IntelFCompilerCould not locate executable ifortCould not locate executable ifccustomize GnuFCompilerFound executable /usr/local/bin/g77gnu: no Fortran 90 compiler foundgnu: no Fortran 90 compiler foundcustomize Gnu95FCompilerFound executable /usr/local/bin/gfortrancustomize Gnu95FCompilercustomize Gnu95FCompiler using configC compiler: gcc -arch i386 -arch ppc -arch ppc64 -arch x86_64 -isysroot /Developer/SDKs/MacOSX10.5.sdk -fno-strict-aliasing -fno-common -dynamic -DNDEBUG -g -fwrapv -O3 -Wall -Wstrict-prototypescompile options: '-Inumpy/core/src/private -Inumpy/core/src -Inumpy/core -Inumpy/core/src/npymath -Inumpy/core/src/multiarray -Inumpy/core/src/umath -Inumpy/core/include -I/Library/Frameworks/Python.framework/Versions/2.6/include/python2.6 -c'gcc: _configtest.cgcc _configtest.o -o _configtestld: library not found for -lcrt1.10.5.ocollect2: ld returned 1 exit statusld: library not found for -lcrt1.10.5.ocollect2: ld returned 1 exit statusfailure.removing: _configtest.c _configtest.oTraceback (most recent call last):  File &amp;quot;setup.py&amp;quot;, line 210, in     setup_package()  File &amp;quot;setup.py&amp;quot;, line 203, in setup_package    configuration=configuration )  File &amp;quot;/Users/adam/repos/numpy-svn/numpy/distutils/core.py&amp;quot;, line 186, in setup    return old_setup(&lt;strong&gt;new_attr)  File &amp;quot;/Library/Frameworks/Python.framework/Versions/2.6/lib/python2.6/distutils/core.py&amp;quot;, line 152, in setup    dist.run_commands()  File &amp;quot;/Library/Frameworks/Python.framework/Versions/2.6/lib/python2.6/distutils/dist.py&amp;quot;, line 975, in run_commands    self.run_command(cmd)  File &amp;quot;/Library/Frameworks/Python.framework/Versions/2.6/lib/python2.6/distutils/dist.py&amp;quot;, line 995, in run_command    cmd_obj.run()  File &amp;quot;/Users/adam/repos/numpy-svn/numpy/distutils/command/build.py&amp;quot;, line 37, in run    old_build.run(self)  File &amp;quot;/Library/Frameworks/Python.framework/Versions/2.6/lib/python2.6/distutils/command/build.py&amp;quot;, line 134, in run    self.run_command(cmd_name)  File &amp;quot;/Library/Frameworks/Python.framework/Versions/2.6/lib/python2.6/distutils/cmd.py&amp;quot;, line 333, in run_command    self.distribution.run_command(command)  File &amp;quot;/Library/Frameworks/Python.framework/Versions/2.6/lib/python2.6/distutils/dist.py&amp;quot;, line 995, in run_command    cmd_obj.run()  File &amp;quot;/Users/adam/repos/numpy-svn/numpy/distutils/command/build_src.py&amp;quot;, line 152, in run    self.build_sources()  File &amp;quot;/Users/adam/repos/numpy-svn/numpy/distutils/command/build_src.py&amp;quot;, line 163, in build_sources    self.build_library_sources(*libname_info)  File &amp;quot;/Users/adam/repos/numpy-svn/numpy/distutils/command/build_src.py&amp;quot;, line 298, in build_library_sources    sources = self.generate_sources(sources, (lib_name, build_info))  File &amp;quot;/Users/adam/repos/numpy-svn/numpy/distutils/command/build_src.py&amp;quot;, line 385, in generate_sources    source = func(extension, build_dir)  File &amp;quot;numpy/core/setup.py&amp;quot;, line 670, in get_mathlib_info    raise RuntimeError(&amp;quot;Broken toolchain: cannot link a simple C program&amp;quot;)RuntimeError: Broken toolchain: cannot link a simple C program``
**SOLUTION:&lt;/strong&gt; Use the Mac OS X 10.6 python (/usr/bin/python). I will do this
until I run into another problem. Numpy build successfully&lt;/li&gt;
&lt;li&gt;Build/install matplotlib - failed! Completely!&lt;/li&gt;
&lt;li&gt;Acquired gcc/gfortran from &lt;a class="reference external" href="http://hpc.sourceforge.net/"&gt;hpc&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;Followed instructions from &lt;a class="reference external" href="http://blog.hyperjeff.net/?p=160"&gt;hyperjeff&lt;/a&gt; on fortran install...&lt;/li&gt;
&lt;li&gt;Get rid of numpy 1.2.1:
`` mv /System/Library/Frameworks/Python.framework/Versions/2.6/Extras/lib/python/numpy /System/Library/Frameworks/Python.framework/Versions/2.6/Extras/lib/python/.not_numpy.bak``&lt;/li&gt;
&lt;li&gt;Try to install scipy. Fail on missing umfpack, follow &lt;a class="reference external" href="http://blog.hyperjeff.net/?p=160"&gt;hyperjeff&lt;/a&gt;'s
instructions (but make sure to edit the site.cfg in scipy, not just the one in
numpy).
Had to add the following code:
&lt;tt class="docutils literal"&gt;sudo cp AMD/Lib/libamd.a /System/Library/Frameworks/Python.framework/Versions/2.6/libsudo cp UMFPACK/Lib/libumfpack.a /System/Library/Frameworks/Python.framework/Versions/2.6/libsudo cp AMD/Include/amd.h /System/Library/Frameworks/Python.framework/Versions/2.6/includesudo cp UFconfig/UFconfig.h /System/Library/Frameworks/Python.framework/Versions/2.6/includesudo cp &lt;span class="pre"&gt;UMFPACK/Include/*.h&lt;/span&gt; /System/Library/Frameworks/Python.framework/Versions/2.6/include&lt;/tt&gt;&lt;/li&gt;
&lt;li&gt;Installed fftw from &lt;a class="reference external" href="http://www.fftw.org/"&gt;fftw.org&lt;/a&gt; with simple ./configure, make, sudo
make install - no compiler opts as they killed the install&lt;/li&gt;
&lt;li&gt;Get SoundSource from &lt;a class="reference external" href="http://www.rogueamoeba.com/freebies/"&gt;rogueamoeba&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;Updated &lt;a class="reference external" href="http://www.islayer.com/apps/istatmenus/"&gt;istatmenus&lt;/a&gt;&lt;/li&gt;
&lt;/ol&gt;
</content><category term="misc"></category><category term="googlepost"></category><category term="mac"></category><category term="computer"></category></entry><entry><title>IRAF append/prepend/replace</title><link href="https://keflavich.github.io/blog/iraf-appendprependreplace.html" rel="alternate"></link><published>2012-09-20T20:02:00-06:00</published><updated>2012-09-20T20:02:00-06:00</updated><author><name>Adam (keflavich@gmail.com)</name></author><id>tag:keflavich.github.io,2012-09-20:/blog/iraf-appendprependreplace.html</id><content type="html">&lt;p&gt;IRAF has special syntax to append/replace, so you can do something like:
&lt;tt class="docutils literal"&gt;imarith *.fits - dark.fits &lt;span class="pre"&gt;ds_//*.fits&lt;/span&gt;&lt;/tt&gt;
...though I can't remember right now how to do replacement etc.&lt;/p&gt;
</content><category term="misc"></category><category term="googlepost"></category><category term="iraf"></category></entry><entry><title>keynote text boxes</title><link href="https://keflavich.github.io/blog/keynote-text-boxes.html" rel="alternate"></link><published>2012-09-20T20:02:00-06:00</published><updated>2012-09-20T20:02:00-06:00</updated><author><name>Adam (keflavich@gmail.com)</name></author><id>tag:keflavich.github.io,2012-09-20:/blog/keynote-text-boxes.html</id><content type="html"></content><category term="misc"></category><category term="googlepost"></category></entry><entry><title>Last month's observations in L111</title><link href="https://keflavich.github.io/blog/last-months-observations-in-l111.html" rel="alternate"></link><published>2012-09-20T20:02:00-06:00</published><updated>2012-09-20T20:02:00-06:00</updated><author><name>Adam (keflavich@gmail.com)</name></author><id>tag:keflavich.github.io,2012-09-20:/blog/last-months-observations-in-l111.html</id><summary type="html">&lt;p&gt;Mapped sources:
SH 2-156 [no high resolution observations; covered by 1.2m CO 1-0
survey]
SH 2-157 &lt;a class="reference external" href="http://simbad.u-strasbg.fr/cgi-bin/cdsbib4?2003ApJS..149..375S"&gt;Yancy CS 5-4&lt;/a&gt;, &lt;a class="reference external" href="http://simbad.u-strasbg.fr/cgi-bin/cdsbib4?2004AJ....128.1716A"&gt;CO, 13CO 1-0, CS 2-1&lt;/a&gt;, HCN &amp;amp; SCUBA too....
IRAS 23151 (two pointings)
Unmapped:
BFS 18 = IRAS 23042+6000 = IRCO 859
&lt;a class="reference external" href="http://cdsads.u-strasbg.fr/cgi-bin/nph-bib_query?2005AJ....129..330W&amp;amp;db_key=AST&amp;amp;nosetcookie=1"&gt;Wu et al&lt;/a&gt; mapped this in CO 2-1 and detected …&lt;/p&gt;</summary><content type="html">&lt;p&gt;Mapped sources:
SH 2-156 [no high resolution observations; covered by 1.2m CO 1-0
survey]
SH 2-157 &lt;a class="reference external" href="http://simbad.u-strasbg.fr/cgi-bin/cdsbib4?2003ApJS..149..375S"&gt;Yancy CS 5-4&lt;/a&gt;, &lt;a class="reference external" href="http://simbad.u-strasbg.fr/cgi-bin/cdsbib4?2004AJ....128.1716A"&gt;CO, 13CO 1-0, CS 2-1&lt;/a&gt;, HCN &amp;amp; SCUBA too....
IRAS 23151 (two pointings)
Unmapped:
BFS 18 = IRAS 23042+6000 = IRCO 859
&lt;a class="reference external" href="http://cdsads.u-strasbg.fr/cgi-bin/nph-bib_query?2005AJ....129..330W&amp;amp;db_key=AST&amp;amp;nosetcookie=1"&gt;Wu et al&lt;/a&gt; mapped this in CO 2-1 and detected no outflows. They used
the NRAO 12m with a heterodyne array with very high T&lt;sub&gt;sys&lt;/sub&gt;
~700-1100K.&lt;/p&gt;
</content><category term="misc"></category><category term="googlepost"></category><category term="l111"></category><category term="observing"></category></entry><entry><title>latex: producing a bibliography and paper independently</title><link href="https://keflavich.github.io/blog/latex-producing-a-bibliography-and-paper-independently.html" rel="alternate"></link><published>2012-09-20T20:02:00-06:00</published><updated>2012-09-20T20:02:00-06:00</updated><author><name>Adam (keflavich@gmail.com)</name></author><id>tag:keflavich.github.io,2012-09-20:/blog/latex-producing-a-bibliography-and-paper-independently.html</id><summary type="html">&lt;p&gt;&lt;a class="reference external" href="http://casa.colorado.edu/~ginsbura/index.htm"&gt;AG&lt;/a&gt;
If you want citations to work, but you don't want your bibliography to
show up, try the following:
&lt;tt class="docutils literal"&gt;latex file.texbibtex file&lt;/tt&gt;
comment out \biblography{} line
&lt;tt class="docutils literal"&gt;latex file.tex&lt;/tt&gt;
If you latex again, it will screw up.
To make an independent bibliography, remove all text and replace all
citep …&lt;/p&gt;</summary><content type="html">&lt;p&gt;&lt;a class="reference external" href="http://casa.colorado.edu/~ginsbura/index.htm"&gt;AG&lt;/a&gt;
If you want citations to work, but you don't want your bibliography to
show up, try the following:
&lt;tt class="docutils literal"&gt;latex file.texbibtex file&lt;/tt&gt;
comment out \biblography{} line
&lt;tt class="docutils literal"&gt;latex file.tex&lt;/tt&gt;
If you latex again, it will screw up.
To make an independent bibliography, remove all text and replace all
citep/citet/cite commands with \nocite{} in a different document.
Remember to usepackage{natbib} etc. You may have to copy over the .bbl
file.&lt;/p&gt;
</content><category term="misc"></category><category term="googlepost"></category><category term="latex"></category></entry><entry><title>LaTeX: replace double quotes with tex quotes</title><link href="https://keflavich.github.io/blog/latex-replace-double-quotes-with-tex-quotes.html" rel="alternate"></link><published>2012-09-20T20:02:00-06:00</published><updated>2012-09-20T20:02:00-06:00</updated><author><name>Adam (keflavich@gmail.com)</name></author><id>tag:keflavich.github.io,2012-09-20:/blog/latex-replace-double-quotes-with-tex-quotes.html</id><summary type="html">&lt;p&gt;People often make the mistake of putting &amp;quot; in place of `` in LaTeX
documents. To repair this, the only easy solution is something like:
s/\(\s\)&amp;quot;/\1``/g
in VIM or sed.
I've seen alternate solutions posted but they're all too complicated.
One recommendation was to switch to XeTeX, which sounds …&lt;/p&gt;</summary><content type="html">&lt;p&gt;People often make the mistake of putting &amp;quot; in place of `` in LaTeX
documents. To repair this, the only easy solution is something like:
s/\(\s\)&amp;quot;/\1``/g
in VIM or sed.
I've seen alternate solutions posted but they're all too complicated.
One recommendation was to switch to XeTeX, which sounds like overkill,
and others all stated that a complicated perl script is required. The
latter is technically true, but why isn't such a thing readily
available?
Any other ideas?&lt;/p&gt;
</content><category term="misc"></category><category term="googlepost"></category><category term="latex"></category></entry><entry><title>LaTeX: VIM + Skim</title><link href="https://keflavich.github.io/blog/latex-vim-skim.html" rel="alternate"></link><published>2012-09-20T20:02:00-06:00</published><updated>2012-09-20T20:02:00-06:00</updated><author><name>Adam (keflavich@gmail.com)</name></author><id>tag:keflavich.github.io,2012-09-20:/blog/latex-vim-skim.html</id><summary type="html">&lt;p&gt;&lt;a class="reference external" href="http://agpy.googlecode.com/svn/trunk/macvim-skim/macvim-skim-install.sh"&gt;macvim-skim-install.sh&lt;/a&gt; is my install script for using MacVim.app with
Skim.app.
The &lt;a class="reference external" href="http://code.google.com/p/agpy/wiki/macvimskim"&gt;agpy wiki page&lt;/a&gt; has instructions that are probably more clear; I
don't really like the colorscheme / layout of this blog.
You can use &lt;a class="reference external" href="http://mactex-wiki.tug.org/wiki/index.php/SyncTeX"&gt;synctex&lt;/a&gt; to make an editor and viewer work together, but
it is far …&lt;/p&gt;</summary><content type="html">&lt;p&gt;&lt;a class="reference external" href="http://agpy.googlecode.com/svn/trunk/macvim-skim/macvim-skim-install.sh"&gt;macvim-skim-install.sh&lt;/a&gt; is my install script for using MacVim.app with
Skim.app.
The &lt;a class="reference external" href="http://code.google.com/p/agpy/wiki/macvimskim"&gt;agpy wiki page&lt;/a&gt; has instructions that are probably more clear; I
don't really like the colorscheme / layout of this blog.
You can use &lt;a class="reference external" href="http://mactex-wiki.tug.org/wiki/index.php/SyncTeX"&gt;synctex&lt;/a&gt; to make an editor and viewer work together, but
it is far from easy and far harder than it should be. Forward-search is
pretty easy, but the latex-suite &lt;tt class="docutils literal"&gt;\ls&lt;/tt&gt; only works intermittently and
is not easily customizable.
I had to do the following:
For VIM-&amp;gt;Skim.app (Skim.app is necessary for any of this to work), add
these commands to .vimrc:&lt;/p&gt;
&lt;pre class="literal-block"&gt;
&amp;quot; Activate skimmap ,v :w&amp;lt;CR&amp;gt;:silent !/Applications/Skim.app/Contents/SharedSupport/displayline -r &amp;lt;C-r&amp;gt;=line('.')&amp;lt;CR&amp;gt; %&amp;lt;.pdf %&amp;lt;CR&amp;gt;&amp;lt;CR&amp;gt;map ,p :w&amp;lt;CR&amp;gt;:silent !pdflatex -synctex=1 --interaction=nonstopmode %:p &amp;lt;CR&amp;gt;:silent !/Applications/Skim.app/Contents/SharedSupport/displayline -r &amp;lt;C-r&amp;gt;=line('.')&amp;lt;CR&amp;gt; %&amp;lt;.pdf %&amp;lt;CR&amp;gt;&amp;lt;CR&amp;gt;map ,m :w&amp;lt;CR&amp;gt;:silent !make &amp;lt;CR&amp;gt;:silent !/Applications/Skim.app/Contents/SharedSupport/displayline -r &amp;lt;C-r&amp;gt;=line('.')&amp;lt;CR&amp;gt; %&amp;lt;.pdf %&amp;lt;CR&amp;gt;&amp;lt;CR&amp;gt;&amp;quot; Reactivate VIMmap ,r :w&amp;lt;CR&amp;gt;:silent !/Applications/Skim.app/Contents/SharedSupport/displayline -r &amp;lt;C-r&amp;gt;=line('.')&amp;lt;CR&amp;gt; %&amp;lt;.pdf %&amp;lt;CR&amp;gt;:silent !osascript -e &amp;quot;tell application \&amp;quot;MacVim\&amp;quot; to activate&amp;quot; &amp;lt;CR&amp;gt;&amp;lt;CR&amp;gt;map ,t :w&amp;lt;CR&amp;gt;:silent !pdflatex -synctex=1 --interaction=nonstopmode %:p &amp;lt;CR&amp;gt;:silent !/Applications/Skim.app/Contents/SharedSupport/displayline -r &amp;lt;C-r&amp;gt;=line('.')&amp;lt;CR&amp;gt; %&amp;lt;.pdf %&amp;lt;CR&amp;gt;:silent !osascript -e &amp;quot;tell application \&amp;quot;MacVim\&amp;quot; to activate&amp;quot; &amp;lt;CR&amp;gt;&amp;lt;CR&amp;gt;
&lt;/pre&gt;
&lt;p&gt;The &lt;tt class="docutils literal"&gt;,m&lt;/tt&gt; command will reload the file and put your cursor where the
text is. &lt;tt class="docutils literal"&gt;,t&lt;/tt&gt; will return VIM to the front afterwards.
Going the other way (reverse-search / inverse-search) was MUCH more
challenging. The code that does this is &lt;a class="reference external" href="http://code.google.com/p/agpy/source/browse/trunk/macvim-skim/macvim-load-line"&gt;on agpy&lt;/a&gt;. Reproduced here for
posterity (I hope to update the agpy version to &lt;a class="reference external" href="http://stackoverflow.com/questions/8839846/vim-check-if-a-file-is-open-in-current-tab-window"&gt;deal with tabs&lt;/a&gt;). [A
few hours later, I HAVE replaced the code. Below are the old applescript
version, then the new, vim-based version
&lt;tt class="docutils literal"&gt;&lt;span class="pre"&gt;#!/bin/bashfile=&amp;quot;$1&amp;quot;line=&amp;quot;$2&amp;quot;[&lt;/span&gt; &lt;span class="pre"&gt;&amp;quot;${file:0:1}&amp;quot;&lt;/span&gt; == &amp;quot;/&amp;quot; ] || &lt;span class="pre"&gt;file=&amp;quot;${PWD}/$file&amp;quot;#&lt;/span&gt; Use Applescript to activate VIM, find file, and load it# the 'delay' command is needed to prevent command/control/shift from sticking when this# is activated (e.g., from Skim, where the command is &lt;span class="pre"&gt;command-shift-click)##&lt;/span&gt; key code 53 is &amp;quot;escape&amp;quot; to escape to command mode in VIMexec osascript &lt;span class="pre"&gt;\-e&lt;/span&gt; &amp;quot;delay 0.2&amp;quot; &lt;span class="pre"&gt;\-e&lt;/span&gt; &amp;quot;tell application \&amp;quot;MacVim\&amp;quot; to activate&amp;quot; &lt;span class="pre"&gt;\-e&lt;/span&gt; &amp;quot;tell application \&amp;quot;System &lt;span class="pre"&gt;Events\&amp;quot;&amp;quot;&lt;/span&gt; &lt;span class="pre"&gt;\-e&lt;/span&gt; &amp;quot;&amp;nbsp; tell process &lt;span class="pre"&gt;\&amp;quot;MacVim\&amp;quot;&amp;quot;&lt;/span&gt; &lt;span class="pre"&gt;\-e&lt;/span&gt; &amp;quot;&amp;nbsp;&amp;nbsp;&amp;nbsp; key code 53 &lt;span class="pre"&gt;&amp;quot;\-e&lt;/span&gt; &amp;quot;&amp;nbsp;&amp;nbsp;&amp;nbsp; keystroke &lt;span class="pre"&gt;\&amp;quot;:set&lt;/span&gt; hidden\&amp;quot; &amp;amp; return &amp;quot; &lt;span class="pre"&gt;\-e&lt;/span&gt; &amp;quot;&amp;nbsp;&amp;nbsp;&amp;nbsp; keystroke &lt;span class="pre"&gt;\&amp;quot;:if&lt;/span&gt; &lt;span class="pre"&gt;bufexists(bufname('$file'))\&amp;quot;&lt;/span&gt; &amp;amp; return &amp;quot; &lt;span class="pre"&gt;\-e&lt;/span&gt; &amp;quot;&amp;nbsp;&amp;nbsp;&amp;nbsp; keystroke &lt;span class="pre"&gt;\&amp;quot;:exe&lt;/span&gt; &lt;span class="pre"&gt;\\\&amp;quot;:buffer&lt;/span&gt; &lt;span class="pre"&gt;\\\&amp;quot;&lt;/span&gt; . &lt;span class="pre"&gt;bufnr(bufname('$file'))\&amp;quot;&lt;/span&gt;&amp;nbsp; &amp;amp; return &amp;quot; &lt;span class="pre"&gt;\-e&lt;/span&gt; &amp;quot;&amp;nbsp;&amp;nbsp;&amp;nbsp; keystroke &lt;span class="pre"&gt;\&amp;quot;:else&lt;/span&gt; \&amp;quot; &amp;amp; return &amp;quot; &lt;span class="pre"&gt;\-e&lt;/span&gt; &amp;quot;&amp;nbsp;&amp;nbsp;&amp;nbsp; keystroke &lt;span class="pre"&gt;\&amp;quot;:echo&lt;/span&gt; &lt;span class="pre"&gt;\\\&amp;quot;Could&lt;/span&gt; not load &lt;span class="pre"&gt;file\\\&amp;quot;&lt;/span&gt; \&amp;quot; &amp;amp; return &amp;quot; &lt;span class="pre"&gt;\-e&lt;/span&gt; &amp;quot;&amp;nbsp;&amp;nbsp;&amp;nbsp; keystroke &lt;span class="pre"&gt;\&amp;quot;:endif\&amp;quot;&lt;/span&gt; &amp;amp; return &amp;quot; &lt;span class="pre"&gt;\-e&lt;/span&gt; &amp;quot;&amp;nbsp;&amp;nbsp;&amp;nbsp; keystroke &lt;span class="pre"&gt;\&amp;quot;:$line\&amp;quot;&lt;/span&gt; &amp;amp; return &amp;quot; &lt;span class="pre"&gt;\-e&lt;/span&gt; &amp;quot;&amp;nbsp; end tell&amp;quot; &lt;span class="pre"&gt;\-e&lt;/span&gt; &amp;quot;end tell&amp;quot;&lt;/tt&gt;
New code: &lt;a class="reference external" href="http://agpy.googlecode.com/svn/trunk/macvim-skim/macvim-load-line"&gt;download link A&lt;/a&gt;&lt;/p&gt;
&lt;pre class="literal-block"&gt;
#!/bin/bash# Install directions:# Put this file somewhere in your path and make it executable# To set up in Skim, go to Preferences:Sync# Change Preset: to Custom# Change Command: to macvim-load-line# Change Arguments: to &amp;quot;%file&amp;quot; %linefile=&amp;quot;$1&amp;quot;line=&amp;quot;$2&amp;quot;debug=&amp;quot;$3&amp;quot;echo file: $fileecho line: $lineecho debug: $debugfor server in `mvim --serverlist` do    foundfile=`mvim --servername $server --remote-expr &amp;quot;WhichTab('$file')&amp;quot;`    if [[ $foundfile &amp;gt; 0 ]]    then        mvim --servername $server --remote-expr &amp;quot;foreground()&amp;quot;         if [[ $debug ]] ; then echo mvim --servername $server --remote-send &amp;quot;:exec \&amp;quot;tabnext $foundfile\&amp;quot; &amp;quot;; fi        mvim --servername $server --remote-send &amp;quot;:exec \&amp;quot;tabnext $foundfile\&amp;quot; &amp;quot;        if [[ $debug ]] ; then echo mvim --servername $server --remote-send &amp;quot;:$line &amp;quot;; fi        mvim --servername $server --remote-send &amp;quot;:$line &amp;quot;    fidone
&lt;/pre&gt;
&lt;p&gt;Save that as an executable in your default path (e.g.,
&lt;tt class="docutils literal"&gt;&lt;span class="pre"&gt;/usr/local/bin/macvim-load-line&lt;/span&gt;&lt;/tt&gt;) and open Skim.app, go to
Preferences:Sync and make the command look like this:&lt;/p&gt;
&lt;img alt="" src="http://3.bp.blogspot.com/-SbMLRTNSxug/Tw8_0saPQUI/AAAAAAAAGrc/9Ab8bgH8Ej0/s320/Screen%2Bshot%2B2012-01-12%2Bat%2B1.17.09%2BPM.png" /&gt;
&lt;p&gt;You need to have mvim on your path. mvim comes with MacVim.app, but is
NOT installed by default. Install it by doing something like:
`` cp /Users/adam/Downloads/MacVim-7_3-53/mvim /usr/local/bin/mvim ``
You'll also need to install WhichTab.vim in your &lt;tt class="docutils literal"&gt;&lt;span class="pre"&gt;~/.vim/plugins/&lt;/span&gt;&lt;/tt&gt;
directory. It's available &lt;a class="reference external" href="http://code.google.com/p/agpy/source/browse/trunk/macvim-skim/WhichTab.vim"&gt;here&lt;/a&gt; (&lt;a class="reference external" href="http://agpy.googlecode.com/svn/trunk/macvim-skim/WhichTab.vim"&gt;download link B&lt;/a&gt;). Here's the source:&lt;/p&gt;
&lt;pre class="literal-block"&gt;
function! WhichTab(filename)    &amp;quot; Try to determine whether file is open in any tab.      &amp;quot; Return number of tab it's open in    let buffername = bufname(a:filename)    if buffername == &amp;quot;&amp;quot;        return 0    endif    let buffernumber = bufnr(buffername)    &amp;quot; tabdo will loop through pages and leave you on the last one;    &amp;quot; this is to make sure we don't leave the current page    let currenttab = tabpagenr()    let tab_arr = []    tabdo let tab_arr += tabpagebuflist()    &amp;quot; return to current page    exec &amp;quot;tabnext &amp;quot;.currenttab    &amp;quot; Start checking tab numbers for matches    let i = 0    for tnum in tab_arr        let i += 1        echo &amp;quot;tnum: &amp;quot;.tnum.&amp;quot; buff: &amp;quot;.buffernumber.&amp;quot; i: &amp;quot;.i        if tnum == buffernumber            return i        endif    endforendfunctionfunction! WhichWindow(filename)    &amp;quot; Try to determine whether the file is open in any GVIM *window*    let serverlist = split(serverlist(),&amp;quot;\n&amp;quot;)    &amp;quot;let currentserver = ????    for server in serverlist        let remotetabnum = remote_expr(server,             \&amp;quot;WhichTab('&amp;quot;.a:filename.&amp;quot;')&amp;quot;)        if remotetabnum != 0            return server        endif    endforendfunction
&lt;/pre&gt;
</content><category term="misc"></category><category term="googlepost"></category><category term="latex"></category><category term="vim"></category><category term="code"></category></entry><entry><title>Listing variables (e.g IDL help) in Python</title><link href="https://keflavich.github.io/blog/listing-variables-eg-idl-help-in-python.html" rel="alternate"></link><published>2012-09-20T20:02:00-06:00</published><updated>2012-09-20T20:02:00-06:00</updated><author><name>Adam (keflavich@gmail.com)</name></author><id>tag:keflavich.github.io,2012-09-20:/blog/listing-variables-eg-idl-help-in-python.html</id><summary type="html">&lt;p&gt;Again, IDL has the simple 'help' command to tell you all variables in
your namespace. Python has the same thing, but the namespace tends to be
cluttered with imported functions. The commands who, who_ls, and whos
are meant for interactive use. They are a hell of a lot more …&lt;/p&gt;</summary><content type="html">&lt;p&gt;Again, IDL has the simple 'help' command to tell you all variables in
your namespace. Python has the same thing, but the namespace tends to be
cluttered with imported functions. The commands who, who_ls, and whos
are meant for interactive use. They are a hell of a lot more useful than
var, locals, globals, and dir.
examples:
&lt;tt class="docutils literal"&gt;whos floatwhos ndarraywho modulefloat_vars = %who_ls &lt;span class="pre"&gt;floatgrep('x',float_vars)&lt;/span&gt;&lt;/tt&gt;
I'm afraid I don't know how to make the last two lines into a one-liner,
as would be desirable.&lt;/p&gt;
</content><category term="misc"></category><category term="googlepost"></category><category term="python"></category><category term="computer"></category></entry><entry><title>Logarithmic Colormap / Other Colormap in Matplotlib</title><link href="https://keflavich.github.io/blog/logarithmic-colormap-other-colormap-in-matplotlib.html" rel="alternate"></link><published>2012-09-20T20:02:00-06:00</published><updated>2012-09-20T20:02:00-06:00</updated><author><name>Adam (keflavich@gmail.com)</name></author><id>tag:keflavich.github.io,2012-09-20:/blog/logarithmic-colormap-other-colormap-in-matplotlib.html</id><summary type="html">&lt;p&gt;This is kind of a pain to find out:
&lt;tt class="docutils literal"&gt;from matplotlib.colors import LogNormim = &lt;span class="pre"&gt;imshow(....&lt;/span&gt; &lt;span class="pre"&gt;cmap=...&lt;/span&gt; , norm=LogNorm(vmin=clevs[0], &lt;span class="pre"&gt;vmax=clevs[-1]))&lt;/span&gt; ``
It also works for contours, and can be particularly useful if you only
want to display contours at a few levels, but you want the colormap …&lt;/tt&gt;&lt;/p&gt;</summary><content type="html">&lt;p&gt;This is kind of a pain to find out:
&lt;tt class="docutils literal"&gt;from matplotlib.colors import LogNormim = &lt;span class="pre"&gt;imshow(....&lt;/span&gt; &lt;span class="pre"&gt;cmap=...&lt;/span&gt; , norm=LogNorm(vmin=clevs[0], &lt;span class="pre"&gt;vmax=clevs[-1]))&lt;/span&gt; ``
It also works for contours, and can be particularly useful if you only
want to display contours at a few levels, but you want the colormap to
start at a different point. e.g.:
&lt;span class="pre"&gt;``contour(xx,levels=[2,3,4,5,6,7,8,9,10],norm=matplotlib.colors.Normalize(vmin=0,vmax=10))&lt;/span&gt;&lt;/tt&gt;
will start at light blue instead of dark blue in the default colormap&lt;/p&gt;
</content><category term="misc"></category><category term="googlepost"></category><category term="matplotlib"></category><category term="python"></category></entry><entry><title>login shell</title><link href="https://keflavich.github.io/blog/login-shell.html" rel="alternate"></link><published>2012-09-20T20:02:00-06:00</published><updated>2012-09-20T20:02:00-06:00</updated><author><name>Adam (keflavich@gmail.com)</name></author><id>tag:keflavich.github.io,2012-09-20:/blog/login-shell.html</id><content type="html">&lt;p&gt;to change your default login shell, use &lt;tt class="docutils literal"&gt;chsh&lt;/tt&gt;&lt;/p&gt;
</content><category term="misc"></category><category term="googlepost"></category><category term="unix"></category></entry><entry><title>Lunar Occultation Hi-Res measurements</title><link href="https://keflavich.github.io/blog/lunar-occultation-hi-res-measurements.html" rel="alternate"></link><published>2012-09-20T20:02:00-06:00</published><updated>2012-09-20T20:02:00-06:00</updated><author><name>Adam (keflavich@gmail.com)</name></author><id>tag:keflavich.github.io,2012-09-20:/blog/lunar-occultation-hi-res-measurements.html</id><summary type="html">&lt;p&gt;The folks at the VLT have come up with a means of achieving extremely
high resolution from the ground: Observe when the moon occults a source
and how long the occultation takes. Sweet.
This was applied in the galactic center first, of course:
&lt;a class="reference external" href="http://arxiv.org/abs/0807.2646"&gt;Observations of binaries in GC&lt;/a&gt;
&lt;a class="reference external" href="http://arxiv.org/abs/0807.2650"&gt;Additional observations …&lt;/a&gt;&lt;/p&gt;</summary><content type="html">&lt;p&gt;The folks at the VLT have come up with a means of achieving extremely
high resolution from the ground: Observe when the moon occults a source
and how long the occultation takes. Sweet.
This was applied in the galactic center first, of course:
&lt;a class="reference external" href="http://arxiv.org/abs/0807.2646"&gt;Observations of binaries in GC&lt;/a&gt;
&lt;a class="reference external" href="http://arxiv.org/abs/0807.2650"&gt;Additional observations in GC&lt;/a&gt;&lt;/p&gt;
</content><category term="misc"></category><category term="googlepost"></category><category term="astronomy"></category></entry><entry><title>Mac stuff cont'd</title><link href="https://keflavich.github.io/blog/mac-stuff-contd.html" rel="alternate"></link><published>2012-09-20T20:02:00-06:00</published><updated>2012-09-20T20:02:00-06:00</updated><author><name>Adam (keflavich@gmail.com)</name></author><id>tag:keflavich.github.io,2012-09-20:/blog/mac-stuff-contd.html</id><content type="html">&lt;p&gt;Trying to get Apache server to run, and it's just a pain.
I frequently forget how to update the locate database because it's
different on macs. Marcos' Mac Singularity &lt;a class="reference external" href="http://macsingularity.org/2004/12/17/the-locate-database/"&gt;has the instructions&lt;/a&gt;.
In short:
&lt;tt class="docutils literal"&gt;sudo /usr/libexec/locate.updatedb&lt;/tt&gt;&lt;/p&gt;
</content><category term="misc"></category><category term="googlepost"></category><category term="computer"></category></entry><entry><title>Mac terminal stuff</title><link href="https://keflavich.github.io/blog/mac-terminal-stuff.html" rel="alternate"></link><published>2012-09-20T20:02:00-06:00</published><updated>2012-09-20T20:02:00-06:00</updated><author><name>Adam (keflavich@gmail.com)</name></author><id>tag:keflavich.github.io,2012-09-20:/blog/mac-terminal-stuff.html</id><content type="html">&lt;p&gt;xterm-color has some annoying features when SSHing to other compys,
including 'top' not functioning properly. The error I receive:
&lt;tt class="docutils literal"&gt;top: no termcap entry for a &lt;span class="pre"&gt;`xterm-color'&lt;/span&gt; terminal&lt;/tt&gt;
The solution:
&lt;a class="reference external" href="http://www.macosxhints.com/article.php?story=20031031185759986"&gt;From MacOSXhints&lt;/a&gt;, in bash just add &lt;tt class="docutils literal"&gt;export &lt;span class="pre"&gt;TERM=&amp;quot;vt100&amp;quot;&lt;/span&gt;&lt;/tt&gt; to your
&lt;tt class="docutils literal"&gt;.profile&lt;/tt&gt; file.&lt;/p&gt;
</content><category term="misc"></category><category term="googlepost"></category><category term="computer"></category></entry><entry><title>macvim crash</title><link href="https://keflavich.github.io/blog/macvim-crash.html" rel="alternate"></link><published>2012-09-20T20:02:00-06:00</published><updated>2012-09-20T20:02:00-06:00</updated><author><name>Adam (keflavich@gmail.com)</name></author><id>tag:keflavich.github.io,2012-09-20:/blog/macvim-crash.html</id><summary type="html">&lt;p&gt;&lt;p&gt;well, it finally happened.... my reliable, trusty editor crashed. That
should be impossible. I am ready to call it quits for the week....&lt;/p&gt;
&lt;pre class="literal-block"&gt;
Process:         MacVim [650]Path:            /Applications/Vim.app/Contents/MacOS/MacVimIdentifier:      org.vim.MacVimVersion:         7.2 (49)Code Type:       X86 (Native)Parent Process:  Vim [649]Date/Time:       2010-02-25 …&lt;/pre&gt;&lt;/p&gt;</summary><content type="html">&lt;p&gt;&lt;p&gt;well, it finally happened.... my reliable, trusty editor crashed. That
should be impossible. I am ready to call it quits for the week....&lt;/p&gt;
&lt;pre class="literal-block"&gt;
Process:         MacVim [650]Path:            /Applications/Vim.app/Contents/MacOS/MacVimIdentifier:      org.vim.MacVimVersion:         7.2 (49)Code Type:       X86 (Native)Parent Process:  Vim [649]Date/Time:       2010-02-25 13:12:43.001 -0700OS Version:      Mac OS X 10.6.2 (10C540)Report Version:  6Interval Since Last Report:          871676 secCrashes Since Last Report:           26Per-App Interval Since Last Report:  938504 secPer-App Crashes Since Last Report:   1Anonymous UUID:                      03159B9E-2257-4E38-8C4A-4D4DAF5641A7Exception Type:  EXC_BAD_ACCESS (SIGSEGV)Exception Codes: 0x000000000000000d, 0x0000000000000000Crashed Thread:  0  Dispatch queue: com.apple.main-threadThread 0 Crashed:  Dispatch queue: com.apple.main-thread0   com.apple.CoreFoundation       0x99119480 __CFSetCallback + 01   com.apple.CoreFoundation       0x990c78bc ___CFBasicHashFindBucket1 + 4442   com.apple.CoreFoundation       0x990cfaac CFBasicHashFindBucket + 2523   com.apple.CoreFoundation       0x990e8293 CFSetGetValue + 1314   com.apple.AppKit               0x961bae7e -[NSWindow _discardTrackingRect:] + 595   com.apple.AppKit               0x961badca -[NSView(NSInternal) _uninstallTrackingArea:] + 1236   com.apple.AppKit               0x960d2c32 -[NSView(NSInternal) _uninstallRemovedTrackingAreas] + 2937   com.apple.AppKit               0x960dac40 -[NSView(NSInternal) _updateTrackingAreas] + 6468   com.apple.CoreFoundation       0x990ea4e0 CFArrayApplyFunction + 2249   com.apple.AppKit               0x960daefb -[NSView(NSInternal) _updateTrackingAreas] + 134510  com.apple.CoreFoundation       0x990ea4e0 CFArrayApplyFunction + 22411  com.apple.AppKit               0x960daefb -[NSView(NSInternal) _updateTrackingAreas] + 134512  com.apple.CoreFoundation       0x990ea4e0 CFArrayApplyFunction + 22413  com.apple.AppKit               0x960daefb -[NSView(NSInternal) _updateTrackingAreas] + 134514  com.apple.AppKit               0x960da8db _handleInvalidCursorRectsNote + 39215  com.apple.CoreFoundation       0x99135892 __CFRunLoopDoObservers + 118616  com.apple.CoreFoundation       0x990f218d __CFRunLoopRun + 55717  com.apple.CoreFoundation       0x990f1864 CFRunLoopRunSpecific + 45218  com.apple.CoreFoundation       0x990f1691 CFRunLoopRunInMode + 9719  com.apple.HIToolbox            0x936f6f0c RunCurrentEventLoopInMode + 39220  com.apple.HIToolbox            0x936f6bff ReceiveNextEventCommon + 15821  com.apple.HIToolbox            0x936f6b48 BlockUntilNextEventMatchingListInMode + 8122  com.apple.AppKit               0x960b0ac5 _DPSNextEvent + 84723  com.apple.AppKit               0x960b0306 -[NSApplication nextEventMatchingMask:untilDate:inMode:dequeue:] + 15624  com.apple.AppKit               0x9607249f -[NSApplication run] + 82125  com.apple.AppKit               0x9606a535 NSApplicationMain + 57426  org.vim.MacVim                 0x0000238b _start + 20927  org.vim.MacVim                 0x000022b9 start + 41Thread 1:  Dispatch queue: com.apple.libdispatch-manager0   libSystem.B.dylib              0x98d0c0ea kevent + 101   libSystem.B.dylib              0x98d0c804 _dispatch_mgr_invoke + 2152   libSystem.B.dylib              0x98d0bcc3 _dispatch_queue_invoke + 1633   libSystem.B.dylib              0x98d0ba68 _dispatch_worker_thread2 + 2344   libSystem.B.dylib              0x98d0b4f1 _pthread_wqthread + 3905   libSystem.B.dylib              0x98d0b336 start_wqthread + 30Thread 2:0   libSystem.B.dylib              0x98ce58da mach_msg_trap + 101   libSystem.B.dylib              0x98ce6047 mach_msg + 682   com.apple.CoreFoundation       0x990f277f __CFRunLoopRun + 20793   com.apple.CoreFoundation       0x990f1864 CFRunLoopRunSpecific + 4524   com.apple.CoreFoundation       0x990f1691 CFRunLoopRunInMode + 975   com.apple.Foundation           0x91b24430 +[NSURLConnection(NSURLConnectionReallyInternal) _resourceLoadLoop:] + 3296   com.apple.Foundation           0x91aeb8d8 -[NSThread main] + 457   com.apple.Foundation           0x91aeb888 __NSThread__main__ + 14998   libSystem.B.dylib              0x98d12fbd _pthread_start + 3459   libSystem.B.dylib              0x98d12e42 thread_start + 34Thread 3:0   libSystem.B.dylib              0x98d04856 select$DARWIN_EXTSN + 101   com.apple.CoreFoundation       0x99131ddd __CFSocketManager + 10852   libSystem.B.dylib              0x98d12fbd _pthread_start + 3453   libSystem.B.dylib              0x98d12e42 thread_start + 34Thread 4:0   libSystem.B.dylib              0x98d0b182 __workq_kernreturn + 101   libSystem.B.dylib              0x98d0b718 _pthread_wqthread + 9412   libSystem.B.dylib              0x98d0b336 start_wqthread + 30Thread 0 crashed with X86 Thread State (32-bit):  eax: 0x00515db0  ebx: 0x990c7711  ecx: 0x00516460  edx: 0xbfffcabc  edi: 0x00001041  esi: 0x00504270  ebp: 0xbfffca38  esp: 0xbfffc99c   ss: 0x0000001f  efl: 0x00010246  eip: 0x99119480   cs: 0x00000017   ds: 0x0000001f   es: 0x0000001f   fs: 0x00000000   gs: 0x00000037  cr2: 0x97a20000
&lt;/pre&gt;
&lt;/p&gt;</content><category term="misc"></category><category term="googlepost"></category><category term="mac"></category><category term="computer"></category></entry><entry><title>Major mac problems</title><link href="https://keflavich.github.io/blog/major-mac-problems.html" rel="alternate"></link><published>2012-09-20T20:02:00-06:00</published><updated>2012-09-20T20:02:00-06:00</updated><author><name>Adam (keflavich@gmail.com)</name></author><id>tag:keflavich.github.io,2012-09-20:/blog/major-mac-problems.html</id><summary type="html">&lt;p&gt;The errors are, in short:&lt;/p&gt;
&lt;ul class="simple"&gt;
&lt;li&gt;Browser stops responding / starts returning &amp;quot;page not found&amp;quot;
(indicating a failure of mDNSResponder)&lt;/li&gt;
&lt;li&gt;killing mDNSResponder sometimes brings browser back, but more often
leads to a partial system freeze (some windows don't respond, can't
switch between windows except by clicking)&lt;/li&gt;
&lt;li&gt;/var/log/system.log gets flooded …&lt;/li&gt;&lt;/ul&gt;</summary><content type="html">&lt;p&gt;The errors are, in short:&lt;/p&gt;
&lt;ul class="simple"&gt;
&lt;li&gt;Browser stops responding / starts returning &amp;quot;page not found&amp;quot;
(indicating a failure of mDNSResponder)&lt;/li&gt;
&lt;li&gt;killing mDNSResponder sometimes brings browser back, but more often
leads to a partial system freeze (some windows don't respond, can't
switch between windows except by clicking)&lt;/li&gt;
&lt;li&gt;/var/log/system.log gets flooded with &amp;quot;too many files open&amp;quot; errors.&lt;/li&gt;
&lt;li&gt;somewhere in here the Dock fails&lt;/li&gt;
&lt;li&gt;killing Google Chrome and/or the Dock fails; the process never halts
(even kill -9 + kill -s SIGCHLD)&lt;/li&gt;
&lt;li&gt;usually one or two crash reports pop up, at least one of which is for
crash_reporter&lt;/li&gt;
&lt;li&gt;system.log stops getting flooded, but the browser and Dock never
recover&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;The only message in system.log that gives me any hint about what might
be happening is occasionally a freeze was resolved at the same time as
this message: Jun 22 19:02:09 eta Quicksilver[93771]: Multiple Scans
Attempted but it doesn't seem to change the situation if quicksilver is
open or not. Google has nothing on this issue, either, except for the
quicksilver source code, so evidently it has not caused problems for
other people system.log was also being flooded with this message:&lt;/p&gt;
&lt;pre class="literal-block"&gt;
Jun 23 08:57:19 eta postfix/master[99954]: fatal: open /dev/null: Bad file descriptorJun 23 08:57:20 eta com.apple.launchd[1] (org.postfix.master[99954]): Exited with exit code: 1Jun 23 08:57:20 eta com.apple.launchd[1] (org.postfix.master): Throttling respawn: Will start in 9 seconds
&lt;/pre&gt;
&lt;p&gt;so I disabled my postman:&lt;/p&gt;
&lt;pre class="literal-block"&gt;
Jun 23 08:57:27 eta sudo[99955]: adam : TTY=ttys006 ; PWD=/Users/adam/proposals/alma ; USER=root ; COMMAND=/bin/launchctl unload -w /System/Library/LaunchDaemons/org.postfix.master.plist
&lt;/pre&gt;
&lt;p&gt;These errors:&lt;/p&gt;
&lt;pre class="literal-block"&gt;
Jun 23 09:06:40 eta Dock[99877]: kCGErrorIllegalArgument: CGSSetWindowTransformAtPlacement: Singular matrix [nan 0.000 0.000 nan]Jun 23 09:06:40 eta com.apple.Dock.agent[99877]: Thu Jun 23 09:06:40 eta.colorado.edu Dock[99877] : kCGErrorIllegalArgument: CGSSetWindowTransformAtPlacement: Singular matrix [nan 0.000 0.000 nan]
&lt;/pre&gt;
&lt;p&gt;are correlated with opening Chrome windows and/or Chrome's
crash_inspector&lt;/p&gt;
&lt;pre class="literal-block"&gt;
Jun 23 09:06:09 eta [0x0-0x69e69e].com.google.Chrome[99995]: [99995:24579:485131152128125:ERROR:shared_memory_posix.cc(164)] Creating shared memory in /var/folders/ni/ni+DtdqFGMeSMH13AvkNkU+++TI/-Tmp-/.com.google.chrome.sHcu6r failed: Too many open files in system
&lt;/pre&gt;
&lt;p&gt;This is the problem that really gets me... I think it's
crash_inspector's fault.
But there's definitely more going on here than just Chrome. Trying to
change default browsers (by opening Safari and opening Preferences) led
to a partial Dock crash (?!) in which I can alt-tab but can't see the
Dock. Not clear at all what's going on.... argh.&lt;/p&gt;
&lt;/p&gt;</content><category term="misc"></category><category term="googlepost"></category><category term="crash"></category><category term="computer"></category></entry><entry><title>Make PDFs open with the thumbnails window open</title><link href="https://keflavich.github.io/blog/make-pdfs-open-with-the-thumbnails-window-open.html" rel="alternate"></link><published>2012-09-20T20:02:00-06:00</published><updated>2012-09-20T20:02:00-06:00</updated><author><name>Adam (keflavich@gmail.com)</name></author><id>tag:keflavich.github.io,2012-09-20:/blog/make-pdfs-open-with-the-thumbnails-window-open.html</id><summary type="html">&lt;p&gt;Neat trick I picked up from here:
&lt;a class="reference external" href="http://www.ghostscript.com/~ghostgum/pdftips.htm"&gt;http://www.ghostscript.com/~ghostgum/pdftips.htm&lt;/a&gt;
Add this code:
``  special{! /pdfmark               [/View [/XYZ null null 1]  % unspecified x and y offset, 100% zoom               /Page 1               /PageMode /UseThumbs % /UseNone /UserOutlines /UseThumbs /FullScreen              /DOCVIEW pdfmark               }``
to a LaTeX document (probably near the top) and …&lt;/p&gt;</summary><content type="html">&lt;p&gt;Neat trick I picked up from here:
&lt;a class="reference external" href="http://www.ghostscript.com/~ghostgum/pdftips.htm"&gt;http://www.ghostscript.com/~ghostgum/pdftips.htm&lt;/a&gt;
Add this code:
``  special{! /pdfmark               [/View [/XYZ null null 1]  % unspecified x and y offset, 100% zoom               /Page 1               /PageMode /UseThumbs % /UseNone /UserOutlines /UseThumbs /FullScreen              /DOCVIEW pdfmark               }``
to a LaTeX document (probably near the top) and when you ps2pdf it, it
will open the PDF with the thumbnail bar open. This is very useful for
proofreading after you latex a file. Of course, xdvi also works well for
this, but xdvi is VERY unstable on the Mac. At least adobe, being a
native Mac program, doesn't crash as often.&lt;/p&gt;
</content><category term="misc"></category><category term="googlepost"></category><category term="pdf"></category></entry><entry><title>Making a postscript plot of a gigantic fits image</title><link href="https://keflavich.github.io/blog/making-a-postscript-plot-of-a-gigantic-fits-image.html" rel="alternate"></link><published>2012-09-20T20:02:00-06:00</published><updated>2012-09-20T20:02:00-06:00</updated><author><name>Adam (keflavich@gmail.com)</name></author><id>tag:keflavich.github.io,2012-09-20:/blog/making-a-postscript-plot-of-a-gigantic-fits-image.html</id><summary type="html">&lt;p&gt;``    map = readfits('MOSAIC.fits',hdr)    crpix1 = sxpar(hdr,'CRPIX1')    crpix2 = sxpar(hdr,'CRPIX2')    crval1 = sxpar(hdr,'CRVAL1')    crval2 = sxpar(hdr,'CRVAL2')    cd1_1 = sxpar(hdr,'CD1_1')    cd2_2 = sxpar(hdr,'CD2_2')       x = lindgen(n_e(map[&lt;em&gt;,0]))    y = lindgen(n_e(map[0,&lt;/em&gt;]))    l = (x-crpix1)*cd1_1+crval1-360 …&lt;/p&gt;</summary><content type="html">&lt;p&gt;``    map = readfits('MOSAIC.fits',hdr)    crpix1 = sxpar(hdr,'CRPIX1')    crpix2 = sxpar(hdr,'CRPIX2')    crval1 = sxpar(hdr,'CRVAL1')    crval2 = sxpar(hdr,'CRVAL2')    cd1_1 = sxpar(hdr,'CD1_1')    cd2_2 = sxpar(hdr,'CD2_2')       x = lindgen(n_e(map[&lt;em&gt;,0]))    y = lindgen(n_e(map[0,&lt;/em&gt;]))    l = (x-crpix1)*cd1_1+crval1-360    b = (y-crpix2)*cd2_2+crval2    imdisp,map,/axis,xrange=[max(l),min(l)],yrange=[min(b),max(b)],range=[-1,8]``
This code makes use of &lt;a class="reference external" href="http://cimss.ssec.wisc.edu/~gumley/idl/imdisp.pro"&gt;imdisp.pro&lt;/a&gt;.&lt;/p&gt;
</content><category term="misc"></category><category term="googlepost"></category><category term="idl"></category></entry><entry><title>Marc Pound's toolbox</title><link href="https://keflavich.github.io/blog/marc-pounds-toolbox.html" rel="alternate"></link><published>2012-09-20T20:02:00-06:00</published><updated>2012-09-20T20:02:00-06:00</updated><author><name>Adam (keflavich@gmail.com)</name></author><id>tag:keflavich.github.io,2012-09-20:/blog/marc-pounds-toolbox.html</id><content type="html">&lt;p&gt;This is neat:
&lt;a class="reference external" href="http://dustem.astro.umd.edu/pdrt/quickmodels.html"&gt;Line Ratio as a function of density, incident flux from Marc Pound&lt;/a&gt;.
Sadly, straight CO 3-2 intensity isn't included, but perhaps I can
create that myself.&lt;/p&gt;
</content><category term="misc"></category><category term="googlepost"></category><category term="astronomy"></category></entry><entry><title>mathematica</title><link href="https://keflavich.github.io/blog/mathematica.html" rel="alternate"></link><published>2012-09-20T20:02:00-06:00</published><updated>2012-09-20T20:02:00-06:00</updated><author><name>Adam (keflavich@gmail.com)</name></author><id>tag:keflavich.github.io,2012-09-20:/blog/mathematica.html</id><content type="html">&lt;p&gt;//. and /. use 'rules' of the form {x-&amp;gt;y} for substitutions
how do you make the layout of a page look nice? How do you change line
spacing?&lt;/p&gt;
</content><category term="misc"></category><category term="googlepost"></category><category term="computer"></category></entry><entry><title>Mathematica &amp; Series expansions</title><link href="https://keflavich.github.io/blog/mathematica-series-expansions.html" rel="alternate"></link><published>2012-09-20T20:02:00-06:00</published><updated>2012-09-20T20:02:00-06:00</updated><author><name>Adam (keflavich@gmail.com)</name></author><id>tag:keflavich.github.io,2012-09-20:/blog/mathematica-series-expansions.html</id><summary type="html">&lt;p&gt;Mathematica does something stupid and incomprehensible (to me) with
their series expansions. For no clear reason, it makes the
O[x]&lt;sup&gt;n&lt;/sup&gt; uneditable, and adds a bunch of formatting things that
prevent you from copying &amp;amp; pasting the expression and then solving for a
variable. Argh. While this is repairable using …&lt;/p&gt;</summary><content type="html">&lt;p&gt;Mathematica does something stupid and incomprehensible (to me) with
their series expansions. For no clear reason, it makes the
O[x]&lt;sup&gt;n&lt;/sup&gt; uneditable, and adds a bunch of formatting things that
prevent you from copying &amp;amp; pasting the expression and then solving for a
variable. Argh. While this is repairable using the &amp;quot;show expression&amp;quot;
tool (Shift-Apple-E), it's a pain and &amp;quot;show expression&amp;quot; is not meant to
be human readable.&lt;/p&gt;
</content><category term="misc"></category><category term="googlepost"></category><category term="mathematica"></category></entry><entry><title>matplotlib 64 bit installs never work</title><link href="https://keflavich.github.io/blog/matplotlib-64-bit-installs-never-work.html" rel="alternate"></link><published>2012-09-20T20:02:00-06:00</published><updated>2012-09-20T20:02:00-06:00</updated><author><name>Adam (keflavich@gmail.com)</name></author><id>tag:keflavich.github.io,2012-09-20:/blog/matplotlib-64-bit-installs-never-work.html</id><summary type="html">&lt;p&gt;a clue as to why:
functional ft2font.so:
&lt;tt class="docutils literal"&gt;$ otool &lt;span class="pre"&gt;-L&lt;/span&gt; &lt;span class="pre"&gt;/Library/Frameworks/Python.framework/Versions/2.6/lib/python2.6/site-packages/matplotlib/ft2font.so&lt;/span&gt; &lt;span class="pre"&gt;/Library/Frameworks/Python.framework/Versions/2.6/lib/python2.6/site-packages/matplotlib/ft2font.so:&lt;/span&gt; /usr/local/lib/libfreetype.6.dylib (compatibility version 10.0.0, current …&lt;/tt&gt;&lt;/p&gt;</summary><content type="html">&lt;p&gt;a clue as to why:
functional ft2font.so:
&lt;tt class="docutils literal"&gt;$ otool &lt;span class="pre"&gt;-L&lt;/span&gt; &lt;span class="pre"&gt;/Library/Frameworks/Python.framework/Versions/2.6/lib/python2.6/site-packages/matplotlib/ft2font.so&lt;/span&gt; &lt;span class="pre"&gt;/Library/Frameworks/Python.framework/Versions/2.6/lib/python2.6/site-packages/matplotlib/ft2font.so:&lt;/span&gt; /usr/local/lib/libfreetype.6.dylib (compatibility version 10.0.0, current version 10.22.0) /usr/lib/libz.1.dylib (compatibility version 1.0.0, current version 1.2.3) &lt;span class="pre"&gt;/usr/local/lib/libstdc++.6.dylib&lt;/span&gt; (compatibility version 7.0.0, current version 7.14.0) /usr/lib/libSystem.B.dylib (compatibility version 1.0.0, current version 125.2.11)&lt;/tt&gt;
nonfunctional ft2font.so:
&lt;tt class="docutils literal"&gt;$ otool &lt;span class="pre"&gt;-L&lt;/span&gt; &lt;span class="pre"&gt;/Users/adam/repos/yt/yt-i386/lib/python2.7/site-packages/matplotlib/ft2font.so/Users/adam/repos/yt/yt-i386/lib/python2.7/site-packages/matplotlib/ft2font.so:&lt;/span&gt; &lt;span class="pre"&gt;/Users/adam/repos/yt/yt-i386/lib/libfreetype.6.dylib&lt;/span&gt; (compatibility version 13.0.0, current version 13.2.0) &lt;span class="pre"&gt;/Users/adam/repos/yt/yt-i386//lib/libz.1.dylib&lt;/span&gt; (compatibility version 1.0.0, current version 1.2.3) &lt;span class="pre"&gt;/usr/local/lib/libstdc++.6.dylib&lt;/span&gt; (compatibility version 7.0.0, current version 7.14.0) /usr/lib/libSystem.B.dylib (compatibility version 1.0.0, current version 125.2.11) /usr/local/lib/libgcc_s.1.dylib (compatibility version 1.0.0, current version 1.0.0)&lt;/tt&gt;
The culprit is the difference between those two (maybe?):
&lt;tt class="docutils literal"&gt;$ file /usr/local/lib/libgcc_s.1.dylib/usr/local/lib/libgcc_s.1.dylib: &lt;span class="pre"&gt;Mach-O&lt;/span&gt; universal binary with 4 architectures/usr/local/lib/libgcc_s.1.dylib (for architecture i386): &lt;span class="pre"&gt;Mach-O&lt;/span&gt; dynamically linked shared library i386/usr/local/lib/libgcc_s.1.dylib (for architecture x86_64): &lt;span class="pre"&gt;Mach-O&lt;/span&gt; &lt;span class="pre"&gt;64-bit&lt;/span&gt; dynamically linked shared library x86_64/usr/local/lib/libgcc_s.1.dylib (for architecture ppc): &lt;span class="pre"&gt;Mach-O&lt;/span&gt; dynamically linked shared library ppc/usr/local/lib/libgcc_s.1.dylib (for architecture ppc64): &lt;span class="pre"&gt;Mach-O&lt;/span&gt; &lt;span class="pre"&gt;64-bit&lt;/span&gt; dynamically linked shared library ppc64$ otool &lt;span class="pre"&gt;-L&lt;/span&gt; /usr/local/lib/libgcc_s.1.dylib/usr/local/lib/libgcc_s.1.dylib: /usr/local/lib/libgcc_s.1.dylib (compatibility version 1.0.0, current version 1.0.0) /usr/lib/libSystem.B.dylib (compatibility version 1.0.0, current version 88.3.9)&lt;/tt&gt;&lt;/p&gt;
</content><category term="misc"></category><category term="googlepost"></category><category term="matplotlib"></category><category term="computer"></category></entry><entry><title>Mercurial - behave like SVN?</title><link href="https://keflavich.github.io/blog/mercurial-behave-like-svn.html" rel="alternate"></link><published>2012-09-20T20:02:00-06:00</published><updated>2012-09-20T20:02:00-06:00</updated><author><name>Adam (keflavich@gmail.com)</name></author><id>tag:keflavich.github.io,2012-09-20:/blog/mercurial-behave-like-svn.html</id><summary type="html">&lt;p&gt;I'm trying to use hooks to make mercurial behave like svn when
committing. I like the idea that I can commit changes to my cloned repo
while I'm away from the internet, but I never want that behavior when I
do have internet access. Therefore, I want to attempt to …&lt;/p&gt;</summary><content type="html">&lt;p&gt;I'm trying to use hooks to make mercurial behave like svn when
committing. I like the idea that I can commit changes to my cloned repo
while I'm away from the internet, but I never want that behavior when I
do have internet access. Therefore, I want to attempt to pull before
updating and attempt to push after committing. Every time. I have been
consistently very unhappy with the &lt;tt class="docutils literal"&gt;hg merge&lt;/tt&gt; command.
&lt;tt class="docutils literal"&gt;[hooks]precommit = hg pull; hg uppostcommit= hg &lt;span class="pre"&gt;pushpost-pull&lt;/span&gt; = hg up&lt;/tt&gt;
However, this doesn't work. precommit freezes with the error
&lt;tt class="docutils literal"&gt;waiting for lock on working directory of [dir] held by [procnum]&lt;/tt&gt;
and pre-commit results in other errors:
&lt;tt class="docutils literal"&gt;running hook &lt;span class="pre"&gt;pre-commit:&lt;/span&gt; hg pull; hg uppulling from [source]searching for changesno changes foundrunning hook &lt;span class="pre"&gt;post-pull:&lt;/span&gt; hg upabort: outstanding uncommitted mergeswarning: &lt;span class="pre"&gt;post-pull&lt;/span&gt; hook exited with status 255abort: outstanding uncommitted mergeswarning: &lt;span class="pre"&gt;pre-commit&lt;/span&gt; hook exited with status 255&lt;/tt&gt;
&lt;a class="reference external" href="http://casa.colorado.edu/~ginsbura/index.htm"&gt;AG&lt;/a&gt;&lt;/p&gt;
</content><category term="misc"></category><category term="googlepost"></category><category term="mercurial"></category><category term="subversion"></category></entry><entry><title>mercurial merge</title><link href="https://keflavich.github.io/blog/mercurial-merge.html" rel="alternate"></link><published>2012-09-20T20:02:00-06:00</published><updated>2012-09-20T20:02:00-06:00</updated><author><name>Adam (keflavich@gmail.com)</name></author><id>tag:keflavich.github.io,2012-09-20:/blog/mercurial-merge.html</id><summary type="html">&lt;p&gt;&lt;p&gt;&lt;a class="reference external" href="http://casa.colorado.edu/~ginsbura/index.htm"&gt;AG&lt;/a&gt;
My most hated behavior of mercurial:&lt;/p&gt;
&lt;pre class="literal-block"&gt;
searching for changesadding changesetsadding manifestsadding file changesadded 1 changesets with 3 changes to 3 files (+1 heads)(run 'hg heads' to see heads, 'hg merge' to merge)remote: 1 changesets foundrunning hook post-pull: hg upabort: crosses branches (merge branches or use --clean to …&lt;/pre&gt;&lt;/p&gt;</summary><content type="html">&lt;p&gt;&lt;p&gt;&lt;a class="reference external" href="http://casa.colorado.edu/~ginsbura/index.htm"&gt;AG&lt;/a&gt;
My most hated behavior of mercurial:&lt;/p&gt;
&lt;pre class="literal-block"&gt;
searching for changesadding changesetsadding manifestsadding file changesadded 1 changesets with 3 changes to 3 files (+1 heads)(run 'hg heads' to see heads, 'hg merge' to merge)remote: 1 changesets foundrunning hook post-pull: hg upabort: crosses branches (merge branches or use --clean to discard changes)warning: post-pull hook exited with status 255$ hg mergeabort: outstanding uncommitted changes (use 'hg status' to list changes)$ hg commitnothing changed
&lt;/pre&gt;
&lt;p&gt;Solution:
`` hg merge --force ``
Hopefully there are other solutions that I'll eventually add to this.&lt;/p&gt;
&lt;/p&gt;</content><category term="misc"></category><category term="googlepost"></category><category term="mercurial"></category></entry><entry><title>Merging postscripts</title><link href="https://keflavich.github.io/blog/merging-postscripts.html" rel="alternate"></link><published>2012-09-20T20:02:00-06:00</published><updated>2012-09-20T20:02:00-06:00</updated><author><name>Adam (keflavich@gmail.com)</name></author><id>tag:keflavich.github.io,2012-09-20:/blog/merging-postscripts.html</id><summary type="html">&lt;p&gt;This is essential and really difficult to find answers to, but this guy
gave it:
&lt;a class="reference external" href="http://ludo.qix.it/archive/2005/08/merge-postscript-files.html"&gt;http://ludo.qix.it/archive/2005/08/merge-postscript-files.html&lt;/a&gt;
The keywords I would have liked to see:
&lt;a class="reference external" href="http://ludo.qix.it/archive/2005/08/merge-postscript-files.html"&gt;&amp;quot;merge postscripts into multi-page document&amp;quot;&lt;/a&gt;
or &lt;a class="reference external" href="http://ludo.qix.it/archive/2005/08/merge-postscript-files.html"&gt;&amp;quot;combine postscript multiple page&amp;quot;&lt;/a&gt;
e.g.
&lt;tt class="docutils literal"&gt;gs &lt;span class="pre"&gt;-sDEVICE=pswrite&lt;/span&gt; &lt;span class="pre"&gt;-sOutputFile=output.ps …&lt;/span&gt;&lt;/tt&gt;&lt;/p&gt;</summary><content type="html">&lt;p&gt;This is essential and really difficult to find answers to, but this guy
gave it:
&lt;a class="reference external" href="http://ludo.qix.it/archive/2005/08/merge-postscript-files.html"&gt;http://ludo.qix.it/archive/2005/08/merge-postscript-files.html&lt;/a&gt;
The keywords I would have liked to see:
&lt;a class="reference external" href="http://ludo.qix.it/archive/2005/08/merge-postscript-files.html"&gt;&amp;quot;merge postscripts into multi-page document&amp;quot;&lt;/a&gt;
or &lt;a class="reference external" href="http://ludo.qix.it/archive/2005/08/merge-postscript-files.html"&gt;&amp;quot;combine postscript multiple page&amp;quot;&lt;/a&gt;
e.g.
&lt;tt class="docutils literal"&gt;gs &lt;span class="pre"&gt;-sDEVICE=pswrite&lt;/span&gt; &lt;span class="pre"&gt;-sOutputFile=output.ps&lt;/span&gt; &lt;span class="pre"&gt;-dNOPAUSE&lt;/span&gt; &lt;span class="pre"&gt;-dBATCH&lt;/span&gt; file1.ps file2.ps file3.psorgs &lt;span class="pre"&gt;-sDEVICE=pswrite&lt;/span&gt; &lt;span class="pre"&gt;-sOutputFile=05358spectra.ps&lt;/span&gt; &lt;span class="pre"&gt;-dNOPAUSE&lt;/span&gt; &lt;span class="pre"&gt;-dEPSFitPage&lt;/span&gt; &lt;span class="pre"&gt;-dBATCH&lt;/span&gt; `ls &lt;span class="pre"&gt;05358_*.eps`(the&lt;/span&gt; added option is to make sure the .eps isn't cropped)&lt;/tt&gt;&lt;/p&gt;
</content><category term="misc"></category><category term="googlepost"></category><category term="computer"></category><category term="postscript"></category></entry><entry><title>meta</title><link href="https://keflavich.github.io/blog/meta.html" rel="alternate"></link><published>2012-09-20T20:02:00-06:00</published><updated>2012-09-20T20:02:00-06:00</updated><author><name>Adam (keflavich@gmail.com)</name></author><id>tag:keflavich.github.io,2012-09-20:/blog/meta.html</id><summary type="html">&lt;p&gt;Why a blog? I've been strongly opposed to blogs for the longest time
(after all, Desert Strike coined the word BLOG as an acronym for
building), so why use one now?
1. link power - more links to my own pages if done correctly
2. google owns the blogger
2.a …&lt;/p&gt;</summary><content type="html">&lt;p&gt;Why a blog? I've been strongly opposed to blogs for the longest time
(after all, Desert Strike coined the word BLOG as an acronym for
building), so why use one now?
1. link power - more links to my own pages if done correctly
2. google owns the blogger
2.a. google made it really easy
3. it's easier to add content here than to my real 'web page' which is
already too content-heavy. Still, my &lt;a class="reference external" href="http://casa.colorado.edu/~ginsbura/index.htm"&gt;web page&lt;/a&gt; is more useful for
displaying code, my cv, etc.
4. needed a place to post beer reviews / brewing related content that
doesn't fit on a normal web page unless I made a blog there
5. easiest way to take notes that I can't just accidentally delete...
and now that I've made this post,
6. because I like metahumour&lt;/p&gt;
</content><category term="misc"></category><category term="googlepost"></category><category term="meta"></category></entry><entry><title>Molecular Clouds</title><link href="https://keflavich.github.io/blog/molecular-clouds.html" rel="alternate"></link><published>2012-09-20T20:02:00-06:00</published><updated>2012-09-20T20:02:00-06:00</updated><author><name>Adam (keflavich@gmail.com)</name></author><id>tag:keflavich.github.io,2012-09-20:/blog/molecular-clouds.html</id><summary type="html">&lt;p&gt;&lt;a class="reference external" href="http://casa.colorado.edu/~ginsbura/"&gt;I&lt;/a&gt;'m starting a blog on Molecular Clouds partly for the International
Year of Astronomy. Ideally, I'd like to present a tour of the W3/4/5
region, but at the moment that's more of a research blog than a public
blog. This is partly in response to &lt;a class="reference external" href="http://www.starstryder.com/2008/08/05/building-a-portal-to-the-universe/"&gt;Pamela Gay's …&lt;/a&gt;&lt;/p&gt;</summary><content type="html">&lt;p&gt;&lt;a class="reference external" href="http://casa.colorado.edu/~ginsbura/"&gt;I&lt;/a&gt;'m starting a blog on Molecular Clouds partly for the International
Year of Astronomy. Ideally, I'd like to present a tour of the W3/4/5
region, but at the moment that's more of a research blog than a public
blog. This is partly in response to &lt;a class="reference external" href="http://www.starstryder.com/2008/08/05/building-a-portal-to-the-universe/"&gt;Pamela Gay's request for astronomy
blog feeds&lt;/a&gt;.
I've generally spent more time maintaining my personal web page than my
blog pages. The most interesting are:
&lt;a class="reference external" href="http://casa.colorado.edu/~ginsbura/w5_public.htm"&gt;W5&lt;/a&gt;
&lt;a class="reference external" href="http://casa.colorado.edu/~ginsbura/pcygni_public.htm"&gt;P Cygni&lt;/a&gt;
&lt;a class="reference external" href="http://casa.colorado.edu/~ginsbura/astropix.htm"&gt;Some pictures&lt;/a&gt;
but feel free to browse around.&lt;/p&gt;
</content><category term="misc"></category><category term="googlepost"></category><category term="intro"></category></entry><entry><title>Montage wrapper</title><link href="https://keflavich.github.io/blog/montage-wrapper.html" rel="alternate"></link><published>2012-09-20T20:02:00-06:00</published><updated>2012-09-20T20:02:00-06:00</updated><author><name>Adam (keflavich@gmail.com)</name></author><id>tag:keflavich.github.io,2012-09-20:/blog/montage-wrapper.html</id><summary type="html">&lt;p&gt;(I'm going to try to gradually shift my blogging to this one...)
I wrote a bash wrapper for Tom Robitaille's montage wrapper to allow
fits wildcards.
&lt;tt class="docutils literal"&gt;&lt;span class="pre"&gt;#!/bin/bashorigdir=`pwd`#echo&lt;/span&gt; $# $*if [ $# &lt;span class="pre"&gt;-gt&lt;/span&gt; 0 ]then&amp;nbsp;&amp;nbsp;&amp;nbsp; for ii in $*&amp;nbsp;&amp;nbsp;&amp;nbsp; do&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp; if [ &lt;span class="pre"&gt;${ii%=*}&lt;/span&gt; == 'header' ]&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp; then&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp; /usr/local/bin/montage/mGetHdr &lt;span class="pre"&gt;${ii#*=}&lt;/span&gt; mosaic.hdr …&lt;/tt&gt;&lt;/p&gt;</summary><content type="html">&lt;p&gt;(I'm going to try to gradually shift my blogging to this one...)
I wrote a bash wrapper for Tom Robitaille's montage wrapper to allow
fits wildcards.
&lt;tt class="docutils literal"&gt;&lt;span class="pre"&gt;#!/bin/bashorigdir=`pwd`#echo&lt;/span&gt; $# $*if [ $# &lt;span class="pre"&gt;-gt&lt;/span&gt; 0 ]then&amp;nbsp;&amp;nbsp;&amp;nbsp; for ii in $*&amp;nbsp;&amp;nbsp;&amp;nbsp; do&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp; if [ &lt;span class="pre"&gt;${ii%=*}&lt;/span&gt; == 'header' ]&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp; then&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp; /usr/local/bin/montage/mGetHdr &lt;span class="pre"&gt;${ii#*=}&lt;/span&gt; mosaic.hdr&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp; elif [ &lt;span class="pre"&gt;${ii%=*}&lt;/span&gt; == 'outfile' ]&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp; then&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp; &lt;span class="pre"&gt;outfile=${ii#*=}&lt;/span&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp; elif [ `echo $ii | grep =` ]&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp; then&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp; &lt;span class="pre"&gt;params=&amp;quot;$params,${ii%=*}='${ii#*=}'&amp;quot;&lt;/span&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp; elif [ `echo $ii | grep &amp;quot;.fits&amp;quot;` ]&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp; then&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp; files=( &lt;span class="pre"&gt;${files[&amp;#64;]}&lt;/span&gt; $ii )&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp; fi&amp;nbsp;&amp;nbsp;&amp;nbsp; donefiecho &lt;span class="pre"&gt;${files[&amp;#64;]}&lt;/span&gt; &lt;span class="pre"&gt;${#files}&lt;/span&gt; if [ &lt;span class="pre"&gt;${#files}&lt;/span&gt; &lt;span class="pre"&gt;-gt&lt;/span&gt; 0 ] then&amp;nbsp;&amp;nbsp;&amp;nbsp; mkdir tmp&amp;nbsp;&amp;nbsp;&amp;nbsp; cp &lt;span class="pre"&gt;${files[&amp;#64;]}&lt;/span&gt; tmp/&amp;nbsp;&amp;nbsp;&amp;nbsp; cp mosaic.hdr tmp/&amp;nbsp;&amp;nbsp;&amp;nbsp; cd tmp/fiif [ &lt;span class="pre"&gt;-f&lt;/span&gt; mosaic.hdr ] then&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp; echo &amp;quot;mosaic.hdr exists, continuing&amp;quot;&amp;nbsp;&amp;nbsp;&amp;nbsp; &lt;span class="pre"&gt;dir=`pwd`&lt;/span&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp; echo python &lt;span class="pre"&gt;-c&lt;/span&gt; &amp;quot;import montage; &lt;span class="pre"&gt;montage.wrappers.mosaic('$dir','$dir/mosaic',header='$dir/mosaic.hdr'$params)&amp;quot;&lt;/span&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp; python &lt;span class="pre"&gt;-c&lt;/span&gt; &amp;quot;import montage; &lt;span class="pre"&gt;montage.wrappers.mosaic('$dir','$dir/mosaic',header='$dir/mosaic.hdr'$params)&amp;quot;&lt;/span&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp; cd $origdir&amp;nbsp;&amp;nbsp;&amp;nbsp; if [ &lt;span class="pre"&gt;-d&lt;/span&gt; tmp ]&amp;nbsp;&amp;nbsp;&amp;nbsp; then&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp; if [ $outfile ]&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp; then&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp; mv tmp/mosaic/mosaic.fits $outfile&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp; else&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp; mv tmp/mosaic mosaic&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp; fi&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp; rm &lt;span class="pre"&gt;-r&lt;/span&gt; tmp&amp;nbsp;&amp;nbsp;&amp;nbsp; fielse&amp;nbsp;&amp;nbsp;&amp;nbsp; echo &amp;quot;mosaic.hdr does not exist.&amp;nbsp; Quitting.&amp;quot;&amp;nbsp;&amp;nbsp;&amp;nbsp; cd $origdirfi&lt;/tt&gt;&lt;/p&gt;
</content><category term="misc"></category><category term="googlepost"></category><category term="code"></category></entry><entry><title>More beer tastes</title><link href="https://keflavich.github.io/blog/more-beer-tastes.html" rel="alternate"></link><published>2012-09-20T20:02:00-06:00</published><updated>2012-09-20T20:02:00-06:00</updated><author><name>Adam (keflavich@gmail.com)</name></author><id>tag:keflavich.github.io,2012-09-20:/blog/more-beer-tastes.html</id><summary type="html">&lt;p&gt;Stone Vertical Epic 8: described as an overhopped Belgian, and I think
they hit the mark exactly. It was pleasant and drinkable, with a strong
hop flavor but weak hop bitterness. 8.6% ABV
Fort Collins brewery double chocolate stout: a reasonable dessert beer.
Not nearly as dry as Stone's …&lt;/p&gt;</summary><content type="html">&lt;p&gt;Stone Vertical Epic 8: described as an overhopped Belgian, and I think
they hit the mark exactly. It was pleasant and drinkable, with a strong
hop flavor but weak hop bitterness. 8.6% ABV
Fort Collins brewery double chocolate stout: a reasonable dessert beer.
Not nearly as dry as Stone's Oatmeal Chocolate, but not as sweet as
Young's double chocolate. Chocolate undertones stayed undertones, which
is not what I expect from a double chocolate stout. 8.1% ABV
Avery / Liquor Mart 40th anniversary: Just a hoppy ale, nothing special.
Had a stronger hop aftertaste than most, not up to Avery's standard. No
ABV label.
Steamworks Kolsch: Very light kolsch. I think it may have had a crisp
flavor to it, but it was the last in line and unremarkable enough that
my comments on it are untrustworthy. 4.86% ABV.
Also, talked to Bobby again, he recommends St Bernard as a good Belgian.
That's on the list.&lt;/p&gt;
</content><category term="misc"></category><category term="googlepost"></category><category term="beer tasting"></category></entry><entry><title>More tastings</title><link href="https://keflavich.github.io/blog/more-tastings.html" rel="alternate"></link><published>2012-09-20T20:02:00-06:00</published><updated>2012-09-20T20:02:00-06:00</updated><author><name>Adam (keflavich@gmail.com)</name></author><id>tag:keflavich.github.io,2012-09-20:/blog/more-tastings.html</id><content type="html">&lt;p&gt;Deschutes Black Butte XX - good for a porter, reasonably drinkable, but
still a porter
Rogue Chocolate Stout - a bit bitterer than I want in a chocolate stout
Victory 12 - pretty good, tasted a bit like a trippel
Sketch Wheat - much more drinkable than last time; &amp;quot;weirdness&amp;quot; gone&lt;/p&gt;
</content><category term="misc"></category><category term="googlepost"></category></entry><entry><title>MOSAIC data reduction</title><link href="https://keflavich.github.io/blog/mosaic-data-reduction.html" rel="alternate"></link><published>2012-09-20T20:02:00-06:00</published><updated>2012-09-20T20:02:00-06:00</updated><author><name>Adam (keflavich@gmail.com)</name></author><id>tag:keflavich.github.io,2012-09-20:/blog/mosaic-data-reduction.html</id><summary type="html">&lt;p&gt;MOSAIC reduction is very difficult.
&lt;a class="reference external" href="http://www.noao.edu/noao/noaodeep/ReductionOpt/frames.html"&gt;http://www.noao.edu/noao/noaodeep/ReductionOpt/frames.html&lt;/a&gt; has the
official instructions.
Important things:
Have the latest version of &lt;a class="reference external" href="http://iraf.noao.edu/iraf/ftp/iraf/extern/mscred/"&gt;MSCRED&lt;/a&gt; and &lt;a class="reference external" href="http://iraf.noao.edu/iraf/ftp/iraf/extern/mscdb/"&gt;MSCDB&lt;/a&gt; installed. Both will
give cryptic errors or &amp;quot;cannot open file&amp;quot; errors (because the files
don't exist) otherwise.
&lt;tt class="docutils literal"&gt;mscredsetinstrument kpno CCDMosaThin1msccmatch &lt;span class="pre"&gt;obj09*.fits …&lt;/span&gt;&lt;/tt&gt;&lt;/p&gt;</summary><content type="html">&lt;p&gt;MOSAIC reduction is very difficult.
&lt;a class="reference external" href="http://www.noao.edu/noao/noaodeep/ReductionOpt/frames.html"&gt;http://www.noao.edu/noao/noaodeep/ReductionOpt/frames.html&lt;/a&gt; has the
official instructions.
Important things:
Have the latest version of &lt;a class="reference external" href="http://iraf.noao.edu/iraf/ftp/iraf/extern/mscred/"&gt;MSCRED&lt;/a&gt; and &lt;a class="reference external" href="http://iraf.noao.edu/iraf/ftp/iraf/extern/mscdb/"&gt;MSCDB&lt;/a&gt; installed. Both will
give cryptic errors or &amp;quot;cannot open file&amp;quot; errors (because the files
don't exist) otherwise.
&lt;tt class="docutils literal"&gt;mscredsetinstrument kpno CCDMosaThin1msccmatch &lt;span class="pre"&gt;obj09*.fits&lt;/span&gt; &lt;span class="pre"&gt;coords=&amp;quot;!mscgetcat&lt;/span&gt; $I $C&amp;quot; search=60 rsearch=1 nfit=30 accept=yes interactive=no fit=no&lt;/tt&gt;&lt;/p&gt;
</content><category term="misc"></category><category term="googlepost"></category><category term="iraf"></category></entry><entry><title>Most important astronomical publications</title><link href="https://keflavich.github.io/blog/most-important-astronomical-publications.html" rel="alternate"></link><published>2012-09-20T20:02:00-06:00</published><updated>2012-09-20T20:02:00-06:00</updated><author><name>Adam (keflavich@gmail.com)</name></author><id>tag:keflavich.github.io,2012-09-20:/blog/most-important-astronomical-publications.html</id><content type="html">&lt;p&gt;I'm interested to hear input on this. Some I know of:
Cardelli, Clayton, Mathis 1989 - determined interstellar extinction law
Kurucz 1993 - possibly a book? Stellar atmosphere calculations&lt;/p&gt;
</content><category term="misc"></category><category term="googlepost"></category><category term="astronomy"></category></entry><entry><title>Mountain Sun</title><link href="https://keflavich.github.io/blog/mountain-sun.html" rel="alternate"></link><published>2012-09-20T20:02:00-06:00</published><updated>2012-09-20T20:02:00-06:00</updated><author><name>Adam (keflavich@gmail.com)</name></author><id>tag:keflavich.github.io,2012-09-20:/blog/mountain-sun.html</id><summary type="html">&lt;p&gt;Went to the Mountain Sun, had the Thunderhead Stout and Stone's
Levitation IPA.
The Thunderhead Stout is one of my favorites. It's rich, slightly sweet,
full bodied. I can't identify any particular flavors, but it's
delicious.
Stone's Levitation IPA is dark brown for an IPA. It's hoppy and pretty
tasty …&lt;/p&gt;</summary><content type="html">&lt;p&gt;Went to the Mountain Sun, had the Thunderhead Stout and Stone's
Levitation IPA.
The Thunderhead Stout is one of my favorites. It's rich, slightly sweet,
full bodied. I can't identify any particular flavors, but it's
delicious.
Stone's Levitation IPA is dark brown for an IPA. It's hoppy and pretty
tasty, but nowhere near as good as the Dogfish Head IPAs.&lt;/p&gt;
</content><category term="misc"></category><category term="googlepost"></category><category term="beer tasting"></category></entry><entry><title>MOVIES!</title><link href="https://keflavich.github.io/blog/movies.html" rel="alternate"></link><published>2012-09-20T20:02:00-06:00</published><updated>2012-09-20T20:02:00-06:00</updated><author><name>Adam (keflavich@gmail.com)</name></author><id>tag:keflavich.github.io,2012-09-20:/blog/movies.html</id><summary type="html">&lt;p&gt;Making movies is surprisingly difficult. No matter what language you
use, apparently true movie files can only be made by stringing together
images, i.e. there is no native movie-producing feature. Gnuplot can do
some simple animations but to do anything sophisticated you need to
start delving into variables, and …&lt;/p&gt;</summary><content type="html">&lt;p&gt;Making movies is surprisingly difficult. No matter what language you
use, apparently true movie files can only be made by stringing together
images, i.e. there is no native movie-producing feature. Gnuplot can do
some simple animations but to do anything sophisticated you need to
start delving into variables, and for that I switch to a real language.
So, I returned to python. As usual, it took no more than a few hours of
coding and learning to come up with something. But it bothers me that it
took that long: I still think python is most deficient in its failure to
create a default column-text reader like 'readcol' in IDL. I can't
complain that much, though: I wrote &lt;a class="reference external" href="http://casa.colorado.edu/~ginsbura/pyreadcol.htm"&gt;my own&lt;/a&gt; in about 5 minutes.
Anyway, the key is to use the &lt;tt class="docutils literal"&gt;.set_xdata&lt;/tt&gt; and &lt;tt class="docutils literal"&gt;.set_ydata&lt;/tt&gt;
functions of a plot to update a canvas. I still don't have nearly as
high a plotting speed as I'd like, but it works alright if I don't
display to screen. Probably a different backend would be more effective
but I don't like to mess with backends.
I use `` savefig(filename,dpi=50) `` to reduce the image quality so that
it's easier for the animator to handle.
ImageMagick's convert can be used to stitch any kind of image into a
movie given that you've installed an mpeg2 encoder (fink gave me
&lt;tt class="docutils literal"&gt;mpeg2vidcodec&lt;/tt&gt;).&lt;/p&gt;
&lt;p&gt;The command is very simple:
&lt;tt class="docutils literal"&gt;convert &lt;span class="pre"&gt;-size&lt;/span&gt; 300x300 *.png movie.mpg&lt;/tt&gt;&lt;/p&gt;
&lt;p&gt;I had to use a smaller image size because a series of 1000x12kb files
somehow chomped ~6-8 GB of RAM and swap space.&lt;/p&gt;
</content><category term="misc"></category><category term="googlepost"></category><category term="animation"></category><category term="computer"></category></entry><entry><title>my scipy install...</title><link href="https://keflavich.github.io/blog/my-scipy-install.html" rel="alternate"></link><published>2012-09-20T20:02:00-06:00</published><updated>2012-09-20T20:02:00-06:00</updated><author><name>Adam (keflavich@gmail.com)</name></author><id>tag:keflavich.github.io,2012-09-20:/blog/my-scipy-install.html</id><summary type="html">&lt;p&gt;As far as I was able to reconstruct, my scipy install looked like this
when it went well:
&lt;tt class="docutils literal"&gt;mkdir &lt;span class="pre"&gt;scipy-bincp&lt;/span&gt; &lt;span class="pre"&gt;../scipy-svn/site.cfg&lt;/span&gt; .export &lt;span class="pre"&gt;PATH=/Users/adam/repos/scipy.git/scipy-bin:$PATHln&lt;/span&gt; &lt;span class="pre"&gt;-s&lt;/span&gt; &lt;span class="pre"&gt;/usr/bin/g++-4.0&lt;/span&gt; &lt;span class="pre"&gt;scipy-bin/g++-4.0ln&lt;/span&gt; &lt;span class="pre"&gt;-s&lt;/span&gt; &lt;span class="pre"&gt;/usr/bin/g++-4.0&lt;/span&gt; &lt;span class="pre"&gt;scipy-bin/c …&lt;/span&gt;&lt;/tt&gt;&lt;/p&gt;</summary><content type="html">&lt;p&gt;As far as I was able to reconstruct, my scipy install looked like this
when it went well:
&lt;tt class="docutils literal"&gt;mkdir &lt;span class="pre"&gt;scipy-bincp&lt;/span&gt; &lt;span class="pre"&gt;../scipy-svn/site.cfg&lt;/span&gt; .export &lt;span class="pre"&gt;PATH=/Users/adam/repos/scipy.git/scipy-bin:$PATHln&lt;/span&gt; &lt;span class="pre"&gt;-s&lt;/span&gt; &lt;span class="pre"&gt;/usr/bin/g++-4.0&lt;/span&gt; &lt;span class="pre"&gt;scipy-bin/g++-4.0ln&lt;/span&gt; &lt;span class="pre"&gt;-s&lt;/span&gt; &lt;span class="pre"&gt;/usr/bin/g++-4.0&lt;/span&gt; &lt;span class="pre"&gt;scipy-bin/c++export&lt;/span&gt; &lt;span class="pre"&gt;CC=/usr/bin/gcc-4.0&lt;/span&gt; ln &lt;span class="pre"&gt;-s&lt;/span&gt; &lt;span class="pre"&gt;/usr/bin/gcc-4.0&lt;/span&gt; &lt;span class="pre"&gt;scipy-bin/ln&lt;/span&gt; &lt;span class="pre"&gt;-s&lt;/span&gt; &lt;span class="pre"&gt;/usr/bin/gcc-4.0&lt;/span&gt; &lt;span class="pre"&gt;scipy-bin/gccln&lt;/span&gt; &lt;span class="pre"&gt;-s&lt;/span&gt; &lt;span class="pre"&gt;/usr/local/bin/gfortran-4.0&lt;/span&gt; &lt;span class="pre"&gt;scipy-bin/gfortran-4.0ln&lt;/span&gt; &lt;span class="pre"&gt;-s&lt;/span&gt; &lt;span class="pre"&gt;/usr/local/bin/gfortran-4.0&lt;/span&gt; &lt;span class="pre"&gt;scipy-bin/gfortranln&lt;/span&gt; &lt;span class="pre"&gt;-s&lt;/span&gt; /usr/local/bin/g95 &lt;span class="pre"&gt;scipy-bin/g95ln&lt;/span&gt; &lt;span class="pre"&gt;-s&lt;/span&gt; &lt;span class="pre"&gt;/usr/local/bin/i686-apple-darwin8-gfortran-4.2&lt;/span&gt; &lt;span class="pre"&gt;scipy-bin/python2.7&lt;/span&gt; setup.py buildpython2.7 setup.py install&lt;/tt&gt;
However, site.cfg included pointers to AMD and UMFPACK that were
installed via the incredibly complicated series of steps listed here:
&lt;a class="reference external" href="http://blog.hyperjeff.net/?p=160"&gt;http://blog.hyperjeff.net/?p=160&lt;/a&gt;
&lt;a class="reference external" href="http://casa.colorado.edu/~ginsbura/index.htm"&gt;AG&lt;/a&gt;&lt;/p&gt;
</content><category term="misc"></category><category term="googlepost"></category><category term="python"></category></entry><entry><title>My starred reader articles</title><link href="https://keflavich.github.io/blog/my-starred-reader-articles.html" rel="alternate"></link><published>2012-09-20T20:02:00-06:00</published><updated>2012-09-20T20:02:00-06:00</updated><author><name>Adam (keflavich@gmail.com)</name></author><id>tag:keflavich.github.io,2012-09-20:/blog/my-starred-reader-articles.html</id><summary type="html">&lt;p&gt;Just posting up a few papers I found interesting.
&lt;a class="reference external" href="http://iopscience.iop.org/0004-637X/709/1/27/"&gt;Peng Wang and Tom Abel's paper on outflow feedback in clusters&lt;/a&gt;
&lt;a class="reference external" href="http://arxiv.org/abs/1008.0409"&gt;A somewhat less interesting follow-up to the previous&lt;/a&gt;
&lt;a class="reference external" href="http://arxiv.org/abs/1008.0365"&gt;HARP mapping of the Serpens cloud core&lt;/a&gt;
&lt;a class="reference external" href="http://arxiv.org/abs/1007.5214"&gt;Neal Evans' review of low mass star formation observations&lt;/a&gt;
&lt;a class="reference external" href="http://www3.interscience.wiley.com/journal/123593472/abstract?CRETRY=1&amp;amp;SRETRY=0"&gt;the MNRAS paper on supermassive stars …&lt;/a&gt;&lt;/p&gt;</summary><content type="html">&lt;p&gt;Just posting up a few papers I found interesting.
&lt;a class="reference external" href="http://iopscience.iop.org/0004-637X/709/1/27/"&gt;Peng Wang and Tom Abel's paper on outflow feedback in clusters&lt;/a&gt;
&lt;a class="reference external" href="http://arxiv.org/abs/1008.0409"&gt;A somewhat less interesting follow-up to the previous&lt;/a&gt;
&lt;a class="reference external" href="http://arxiv.org/abs/1008.0365"&gt;HARP mapping of the Serpens cloud core&lt;/a&gt;
&lt;a class="reference external" href="http://arxiv.org/abs/1007.5214"&gt;Neal Evans' review of low mass star formation observations&lt;/a&gt;
&lt;a class="reference external" href="http://www3.interscience.wiley.com/journal/123593472/abstract?CRETRY=1&amp;amp;SRETRY=0"&gt;the MNRAS paper on supermassive stars in the LMC&lt;/a&gt;
&lt;a class="reference external" href="http://arxiv.org/abs/1007.3627"&gt;Identification of molecular clouds from the FCRAO OGS&lt;/a&gt;&lt;/p&gt;
</content><category term="misc"></category><category term="googlepost"></category><category term="papers"></category></entry><entry><title>NaN-friendly convolution</title><link href="https://keflavich.github.io/blog/nan-friendly-convolution.html" rel="alternate"></link><published>2012-09-20T20:02:00-06:00</published><updated>2012-09-20T20:02:00-06:00</updated><author><name>Adam (keflavich@gmail.com)</name></author><id>tag:keflavich.github.io,2012-09-20:/blog/nan-friendly-convolution.html</id><summary type="html">&lt;p&gt;NaN-friendly convolution is important for, e.g., masked data sets in
which you want to interpolate across the masked region.&lt;/p&gt;
&lt;p&gt;Astropy has gained this functionality with pull request 155:
&lt;a class="reference external" href="https://github.com/astropy/astropy/pull/155"&gt;https://github.com/astropy/astropy/pull/155&lt;/a&gt; but this is a &amp;quot;direct&amp;quot; convolution parallel to IDL's 'convol'
routine.&lt;/p&gt;
&lt;p&gt;My FFT-based version …&lt;/p&gt;</summary><content type="html">&lt;p&gt;NaN-friendly convolution is important for, e.g., masked data sets in
which you want to interpolate across the masked region.&lt;/p&gt;
&lt;p&gt;Astropy has gained this functionality with pull request 155:
&lt;a class="reference external" href="https://github.com/astropy/astropy/pull/155"&gt;https://github.com/astropy/astropy/pull/155&lt;/a&gt; but this is a &amp;quot;direct&amp;quot; convolution parallel to IDL's 'convol'
routine.&lt;/p&gt;
&lt;p&gt;My FFT-based version now works in N dimensions and is a little cleaner:
&lt;a class="reference external" href="http://code.google.com/p/agpy/source/browse/trunk/AG_fft_tools/convolve_nd.py"&gt;http://code.google.com/p/agpy/source/browse/trunk/AG_fft_tools/convolve_nd.py&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;I'm still working on writing unit tests, and I'm really not sure what
the &amp;quot;correct&amp;quot; behavior at the edges is for the different cases... right
now, it seems counterintuitive to me, but the code is doing what I
expect it to.&lt;/p&gt;
&lt;p&gt;Also, Boxcar kernels always result in shifts for me... they're never
supposed to. This is a bug.&lt;/p&gt;
&lt;p&gt;Currently, other links to these codes:
&lt;a class="reference external" href="http://stackoverflow.com/questions/1100100/fft-based-2d-convolution-and-correlation-in-python/8454010#8454010"&gt;http://stackoverflow.com/questions/1100100/fft-based-2d-convolution-and-correlation-in-python/8454010#8454010&lt;/a&gt;&lt;/p&gt;
</content><category term="misc"></category><category term="googlepost"></category><category term="python"></category><category term="code"></category></entry><entry><title>Neat new things....</title><link href="https://keflavich.github.io/blog/neat-new-things.html" rel="alternate"></link><published>2012-09-20T20:02:00-06:00</published><updated>2012-09-20T20:02:00-06:00</updated><author><name>Adam (keflavich@gmail.com)</name></author><id>tag:keflavich.github.io,2012-09-20:/blog/neat-new-things.html</id><summary type="html">&lt;p&gt;1. &lt;a class="reference external" href="http://www.pas.rochester.edu/~mpecaut/sptool/"&gt;sptool&lt;/a&gt; is a quick way to compare standards to stellar spectra.
Nice, I'd been looking for a tool like that.
2. &lt;a class="reference external" href="http://blog.bigsmoke.us/2008/12/04/gnu-screen-window-captions-as-xterm-tabs"&gt;GNU screen captions&lt;/a&gt; are useful especially when working in a
screen-within-a-screen environment (who does that, really?)
3. finally got &lt;a class="reference external" href="http://www.starlink.ac.uk/splat/"&gt;SPLAT&lt;/a&gt; to work... turns out I just hadn't reduced …&lt;/p&gt;</summary><content type="html">&lt;p&gt;1. &lt;a class="reference external" href="http://www.pas.rochester.edu/~mpecaut/sptool/"&gt;sptool&lt;/a&gt; is a quick way to compare standards to stellar spectra.
Nice, I'd been looking for a tool like that.
2. &lt;a class="reference external" href="http://blog.bigsmoke.us/2008/12/04/gnu-screen-window-captions-as-xterm-tabs"&gt;GNU screen captions&lt;/a&gt; are useful especially when working in a
screen-within-a-screen environment (who does that, really?)
3. finally got &lt;a class="reference external" href="http://www.starlink.ac.uk/splat/"&gt;SPLAT&lt;/a&gt; to work... turns out I just hadn't reduced my
damned data
4. &lt;a class="reference external" href="http://www.serverwatch.com/tutorials/article.php/3607246/Fresh-From-the-Linux-Kill.htm"&gt;kill -STOP and kill -CONT&lt;/a&gt; are really useful ways to pause programs
that are sucking up resources if you want to resume them later. Haven't
tried this on &amp;quot;real&amp;quot; code yet.&lt;/p&gt;
</content><category term="misc"></category><category term="googlepost"></category><category term="astronomy"></category><category term="computer"></category></entry><entry><title>New python software</title><link href="https://keflavich.github.io/blog/new-python-software.html" rel="alternate"></link><published>2012-09-20T20:02:00-06:00</published><updated>2012-09-20T20:02:00-06:00</updated><author><name>Adam (keflavich@gmail.com)</name></author><id>tag:keflavich.github.io,2012-09-20:/blog/new-python-software.html</id><content type="html">&lt;p&gt;&lt;a class="reference external" href="http://idlsave.sourceforge.net/"&gt;IDLsave&lt;/a&gt; was released on my birthday. It does what you'd expect - read
IDL save files into Python.
&lt;a class="reference external" href="http://aplpy.sourceforge.net/"&gt;APLpy&lt;/a&gt;has a make_RGB_cube function now that takes care of all the
internals of making an RGB image.... haven't tried it yet but I need to
because it is awesome.&lt;/p&gt;
</content><category term="misc"></category><category term="googlepost"></category><category term="astronomy"></category><category term="computer"></category></entry><entry><title>Next Generation Astronomy</title><link href="https://keflavich.github.io/blog/next-generation-astronomy.html" rel="alternate"></link><published>2012-09-20T20:02:00-06:00</published><updated>2012-09-20T20:02:00-06:00</updated><author><name>Adam (keflavich@gmail.com)</name></author><id>tag:keflavich.github.io,2012-09-20:/blog/next-generation-astronomy.html</id><summary type="html">&lt;p&gt;A brief commentary on a recent article &lt;a class="reference external" href="http://arxiv.org/abs/1009.6027"&gt;Next Generation Astronomy&lt;/a&gt;:
I'm probably one of the folks who will be working on making that future
happen, in the sense of being the intermediary between the end-user and
the instrumentalist. Scientists are still needed to build instruments,
but those who build the …&lt;/p&gt;</summary><content type="html">&lt;p&gt;A brief commentary on a recent article &lt;a class="reference external" href="http://arxiv.org/abs/1009.6027"&gt;Next Generation Astronomy&lt;/a&gt;:
I'm probably one of the folks who will be working on making that future
happen, in the sense of being the intermediary between the end-user and
the instrumentalist. Scientists are still needed to build instruments,
but those who build the instruments don't necessarily have the time or
expertise to build the software pipelines that generate high-quality
data.
At the same time, the &lt;a class="reference external" href="http://starlink.jach.hawaii.edu/starlink/"&gt;STARLINK&lt;/a&gt; folks do a much better job than I do,
and I already spend about half of my time comparing different archival
data sets... so I think his crystal ball is overall very accurate.&lt;/p&gt;
</content><category term="misc"></category><category term="googlepost"></category><category term="meta-astronomy"></category></entry><entry><title>Observing 10/20</title><link href="https://keflavich.github.io/blog/observing-1020.html" rel="alternate"></link><published>2012-09-20T20:02:00-06:00</published><updated>2012-09-20T20:02:00-06:00</updated><author><name>Adam (keflavich@gmail.com)</name></author><id>tag:keflavich.github.io,2012-09-20:/blog/observing-1020.html</id><summary type="html">&lt;p&gt;I don't have a better place to post this one, so here it is:&lt;/p&gt;
&lt;img alt="" src="http://sites.google.com/site/iras05358/figure-discussion/figures/iras05358_triple_17.29.png?attredirects=0" /&gt;
&lt;p&gt;My automated fitter (&lt;a class="reference external" href="http://casa.colorado.edu/~ginsbura/pygausscollapse.htm"&gt;Gaussfitting Cube Collapser&lt;/a&gt;) has come a long
way. I now adaptively choose to fit 1, 2, or 3 Gaussian components to
output to a data cube.
The purpose of that code is primarily …&lt;/p&gt;</summary><content type="html">&lt;p&gt;I don't have a better place to post this one, so here it is:&lt;/p&gt;
&lt;img alt="" src="http://sites.google.com/site/iras05358/figure-discussion/figures/iras05358_triple_17.29.png?attredirects=0" /&gt;
&lt;p&gt;My automated fitter (&lt;a class="reference external" href="http://casa.colorado.edu/~ginsbura/pygausscollapse.htm"&gt;Gaussfitting Cube Collapser&lt;/a&gt;) has come a long
way. I now adaptively choose to fit 1, 2, or 3 Gaussian components to
output to a data cube.
The purpose of that code is primarily to find a two-dimensional way to
display information about the 3D structure, specifically about the
presence/absence of outflows. Outflows will inevitably be confused with
multiple velocity components, but they are also likely to be convolved
with them.&lt;/p&gt;
</content><category term="misc"></category><category term="googlepost"></category><category term="python"></category><category term="observing"></category></entry><entry><title>Observing @ GBT: Signs of good &amp; bad data</title><link href="https://keflavich.github.io/blog/observing-gbt-signs-of-good-bad-data.html" rel="alternate"></link><published>2012-09-20T20:02:00-06:00</published><updated>2012-09-20T20:02:00-06:00</updated><author><name>Adam (keflavich@gmail.com)</name></author><id>tag:keflavich.github.io,2012-09-20:/blog/observing-gbt-signs-of-good-bad-data.html</id><summary type="html">&lt;p&gt;So far, all of the observations for the H&lt;sub&gt;2&lt;/sub&gt;CO densitometry
project have been performed at the Green Bank Telescope. During a 10-day
long observing trip here, I've learned a lot about diagnosing bad data.&lt;/p&gt;
&lt;img alt="" src="http://2.bp.blogspot.com/_lsgW26mWZnU/TGyf_Sx-Z-I/AAAAAAAAFzw/1wCgkpI11WI/s400/session92_if0_feed0_trec.png" /&gt;
&lt;p&gt;This first image shows TSYS vs Airmass for good data. The high outliers
are …&lt;/p&gt;</summary><content type="html">&lt;p&gt;So far, all of the observations for the H&lt;sub&gt;2&lt;/sub&gt;CO densitometry
project have been performed at the Green Bank Telescope. During a 10-day
long observing trip here, I've learned a lot about diagnosing bad data.&lt;/p&gt;
&lt;img alt="" src="http://2.bp.blogspot.com/_lsgW26mWZnU/TGyf_Sx-Z-I/AAAAAAAAFzw/1wCgkpI11WI/s400/session92_if0_feed0_trec.png" /&gt;
&lt;p&gt;This first image shows TSYS vs Airmass for good data. The high outliers
are just sources with continuum in them - the continuum is the source of
the extra signal, not atmosphere.&amp;nbsp; The receiver temperature is a nice
20.6 K, and you get about 5 K extra per airmass, suggesting a zenith
optical depth of 0.018 assuming a round atmospheric temperature of 300K.&lt;/p&gt;
&lt;img alt="" src="http://3.bp.blogspot.com/_lsgW26mWZnU/TGyer8CZzVI/AAAAAAAAFzI/zoU1K0cIu7Q/s400/session04_if0_feed0_trec.png" /&gt;
&lt;p&gt;In the same style plot, there is a set of observations with low system
temperatures: that stuff is good. There is also a set with clearly
rising system temperatures, even at constant elevation. These data are
bad. During this observation, the &amp;quot;blowers&amp;quot; that are meant to keep dew
off of the receivers failed. Dew buildup on the receiver covers lead to
higher optical depths and therefore system temperatures.&lt;/p&gt;
&lt;img alt="" src="http://2.bp.blogspot.com/_lsgW26mWZnU/TGyf9RwmbRI/AAAAAAAAFzo/n0gyG81oOns/s400/session91_if0_feed0_trec.png" /&gt;
&lt;p&gt;Finally, this data set was totally useless. Ku-band is not particularly
sensitive to water in the atmosphere... but it's still not a good idea
to observe during a rain storm.&amp;nbsp; Note that the fitted receiver
temperature TREC is nonsensical.&lt;/p&gt;
</content><category term="misc"></category><category term="googlepost"></category><category term="GBT"></category></entry><entry><title>Observing run summary</title><link href="https://keflavich.github.io/blog/observing-run-summary.html" rel="alternate"></link><published>2012-09-20T20:02:00-06:00</published><updated>2012-09-20T20:02:00-06:00</updated><author><name>Adam (keflavich@gmail.com)</name></author><id>tag:keflavich.github.io,2012-09-20:/blog/observing-run-summary.html</id><summary type="html">&lt;p&gt;3 nights of worse than grade 4 weather (tau ~.4, i.e. the atmosphere is
nearly opaque) have given me a few interesting results.
1. Non-detections of CS 5-4 in a few bright BGPS cores. My best guess is
that the pointing was off, though, because I definitely got down …&lt;/p&gt;</summary><content type="html">&lt;p&gt;3 nights of worse than grade 4 weather (tau ~.4, i.e. the atmosphere is
nearly opaque) have given me a few interesting results.
1. Non-detections of CS 5-4 in a few bright BGPS cores. My best guess is
that the pointing was off, though, because I definitely got down to a
noise level around 50mK.
2. Lots of CO 2-1 mapping, 13CO/C18O too. That means I can now use this
plot: &lt;a class="reference external" href="http://dustem.astro.umd.edu/pdrt/co3221web.html"&gt;http://dustem.astro.umd.edu/pdrt/co3221web.html&lt;/a&gt; to try to
measure the incident flux.
3. I can't do homework at the summit. Maybe it's just that I can't do
stellar structures homework, but I really am not processing this stuff
well. Damn.
4. Running at altitude uphill is really, really hard. All the running
I've been doing the past N months has not even come close to preparing
me. Need to correct that...
5. &amp;quot;I am inappropriate.&amp;quot; I probably violate a bunch of those rules...
the important ones...
6. gotta get back to the mountains. Really. Seriously. OMFG.
7. ARGH those papers need writing! Lots of it!
For the next observing run, need the following:
1. Pre-prepared A3 rasters
2. Larger selection of summit music
3. Better sleep schedule preparation
4. More caffeinated drinks per night
5. Cloud cannons.&lt;/p&gt;
</content><category term="misc"></category><category term="googlepost"></category><category term="observing"></category></entry><entry><title>Observing this weekend</title><link href="https://keflavich.github.io/blog/observing-this-weekend.html" rel="alternate"></link><published>2012-09-20T20:02:00-06:00</published><updated>2012-09-20T20:02:00-06:00</updated><author><name>Adam (keflavich@gmail.com)</name></author><id>tag:keflavich.github.io,2012-09-20:/blog/observing-this-weekend.html</id><content type="html">&lt;p&gt;whoops, never made this post. Turns out I got rained out - 3 inches of
rain on my night. Sad, no DIS time for P Cyg.&lt;/p&gt;
</content><category term="misc"></category><category term="googlepost"></category><category term="astronomy"></category></entry><entry><title>Offset symbols?</title><link href="https://keflavich.github.io/blog/offset-symbols.html" rel="alternate"></link><published>2012-09-20T20:02:00-06:00</published><updated>2012-09-20T20:02:00-06:00</updated><author><name>Adam (keflavich@gmail.com)</name></author><id>tag:keflavich.github.io,2012-09-20:/blog/offset-symbols.html</id><content type="html">&lt;p&gt;&lt;a class="reference external" href="http://casa.colorado.edu/~ginsbura/index.htm"&gt;AG&lt;/a&gt;&lt;/p&gt;
&lt;img alt="" src="http://3.bp.blogspot.com/-JHXnGh8Vy7s/TkQYDKMQR8I/AAAAAAAAGaE/Os-k-k3WeCQ/s320/WidthDifferenceMeasurement.png" /&gt;
</content><category term="misc"></category><category term="googlepost"></category></entry><entry><title>Orion in the Infrared and Millimeter</title><link href="https://keflavich.github.io/blog/orion-in-the-infrared-and-millimeter.html" rel="alternate"></link><published>2012-09-20T20:02:00-06:00</published><updated>2012-09-20T20:02:00-06:00</updated><author><name>Adam (keflavich@gmail.com)</name></author><id>tag:keflavich.github.io,2012-09-20:/blog/orion-in-the-infrared-and-millimeter.html</id><summary type="html">&lt;img alt="" src="https://lh5.googleusercontent.com/-lUlzplbIvGM/T8VTYm05J8I/AAAAAAAAHMc/gNoFfwuZ7uI/s1500/OrionA_4096sq_WISE_bolo_mosaic_rotated_blackbg_small.png" /&gt;
&lt;p&gt;This composite image of the Orion A Giant Molecular Cloud star-forming
complex shows infrared emission from the WISE and MSX missions in 4
micron (red), 12 micron (blue), and 22 micron (green) emission with
Bolocam Galactic Plane Survey 1.1mm emission overlaid in yellow/orange.
The Orion A region is …&lt;/p&gt;</summary><content type="html">&lt;img alt="" src="https://lh5.googleusercontent.com/-lUlzplbIvGM/T8VTYm05J8I/AAAAAAAAHMc/gNoFfwuZ7uI/s1500/OrionA_4096sq_WISE_bolo_mosaic_rotated_blackbg_small.png" /&gt;
&lt;p&gt;This composite image of the Orion A Giant Molecular Cloud star-forming
complex shows infrared emission from the WISE and MSX missions in 4
micron (red), 12 micron (blue), and 22 micron (green) emission with
Bolocam Galactic Plane Survey 1.1mm emission overlaid in yellow/orange.
The Orion A region is frequently featured in astronomical images:&lt;/p&gt;
&lt;blockquote&gt;
&lt;ul class="simple"&gt;
&lt;li&gt;&lt;a class="reference external" href="http://apod.nasa.gov/apod/ap110917.html"&gt;http://apod.nasa.gov/apod/ap110917.html&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a class="reference external" href="http://apod.nasa.gov/apod/ap120212.html"&gt;http://apod.nasa.gov/apod/ap120212.html&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a class="reference external" href="http://apod.nasa.gov/apod/ap120206.html"&gt;http://apod.nasa.gov/apod/ap120206.html&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a class="reference external" href="http://www.eso.org/public/images/eso1219c/"&gt;http://www.eso.org/public/images/eso1219c/&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a class="reference external" href="http://www.eso.org/public/news/eso1209/"&gt;http://www.eso.org/public/news/eso1209/&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/blockquote&gt;
&lt;p&gt;but its tail tends to be ignored. This quiescent region is the source of
the next generation of stars, although the relatively small mass
concentrations imply that no massive stars like the bright Theta 1C that
powers the Orion Nebula will form.
The infrared colors show all sorts of stars including protostars. The
infrared can pierce through the dust and find young stars still forming.
The green and blue bands also see diffuse clouds of dust being
illuminated by the central stars of the Orion nebula.
The yellow 1.1 mm dust emission shows the coldest dust that is shielded
from external radiation. These cold clumps contain enough mass to form
new stars...&lt;/p&gt;
</content><category term="misc"></category><category term="googlepost"></category></entry><entry><title>Outreach Observing</title><link href="https://keflavich.github.io/blog/outreach-observing.html" rel="alternate"></link><published>2012-09-20T20:02:00-06:00</published><updated>2012-09-20T20:02:00-06:00</updated><author><name>Adam (keflavich@gmail.com)</name></author><id>tag:keflavich.github.io,2012-09-20:/blog/outreach-observing.html</id><summary type="html">&lt;p&gt;&lt;p&gt;Some notes for this Friday...
the &lt;a class="reference external" href="http://www.nightskies.net/satellites/custom.html?latitude=42.383&amp;amp;longitude=71.133&amp;amp;tzone=-5"&gt;ISS will rise&lt;/a&gt; at about 10:55 on Friday, July 18th, and 9:43 on
Saturday, July 19th.
Jupiter will be in the sky, but Venus and Mercury will not. &lt;a class="reference external" href="http://www.skyandtelescope.com/observing/ataglance"&gt;Jupiter
will rise in the Southeast&lt;/a&gt;&lt;/p&gt;
&lt;pre class="literal-block"&gt;
Denver, CO   2008/07/16  10:15 pm …&lt;/pre&gt;&lt;/p&gt;</summary><content type="html">&lt;p&gt;&lt;p&gt;Some notes for this Friday...
the &lt;a class="reference external" href="http://www.nightskies.net/satellites/custom.html?latitude=42.383&amp;amp;longitude=71.133&amp;amp;tzone=-5"&gt;ISS will rise&lt;/a&gt; at about 10:55 on Friday, July 18th, and 9:43 on
Saturday, July 19th.
Jupiter will be in the sky, but Venus and Mercury will not. &lt;a class="reference external" href="http://www.skyandtelescope.com/observing/ataglance"&gt;Jupiter
will rise in the Southeast&lt;/a&gt;&lt;/p&gt;
&lt;pre class="literal-block"&gt;
Denver, CO   2008/07/16  10:15 pm   Sunrise/set: 05:46 am / 08:26 pmPredicted passes for: ISS         daylight-saving time enabled             Local   Duration   Date       Time    (min)   Approach     Max. elevation    Departure------------------------------------------------------------------------2008/07/17   02:57 am   &amp;lt;1  10° above N     10° above N     10° above NNE2008/07/17   04:30 am   5   12° above NNW   31° above NE    10° above E  2008/07/17   10:30 pm   &amp;lt;1  13° above WSW   15° above WSW   15° above WSW2008/07/18   03:19 am   4   10° above NNW   16° above NNE   10° above ENE2008/07/18   04:54 am   5   15° above NW    78° above W     10° above SE 2008/07/18   09:19 pm   5   13° above SSW   29° above SE    11° above ENE2008/07/18   10:55 pm   4   17° above WNW   25° above NNW   10° above NNE2008/07/19   03:42 am   5   13° above NNW   32° above NNE   12° above E  2008/07/19   05:18 am   4   16° above W     22° above SW    11° above S  2008/07/19   09:43 pm   5   19° above WSW   71° above N     10° above NE
&lt;/pre&gt;
&lt;/p&gt;</content><category term="misc"></category><category term="googlepost"></category><category term="astronomy"></category></entry><entry><title>Outreach this past weekend</title><link href="https://keflavich.github.io/blog/outreach-this-past-weekend.html" rel="alternate"></link><published>2012-09-20T20:02:00-06:00</published><updated>2012-09-20T20:02:00-06:00</updated><author><name>Adam (keflavich@gmail.com)</name></author><id>tag:keflavich.github.io,2012-09-20:/blog/outreach-this-past-weekend.html</id><content type="html">&lt;p&gt;I did the thing at Vail, Starry Nights, and it went well.&lt;/p&gt;
</content><category term="misc"></category><category term="googlepost"></category></entry><entry><title>P Cygni</title><link href="https://keflavich.github.io/blog/p-cygni.html" rel="alternate"></link><published>2012-09-20T20:02:00-06:00</published><updated>2012-09-20T20:02:00-06:00</updated><author><name>Adam (keflavich@gmail.com)</name></author><id>tag:keflavich.github.io,2012-09-20:/blog/p-cygni.html</id><content type="html">&lt;p&gt;&lt;a class="reference external" href="http://casa.colorado.edu/~ginsbura/pcygni_public.htm"&gt;P Cygni&lt;/a&gt; is a neglected LBV. You search for Eta Carinae on google and
get hundreds of epic images of the fella, but nothing of P Cyg! Not even
my Fe II image, which is now reproduced here:&lt;/p&gt;
&lt;img alt="" src="http://casa.colorado.edu/~ginsbura/images/astropix/pcygnineb.jpg" /&gt;
</content><category term="misc"></category><category term="googlepost"></category><category term="picture"></category></entry><entry><title>Parallactic Angle</title><link href="https://keflavich.github.io/blog/parallactic-angle.html" rel="alternate"></link><published>2012-09-20T20:02:00-06:00</published><updated>2012-09-20T20:02:00-06:00</updated><author><name>Adam (keflavich@gmail.com)</name></author><id>tag:keflavich.github.io,2012-09-20:/blog/parallactic-angle.html</id><summary type="html">&lt;p&gt;So it turns out parallactic angle and field rotation are essentially the
same thing. While working on the data pipeline for the Bolocam Galactic
Plane Survey, I've needed to deal with this. The parallactic angle is
dependent on the alt/az, and therefore the time, of the observation. So
using …&lt;/p&gt;</summary><content type="html">&lt;p&gt;So it turns out parallactic angle and field rotation are essentially the
same thing. While working on the data pipeline for the Bolocam Galactic
Plane Survey, I've needed to deal with this. The parallactic angle is
dependent on the alt/az, and therefore the time, of the observation. So
using an RA/Dec in J2000 coordinates to get alt/az isn't going to work,
because my observations weren't in 2000.0.... my best hope is that the
PA in the NCDF files is actually the correct parallactic angle.
YARGH!&lt;/p&gt;
</content><category term="misc"></category><category term="googlepost"></category><category term="astronomy"></category></entry><entry><title>Photo Contest</title><link href="https://keflavich.github.io/blog/photo-contest.html" rel="alternate"></link><published>2012-09-20T20:02:00-06:00</published><updated>2012-09-20T20:02:00-06:00</updated><author><name>Adam (keflavich@gmail.com)</name></author><id>tag:keflavich.github.io,2012-09-20:/blog/photo-contest.html</id><content type="html">&lt;p&gt;&lt;a class="reference external" href="http://www.nrao.edu/index.php/learn/gallery/imagecontest"&gt;http://www.nrao.edu/index.php/learn/gallery/imagecontest&lt;/a&gt;&lt;/p&gt;
</content><category term="misc"></category><category term="googlepost"></category><category term="photo"></category><category term="nrao"></category></entry><entry><title>Photos featured in an article</title><link href="https://keflavich.github.io/blog/photos-featured-in-an-article.html" rel="alternate"></link><published>2012-09-20T20:02:00-06:00</published><updated>2012-09-20T20:02:00-06:00</updated><author><name>Adam (keflavich@gmail.com)</name></author><id>tag:keflavich.github.io,2012-09-20:/blog/photos-featured-in-an-article.html</id><content type="html">&lt;p&gt;My photos, article by Jeff Marlow:
&lt;a class="reference external" href="http://www.atmagazine.co.uk/content/view/853/94/"&gt;http://www.atmagazine.co.uk/content/view/853/94/&lt;/a&gt;&lt;/p&gt;
</content><category term="misc"></category><category term="googlepost"></category></entry><entry><title>PHP and CGI working in the same directory</title><link href="https://keflavich.github.io/blog/php-and-cgi-working-in-the-same-directory.html" rel="alternate"></link><published>2012-09-20T20:02:00-06:00</published><updated>2012-09-20T20:02:00-06:00</updated><author><name>Adam (keflavich@gmail.com)</name></author><id>tag:keflavich.github.io,2012-09-20:/blog/php-and-cgi-working-in-the-same-directory.html</id><summary type="html">&lt;p&gt;&lt;p&gt;While it's not possible to get CGI and PHP to work within the same file,
you can get .html and .htm files to use cgi/php scripts alternately in
the same directory with the following .htaccess file:&lt;/p&gt;
&lt;pre class="literal-block"&gt;
RemoveHandler  .htmlAddType text/html  .htmAddHandler application/x-httpd-php .php .html AddHandler server-parsed .htm .html …&lt;/pre&gt;&lt;/p&gt;</summary><content type="html">&lt;p&gt;&lt;p&gt;While it's not possible to get CGI and PHP to work within the same file,
you can get .html and .htm files to use cgi/php scripts alternately in
the same directory with the following .htaccess file:&lt;/p&gt;
&lt;pre class="literal-block"&gt;
RemoveHandler  .htmlAddType text/html  .htmAddHandler application/x-httpd-php .php .html AddHandler server-parsed .htm .html
&lt;/pre&gt;
&lt;p&gt;If anyone can prove the previous statement false, please do! I spent
hours googling and hacking to try to get php and cgi to work within the
same file.
Also, the way the above file is parsed makes no sense to me. It is
inverted from how I would have thought it should work.&lt;/p&gt;
&lt;/p&gt;</content><category term="misc"></category><category term="googlepost"></category><category term="computer"></category></entry><entry><title>Port vs Fink</title><link href="https://keflavich.github.io/blog/port-vs-fink.html" rel="alternate"></link><published>2012-09-20T20:02:00-06:00</published><updated>2012-09-20T20:02:00-06:00</updated><author><name>Adam (keflavich@gmail.com)</name></author><id>tag:keflavich.github.io,2012-09-20:/blog/port-vs-fink.html</id><summary type="html">&lt;p&gt;Port failed to install:
&lt;tt class="docutils literal"&gt;&lt;span class="pre"&gt;adam-macbook&lt;/span&gt; ~$ sudo port install &lt;span class="pre"&gt;py25-matplotlib---&amp;gt;&lt;/span&gt;&amp;nbsp; Building &lt;span class="pre"&gt;py25-hashlib&lt;/span&gt; with target &lt;span class="pre"&gt;build---&amp;gt;&lt;/span&gt;&amp;nbsp; Staging &lt;span class="pre"&gt;py25-hashlib&lt;/span&gt; into &lt;span class="pre"&gt;destroot---&amp;gt;&lt;/span&gt;&amp;nbsp; Installing &lt;span class="pre"&gt;py25-hashlib&lt;/span&gt; &lt;span class="pre"&gt;2.5.2_0---&amp;gt;&lt;/span&gt;&amp;nbsp; Activating &lt;span class="pre"&gt;py25-hashlib&lt;/span&gt; &lt;span class="pre"&gt;2.5.2_0---&amp;gt;&lt;/span&gt;&amp;nbsp; Cleaning &lt;span class="pre"&gt;py25-hashlib---&amp;gt;&lt;/span&gt;&amp;nbsp; Fetching &lt;span class="pre"&gt;py25-zlib---&amp;gt;&lt;/span&gt;&amp;nbsp; Verifying checksum(s) for &lt;span class="pre"&gt;py25-zlib---&amp;gt;&lt;/span&gt;&amp;nbsp; Extracting &lt;span class="pre"&gt;py25-zlib---&amp;gt;&lt;/span&gt;&amp;nbsp; Configuring &lt;span class="pre"&gt;py25-zlib---&amp;gt;&lt;/span&gt;&amp;nbsp; Building &lt;span class="pre"&gt;py25-zlib&lt;/span&gt; with target &lt;span class="pre"&gt;build---&amp;gt;&lt;/span&gt;&amp;nbsp; Staging &lt;span class="pre"&gt;py25-zlib …&lt;/span&gt;&lt;/tt&gt;&lt;/p&gt;</summary><content type="html">&lt;p&gt;Port failed to install:
&lt;tt class="docutils literal"&gt;&lt;span class="pre"&gt;adam-macbook&lt;/span&gt; ~$ sudo port install &lt;span class="pre"&gt;py25-matplotlib---&amp;gt;&lt;/span&gt;&amp;nbsp; Building &lt;span class="pre"&gt;py25-hashlib&lt;/span&gt; with target &lt;span class="pre"&gt;build---&amp;gt;&lt;/span&gt;&amp;nbsp; Staging &lt;span class="pre"&gt;py25-hashlib&lt;/span&gt; into &lt;span class="pre"&gt;destroot---&amp;gt;&lt;/span&gt;&amp;nbsp; Installing &lt;span class="pre"&gt;py25-hashlib&lt;/span&gt; &lt;span class="pre"&gt;2.5.2_0---&amp;gt;&lt;/span&gt;&amp;nbsp; Activating &lt;span class="pre"&gt;py25-hashlib&lt;/span&gt; &lt;span class="pre"&gt;2.5.2_0---&amp;gt;&lt;/span&gt;&amp;nbsp; Cleaning &lt;span class="pre"&gt;py25-hashlib---&amp;gt;&lt;/span&gt;&amp;nbsp; Fetching &lt;span class="pre"&gt;py25-zlib---&amp;gt;&lt;/span&gt;&amp;nbsp; Verifying checksum(s) for &lt;span class="pre"&gt;py25-zlib---&amp;gt;&lt;/span&gt;&amp;nbsp; Extracting &lt;span class="pre"&gt;py25-zlib---&amp;gt;&lt;/span&gt;&amp;nbsp; Configuring &lt;span class="pre"&gt;py25-zlib---&amp;gt;&lt;/span&gt;&amp;nbsp; Building &lt;span class="pre"&gt;py25-zlib&lt;/span&gt; with target &lt;span class="pre"&gt;build---&amp;gt;&lt;/span&gt;&amp;nbsp; Staging &lt;span class="pre"&gt;py25-zlib&lt;/span&gt; into &lt;span class="pre"&gt;destroot---&amp;gt;&lt;/span&gt;&amp;nbsp; Installing &lt;span class="pre"&gt;py25-zlib&lt;/span&gt; &lt;span class="pre"&gt;2.5.2_0---&amp;gt;&lt;/span&gt;&amp;nbsp; Activating &lt;span class="pre"&gt;py25-zlib&lt;/span&gt; &lt;span class="pre"&gt;2.5.2_0---&amp;gt;&lt;/span&gt;&amp;nbsp; Cleaning &lt;span class="pre"&gt;py25-zlib---&amp;gt;&lt;/span&gt;&amp;nbsp; Fetching &lt;span class="pre"&gt;py25-setuptools---&amp;gt;&lt;/span&gt;&amp;nbsp; Attempting to fetch &lt;span class="pre"&gt;setuptools-0.6c8.tar.gz&lt;/span&gt; from &lt;span class="pre"&gt;http://cheeseshop.python.org/packages/source/s/setuptools/---&amp;gt;&lt;/span&gt;&amp;nbsp; Verifying checksum(s) for &lt;span class="pre"&gt;py25-setuptools---&amp;gt;&lt;/span&gt;&amp;nbsp; Extracting &lt;span class="pre"&gt;py25-setuptools---&amp;gt;&lt;/span&gt;&amp;nbsp; Applying patches to &lt;span class="pre"&gt;py25-setuptools---&amp;gt;&lt;/span&gt;&amp;nbsp; Configuring &lt;span class="pre"&gt;py25-setuptools---&amp;gt;&lt;/span&gt;&amp;nbsp; Building &lt;span class="pre"&gt;py25-setuptools&lt;/span&gt; with target &lt;span class="pre"&gt;build---&amp;gt;&lt;/span&gt;&amp;nbsp; Staging &lt;span class="pre"&gt;py25-setuptools&lt;/span&gt; into &lt;span class="pre"&gt;destroot---&amp;gt;&lt;/span&gt;&amp;nbsp; Installing &lt;span class="pre"&gt;py25-setuptools&lt;/span&gt; &lt;span class="pre"&gt;0.6c8_2---&amp;gt;&lt;/span&gt;&amp;nbsp; Activating &lt;span class="pre"&gt;py25-setuptools&lt;/span&gt; &lt;span class="pre"&gt;0.6c8_2---&amp;gt;&lt;/span&gt;&amp;nbsp; Cleaning &lt;span class="pre"&gt;py25-setuptools---&amp;gt;&lt;/span&gt;&amp;nbsp; Fetching &lt;span class="pre"&gt;py25-tz---&amp;gt;&lt;/span&gt;&amp;nbsp; Attempting to fetch &lt;span class="pre"&gt;pytz-2007k.tar.bz2&lt;/span&gt; from &lt;span class="pre"&gt;http://cheeseshop.python.org/packages/source/p/pytz/---&amp;gt;&lt;/span&gt;&amp;nbsp; Verifying checksum(s) for &lt;span class="pre"&gt;py25-tz---&amp;gt;&lt;/span&gt;&amp;nbsp; Extracting &lt;span class="pre"&gt;py25-tz---&amp;gt;&lt;/span&gt;&amp;nbsp; Configuring &lt;span class="pre"&gt;py25-tz---&amp;gt;&lt;/span&gt;&amp;nbsp; Building &lt;span class="pre"&gt;py25-tz&lt;/span&gt; with target &lt;span class="pre"&gt;build---&amp;gt;&lt;/span&gt;&amp;nbsp; Staging &lt;span class="pre"&gt;py25-tz&lt;/span&gt; into &lt;span class="pre"&gt;destroot---&amp;gt;&lt;/span&gt;&amp;nbsp; Installing &lt;span class="pre"&gt;py25-tz&lt;/span&gt; &lt;span class="pre"&gt;2007k_0---&amp;gt;&lt;/span&gt;&amp;nbsp; Activating &lt;span class="pre"&gt;py25-tz&lt;/span&gt; &lt;span class="pre"&gt;2007k_0---&amp;gt;&lt;/span&gt;&amp;nbsp; Cleaning &lt;span class="pre"&gt;py25-tz---&amp;gt;&lt;/span&gt;&amp;nbsp; Fetching &lt;span class="pre"&gt;py25-dateutil---&amp;gt;&lt;/span&gt;&amp;nbsp; Attempting to fetch &lt;span class="pre"&gt;python-dateutil-1.4.1.tar.gz&lt;/span&gt; from &lt;span class="pre"&gt;http://labix.org/download/python-dateutil---&amp;gt;&lt;/span&gt;&amp;nbsp; Verifying checksum(s) for &lt;span class="pre"&gt;py25-dateutil---&amp;gt;&lt;/span&gt;&amp;nbsp; Extracting &lt;span class="pre"&gt;py25-dateutil---&amp;gt;&lt;/span&gt;&amp;nbsp; Configuring &lt;span class="pre"&gt;py25-dateutil---&amp;gt;&lt;/span&gt;&amp;nbsp; Building &lt;span class="pre"&gt;py25-dateutil&lt;/span&gt; with target &lt;span class="pre"&gt;build---&amp;gt;&lt;/span&gt;&amp;nbsp; Staging &lt;span class="pre"&gt;py25-dateutil&lt;/span&gt; into &lt;span class="pre"&gt;destroot---&amp;gt;&lt;/span&gt;&amp;nbsp; Installing &lt;span class="pre"&gt;py25-dateutil&lt;/span&gt; &lt;span class="pre"&gt;1.4.1_0---&amp;gt;&lt;/span&gt;&amp;nbsp; Activating &lt;span class="pre"&gt;py25-dateutil&lt;/span&gt; &lt;span class="pre"&gt;1.4.1_0---&amp;gt;&lt;/span&gt;&amp;nbsp; Cleaning &lt;span class="pre"&gt;py25-dateutil---&amp;gt;&lt;/span&gt;&amp;nbsp; Fetching &lt;span class="pre"&gt;fftw-3---&amp;gt;&lt;/span&gt;&amp;nbsp; Attempting to fetch &lt;span class="pre"&gt;fftw-3.1.3.tar.gz&lt;/span&gt; from &lt;span class="pre"&gt;http://www.fftw.org/---&amp;gt;&lt;/span&gt;&amp;nbsp; Verifying checksum(s) for &lt;span class="pre"&gt;fftw-3---&amp;gt;&lt;/span&gt;&amp;nbsp; Extracting &lt;span class="pre"&gt;fftw-3---&amp;gt;&lt;/span&gt;&amp;nbsp; Configuring &lt;span class="pre"&gt;fftw-3---&amp;gt;&lt;/span&gt;&amp;nbsp; Building &lt;span class="pre"&gt;fftw-3&lt;/span&gt; with target &lt;span class="pre"&gt;all---&amp;gt;&lt;/span&gt;&amp;nbsp; Staging &lt;span class="pre"&gt;fftw-3&lt;/span&gt; into &lt;span class="pre"&gt;destroot---&amp;gt;&lt;/span&gt;&amp;nbsp; Installing &lt;span class="pre"&gt;fftw-3&lt;/span&gt; &lt;span class="pre"&gt;3.1.3_0---&amp;gt;&lt;/span&gt;&amp;nbsp; Activating &lt;span class="pre"&gt;fftw-3&lt;/span&gt; &lt;span class="pre"&gt;3.1.3_0---&amp;gt;&lt;/span&gt;&amp;nbsp; Cleaning &lt;span class="pre"&gt;fftw-3---&amp;gt;&lt;/span&gt;&amp;nbsp; Fetching &lt;span class="pre"&gt;py25-nose---&amp;gt;&lt;/span&gt;&amp;nbsp; Attempting to fetch &lt;span class="pre"&gt;nose-0.10.4.tar.gz&lt;/span&gt; from &lt;span class="pre"&gt;http://somethingaboutorange.com/mrl/projects/nose/---&amp;gt;&lt;/span&gt;&amp;nbsp; Verifying checksum(s) for &lt;span class="pre"&gt;py25-nose---&amp;gt;&lt;/span&gt;&amp;nbsp; Extracting &lt;span class="pre"&gt;py25-nose---&amp;gt;&lt;/span&gt;&amp;nbsp; Configuring &lt;span class="pre"&gt;py25-nose---&amp;gt;&lt;/span&gt;&amp;nbsp; Building &lt;span class="pre"&gt;py25-nose&lt;/span&gt; with target &lt;span class="pre"&gt;build---&amp;gt;&lt;/span&gt;&amp;nbsp; Staging &lt;span class="pre"&gt;py25-nose&lt;/span&gt; into &lt;span class="pre"&gt;destroot---&amp;gt;&lt;/span&gt;&amp;nbsp; Installing &lt;span class="pre"&gt;py25-nose&lt;/span&gt; &lt;span class="pre"&gt;0.10.4_0---&amp;gt;&lt;/span&gt;&amp;nbsp; Activating &lt;span class="pre"&gt;py25-nose&lt;/span&gt; &lt;span class="pre"&gt;0.10.4_0---&amp;gt;&lt;/span&gt;&amp;nbsp; Cleaning &lt;span class="pre"&gt;py25-nose---&amp;gt;&lt;/span&gt;&amp;nbsp; Fetching &lt;span class="pre"&gt;py25-numpy---&amp;gt;&lt;/span&gt;&amp;nbsp; Attempting to fetch &lt;span class="pre"&gt;numpy-1.2.0.tar.gz&lt;/span&gt; from &lt;span class="pre"&gt;http://downloads.sourceforge.net/numpy---&amp;gt;&lt;/span&gt;&amp;nbsp; Verifying checksum(s) for &lt;span class="pre"&gt;py25-numpy---&amp;gt;&lt;/span&gt;&amp;nbsp; Extracting &lt;span class="pre"&gt;py25-numpy---&amp;gt;&lt;/span&gt;&amp;nbsp; Applying patches to &lt;span class="pre"&gt;py25-numpy---&amp;gt;&lt;/span&gt;&amp;nbsp; Configuring &lt;span class="pre"&gt;py25-numpy---&amp;gt;&lt;/span&gt;&amp;nbsp; Building &lt;span class="pre"&gt;py25-numpy&lt;/span&gt; with target buildError: Target org.macports.build returned: shell command &amp;quot; cd &lt;span class="pre"&gt;&amp;quot;/opt/local/var/macports/build/_opt_local_var_macports_sources_rsync.macports.org_release_ports_python_py25-numpy/work/numpy-1.2.0&amp;quot;&lt;/span&gt; &amp;amp;&amp;amp; /opt/local/bin/python2.5 setup.py build &amp;quot; returned error 1Command output:&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp; setup_package()&amp;nbsp; File &amp;quot;setup.py&amp;quot;, line 89, in setup_package&amp;nbsp;&amp;nbsp;&amp;nbsp; configuration=configuration )&amp;nbsp; File &lt;span class="pre"&gt;&amp;quot;/opt/local/var/macports/build/_opt_local_var_macports_sources_rsync.macports.org_release_ports_python_py25-numpy/work/numpy-1.2.0/numpy/distutils/core.py&amp;quot;,&lt;/span&gt; line 184, in setup&amp;nbsp;&amp;nbsp;&amp;nbsp; return &lt;span class="pre"&gt;old_setup(**new_attr)&lt;/span&gt;&amp;nbsp; File &amp;quot;/opt/local/Library/Frameworks/Python.framework/Versions/2.5/lib/python2.5/distutils/core.py&amp;quot;, line 151, in setup&amp;nbsp;&amp;nbsp;&amp;nbsp; dist.run_commands()&amp;nbsp; File &amp;quot;/opt/local/Library/Frameworks/Python.framework/Versions/2.5/lib/python2.5/distutils/dist.py&amp;quot;, line 974, in run_commands&amp;nbsp;&amp;nbsp;&amp;nbsp; self.run_command(cmd)&amp;nbsp; File &amp;quot;/opt/local/Library/Frameworks/Python.framework/Versions/2.5/lib/python2.5/distutils/dist.py&amp;quot;, line 994, in run_command&amp;nbsp;&amp;nbsp;&amp;nbsp; cmd_obj.run()&amp;nbsp; File &lt;span class="pre"&gt;&amp;quot;/opt/local/var/macports/build/_opt_local_var_macports_sources_rsync.macports.org_release_ports_python_py25-numpy/work/numpy-1.2.0/numpy/distutils/command/build.py&amp;quot;,&lt;/span&gt; line 37, in run&amp;nbsp;&amp;nbsp;&amp;nbsp; old_build.run(self)&amp;nbsp; File &amp;quot;/opt/local/Library/Frameworks/Python.framework/Versions/2.5/lib/python2.5/distutils/command/build.py&amp;quot;, line 112, in run&amp;nbsp;&amp;nbsp;&amp;nbsp; self.run_command(cmd_name)&amp;nbsp; File &amp;quot;/opt/local/Library/Frameworks/Python.framework/Versions/2.5/lib/python2.5/distutils/cmd.py&amp;quot;, line 333, in run_command&amp;nbsp;&amp;nbsp;&amp;nbsp; self.distribution.run_command(command)&amp;nbsp; File &amp;quot;/opt/local/Library/Frameworks/Python.framework/Versions/2.5/lib/python2.5/distutils/dist.py&amp;quot;, line 994, in run_command&amp;nbsp;&amp;nbsp;&amp;nbsp; cmd_obj.run()&amp;nbsp; File &lt;span class="pre"&gt;&amp;quot;/opt/local/var/macports/build/_opt_local_var_macports_sources_rsync.macports.org_release_ports_python_py25-numpy/work/numpy-1.2.0/numpy/distutils/command/build_src.py&amp;quot;,&lt;/span&gt; line 130, in run&amp;nbsp;&amp;nbsp;&amp;nbsp; self.build_sources()&amp;nbsp; File &lt;span class="pre"&gt;&amp;quot;/opt/local/var/macports/build/_opt_local_var_macports_sources_rsync.macports.org_release_ports_python_py25-numpy/work/numpy-1.2.0/numpy/distutils/command/build_src.py&amp;quot;,&lt;/span&gt; line 147, in build_sources&amp;nbsp;&amp;nbsp;&amp;nbsp; self.build_extension_sources(ext)&amp;nbsp; File &lt;span class="pre"&gt;&amp;quot;/opt/local/var/macports/build/_opt_local_var_macports_sources_rsync.macports.org_release_ports_python_py25-numpy/work/numpy-1.2.0/numpy/distutils/command/build_src.py&amp;quot;,&lt;/span&gt; line 250, in build_extension_sources&amp;nbsp;&amp;nbsp;&amp;nbsp; sources = self.generate_sources(sources, ext)&amp;nbsp; File &lt;span class="pre"&gt;&amp;quot;/opt/local/var/macports/build/_opt_local_var_macports_sources_rsync.macports.org_release_ports_python_py25-numpy/work/numpy-1.2.0/numpy/distutils/command/build_src.py&amp;quot;,&lt;/span&gt; line 307, in generate_sources&amp;nbsp;&amp;nbsp;&amp;nbsp; source = func(extension, build_dir)&amp;nbsp; File &amp;quot;numpy/core/setup.py&amp;quot;, line 87, in generate_config_h&amp;nbsp;&amp;nbsp;&amp;nbsp; raise &lt;span class="pre"&gt;SystemError,&amp;quot;Failed&lt;/span&gt; to test configuration. &amp;quot;\SystemError: Failed to test configuration. See previous error messages for more information.Error: The following dependencies failed to build: &lt;span class="pre"&gt;py25-numpy&lt;/span&gt; &lt;span class="pre"&gt;py25-tkinter&lt;/span&gt; tcl tkError: Status 1 encountered during processing.&lt;/tt&gt;
I don't want to deal with it so I'm just using Fink.&lt;/p&gt;
</content><category term="misc"></category><category term="googlepost"></category><category term="python"></category><category term="computer"></category></entry><entry><title>Postscript to PDF conversion</title><link href="https://keflavich.github.io/blog/postscript-to-pdf-conversion.html" rel="alternate"></link><published>2012-09-20T20:02:00-06:00</published><updated>2012-09-20T20:02:00-06:00</updated><author><name>Adam (keflavich@gmail.com)</name></author><id>tag:keflavich.github.io,2012-09-20:/blog/postscript-to-pdf-conversion.html</id><content type="html">&lt;p&gt;&lt;tt class="docutils literal"&gt;ls *.ps | sed &lt;span class="pre"&gt;'s/\(.*\).ps/ps2pdf&lt;/span&gt; \1.ps \1.pdf/' | bash&lt;/tt&gt;
because it's impossible to view multiple postscripts in a single
window.... how annoying.
Corollary:
&lt;tt class="docutils literal"&gt;ls *.pdf | sed &lt;span class="pre"&gt;'s/\(.*\).pdf/pdf2jpeg&lt;/span&gt; \1.pdf \1.jpg/' | bash&lt;/tt&gt;&lt;/p&gt;
</content><category term="misc"></category><category term="googlepost"></category><category term="computer"></category><category term="postscript"></category></entry><entry><title>ps2pdf keep resolution, crop to bounding box</title><link href="https://keflavich.github.io/blog/ps2pdf-keep-resolution-crop-to-bounding-box.html" rel="alternate"></link><published>2012-09-20T20:02:00-06:00</published><updated>2012-09-20T20:02:00-06:00</updated><author><name>Adam (keflavich@gmail.com)</name></author><id>tag:keflavich.github.io,2012-09-20:/blog/ps2pdf-keep-resolution-crop-to-bounding-box.html</id><content type="html">&lt;p&gt;``  ps2pdf -dEPSCrop -dAutoRotatePages=/None -dAutoFilterColorImages=false -dColorImageFilter=/FlateEncode -dUseFlateCompression=true l007_displaycrop.ps ``
ref: &lt;a class="reference external" href="http://groups.google.com/group/comp.lang.postscript/browse_thread/thread/c7570a90f8b96848?ie=UTF-8&amp;amp;q=ps2pdf+image+quality#62fe763939a66789"&gt;this post&lt;/a&gt;&lt;/p&gt;
</content><category term="misc"></category><category term="googlepost"></category><category term="pdf"></category><category term="postscript"></category></entry><entry><title>PSDs, cross-correlation...</title><link href="https://keflavich.github.io/blog/psds-cross-correlation.html" rel="alternate"></link><published>2012-09-20T20:02:00-06:00</published><updated>2012-09-20T20:02:00-06:00</updated><author><name>Adam (keflavich@gmail.com)</name></author><id>tag:keflavich.github.io,2012-09-20:/blog/psds-cross-correlation.html</id><summary type="html">&lt;p&gt;scipy is capable of doing fft-base cross-correlation, convolution, etc.,
but it requires the stsci package, which is not generally easy to
install. For that matter, scipy can be a pain some of the time. So agpy
now includes a 2D cross-correlation code and a power spectrum / power
spectral density code …&lt;/p&gt;</summary><content type="html">&lt;p&gt;scipy is capable of doing fft-base cross-correlation, convolution, etc.,
but it requires the stsci package, which is not generally easy to
install. For that matter, scipy can be a pain some of the time. So agpy
now includes a 2D cross-correlation code and a power spectrum / power
spectral density code. These are pure-numpy codes that should be easy to
use without any other bothersome dependencies.
EDIT: I have them check for scipy (which can cause crashes if you have a
bad scipy install, e.g. 32 bit executables on a 64 bit system) because
scipy uses FFTW and numpy appears not to. Also, this code &amp;amp; related
stuff has been &lt;a class="reference external" href="http://www.astrobetter.com/fourier-transforms-of-images-in-python/"&gt;discussed on astrobetyter&lt;/a&gt;
&lt;a class="reference external" href="http://code.google.com/p/agpy/"&gt;agpy&lt;/a&gt;
&lt;a class="reference external" href="http://code.google.com/p/agpy/source/browse/trunk/agpy/correlate2d.py"&gt;correlate2d&lt;/a&gt;
&lt;a class="reference external" href="http://code.google.com/p/agpy/source/browse/trunk/agpy/psds.py"&gt;psds&lt;/a&gt;&lt;/p&gt;
</content><category term="misc"></category><category term="googlepost"></category><category term="python"></category><category term="agpy"></category></entry><entry><title>pstopng</title><link href="https://keflavich.github.io/blog/pstopng.html" rel="alternate"></link><published>2012-09-20T20:02:00-06:00</published><updated>2012-09-20T20:02:00-06:00</updated><author><name>Adam (keflavich@gmail.com)</name></author><id>tag:keflavich.github.io,2012-09-20:/blog/pstopng.html</id><summary type="html">&lt;p&gt;Following &lt;a class="reference external" href="http://studio.imagemagick.org/discourse-server/viewtopic.php?f=1&amp;amp;t=8545&amp;amp;start=0"&gt;this thread&lt;/a&gt; and my need to convert IDL .ps files to .pngs
so that I can view them in Mac Preview without having to go through an
(often failed) conversion process led to a few discoveries.
First, it is challenging to get ImageMagick's convert to make an opaque
background …&lt;/p&gt;</summary><content type="html">&lt;p&gt;Following &lt;a class="reference external" href="http://studio.imagemagick.org/discourse-server/viewtopic.php?f=1&amp;amp;t=8545&amp;amp;start=0"&gt;this thread&lt;/a&gt; and my need to convert IDL .ps files to .pngs
so that I can view them in Mac Preview without having to go through an
(often failed) conversion process led to a few discoveries.
First, it is challenging to get ImageMagick's convert to make an opaque
background for the .ps file without seriously degrading the resolution.
This can be accomplished by passing &lt;em&gt;both&lt;/em&gt; the &lt;tt class="docutils literal"&gt;&lt;span class="pre"&gt;-alpha&lt;/span&gt; Off&lt;/tt&gt; and the
`` -density 300`` simultaneously. This is slow, though, and
recommendations to speed it up using the
&lt;tt class="docutils literal"&gt;&lt;span class="pre"&gt;-limit&lt;/span&gt; area 4096 &lt;span class="pre"&gt;-limit&lt;/span&gt; memory 4096&lt;/tt&gt; tags actually made it slower!
However, the thread pointed out that ghostscript can do the conversion
directly:
&lt;tt class="docutils literal"&gt;gs &lt;span class="pre"&gt;-dBATCH&lt;/span&gt; &lt;span class="pre"&gt;-sDEVICE=png16m&lt;/span&gt; &lt;span class="pre"&gt;-r300&lt;/span&gt; &lt;span class="pre"&gt;-dEPSCrop&lt;/span&gt; &lt;span class="pre"&gt;-dNOPAUSE&lt;/span&gt; &lt;span class="pre"&gt;-sOutputFile=XXX.png&lt;/span&gt; XXX.ps&lt;/tt&gt;
&lt;tt class="docutils literal"&gt;&lt;span class="pre"&gt;-sDEVICE&lt;/span&gt;&lt;/tt&gt; sets the output to png, &lt;tt class="docutils literal"&gt;&lt;span class="pre"&gt;-r300&lt;/span&gt;&lt;/tt&gt; tag sets the density to
be 300 pixels/inch, &lt;tt class="docutils literal"&gt;&lt;span class="pre"&gt;-dEPSCrop&lt;/span&gt;&lt;/tt&gt; is necessary to get the right sized
image out (otherwise it defaults to a portrait 8.5x11), and
`` -dBATCH `` prevents the gs command line from activating after the
command is executed. I'm not sure if &lt;tt class="docutils literal"&gt;&lt;span class="pre"&gt;-dNOPAUSE&lt;/span&gt;&lt;/tt&gt; is necessary, but
apparently if you don't activate it you have to do something after every
page is processed.
My code to do batch ps-to-png conversion is available at
&lt;a class="reference external" href="http://code.google.com/p/agpy/source/browse/trunk/agpy/pstopng"&gt;http://code.google.com/p/agpy/source/browse/trunk/agpy/pstopng&lt;/a&gt;.
Timing demonstrations (units are seconds, R is 'real' or clock time, 'U'
is user time, and 'S' is system time):
&lt;tt class="docutils literal"&gt;/usr/local/bin/convert &lt;span class="pre"&gt;-density&lt;/span&gt; 300 &lt;span class="pre"&gt;-alpha&lt;/span&gt; Off deline_zero_10hz_timestreams_003.ps deline_zero_10hz_timestreams_003.png TIMING: R: 3.126&amp;nbsp; U: 2.948&amp;nbsp; S: 0.084/usr/local/bin/convert &lt;span class="pre"&gt;-limit&lt;/span&gt; area 4096 &lt;span class="pre"&gt;-limit&lt;/span&gt; memory 4096 &lt;span class="pre"&gt;-density&lt;/span&gt; 300 &lt;span class="pre"&gt;-alpha&lt;/span&gt; Off deline_zero_10hz_timestreams_003.ps deline_zero_10hz_timestreams_003.png TIMING: R: 3.800&amp;nbsp; U: 2.970&amp;nbsp; S: 0.161gs &lt;span class="pre"&gt;-dBATCH&lt;/span&gt; &lt;span class="pre"&gt;-sDEVICE=png16m&lt;/span&gt; &lt;span class="pre"&gt;-r300&lt;/span&gt; &lt;span class="pre"&gt;-dEPSCrop&lt;/span&gt; &lt;span class="pre"&gt;-dNOPAUSE&lt;/span&gt; &lt;span class="pre"&gt;-sOutputFile=deline_zero_10hz_timestreams_003.png&lt;/span&gt; deline_zero_10hz_timestreams_003.psTIMING: R: 0.801&amp;nbsp; U: 0.781&amp;nbsp; S: 0.017&lt;/tt&gt;&lt;/p&gt;
</content><category term="misc"></category><category term="googlepost"></category><category term="postscript"></category></entry><entry><title>pwv</title><link href="https://keflavich.github.io/blog/pwv.html" rel="alternate"></link><published>2012-09-20T20:02:00-06:00</published><updated>2012-09-20T20:02:00-06:00</updated><author><name>Adam (keflavich@gmail.com)</name></author><id>tag:keflavich.github.io,2012-09-20:/blog/pwv.html</id><content type="html">&lt;p&gt;precipitable water vapor, precipitable water vapor, go away, come again
some other observer's day
little HARPy wants to receive
so clear up before I leave
stupid bumping-head old man.&lt;/p&gt;
</content><category term="misc"></category><category term="googlepost"></category><category term="song"></category></entry><entry><title>pyspeckit: an astronomical spectroscopic toolkit</title><link href="https://keflavich.github.io/blog/pyspeckit-an-astronomical-spectroscopic-toolkit.html" rel="alternate"></link><published>2012-09-20T20:02:00-06:00</published><updated>2012-09-20T20:02:00-06:00</updated><author><name>Adam (keflavich@gmail.com)</name></author><id>tag:keflavich.github.io,2012-09-20:/blog/pyspeckit-an-astronomical-spectroscopic-toolkit.html</id><content type="html">&lt;p&gt;Jordan and I have been working on our python-based spectroscopic
analysis tool for a while now:
&lt;a class="reference external" href="http://pyspeckit.bitbucket.org/"&gt;pyspeckit&lt;/a&gt; is a pretty awesome, now functional but incomplete (and
incompletely documented) tool.&lt;/p&gt;
</content><category term="misc"></category><category term="googlepost"></category><category term="python"></category><category term="code"></category><category term="astronomy"></category></entry><entry><title>Python 64 bit!</title><link href="https://keflavich.github.io/blog/python-64-bit.html" rel="alternate"></link><published>2012-09-20T20:02:00-06:00</published><updated>2012-09-20T20:02:00-06:00</updated><author><name>Adam (keflavich@gmail.com)</name></author><id>tag:keflavich.github.io,2012-09-20:/blog/python-64-bit.html</id><summary type="html">&lt;p&gt;I got python 64 bit to compile, but it required a number of tricky
steps.
First, this guy has the instructions I followed:
&lt;a class="reference external" href="http://blog.captnswing.net/2009/04/19/python-mod_wsgi-64bit-mac-os-x-105/"&gt;captnswing&lt;/a&gt;
However, it didn't work entirely as advertised. I ran the configure as
advertised:
&lt;tt class="docutils literal"&gt;./configure &lt;span class="pre"&gt;--enable-framework=/Library/Frameworks&lt;/span&gt; &lt;span class="pre"&gt;\--enable-universalsdk=/&lt;/span&gt; \MACOSX_DEPLOYMENT_TARGET=10.5 &lt;span class="pre"&gt;\--with-universal-archs=all&lt;/span&gt; &lt;span class="pre"&gt;\--with-readline-dir …&lt;/span&gt;&lt;/tt&gt;&lt;/p&gt;</summary><content type="html">&lt;p&gt;I got python 64 bit to compile, but it required a number of tricky
steps.
First, this guy has the instructions I followed:
&lt;a class="reference external" href="http://blog.captnswing.net/2009/04/19/python-mod_wsgi-64bit-mac-os-x-105/"&gt;captnswing&lt;/a&gt;
However, it didn't work entirely as advertised. I ran the configure as
advertised:
&lt;tt class="docutils literal"&gt;./configure &lt;span class="pre"&gt;--enable-framework=/Library/Frameworks&lt;/span&gt; &lt;span class="pre"&gt;\--enable-universalsdk=/&lt;/span&gt; \MACOSX_DEPLOYMENT_TARGET=10.5 &lt;span class="pre"&gt;\--with-universal-archs=all&lt;/span&gt; &lt;span class="pre"&gt;\--with-readline-dir=/usr/local&lt;/span&gt;&lt;/tt&gt;
then the make install, but /usr/local/bin/python pointed to the wrong
place, so I replaced the symbolic link in my python path with the
correct one:
&lt;tt class="docutils literal"&gt;sudo rm /Library/Frameworks/Python.framework/Versions/2.6/bin/python sudo ln &lt;span class="pre"&gt;-s&lt;/span&gt; &lt;span class="pre"&gt;/Library/Frameworks/Python.framework/Versions/2.6/bin/python-64&lt;/span&gt; /Library/Frameworks/Python.framework/Versions/2.6/bin/python&lt;/tt&gt;
Now python is 64 bit:
&lt;tt class="docutils literal"&gt;eta ~$ python &lt;span class="pre"&gt;-c&lt;/span&gt; &amp;quot;import sys; print sys.maxint&amp;quot;9223372036854775807&lt;/tt&gt;
I haven't checked whether it works yet though...
Update: Had to reinstall with gnu readline installed. Also have to
install PyQt4 and might have to recompile numpy...
numpy won't compile with python 2.6.2:
&lt;tt class="docutils literal"&gt;C compiler: gcc &lt;span class="pre"&gt;-arch&lt;/span&gt; i386 &lt;span class="pre"&gt;-arch&lt;/span&gt; ppc &lt;span class="pre"&gt;-arch&lt;/span&gt; ppc64 &lt;span class="pre"&gt;-arch&lt;/span&gt; x86_64 &lt;span class="pre"&gt;-isysroot&lt;/span&gt; / &lt;span class="pre"&gt;-fno-strict-aliasing&lt;/span&gt; &lt;span class="pre"&gt;-fno-common&lt;/span&gt; &lt;span class="pre"&gt;-dynamic&lt;/span&gt; &lt;span class="pre"&gt;-DNDEBUG&lt;/span&gt; &lt;span class="pre"&gt;-g&lt;/span&gt; &lt;span class="pre"&gt;-fwrapv&lt;/span&gt; &lt;span class="pre"&gt;-O3&lt;/span&gt; &lt;span class="pre"&gt;-Wall&lt;/span&gt; &lt;span class="pre"&gt;-Wstrict-prototypescompile&lt;/span&gt; options: &lt;span class="pre"&gt;'-Inumpy/core/include&lt;/span&gt; &lt;span class="pre"&gt;-Ibuild/src.macosx-10.5-universal-2.6/numpy/core/include/numpy&lt;/span&gt; &lt;span class="pre"&gt;-Inumpy/core/src&lt;/span&gt; &lt;span class="pre"&gt;-Inumpy/core/include&lt;/span&gt; &lt;span class="pre"&gt;-I/Library/Frameworks/Python.framework/Versions/2.6/include/python2.6&lt;/span&gt; &lt;span class="pre"&gt;-c'gcc:&lt;/span&gt; &lt;span class="pre"&gt;build/src.macosx-10.5-universal-2.6/numpy/core/src/_sortmodule.cIn&lt;/span&gt; file included from numpy/core/include/numpy/ndarrayobject.h:26,&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp; from numpy/core/include/numpy/noprefix.h:7,&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp; from numpy/core/src/_sortmodule.c.src:29:numpy/core/include/numpy/npy_endian.h:33:10: error: #error Unknown CPU: can not set endiannesslipo: can't figure out the architecture type of: &lt;span class="pre"&gt;/var/folders/ni/ni+DtdqFGMeSMH13AvkNkU+++TI/-Tmp-//cceaWIvZ.outIn&lt;/span&gt; file included from numpy/core/include/numpy/ndarrayobject.h:26,&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp; from numpy/core/include/numpy/noprefix.h:7,&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp; from numpy/core/src/_sortmodule.c.src:29:numpy/core/include/numpy/npy_endian.h:33:10: error: #error Unknown CPU: can not set endiannesslipo: can't figure out the architecture type of: &lt;span class="pre"&gt;/var/folders/ni/ni+DtdqFGMeSMH13AvkNkU+++TI/-Tmp-//cceaWIvZ.outerror:&lt;/span&gt; Command &amp;quot;gcc &lt;span class="pre"&gt;-arch&lt;/span&gt; i386 &lt;span class="pre"&gt;-arch&lt;/span&gt; ppc &lt;span class="pre"&gt;-arch&lt;/span&gt; ppc64 &lt;span class="pre"&gt;-arch&lt;/span&gt; x86_64 &lt;span class="pre"&gt;-isysroot&lt;/span&gt; / &lt;span class="pre"&gt;-fno-strict-aliasing&lt;/span&gt; &lt;span class="pre"&gt;-fno-common&lt;/span&gt; &lt;span class="pre"&gt;-dynamic&lt;/span&gt; &lt;span class="pre"&gt;-DNDEBUG&lt;/span&gt; &lt;span class="pre"&gt;-g&lt;/span&gt; &lt;span class="pre"&gt;-fwrapv&lt;/span&gt; &lt;span class="pre"&gt;-O3&lt;/span&gt; &lt;span class="pre"&gt;-Wall&lt;/span&gt; &lt;span class="pre"&gt;-Wstrict-prototypes&lt;/span&gt; &lt;span class="pre"&gt;-Inumpy/core/include&lt;/span&gt; &lt;span class="pre"&gt;-Ibuild/src.macosx-10.5-universal-2.6/numpy/core/include/numpy&lt;/span&gt; &lt;span class="pre"&gt;-Inumpy/core/src&lt;/span&gt; &lt;span class="pre"&gt;-Inumpy/core/include&lt;/span&gt; &lt;span class="pre"&gt;-I/Library/Frameworks/Python.framework/Versions/2.6/include/python2.6&lt;/span&gt; &lt;span class="pre"&gt;-c&lt;/span&gt; &lt;span class="pre"&gt;build/src.macosx-10.5-universal-2.6/numpy/core/src/_sortmodule.c&lt;/span&gt; &lt;span class="pre"&gt;-o&lt;/span&gt; &lt;span class="pre"&gt;build/temp.macosx-10.5-universal-2.6/build/src.macosx-10.5-universal-2.6/numpy/core/src/_sortmodule.o&amp;quot;&lt;/span&gt; failed with exit status 1&lt;/tt&gt;
That sucks.&lt;/p&gt;
</content><category term="misc"></category><category term="googlepost"></category><category term="computer"></category></entry><entry><title>Python 64-bit on Mac OS X 10.6 Snow Leopard</title><link href="https://keflavich.github.io/blog/python-64-bit-on-mac-os-x-106-snow-leopard.html" rel="alternate"></link><published>2012-09-20T20:02:00-06:00</published><updated>2012-09-20T20:02:00-06:00</updated><author><name>Adam (keflavich@gmail.com)</name></author><id>tag:keflavich.github.io,2012-09-20:/blog/python-64-bit-on-mac-os-x-106-snow-leopard.html</id><summary type="html">&lt;p&gt;After &lt;a class="reference external" href="http://buffalothedestroyer.blogspot.com/2010/02/installing-snow-leopard.html"&gt;yesterday's disastrous attempt&lt;/a&gt; to install various python
packages, I started from scratch. First, I got rid of all of my python
frameworks (backed up but removed from the path). Then, I compiled
python 2.7 from scratch:&lt;/p&gt;
&lt;p&gt;I got some help from
&lt;a class="reference external" href="http://blog.mahmoudimus.com/2009/12/python-2-6-4-and-twisted-9-on-os-x-10-6-snow-leopard/"&gt;http://blog.mahmoudimus.com/2009/12/python-2-6-4-and-twisted-9-on-os-x-10-6-snow-leopard …&lt;/a&gt;&lt;/p&gt;</summary><content type="html">&lt;p&gt;After &lt;a class="reference external" href="http://buffalothedestroyer.blogspot.com/2010/02/installing-snow-leopard.html"&gt;yesterday's disastrous attempt&lt;/a&gt; to install various python
packages, I started from scratch. First, I got rid of all of my python
frameworks (backed up but removed from the path). Then, I compiled
python 2.7 from scratch:&lt;/p&gt;
&lt;p&gt;I got some help from
&lt;a class="reference external" href="http://blog.mahmoudimus.com/2009/12/python-2-6-4-and-twisted-9-on-os-x-10-6-snow-leopard/"&gt;http://blog.mahmoudimus.com/2009/12/python-2-6-4-and-twisted-9-on-os-x-10-6-snow-leopard/&lt;/a&gt;
&lt;tt class="docutils literal"&gt;./configure &lt;span class="pre"&gt;--enable-framework&lt;/span&gt; &lt;span class="pre"&gt;--enable-universalsdk=/Developer/SDKs/MacOSX10.6.sdk&lt;/span&gt; MACOSX_DEPLOYMENT_TARGET=10.6 &lt;span class="pre"&gt;--with-universal-archs=intel&lt;/span&gt; &lt;span class="pre"&gt;-with-readline-dir=/usr/localmake&lt;/span&gt; &lt;span class="pre"&gt;-j&lt;/span&gt; 17make &lt;span class="pre"&gt;-j&lt;/span&gt; 17 test&lt;/tt&gt;
&lt;tt class="docutils literal"&gt;make&lt;/tt&gt; results:&lt;/p&gt;
&lt;pre class="literal-block"&gt;
Python build finished, but the necessary bits to build these modules were
not found:
    _bsddb
    dl
    gdbm
    imageop
    linuxaudiodev
    ossaudiodev
    spwd
    sunaudiodev
To find the necessary bits, look in setup.py in detect_modules() for the
module's name.
&lt;/pre&gt;
&lt;p&gt;I'm not concerned about these - I don't use any of them and I assume I
need to install some other packages to get them to work.
During make test, I had two failures that resulted in &amp;quot;python crash&amp;quot;
pop-up boxes:&lt;/p&gt;
&lt;pre class="literal-block"&gt;
test_subprocess.
this bit of output is from a test of stdout in a different process ....
this bit of output is from a test of stdout in a different process ...
test_sunaudiodev
&lt;/pre&gt;
&lt;p&gt;Then, I got some malloc errors:&lt;/p&gt;
&lt;pre class="literal-block"&gt;
test_ioTesting large file ops skipped on darwin.It requires 2147483648
bytes and a long time.Use 'regrtest.py -u largefile test_io' to run
it.Testing large file ops skipped on darwin.It requires 2147483648 bytes
and a long time.Use 'regrtest.py -u largefile test_io' to run
it.python.exe(22914,0x7fff70d3ebe0) malloc: ***
mmap(size=9223372036854775808) failed (error code=12)*** error: can't
allocate region*** set a breakpoint in malloc_error_break to
debugpython.exe(22914,0x7fff70d3ebe0) malloc: ***
mmap(size=9223372036854775808) failed (error code=12)*** error: can't
allocate region*** set a breakpoint in malloc_error_break to
debugpython.exe(22914,0x7fff70d3ebe0) malloc: ***
mmap(size=9223372036854775808) failed (error code=12)*** error: can't
allocate region*** set a breakpoint in malloc_error_break to
debugtest_ioctl
&lt;/pre&gt;
</content><category term="misc"></category><category term="googlepost"></category><category term="python"></category></entry><entry><title>Python magic / advanced numpy indexing</title><link href="https://keflavich.github.io/blog/python-magic-advanced-numpy-indexing.html" rel="alternate"></link><published>2012-09-20T20:02:00-06:00</published><updated>2012-09-20T20:02:00-06:00</updated><author><name>Adam (keflavich@gmail.com)</name></author><id>tag:keflavich.github.io,2012-09-20:/blog/python-magic-advanced-numpy-indexing.html</id><content type="html">&lt;p&gt;Yeah, indexing python arrays should really be easy.
&lt;a class="reference external" href="http://mentat.za.net/numpy/numpy_advanced_slides/"&gt;Stefan van der Walt's page&lt;/a&gt;
&lt;tt class="docutils literal"&gt;In [85]: bi = &lt;span class="pre"&gt;(f.bolo_indices[np.newaxis,:]&lt;/span&gt; + &lt;span class="pre"&gt;zeros([7751,1])).astype('int')In&lt;/span&gt; [86]: whc = &lt;span class="pre"&gt;(whscan[:,np.newaxis]&lt;/span&gt; + &lt;span class="pre"&gt;zeros([1,107])).astype('int')In&lt;/span&gt; [87]: array2d[whc,bi] = temp2d&lt;/tt&gt;&lt;/p&gt;
</content><category term="misc"></category><category term="googlepost"></category><category term="python"></category></entry><entry><title>Python: one-line arrays</title><link href="https://keflavich.github.io/blog/python-one-line-arrays.html" rel="alternate"></link><published>2012-09-20T20:02:00-06:00</published><updated>2012-09-20T20:02:00-06:00</updated><author><name>Adam (keflavich@gmail.com)</name></author><id>tag:keflavich.github.io,2012-09-20:/blog/python-one-line-arrays.html</id><content type="html">&lt;p&gt;Ahhh, refreshing:
``      whscan = asarray([arange(scanlen)+i for i in scans_info[:,0]]).ravel()``
Not like IDL, which takes at least 4 lines b/c of the variable
declaration. There's probably a better way to do that too.&lt;/p&gt;
</content><category term="misc"></category><category term="googlepost"></category><category term="python"></category></entry><entry><title>Python: setting matplotlib defaults</title><link href="https://keflavich.github.io/blog/python-setting-matplotlib-defaults.html" rel="alternate"></link><published>2012-09-20T20:02:00-06:00</published><updated>2012-09-20T20:02:00-06:00</updated><author><name>Adam (keflavich@gmail.com)</name></author><id>tag:keflavich.github.io,2012-09-20:/blog/python-setting-matplotlib-defaults.html</id><content type="html">&lt;p&gt;Setting matplotlib defaults is a lot more difficult than it should be.
&lt;tt class="docutils literal"&gt;&lt;span class="pre"&gt;matplotlib.defaultParams['image.origin']='lower'matplotlib.defaultParams['image.interpolation']='nearest'&lt;/span&gt;&lt;/tt&gt;&lt;/p&gt;
</content><category term="misc"></category><category term="googlepost"></category><category term="python"></category><category term="computer"></category></entry><entry><title>python stuff</title><link href="https://keflavich.github.io/blog/python-stuff.html" rel="alternate"></link><published>2012-09-20T20:02:00-06:00</published><updated>2012-09-20T20:02:00-06:00</updated><author><name>Adam (keflavich@gmail.com)</name></author><id>tag:keflavich.github.io,2012-09-20:/blog/python-stuff.html</id><content type="html">&lt;p&gt;to get imshow defaults to be nearest neighbor, need to edit
~/.matplotlib/matplotlibrc. Still don't know how to change default
command-line output format.&lt;/p&gt;
</content><category term="misc"></category><category term="googlepost"></category><category term="computer"></category></entry><entry><title>Quicksilver and Awesome</title><link href="https://keflavich.github.io/blog/quicksilver-and-awesome.html" rel="alternate"></link><published>2012-09-20T20:02:00-06:00</published><updated>2012-09-20T20:02:00-06:00</updated><author><name>Adam (keflavich@gmail.com)</name></author><id>tag:keflavich.github.io,2012-09-20:/blog/quicksilver-and-awesome.html</id><content type="html">&lt;p&gt;Set up f17-19 today to play amusing sounds. Also, recalled that I use
ScreenSaverEngine to lock my screen with a shortcut key.
Quicksilver triggers are the way to do it. Mac is stupid w/o
quicksilver.&lt;/p&gt;
</content><category term="misc"></category><category term="googlepost"></category><category term="computer"></category></entry><entry><title>Quicksilver sounds</title><link href="https://keflavich.github.io/blog/quicksilver-sounds.html" rel="alternate"></link><published>2012-09-20T20:02:00-06:00</published><updated>2012-09-20T20:02:00-06:00</updated><author><name>Adam (keflavich@gmail.com)</name></author><id>tag:keflavich.github.io,2012-09-20:/blog/quicksilver-sounds.html</id><summary type="html">&lt;p&gt;To switch sound source from the command line:
&lt;a class="reference external" href="http://code.google.com/p/switchaudio-osx/"&gt;switchaudio&lt;/a&gt;
Use this to make scripts such as:
&lt;tt class="docutils literal"&gt;&lt;span class="pre"&gt;#!/bin/bash/Users/adam/humor/SwitchAudioSource&lt;/span&gt; &lt;span class="pre"&gt;-s&lt;/span&gt; &lt;span class="pre"&gt;&amp;quot;Built-in&lt;/span&gt; Line Output&amp;quot;afplay /Users/adam/humor/losinghorn.wav/Users/adam/humor/SwitchAudioSource &lt;span class="pre"&gt;-s&lt;/span&gt; &lt;span class="pre"&gt;&amp;quot;Built-in&lt;/span&gt; Output&amp;quot;&lt;/tt&gt;
Then make triggers in Quicksilver by:&lt;/p&gt;
&lt;ol class="arabic simple"&gt;
&lt;li&gt;Go to trigger pane, make …&lt;/li&gt;&lt;/ol&gt;</summary><content type="html">&lt;p&gt;To switch sound source from the command line:
&lt;a class="reference external" href="http://code.google.com/p/switchaudio-osx/"&gt;switchaudio&lt;/a&gt;
Use this to make scripts such as:
&lt;tt class="docutils literal"&gt;&lt;span class="pre"&gt;#!/bin/bash/Users/adam/humor/SwitchAudioSource&lt;/span&gt; &lt;span class="pre"&gt;-s&lt;/span&gt; &lt;span class="pre"&gt;&amp;quot;Built-in&lt;/span&gt; Line Output&amp;quot;afplay /Users/adam/humor/losinghorn.wav/Users/adam/humor/SwitchAudioSource &lt;span class="pre"&gt;-s&lt;/span&gt; &lt;span class="pre"&gt;&amp;quot;Built-in&lt;/span&gt; Output&amp;quot;&lt;/tt&gt;
Then make triggers in Quicksilver by:&lt;/p&gt;
&lt;ol class="arabic simple"&gt;
&lt;li&gt;Go to trigger pane, make new hotkey trigger&lt;/li&gt;
&lt;li&gt;press &amp;quot;.&amp;quot; to allow you to type a command&lt;/li&gt;
&lt;li&gt;make sure the action is &amp;quot;Run&amp;quot;&lt;/li&gt;
&lt;li&gt;hook up a hotkey&lt;/li&gt;
&lt;li&gt;if it doesn't work, just try again. Persist through crashes, they
happen often.&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;Follow-up: You can also control the volume!
&lt;a class="reference external" href="http://discussions.apple.com/thread.jspa?threadID=585781"&gt;http://discussions.apple.com/thread.jspa?threadID=585781&lt;/a&gt;
`` osascript -e 'set volume output volume 100'``&lt;/p&gt;
&lt;/p&gt;</content><category term="misc"></category><category term="googlepost"></category><category term="computer"></category></entry><entry><title>RATRAN on Mac OS X</title><link href="https://keflavich.github.io/blog/ratran-on-mac-os-x.html" rel="alternate"></link><published>2012-09-20T20:02:00-06:00</published><updated>2012-09-20T20:02:00-06:00</updated><author><name>Adam (keflavich@gmail.com)</name></author><id>tag:keflavich.github.io,2012-09-20:/blog/ratran-on-mac-os-x.html</id><summary type="html">&lt;p&gt;Mac OS X doesn't like the defaults built in to &lt;a class="reference external" href="http://www.sron.rug.nl/~vdtak/ratran/frames.html"&gt;RATRAN&lt;/a&gt;. It died
unhappily with errors like:
&lt;tt class="docutils literal"&gt;ld_classic: can't locate file for: &lt;span class="pre"&gt;-lcrt0.o&lt;/span&gt;&lt;/tt&gt;
and
&lt;tt class="docutils literal"&gt;ld: warning: in &lt;span class="pre"&gt;/usr/local/lib//libcfitsio.a,&lt;/span&gt; file is not of required architecture&lt;/tt&gt;
In order to get it to run, I had to …&lt;/p&gt;</summary><content type="html">&lt;p&gt;Mac OS X doesn't like the defaults built in to &lt;a class="reference external" href="http://www.sron.rug.nl/~vdtak/ratran/frames.html"&gt;RATRAN&lt;/a&gt;. It died
unhappily with errors like:
&lt;tt class="docutils literal"&gt;ld_classic: can't locate file for: &lt;span class="pre"&gt;-lcrt0.o&lt;/span&gt;&lt;/tt&gt;
and
&lt;tt class="docutils literal"&gt;ld: warning: in &lt;span class="pre"&gt;/usr/local/lib//libcfitsio.a,&lt;/span&gt; file is not of required architecture&lt;/tt&gt;
In order to get it to run, I had to do the following:&lt;/p&gt;
&lt;ol class="arabic simple"&gt;
&lt;li&gt;Install CFITSIO with &lt;tt class="docutils literal"&gt;&lt;span class="pre"&gt;CFLAGS=&amp;quot;-arch&lt;/span&gt; x86_64 &lt;span class="pre"&gt;-arch&lt;/span&gt; i386 &lt;span class="pre"&gt;-g&lt;/span&gt; &lt;span class="pre"&gt;-O2&amp;quot;&lt;/span&gt;&lt;/tt&gt; to
/usr/local/lib&lt;/li&gt;
&lt;li&gt;Edit the sky/Makefile OPT variable (line 23) to read:
&lt;tt class="docutils literal"&gt;OPT = &lt;span class="pre"&gt;-I.&lt;/span&gt; &lt;span class="pre"&gt;-O2&lt;/span&gt; &lt;span class="pre"&gt;-fno-automatic&lt;/span&gt; &lt;span class="pre"&gt;-arch&lt;/span&gt; x86_64&lt;/tt&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;Also, you need to set up system variables:&lt;/p&gt;
&lt;pre class="literal-block"&gt;
export RATRAN=/path/to/Ratran export RATRANRUN=/path/to/Ratran/run
&lt;/pre&gt;
</content><category term="misc"></category><category term="googlepost"></category><category term="astronomy"></category><category term="computer"></category></entry><entry><title>Rebuilding python from scratch again</title><link href="https://keflavich.github.io/blog/rebuilding-python-from-scratch-again.html" rel="alternate"></link><published>2012-09-20T20:02:00-06:00</published><updated>2012-09-20T20:02:00-06:00</updated><author><name>Adam (keflavich@gmail.com)</name></author><id>tag:keflavich.github.io,2012-09-20:/blog/rebuilding-python-from-scratch-again.html</id><summary type="html">&lt;p&gt;I got scipy working a week or two ago, but doing so killed matplotib's
tkagg. So, I switched to the MacOSX backend, which worked ok until I
realized that the interactive (connect) features of macosx failed
miserably. This led me to try to get matplotlib working.... which broke
with those …&lt;/p&gt;</summary><content type="html">&lt;p&gt;I got scipy working a week or two ago, but doing so killed matplotib's
tkagg. So, I switched to the MacOSX backend, which worked ok until I
realized that the interactive (connect) features of macosx failed
miserably. This led me to try to get matplotlib working.... which broke
with those awful &amp;quot;symbol not found&amp;quot; errors in ft2font.so and _path.so,
which I've determined all have to do with linking to the wrong library
files.
The most worrisome part of this process was discovering that a full Time
Machine recovery of /usr and /Library/Frameworks and /Library/Python did
*not* restore python - it stayed dead with IDENTICAL errors. So there
are probably additional layers of hidden links.
The process below is based on &lt;a class="reference external" href="http://blog.hyperjeff.net/?p=160"&gt;hyperjeff's blog post&lt;/a&gt; but differs
substantially based on &lt;a class="reference external" href="http://casa.colorado.edu/~skillman/research_and_codes/files/649710e82f85745eb65a90535f0f3098-5.html"&gt;Sam Skillman's recommendations&lt;/a&gt; and the very
big issue I ran into that my /usr/local files appeared to be corrupted.
After this install, my path no longer includes /usr/local/bin and /sw
has been moved to /_sw... hopefully one of these days I'll be ballsy
enough to delete it.&lt;/p&gt;
&lt;ol class="arabic simple"&gt;
&lt;li&gt;Install python 2.6.4&lt;ol class="arabic"&gt;
&lt;li&gt;Needed a clean terminal with no flags set at all. Don't know why -
all I had set were a bunch of -arch x86_64 flags.
&lt;tt class="docutils literal"&gt;export &lt;span class="pre"&gt;LD_LIBRARY_PATH=&amp;quot;/usr/local/lib:/usr/X11/lib&amp;quot;./configure&lt;/span&gt; &lt;span class="pre"&gt;--enable-framework=/Library/Frameworks&lt;/span&gt; MACOSX_DEPLOYMENT_TARGET=10.6 make &lt;span class="pre"&gt;-j&lt;/span&gt; 17sudo make install&lt;/tt&gt;&lt;/li&gt;
&lt;li&gt;Reset PYTHONPATH to blank&lt;/li&gt;
&lt;li&gt;`` alias clearflags='export CFLAGS=&amp;quot;&amp;quot;; export CCFLAGS=&amp;quot;&amp;quot;; export CXXFLAGS=&amp;quot;&amp;quot;; export LDFLAGS=&amp;quot;&amp;quot;; export FFLAGS=&amp;quot;&amp;quot;;'``
to make sure&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;li&gt;Install FFTW
&lt;tt class="docutils literal"&gt;cd ~/tmpcurl &lt;span class="pre"&gt;-O&lt;/span&gt; &lt;span class="pre"&gt;http://www.fftw.org/fftw-3.2.2.tar.gztar&lt;/span&gt; xf &lt;span class="pre"&gt;fftw-3.2.2.tar.gzcd&lt;/span&gt; &lt;span class="pre"&gt;fftw-3.2.2clearflags./configure&lt;/span&gt; &lt;span class="pre"&gt;CC=&amp;quot;gcc&lt;/span&gt; &lt;span class="pre"&gt;-arch&lt;/span&gt; x86_64&amp;quot; &lt;span class="pre"&gt;CXX=&amp;quot;g++&lt;/span&gt; &lt;span class="pre"&gt;-arch&lt;/span&gt; x86_64&amp;quot; &lt;span class="pre"&gt;CPP=&amp;quot;gcc&lt;/span&gt; &lt;span class="pre"&gt;-E&amp;quot;&lt;/span&gt; &lt;span class="pre"&gt;CXXCPP=&amp;quot;g++&lt;/span&gt; &lt;span class="pre"&gt;-E&amp;quot;make&lt;/span&gt; &lt;span class="pre"&gt;-j&lt;/span&gt; 17sudo make install&lt;/tt&gt;&lt;/li&gt;
&lt;li&gt;Install UMFPACK
&lt;tt class="docutils literal"&gt;cd ~/tmpcurl &lt;span class="pre"&gt;-O&lt;/span&gt; &lt;span class="pre"&gt;http://www.cise.ufl.edu/research/sparse/umfpack/current/UMFPACK.tar.gzcurl&lt;/span&gt; &lt;span class="pre"&gt;-O&lt;/span&gt; &lt;span class="pre"&gt;http://www.cise.ufl.edu/research/sparse/UFconfig/current/UFconfig.tar.gzcurl&lt;/span&gt; &lt;span class="pre"&gt;-O&lt;/span&gt; &lt;span class="pre"&gt;http://www.cise.ufl.edu/research/sparse/amd/current/AMD.tar.gztar&lt;/span&gt; xf AMD.tar.gztar xf UFconfig.tar.gztar xf UMFPACK.tar.gzsed &lt;span class="pre"&gt;-ibck&lt;/span&gt; 's/F77 = f77/F77 = gfortran/' UFconfig/UFconfig.mk sed &lt;span class="pre"&gt;-ibck&lt;/span&gt; '299,303s/# //' UFconfig/UFconfig.mkcp UFconfig/UFconfig.h AMD/Include/cp UFconfig/UFconfig.h UMFPACK/Include/cd UMFPACKmake &lt;span class="pre"&gt;-j&lt;/span&gt; 17make hbmake clean&lt;/tt&gt;&lt;/li&gt;
&lt;li&gt;Install numpy&lt;ol class="arabic"&gt;
&lt;li&gt;Set environment variables
&lt;tt class="docutils literal"&gt;export MACOSX_DEPLOYMENT_TARGET=10.6export &lt;span class="pre"&gt;CFLAGS=&amp;quot;-arch&lt;/span&gt; x86_64&amp;quot;export &lt;span class="pre"&gt;FFLAGS=&amp;quot;-m64&amp;quot;export&lt;/span&gt; &lt;span class="pre"&gt;LDFLAGS=&amp;quot;-Wall&lt;/span&gt; &lt;span class="pre"&gt;-undefined&lt;/span&gt; dynamic_lookup &lt;span class="pre"&gt;-bundle&lt;/span&gt; &lt;span class="pre"&gt;-arch&lt;/span&gt; x86_64&amp;quot;export &lt;span class="pre"&gt;PYTHONPATH=&amp;quot;/Library/Frameworks/Python.framework/Versions/2.6/lib/python2.6/site-packages/&amp;quot;echo&lt;/span&gt; &amp;quot;[amd]library_dirs = /Users/adam/tmp/AMD/Libinclude_dirs = /Users/adam/tmp/AMD/Includeamd_libs = amd[umfpack]library_dirs = /Users/adam/tmp/UMFPACK/Libinclude_dirs = /Users/adam/tmp/UMFPACK/Includeumfpack_libs = umfpack&amp;quot; &amp;gt; site.cfg&lt;/tt&gt;&lt;/li&gt;
&lt;li&gt;Setup &amp;amp; Install
&lt;tt class="docutils literal"&gt;python setup.py build &lt;span class="pre"&gt;--fcompiler=gnu95sudo&lt;/span&gt; python setup.py install&lt;/tt&gt;&lt;/li&gt;
&lt;li&gt;Test: python -c &amp;quot;import numpy&amp;quot;&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;li&gt;Install scipy. The important thing is to use g++-4.2 because g++-4.5
doesn't accept the -arch flag. Also, get rid of /sw if it's on your
computer at all.
&lt;tt class="docutils literal"&gt;sudo mv /System/Library/Frameworks/Python.framework/Versions/2.6/Extras/lib/python/numpy /System/Library/Frameworks/Python.framework/Versions/2.6/Extras/lib/python/numpyXcd &lt;span class="pre"&gt;~/repos/scipy-0.7.1python&lt;/span&gt; setup.py cleanrm &lt;span class="pre"&gt;-rf&lt;/span&gt; &lt;span class="pre"&gt;buildclearflagsFFLAGS=&amp;quot;-m64&amp;quot;&lt;/span&gt; &lt;span class="pre"&gt;CFLAGS=&amp;quot;-arch&lt;/span&gt; x86_64 &lt;span class="pre"&gt;-I/usr/local/include/freetype2&lt;/span&gt; &lt;span class="pre"&gt;-I/usr/X11/include&lt;/span&gt; &lt;span class="pre"&gt;-L/usr/X11/lib&amp;quot;&lt;/span&gt;&amp;nbsp; &lt;span class="pre"&gt;LDFLAGS=&amp;quot;-Wall&lt;/span&gt; &lt;span class="pre"&gt;-undefined&lt;/span&gt; dynamic_lookup &lt;span class="pre"&gt;-bundle&lt;/span&gt;&amp;nbsp; &lt;span class="pre"&gt;-lpng&lt;/span&gt; &lt;span class="pre"&gt;-arch&lt;/span&gt; x86_64&amp;quot; &lt;span class="pre"&gt;CXX=&amp;quot;/usr/bin/g++-4.2&amp;quot;&lt;/span&gt; &lt;span class="pre"&gt;CC=&amp;quot;/usr/bin/gcc-4.2&amp;quot;&lt;/span&gt; python setup.py buildpython setup.py install&lt;/tt&gt;
Test the install:
&lt;tt class="docutils literal"&gt;python &lt;span class="pre"&gt;-c&lt;/span&gt; &amp;quot;import scipy, scipy.fftpack, scipy.interpolate&amp;quot;&lt;/tt&gt;&lt;/li&gt;
&lt;li&gt;&lt;ol class="first arabic"&gt;
&lt;li&gt;Install matplotlib. MAKE SURE /usr/bin/texbin is in front of
/usr/local/bin and /sw/bin so that dvipng comes from MacTEX. I
also ended up having to remove /usr/local/bin from my path
completely
&lt;tt class="docutils literal"&gt;sudo mv /System/Library/Frameworks/Python.framework/Versions/2.6/Extras/lib/python/numpy /System/Library/Frameworks/Python.framework/Versions/2.6/Extras/lib/python/numpyXcd &lt;span class="pre"&gt;~/repos/matplotlib-svnpython&lt;/span&gt; setup.py cleanrm &lt;span class="pre"&gt;-rf&lt;/span&gt; buildclearflags&lt;/tt&gt;&lt;/li&gt;
&lt;li&gt;Do hyperjeff's recommended edits except don't use /usr/local
because it's f'd:
make.osx:
&lt;tt class="docutils literal"&gt;&lt;span class="pre"&gt;MACOSX_DEPLOYMENT_TARGET=10.6PREFIX=/usrPYTHON=/Library/Frameworks/Python.framework/Versions/Current/bin/python##&lt;/span&gt; You shouldn't need to configure past this point (and &lt;span class="pre"&gt;yet…)PKG_CONFIG_PATH=&amp;quot;${PREFIX}/lib/pkgconfig&amp;quot;CFLAGS=&amp;quot;-arch&lt;/span&gt; i386 &lt;span class="pre"&gt;-arch&lt;/span&gt; x86_64 &lt;span class="pre"&gt;-I${PREFIX}/include&lt;/span&gt; &lt;span class="pre"&gt;-I${PREFIX}/include/freetype2&lt;/span&gt; &lt;span class="pre"&gt;-isysroot&lt;/span&gt; &lt;span class="pre"&gt;/Developer/SDKs/MacOSX10.6.sdk&amp;quot;LDFLAGS=&amp;quot;-arch&lt;/span&gt; i386 &lt;span class="pre"&gt;-arch&lt;/span&gt; x86_64 &lt;span class="pre"&gt;-L${PREFIX}/lib&lt;/span&gt; &lt;span class="pre"&gt;-syslibroot,/Developer/SDKs/MacOSX10.6.sdk&amp;quot;FFLAGS=&amp;quot;-arch&lt;/span&gt; i386 &lt;span class="pre"&gt;-arch&lt;/span&gt; x86_64&amp;quot;&lt;/tt&gt;
setup.cfg:
&lt;tt class="docutils literal"&gt;wxagg = False&lt;/tt&gt;&lt;/li&gt;
&lt;li&gt;Do the install (different from hyperjeff b/c I don't want root)
`` sudo make -f make.osx fetch deps make -f mpl_build mpl_installpython setup.py install``&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;li&gt;Install setuptools&lt;/li&gt;
&lt;li&gt;easy_install ipython&lt;/li&gt;
&lt;li&gt;install everything else pythonically&lt;/li&gt;
&lt;/ol&gt;
&lt;/p&gt;</content><category term="misc"></category><category term="googlepost"></category><category term="python"></category><category term="mac"></category></entry><entry><title>Reinstalling a system</title><link href="https://keflavich.github.io/blog/reinstalling-a-system.html" rel="alternate"></link><published>2012-09-20T20:02:00-06:00</published><updated>2012-09-20T20:02:00-06:00</updated><author><name>Adam (keflavich@gmail.com)</name></author><id>tag:keflavich.github.io,2012-09-20:/blog/reinstalling-a-system.html</id><summary type="html">&lt;p&gt;Python died tonight when I foolishly tried to update numpy or
matplotlib. One was not compatible with the other in upgraded form, and
the update for matplotlib wouldn't install because of GTK issues that
were totally opaque.
So, I reinstalled EVERYTHING - fink AND macports - from scratch. If I
don't get …&lt;/p&gt;</summary><content type="html">&lt;p&gt;Python died tonight when I foolishly tried to update numpy or
matplotlib. One was not compatible with the other in upgraded form, and
the update for matplotlib wouldn't install because of GTK issues that
were totally opaque.
So, I reinstalled EVERYTHING - fink AND macports - from scratch. If I
don't get things running by morning I'm going to have to do a restore,
which is ugly as death.
Things I need to do post-install:
``        sudo port install python_select          sudo python_select python25``
test ipython
test matplotlib
test numpy&lt;/p&gt;
</content><category term="misc"></category><category term="googlepost"></category><category term="python"></category><category term="computer"></category></entry><entry><title>Repositories for observers</title><link href="https://keflavich.github.io/blog/repositories-for-observers.html" rel="alternate"></link><published>2012-09-20T20:02:00-06:00</published><updated>2012-09-20T20:02:00-06:00</updated><author><name>Adam (keflavich@gmail.com)</name></author><id>tag:keflavich.github.io,2012-09-20:/blog/repositories-for-observers.html</id><summary type="html">&lt;p&gt;I should have posted these a while ago....
&lt;a class="reference external" href="http://code.google.com/p/casaradio/"&gt;casaradio&lt;/a&gt; is a subversion repository for folks at &lt;a class="reference external" href="http://casa.colorado.edu"&gt;The Center for
Astrophysics and Space Astronomy at CU Boulder&lt;/a&gt; to post radio astronomy
related codes. So far, emphasizes single dish (GBT, Arecibo), but will
include EVLA, CARMA, and ALMA eventually.
&lt;a class="reference external" href="http://code.google.com/p/aposoftware/"&gt;aposoftware&lt;/a&gt; is a …&lt;/p&gt;</summary><content type="html">&lt;p&gt;I should have posted these a while ago....
&lt;a class="reference external" href="http://code.google.com/p/casaradio/"&gt;casaradio&lt;/a&gt; is a subversion repository for folks at &lt;a class="reference external" href="http://casa.colorado.edu"&gt;The Center for
Astrophysics and Space Astronomy at CU Boulder&lt;/a&gt; to post radio astronomy
related codes. So far, emphasizes single dish (GBT, Arecibo), but will
include EVLA, CARMA, and ALMA eventually.
&lt;a class="reference external" href="http://code.google.com/p/aposoftware/"&gt;aposoftware&lt;/a&gt; is a similar page, but is a mercurial repository and is
meant to include instrument-specific software for the &lt;a class="reference external" href="http://www.apo.nmsu.edu/"&gt;Apache Point
Observatory&lt;/a&gt; &lt;a class="reference external" href="http://www.apo.nmsu.edu/arc35m/GeneralInfo_ARC35m.html"&gt;3.5m telescope&lt;/a&gt;. Right now includes a TUI script or two
and the TSPEC and DIS IRAF-twodspec pipelines.
I'd be remiss to leave out the &lt;a class="reference external" href="http://code.google.com/p/bgpspipeline/"&gt;BGPS pipeline&lt;/a&gt; even though it's
mentioned on the previous post.
Also, &lt;a class="reference external" href="http://code.google.com/p/agpy/"&gt;agpy&lt;/a&gt; is my personal code repository.&lt;/p&gt;
</content><category term="misc"></category><category term="googlepost"></category><category term="internet"></category><category term="agpy"></category><category term="astronomy"></category></entry><entry><title>Review: Fruition restaurant</title><link href="https://keflavich.github.io/blog/review-fruition-restaurant.html" rel="alternate"></link><published>2012-09-20T20:02:00-06:00</published><updated>2012-09-20T20:02:00-06:00</updated><author><name>Adam (keflavich@gmail.com)</name></author><id>tag:keflavich.github.io,2012-09-20:/blog/review-fruition-restaurant.html</id><summary type="html">&lt;p&gt;I ate at &lt;a class="reference external" href="http://www.fruitionrestaurant.com/cuisine.html"&gt;Fruition restaurant&lt;/a&gt; last night with the family. They serve
&lt;a class="reference external" href="http://en.wikipedia.org/wiki/haute_cuisine"&gt;haute cuisine&lt;/a&gt;. I had the beef coulotte. It was pretty tasty, but
overall a bit too creamy for my taste. The wine had a hint of cherry
flavor to it. The dinner was pretty good, but overall a …&lt;/p&gt;</summary><content type="html">&lt;p&gt;I ate at &lt;a class="reference external" href="http://www.fruitionrestaurant.com/cuisine.html"&gt;Fruition restaurant&lt;/a&gt; last night with the family. They serve
&lt;a class="reference external" href="http://en.wikipedia.org/wiki/haute_cuisine"&gt;haute cuisine&lt;/a&gt;. I had the beef coulotte. It was pretty tasty, but
overall a bit too creamy for my taste. The wine had a hint of cherry
flavor to it. The dinner was pretty good, but overall a little
disappointing for the price. The French press coffee was a bit much as I
would have preferred a small cup of cappuccino. I wouldn't object to
going back when they switch to a new seasonal menu, but I'm not going
out of my way.&lt;/p&gt;
</content><category term="misc"></category><category term="googlepost"></category><category term="review"></category></entry><entry><title>running at altitude</title><link href="https://keflavich.github.io/blog/running-at-altitude.html" rel="alternate"></link><published>2012-09-20T20:02:00-06:00</published><updated>2012-09-20T20:02:00-06:00</updated><author><name>Adam (keflavich@gmail.com)</name></author><id>tag:keflavich.github.io,2012-09-20:/blog/running-at-altitude.html</id><content type="html">&lt;p&gt;wow dude. I suck at that.
I swear there were some other things I had to write down but I can't
remember them now.
precipitable water vapor precipitates and that can be good&lt;/p&gt;
</content><category term="misc"></category><category term="googlepost"></category></entry><entry><title>Russell Owen, DS9</title><link href="https://keflavich.github.io/blog/russell-owen-ds9.html" rel="alternate"></link><published>2012-09-20T20:02:00-06:00</published><updated>2012-09-20T20:02:00-06:00</updated><author><name>Adam (keflavich@gmail.com)</name></author><id>tag:keflavich.github.io,2012-09-20:/blog/russell-owen-ds9.html</id><summary type="html">&lt;p&gt;As I might have expected, Russell Owen from the University of Washington
- the man responsible for the Telescope User Interface, TUI, on the
Apache Point Observatory telescope - has written up a &lt;a class="reference external" href="http://www.astro.washington.edu/owen/ds9andxpa.html"&gt;help page for XPA
access points on ds9&lt;/a&gt;. He knows his stuff... I think I need to aspire
to …&lt;/p&gt;</summary><content type="html">&lt;p&gt;As I might have expected, Russell Owen from the University of Washington
- the man responsible for the Telescope User Interface, TUI, on the
Apache Point Observatory telescope - has written up a &lt;a class="reference external" href="http://www.astro.washington.edu/owen/ds9andxpa.html"&gt;help page for XPA
access points on ds9&lt;/a&gt;. He knows his stuff... I think I need to aspire
to that.&lt;/p&gt;
</content><category term="misc"></category><category term="googlepost"></category><category term="ds9"></category></entry><entry><title>sage casjobs</title><link href="https://keflavich.github.io/blog/sage-casjobs.html" rel="alternate"></link><published>2012-09-20T20:02:00-06:00</published><updated>2012-09-20T20:02:00-06:00</updated><author><name>Adam (keflavich@gmail.com)</name></author><id>tag:keflavich.github.io,2012-09-20:/blog/sage-casjobs.html</id><content type="html">&lt;p&gt;annoying feature of sage casjobs: no spaces are allowed, no matter what,
even if quoted. so when importing must remove all spaces. gurrh.&lt;/p&gt;
</content><category term="misc"></category><category term="googlepost"></category></entry><entry><title>SAVE / RESTORE in Python</title><link href="https://keflavich.github.io/blog/save-restore-in-python.html" rel="alternate"></link><published>2012-09-20T20:02:00-06:00</published><updated>2012-09-20T20:02:00-06:00</updated><author><name>Adam (keflavich@gmail.com)</name></author><id>tag:keflavich.github.io,2012-09-20:/blog/save-restore-in-python.html</id><summary type="html">&lt;p&gt;Save/Restore is probably the single best feature of IDL that, sadly, is
very poorly replicated in Python. For 1 or 2 dimensional variables, you
can use Pylab's &lt;tt class="docutils literal"&gt;save/load&lt;/tt&gt;, but I never use such piddling tiny
arrays. For higher dimensional objects, either using FITS files (a pain
because of …&lt;/p&gt;</summary><content type="html">&lt;p&gt;Save/Restore is probably the single best feature of IDL that, sadly, is
very poorly replicated in Python. For 1 or 2 dimensional variables, you
can use Pylab's &lt;tt class="docutils literal"&gt;save/load&lt;/tt&gt;, but I never use such piddling tiny
arrays. For higher dimensional objects, either using FITS files (a pain
because of header definitions) or pickling ought to work.
e.g.:
&lt;tt class="docutils literal"&gt;import numpyimport &lt;span class="pre"&gt;picklex=ones([10,10,10,10],dtype='float64')pickle.dump(x,open('x.pysav','w'))X&lt;/span&gt; = &lt;span class="pre"&gt;pickle.load(open('x.pysav','r'))&lt;/span&gt;&lt;/tt&gt;&lt;/p&gt;
</content><category term="misc"></category><category term="googlepost"></category><category term="python"></category><category term="computer"></category></entry><entry><title>scary</title><link href="https://keflavich.github.io/blog/scary.html" rel="alternate"></link><published>2012-09-20T20:02:00-06:00</published><updated>2012-09-20T20:02:00-06:00</updated><author><name>Adam (keflavich@gmail.com)</name></author><id>tag:keflavich.github.io,2012-09-20:/blog/scary.html</id><content type="html">&lt;p&gt;I think this is my worst nightmare:
&lt;a class="reference external" href="http://antwrp.gsfc.nasa.gov/apod/ap081203.html"&gt;http://antwrp.gsfc.nasa.gov/apod/ap081203.html&lt;/a&gt;
LA. Not the smiley.&lt;/p&gt;
</content><category term="misc"></category><category term="googlepost"></category></entry><entry><title>Screen cont'd</title><link href="https://keflavich.github.io/blog/screen-contd.html" rel="alternate"></link><published>2012-09-20T20:02:00-06:00</published><updated>2012-09-20T20:02:00-06:00</updated><author><name>Adam (keflavich@gmail.com)</name></author><id>tag:keflavich.github.io,2012-09-20:/blog/screen-contd.html</id><content type="html">&lt;p&gt;&lt;a class="reference external" href="http://news.softpedia.com/news/GNU-Screen-Tutorial-44274.shtml"&gt;Guide to screen&lt;/a&gt;
Particularly useful features:
Scrollback:
&lt;tt class="docutils literal"&gt;&lt;span class="pre"&gt;ctrl-a&lt;/span&gt; [[scroll keys]&lt;/tt&gt;
Switch to a numbered screen (doesn't work for me so far):
&lt;tt class="docutils literal"&gt;&lt;span class="pre"&gt;ctrl-a&lt;/span&gt; [number]&lt;/tt&gt;&lt;/p&gt;
</content><category term="misc"></category><category term="googlepost"></category><category term="computer"></category></entry><entry><title>Screen, nohup, ssh, scp</title><link href="https://keflavich.github.io/blog/screen-nohup-ssh-scp.html" rel="alternate"></link><published>2012-09-20T20:02:00-06:00</published><updated>2012-09-20T20:02:00-06:00</updated><author><name>Adam (keflavich@gmail.com)</name></author><id>tag:keflavich.github.io,2012-09-20:/blog/screen-nohup-ssh-scp.html</id><summary type="html">&lt;p&gt;I learned a lot about the above in the past day, but I didn't keep track
of the links.
First, screen is very useful: it allows you to run any task, detach the
screen, and let it run in the background. You can resume it later.
Example:
&lt;tt class="docutils literal"&gt;screenipython &lt;span class="pre"&gt;run_fitter …&lt;/span&gt;&lt;/tt&gt;&lt;/p&gt;</summary><content type="html">&lt;p&gt;I learned a lot about the above in the past day, but I didn't keep track
of the links.
First, screen is very useful: it allows you to run any task, detach the
screen, and let it run in the background. You can resume it later.
Example:
&lt;tt class="docutils literal"&gt;screenipython &lt;span class="pre"&gt;run_fitter.py&amp;lt;ctrl-a&amp;gt;&lt;/span&gt; dscreen &lt;span class="pre"&gt;-r&lt;/span&gt;&lt;/tt&gt;
Second, it's a huge pain to type a password every time I use scp and
ssh. The solution is to make a key on your computer and put it in the
authorized_keys file.
&lt;tt class="docutils literal"&gt;&lt;span class="pre"&gt;ssh-keygen&lt;/span&gt; &lt;span class="pre"&gt;-t&lt;/span&gt; rsascp &lt;span class="pre"&gt;~/.ssh/id_rsa&lt;/span&gt; &lt;span class="pre"&gt;ginsbura&amp;#64;milkyway.colorado.edu:.ssh&lt;/span&gt; ginsbura&amp;#64;milkyway.colorado.educat id_rsa &amp;gt;&amp;gt; &lt;span class="pre"&gt;~/.ssh/authorized_keysssh&lt;/span&gt; &lt;span class="pre"&gt;-v&lt;/span&gt; ginsbura&amp;#64;milkyway.colorado.edu&lt;/tt&gt;
Use ssh -v to figure out why it fails if it still asks you for a
password. In one case, this happened because the computer I was using
expected the id to be in ~/.ssh/identity instead of ~/.ssh/id_rsa.
There may also be permissions issues (i.e. you want restrictive
permissions on your ssh keys).
With the latter, you can still use nohup, which is helpful if you want
to pipe your output to a log file.&lt;/p&gt;
</content><category term="misc"></category><category term="googlepost"></category><category term="ssh"></category><category term="security"></category><category term="computer"></category></entry><entry><title>SETI</title><link href="https://keflavich.github.io/blog/seti.html" rel="alternate"></link><published>2012-09-20T20:02:00-06:00</published><updated>2012-09-20T20:02:00-06:00</updated><author><name>Adam (keflavich@gmail.com)</name></author><id>tag:keflavich.github.io,2012-09-20:/blog/seti.html</id><summary type="html">&lt;p&gt;I read a &lt;a class="reference external" href="http://arxiv.org/abs/0807.4518"&gt;paper on ArXiv&lt;/a&gt; today about SETI, and talked to &lt;a class="reference external" href="http://casa.colorado.edu/~jdarling/"&gt;Jeremy
Darling&lt;/a&gt; about water masers. This got me thinking: the best way to
signal your presence to the universe as an intelligent civilization is
to take advantage of natural amplification. So, say, you go find a big
cloud …&lt;/p&gt;</summary><content type="html">&lt;p&gt;I read a &lt;a class="reference external" href="http://arxiv.org/abs/0807.4518"&gt;paper on ArXiv&lt;/a&gt; today about SETI, and talked to &lt;a class="reference external" href="http://casa.colorado.edu/~jdarling/"&gt;Jeremy
Darling&lt;/a&gt; about water masers. This got me thinking: the best way to
signal your presence to the universe as an intelligent civilization is
to take advantage of natural amplification. So, say, you go find a big
cloud of water molecules in the right state to start masing, and blast
them with some of the right frequency radio emission: you get a strongly
enhanced isotropic emitter. Maybe SETI should look for those, then
search for nearby coherent sources....
EDIT: Isotropic? No.&lt;/p&gt;
</content><category term="misc"></category><category term="googlepost"></category><category term="astronomy"></category></entry><entry><title>skill set</title><link href="https://keflavich.github.io/blog/skill-set.html" rel="alternate"></link><published>2012-09-20T20:02:00-06:00</published><updated>2012-09-20T20:02:00-06:00</updated><author><name>Adam (keflavich@gmail.com)</name></author><id>tag:keflavich.github.io,2012-09-20:/blog/skill-set.html</id><content type="html">&lt;p&gt;is it a marketable skill that I can bring down almost any computer
system I'm given access too entirely unintentionally?&lt;/p&gt;
</content><category term="misc"></category><category term="googlepost"></category><category term="marketable skills"></category></entry><entry><title>Skim: a PDF reader that allows annotations</title><link href="https://keflavich.github.io/blog/skim-a-pdf-reader-that-allows-annotations.html" rel="alternate"></link><published>2012-09-20T20:02:00-06:00</published><updated>2012-09-20T20:02:00-06:00</updated><author><name>Adam (keflavich@gmail.com)</name></author><id>tag:keflavich.github.io,2012-09-20:/blog/skim-a-pdf-reader-that-allows-annotations.html</id><content type="html">&lt;p&gt;from Sam: &lt;a class="reference external" href="http://skim-app.sourceforge.net/"&gt;http://skim-app.sourceforge.net/&lt;/a&gt;
neat&lt;/p&gt;
</content><category term="misc"></category><category term="googlepost"></category><category term="pdf"></category></entry><entry><title>some comics</title><link href="https://keflavich.github.io/blog/some-comics.html" rel="alternate"></link><published>2012-09-20T20:02:00-06:00</published><updated>2012-09-20T20:02:00-06:00</updated><author><name>Adam (keflavich@gmail.com)</name></author><id>tag:keflavich.github.io,2012-09-20:/blog/some-comics.html</id><summary type="html">&lt;p&gt;&lt;a class="reference external" href="http://ableandbaker.net/index.php?comic=198"&gt;http://ableandbaker.net/index.php?comic=198&lt;/a&gt;
&lt;a class="reference external" href="http://ableandbaker.net/index.php?comic=222"&gt;http://ableandbaker.net/index.php?comic=222&lt;/a&gt;
&lt;a class="reference external" href="http://ableandbaker.net/index.php?comic=357"&gt;http://ableandbaker.net/index.php?comic=357&lt;/a&gt;
&lt;a class="reference external" href="http://ableandbaker.net/index.php?comic=396"&gt;http://ableandbaker.net/index.php?comic=396&lt;/a&gt;
&lt;a class="reference external" href="http://ableandbaker.net/index.php?comic=471"&gt;http://ableandbaker.net/index.php?comic=471&lt;/a&gt;
545 &amp;quot;Put on your snuggle trunks and jump in the cuddle pool.&amp;quot;
&lt;a class="reference external" href="http://ableandbaker.net/index.php?comic=905"&gt;http://ableandbaker.net …&lt;/a&gt;&lt;/p&gt;</summary><content type="html">&lt;p&gt;&lt;a class="reference external" href="http://ableandbaker.net/index.php?comic=198"&gt;http://ableandbaker.net/index.php?comic=198&lt;/a&gt;
&lt;a class="reference external" href="http://ableandbaker.net/index.php?comic=222"&gt;http://ableandbaker.net/index.php?comic=222&lt;/a&gt;
&lt;a class="reference external" href="http://ableandbaker.net/index.php?comic=357"&gt;http://ableandbaker.net/index.php?comic=357&lt;/a&gt;
&lt;a class="reference external" href="http://ableandbaker.net/index.php?comic=396"&gt;http://ableandbaker.net/index.php?comic=396&lt;/a&gt;
&lt;a class="reference external" href="http://ableandbaker.net/index.php?comic=471"&gt;http://ableandbaker.net/index.php?comic=471&lt;/a&gt;
545 &amp;quot;Put on your snuggle trunks and jump in the cuddle pool.&amp;quot;
&lt;a class="reference external" href="http://ableandbaker.net/index.php?comic=905"&gt;http://ableandbaker.net/index.php?comic=905&lt;/a&gt;
&lt;a class="reference external" href="http://ableandbaker.net/index.php?comic=922"&gt;http://ableandbaker.net/index.php?comic=922&lt;/a&gt;&lt;/p&gt;
</content><category term="misc"></category><category term="googlepost"></category><category term="comic"></category></entry><entry><title>specanpy</title><link href="https://keflavich.github.io/blog/specanpy.html" rel="alternate"></link><published>2012-09-20T20:02:00-06:00</published><updated>2012-09-20T20:02:00-06:00</updated><author><name>Adam (keflavich@gmail.com)</name></author><id>tag:keflavich.github.io,2012-09-20:/blog/specanpy.html</id><content type="html">&lt;p&gt;&lt;a class="reference external" href="http://casa.colorado.edu/~ginsbura/index.htm"&gt;AG&lt;/a&gt;
There are now 2 clones of PySpecKit:
&lt;a class="reference external" href="https://bitbucket.org/sPecAnPy/specanpy/"&gt;sPecAnPy&lt;/a&gt;
&lt;a class="reference external" href="https://bitbucket.org/keflavich/spectroscopic-toolkit-astronomy/"&gt;Spectroscopic Toolkit (Astronomy)&lt;/a&gt;&lt;/p&gt;
</content><category term="misc"></category><category term="googlepost"></category><category term="python"></category><category term="code"></category></entry><entry><title>SSH</title><link href="https://keflavich.github.io/blog/ssh.html" rel="alternate"></link><published>2012-09-20T20:02:00-06:00</published><updated>2012-09-20T20:02:00-06:00</updated><author><name>Adam (keflavich@gmail.com)</name></author><id>tag:keflavich.github.io,2012-09-20:/blog/ssh.html</id><content type="html">&lt;p&gt;Learned something knew about ssh... keys are stored in
~/.ssh/known_hosts. If a remote key changes, you may be denied access
if your saved key is wrong.&lt;/p&gt;
</content><category term="misc"></category><category term="googlepost"></category><category term="computer"></category></entry><entry><title>Stone 12th Anniversary Bitter Chocolate Stout</title><link href="https://keflavich.github.io/blog/stone-12th-anniversary-bitter-chocolate-stout.html" rel="alternate"></link><published>2012-09-20T20:02:00-06:00</published><updated>2012-09-20T20:02:00-06:00</updated><author><name>Adam (keflavich@gmail.com)</name></author><id>tag:keflavich.github.io,2012-09-20:/blog/stone-12th-anniversary-bitter-chocolate-stout.html</id><summary type="html">&lt;p&gt;Tried this 9.2% bomber last night, and even drinking it over the course
of an hour and a half I could feel my nose not feeling afterwards.
The pour was probably the most exciting part of this beer. It came out
an extremely dark, rich, thick motor-oil looking thing …&lt;/p&gt;</summary><content type="html">&lt;p&gt;Tried this 9.2% bomber last night, and even drinking it over the course
of an hour and a half I could feel my nose not feeling afterwards.
The pour was probably the most exciting part of this beer. It came out
an extremely dark, rich, thick motor-oil looking thing with nearly no
head. The flavor, though, is of a very bitter and very dry imperial
stout. I didn't get much of the chocolate tone, because I only taste
chocolate when it is sweetened - bakers chocolate doesn't taste like
chocolate to me. I think this beer would have been better if kept a
little bit sweeter, much unlike the other Imperial stouts I've tried
lately.&lt;/p&gt;
</content><category term="misc"></category><category term="googlepost"></category><category term="beer tasting"></category></entry><entry><title>SUCCESS! 64 bit python with 64 bit tcl/tk!!!</title><link href="https://keflavich.github.io/blog/success-64-bit-python-with-64-bit-tcltk.html" rel="alternate"></link><published>2012-09-20T20:02:00-06:00</published><updated>2012-09-20T20:02:00-06:00</updated><author><name>Adam (keflavich@gmail.com)</name></author><id>tag:keflavich.github.io,2012-09-20:/blog/success-64-bit-python-with-64-bit-tcltk.html</id><summary type="html">&lt;p&gt;After a long, tedious process (see previous posts), I got 64 bit python,
64 bit tcl/tk, and 64 bit tkinter all to work! I can now use the TkAgg
backend in matplotlib!
Python 64 bit on Mac OS X: &lt;a class="reference external" href="http://solo.colorado.edu/~skillman/www/Code_Blog/Entries/2009/6/24_64-bit_Python_on_os_x.html"&gt;Sam Skillman's post&lt;/a&gt;
Tcl/Tk 64 bit: &lt;a class="reference external" href="http://www.nabble.com/Error-compiling-tk-8.5.7-on-Mac-OS-X-10.5-td23790967.html"&gt;a post on …&lt;/a&gt;&lt;/p&gt;</summary><content type="html">&lt;p&gt;After a long, tedious process (see previous posts), I got 64 bit python,
64 bit tcl/tk, and 64 bit tkinter all to work! I can now use the TkAgg
backend in matplotlib!
Python 64 bit on Mac OS X: &lt;a class="reference external" href="http://solo.colorado.edu/~skillman/www/Code_Blog/Entries/2009/6/24_64-bit_Python_on_os_x.html"&gt;Sam Skillman's post&lt;/a&gt;
Tcl/Tk 64 bit: &lt;a class="reference external" href="http://www.nabble.com/Error-compiling-tk-8.5.7-on-Mac-OS-X-10.5-td23790967.html"&gt;a post on the tcl/tk forums&lt;/a&gt;
tkinter 64 bit: &lt;a class="reference external" href="http://bugs.python.org/issue4017"&gt;python bug report 4017 (last two posts give the
solution)&lt;/a&gt; and &lt;a class="reference external" href="http://bugs.python.org/issue6441"&gt;my posted solution&lt;/a&gt;&lt;/p&gt;
</content><category term="misc"></category><category term="googlepost"></category><category term="python"></category></entry><entry><title>Sync a fork with the original repository on Git</title><link href="https://keflavich.github.io/blog/sync-a-fork-with-the-original-repository-on-git.html" rel="alternate"></link><published>2012-09-20T20:02:00-06:00</published><updated>2012-09-20T20:02:00-06:00</updated><author><name>Adam (keflavich@gmail.com)</name></author><id>tag:keflavich.github.io,2012-09-20:/blog/sync-a-fork-with-the-original-repository-on-git.html</id><summary type="html">&lt;p&gt;A seemingly simple operation that I just can't seem to get right.
&lt;a class="reference external" href="http://groups.google.com/group/github/browse_thread/thread/6196487279beb2a8/181b7bc4bf7a3e16"&gt;This page&lt;/a&gt; gives me useless information:
&lt;tt class="docutils literal"&gt;$ git checkout &lt;span class="pre"&gt;-b&lt;/span&gt; upstream/master $ git remote add upstream &lt;span class="pre"&gt;git://github.com/upstream_maintainer/master.git&lt;/span&gt; $ git pull upstream remote $ git checkout master $ git merge upstream/master ``
If you do that, it …&lt;/tt&gt;&lt;/p&gt;</summary><content type="html">&lt;p&gt;A seemingly simple operation that I just can't seem to get right.
&lt;a class="reference external" href="http://groups.google.com/group/github/browse_thread/thread/6196487279beb2a8/181b7bc4bf7a3e16"&gt;This page&lt;/a&gt; gives me useless information:
&lt;tt class="docutils literal"&gt;$ git checkout &lt;span class="pre"&gt;-b&lt;/span&gt; upstream/master $ git remote add upstream &lt;span class="pre"&gt;git://github.com/upstream_maintainer/master.git&lt;/span&gt; $ git pull upstream remote $ git checkout master $ git merge upstream/master ``
If you do that, it frankly doesn't work. Why? &amp;quot;upstream/master&amp;quot; etc. all
have special meanings.
Here's the real process &amp;amp; explanation (thanks to Erik Tollerud for some
help):
``git checkout master&amp;nbsp; # (assuming you have a local branch named master - otherwise, pick whatever branch you want synced)git remote add original git&amp;#64;github.com:thing/thing.git # &amp;quot;upstream&amp;quot; = &amp;quot;original&amp;quot; = &amp;quot;remote&amp;quot; - the place you're trying to sync fromgit fetch original # 'original' being the name YOU gave for the &amp;quot;remote/original&amp;quot; repositorygit merge master original/master # now merge the &amp;quot;original/master&amp;quot; branch (they should have&amp;nbsp; a branch named &amp;quot;master&amp;quot; too, otherwise you have to figure out which branch to get) into your mastergit push # push your &lt;span class="pre"&gt;now-merged&lt;/span&gt; stuff back to github# I was instructed to use these commands.&amp;nbsp; They didn't work.# git reset original # the word &amp;quot;original&amp;quot; here matches the word &amp;quot;original&amp;quot; on the previous line# git reset &lt;span class="pre"&gt;--hard&lt;/span&gt; original # this will overwrite local changes&lt;/tt&gt;&lt;/p&gt;
</content><category term="misc"></category><category term="googlepost"></category><category term="git"></category></entry><entry><title>Testing trackbacks?</title><link href="https://keflavich.github.io/blog/testing-trackbacks.html" rel="alternate"></link><published>2012-09-20T20:02:00-06:00</published><updated>2012-09-20T20:02:00-06:00</updated><author><name>Adam (keflavich@gmail.com)</name></author><id>tag:keflavich.github.io,2012-09-20:/blog/testing-trackbacks.html</id><content type="html">&lt;p&gt;I just want to see if &amp;quot;trackbacks&amp;quot; work at all. I recently posted about
&lt;a class="reference external" href="http://buffalothedestroyer.blogspot.com/2010/07/histogram-in-google-spreadsheet.html"&gt;histograms on google spreadsheets&lt;/a&gt;.
While I'm at it, might as well throw up a link to &lt;a class="reference external" href="http://code.google.com/p/agpy/"&gt;my google code
site&lt;/a&gt;.&lt;/p&gt;
</content><category term="misc"></category><category term="googlepost"></category><category term="blog"></category><category term="code"></category></entry><entry><title>usetex failure in latex documents</title><link href="https://keflavich.github.io/blog/usetex-failure-in-latex-documents.html" rel="alternate"></link><published>2012-09-20T20:02:00-06:00</published><updated>2012-09-20T20:02:00-06:00</updated><author><name>Adam (keflavich@gmail.com)</name></author><id>tag:keflavich.github.io,2012-09-20:/blog/usetex-failure-in-latex-documents.html</id><summary type="html">&lt;p&gt;When I use matplotlib's internal tex (rcParams['text.useTex']=False),
the postscript files generated cause errors that look like this when you
try to ps2pdf them:
&lt;tt class="docutils literal"&gt;ps2pdf h2co_pilot.psError: /rangecheck in &lt;span class="pre"&gt;--get--Operand&lt;/span&gt; stack:&amp;nbsp;&amp;nbsp; &lt;span class="pre"&gt;--dict:20/25(ro)(L)--&lt;/span&gt;&amp;nbsp;&amp;nbsp; &lt;span class="pre"&gt;--nostringval--&lt;/span&gt;&amp;nbsp;&amp;nbsp; 71Execution stack:&amp;nbsp;&amp;nbsp; %interp_exit&amp;nbsp;&amp;nbsp; .runexec2&amp;nbsp;&amp;nbsp; &lt;span class="pre"&gt;--nostringval--&lt;/span&gt;&amp;nbsp;&amp;nbsp; &lt;span class="pre"&gt;--nostringval--&lt;/span&gt;&amp;nbsp;&amp;nbsp; &lt;span class="pre"&gt;--nostringval--&lt;/span&gt;&amp;nbsp;&amp;nbsp; 2&amp;nbsp;&amp;nbsp; %stopped …&lt;/tt&gt;&lt;/p&gt;</summary><content type="html">&lt;p&gt;When I use matplotlib's internal tex (rcParams['text.useTex']=False),
the postscript files generated cause errors that look like this when you
try to ps2pdf them:
&lt;tt class="docutils literal"&gt;ps2pdf h2co_pilot.psError: /rangecheck in &lt;span class="pre"&gt;--get--Operand&lt;/span&gt; stack:&amp;nbsp;&amp;nbsp; &lt;span class="pre"&gt;--dict:20/25(ro)(L)--&lt;/span&gt;&amp;nbsp;&amp;nbsp; &lt;span class="pre"&gt;--nostringval--&lt;/span&gt;&amp;nbsp;&amp;nbsp; 71Execution stack:&amp;nbsp;&amp;nbsp; %interp_exit&amp;nbsp;&amp;nbsp; .runexec2&amp;nbsp;&amp;nbsp; &lt;span class="pre"&gt;--nostringval--&lt;/span&gt;&amp;nbsp;&amp;nbsp; &lt;span class="pre"&gt;--nostringval--&lt;/span&gt;&amp;nbsp;&amp;nbsp; &lt;span class="pre"&gt;--nostringval--&lt;/span&gt;&amp;nbsp;&amp;nbsp; 2&amp;nbsp;&amp;nbsp; %stopped_push&amp;nbsp;&amp;nbsp; &lt;span class="pre"&gt;--nostringval--&lt;/span&gt;&amp;nbsp;&amp;nbsp; &lt;span class="pre"&gt;--nostringval--&lt;/span&gt;&amp;nbsp;&amp;nbsp; &lt;span class="pre"&gt;--nostringval--&lt;/span&gt;&amp;nbsp;&amp;nbsp; false&amp;nbsp;&amp;nbsp; 1&amp;nbsp;&amp;nbsp; %stopped_push&amp;nbsp;&amp;nbsp; 1862&amp;nbsp;&amp;nbsp; 1&amp;nbsp;&amp;nbsp; 3&amp;nbsp;&amp;nbsp; %oparray_pop&amp;nbsp;&amp;nbsp; 1861&amp;nbsp;&amp;nbsp; 1&amp;nbsp;&amp;nbsp; 3&amp;nbsp;&amp;nbsp; %oparray_pop&amp;nbsp;&amp;nbsp; 1845&amp;nbsp;&amp;nbsp; 1&amp;nbsp;&amp;nbsp; 3&amp;nbsp;&amp;nbsp; %oparray_pop&amp;nbsp;&amp;nbsp; 1739&amp;nbsp;&amp;nbsp; 1&amp;nbsp;&amp;nbsp; 3&amp;nbsp;&amp;nbsp; %oparray_pop&amp;nbsp;&amp;nbsp; &lt;span class="pre"&gt;--nostringval--&lt;/span&gt;&amp;nbsp;&amp;nbsp; %errorexec_pop&amp;nbsp;&amp;nbsp; .runexec2&amp;nbsp;&amp;nbsp; &lt;span class="pre"&gt;--nostringval--&lt;/span&gt;&amp;nbsp;&amp;nbsp; &lt;span class="pre"&gt;--nostringval--&lt;/span&gt;&amp;nbsp;&amp;nbsp; &lt;span class="pre"&gt;--nostringval--&lt;/span&gt;&amp;nbsp;&amp;nbsp; 2&amp;nbsp;&amp;nbsp; %stopped_push&amp;nbsp;&amp;nbsp; &lt;span class="pre"&gt;--nostringval--&lt;/span&gt;&amp;nbsp;&amp;nbsp; %finish_show&amp;nbsp;&amp;nbsp; &lt;span class="pre"&gt;--nostringval--&lt;/span&gt;&amp;nbsp;&amp;nbsp; &lt;span class="pre"&gt;--nostringval--&lt;/span&gt;&amp;nbsp;&amp;nbsp; 9&amp;nbsp;&amp;nbsp; 6&amp;nbsp;&amp;nbsp; 0&amp;nbsp;&amp;nbsp; &lt;span class="pre"&gt;--nostringval--&lt;/span&gt;&amp;nbsp;&amp;nbsp; (pdf_text_enum_t)&amp;nbsp;&amp;nbsp; %op_show_continue&amp;nbsp;&amp;nbsp; &lt;span class="pre"&gt;--nostringval--Dictionary&lt;/span&gt; stack:&amp;nbsp;&amp;nbsp; &lt;span class="pre"&gt;--dict:1147/1684(ro)(G)--&lt;/span&gt;&amp;nbsp;&amp;nbsp; &lt;span class="pre"&gt;--dict:0/20(G)--&lt;/span&gt;&amp;nbsp;&amp;nbsp; &lt;span class="pre"&gt;--dict:70/200(L)--&lt;/span&gt;&amp;nbsp;&amp;nbsp; &lt;span class="pre"&gt;--dict:116/300(L)--&lt;/span&gt;&amp;nbsp;&amp;nbsp; &lt;span class="pre"&gt;--dict:44/200(L)--&lt;/span&gt;&amp;nbsp;&amp;nbsp; &lt;span class="pre"&gt;--dict:25/42(L)--Current&lt;/span&gt; allocation mode is localLast OS error: 2Current file position is 791626GPL Ghostscript 8.64: Unrecoverable error, exit code 1make: *** [h2co_pilot.pdf] Error 1&lt;/tt&gt;
They will not open in MacOS's Preview.app either.
Solution: Make figures with rcParams['text.useTex'] = True&lt;/p&gt;
</content><category term="misc"></category><category term="googlepost"></category><category term="latex"></category><category term="matplotlib"></category></entry><entry><title>Using AWK to fixed-format print in VIM</title><link href="https://keflavich.github.io/blog/using-awk-to-fixed-format-print-in-vim.html" rel="alternate"></link><published>2012-09-20T20:02:00-06:00</published><updated>2012-09-20T20:02:00-06:00</updated><author><name>Adam (keflavich@gmail.com)</name></author><id>tag:keflavich.github.io,2012-09-20:/blog/using-awk-to-fixed-format-print-in-vim.html</id><content type="html">&lt;p&gt;&lt;pre class="literal-block"&gt;
24,42!awk '{printf(&amp;quot;\%30s\%20f\%15g\%15g\%15g\%15g\%15g\%15g\%15g\%5i\n&amp;quot; , $1,$2,$3,$4,$5,$6,$7,$8,$9,$10)}'
&lt;/pre&gt;
&lt;p&gt;It's important that the %'s must be escaped, otherwise they print the
current filename.&lt;/p&gt;
&lt;/p&gt;</content><category term="misc"></category><category term="googlepost"></category><category term="computer"></category></entry><entry><title>wget</title><link href="https://keflavich.github.io/blog/wget.html" rel="alternate"></link><published>2012-09-20T20:02:00-06:00</published><updated>2012-09-20T20:02:00-06:00</updated><author><name>Adam (keflavich@gmail.com)</name></author><id>tag:keflavich.github.io,2012-09-20:/blog/wget.html</id><summary type="html">&lt;p&gt;wget is very useful for acquiring data from, e.g., IRSA, the NASA
Infrared Science Archive.
&lt;tt class="docutils literal"&gt;wget &lt;span class="pre"&gt;-nd&lt;/span&gt; &lt;span class="pre"&gt;-r&lt;/span&gt; &lt;span class="pre"&gt;-l1&lt;/span&gt; &lt;span class="pre"&gt;-A*g09*_b4_20.fits&lt;/span&gt; &lt;span class="pre"&gt;http://irsa.ipac.caltech.edu/data/IGA/images/&lt;/span&gt;&lt;/tt&gt;
The important elements:
-nd: don't reproduce the host directory structure
-r: recursive. Grab the files referred to …&lt;/p&gt;</summary><content type="html">&lt;p&gt;wget is very useful for acquiring data from, e.g., IRSA, the NASA
Infrared Science Archive.
&lt;tt class="docutils literal"&gt;wget &lt;span class="pre"&gt;-nd&lt;/span&gt; &lt;span class="pre"&gt;-r&lt;/span&gt; &lt;span class="pre"&gt;-l1&lt;/span&gt; &lt;span class="pre"&gt;-A*g09*_b4_20.fits&lt;/span&gt; &lt;span class="pre"&gt;http://irsa.ipac.caltech.edu/data/IGA/images/&lt;/span&gt;&lt;/tt&gt;
The important elements:
-nd: don't reproduce the host directory structure
-r: recursive. Grab the files referred to by the page, not just the page
itself
-l#: number of recursion levels
-A: &amp;quot;accept&amp;quot; wildcard&lt;/p&gt;
</content><category term="misc"></category><category term="googlepost"></category><category term="computer"></category></entry><entry><title>Why astronomy is important</title><link href="https://keflavich.github.io/blog/why-astronomy-is-important.html" rel="alternate"></link><published>2012-09-20T20:02:00-06:00</published><updated>2012-09-20T20:02:00-06:00</updated><author><name>Adam (keflavich@gmail.com)</name></author><id>tag:keflavich.github.io,2012-09-20:/blog/why-astronomy-is-important.html</id><summary type="html">&lt;p&gt;Preface: This is not a good argument for why astronomy is important now.
But it may be in the future.
Earth is a limited habitat. Bacteria in a petri dish show the same
growth curve as humanity: exponential growth. An exponential curve grows
very quickly, but we are in a …&lt;/p&gt;</summary><content type="html">&lt;p&gt;Preface: This is not a good argument for why astronomy is important now.
But it may be in the future.
Earth is a limited habitat. Bacteria in a petri dish show the same
growth curve as humanity: exponential growth. An exponential curve grows
very quickly, but we are in a finite (non-growing) environment.
If humanity is to continue its growth, we must find new worlds to
inhabit. There is always a moral question of whether we should continue
our growth and attempt to conquer significant portions of the galaxy,
but we probably won't (and maybe shouldn't) start examining the morality
of our survival until it's ensured.
Consider what happens if humanity stops growing. Our current economic
system is completely dependent on continued growth. The financial
markets can't survive unless more wealth is constantly being generated.
Interesting calculation to try: Divide the total solar energy input to
Earth by the average energy consumed per person, or the minimum energy
(theoretically) per person. It's probably not as large as you think when
you take into account efficiency factors.&lt;/p&gt;
</content><category term="misc"></category><category term="googlepost"></category></entry><entry><title>Why can't numpy do duplicate index assignment</title><link href="https://keflavich.github.io/blog/why-cant-numpy-do-duplicate-index-assignment.html" rel="alternate"></link><published>2012-09-20T20:02:00-06:00</published><updated>2012-09-20T20:02:00-06:00</updated><author><name>Adam (keflavich@gmail.com)</name></author><id>tag:keflavich.github.io,2012-09-20:/blog/why-cant-numpy-do-duplicate-index-assignment.html</id><summary type="html">&lt;p&gt;&lt;a class="reference external" href="http://casa.colorado.edu/~ginsbura/index.htm"&gt;AG&lt;/a&gt;
I want to do drizzling with numpy. It should be trivial, but it's
impossible (without a for loop, afaik) instead.
&lt;tt class="docutils literal"&gt;In [2]: a = &lt;span class="pre"&gt;array([1,1,2,2])In&lt;/span&gt; [3]: b = arange(5)In [4]: b[a] += 1In [5]: bOut[5]: &lt;span class="pre"&gt;array([0,&lt;/span&gt; 2, 3, 3, &lt;span class="pre"&gt;4])In&lt;/span&gt; [6 …&lt;/tt&gt;&lt;/p&gt;</summary><content type="html">&lt;p&gt;&lt;a class="reference external" href="http://casa.colorado.edu/~ginsbura/index.htm"&gt;AG&lt;/a&gt;
I want to do drizzling with numpy. It should be trivial, but it's
impossible (without a for loop, afaik) instead.
&lt;tt class="docutils literal"&gt;In [2]: a = &lt;span class="pre"&gt;array([1,1,2,2])In&lt;/span&gt; [3]: b = arange(5)In [4]: b[a] += 1In [5]: bOut[5]: &lt;span class="pre"&gt;array([0,&lt;/span&gt; 2, 3, 3, &lt;span class="pre"&gt;4])In&lt;/span&gt; [6]: # but b should really be:In [7]: b[a] += 1In [8]: bOut[8]: &lt;span class="pre"&gt;array([0,&lt;/span&gt; 3, 4, 3, 4])&lt;/tt&gt;&lt;/p&gt;
</content><category term="misc"></category><category term="googlepost"></category><category term="numpy"></category></entry><entry><title>Why do astronomers have such a strong presence on the web?</title><link href="https://keflavich.github.io/blog/why-do-astronomers-have-such-a-strong-presence-on-the-web.html" rel="alternate"></link><published>2012-09-20T20:02:00-06:00</published><updated>2012-09-20T20:02:00-06:00</updated><author><name>Adam (keflavich@gmail.com)</name></author><id>tag:keflavich.github.io,2012-09-20:/blog/why-do-astronomers-have-such-a-strong-presence-on-the-web.html</id><summary type="html">&lt;p&gt;I'm not making this a complete post, just a few examples of blogs and
websites I'm aware of. But we do have a strong presence on the web -
astronomers have an unusually high google ranking etc. Is it just
because 'we' were here first ('we' excludes me, I'm just jumping …&lt;/p&gt;</summary><content type="html">&lt;p&gt;I'm not making this a complete post, just a few examples of blogs and
websites I'm aware of. But we do have a strong presence on the web -
astronomers have an unusually high google ranking etc. Is it just
because 'we' were here first ('we' excludes me, I'm just jumping on the
bandwagon and getting a free ride)?
Examples:
&lt;a class="reference external" href="http://www.starstryder.com/"&gt;Pamela Gay&lt;/a&gt;
&lt;a class="reference external" href="http://dustchick.blogspot.com/"&gt;Dr Lisa&lt;/a&gt;
Science writers who write on astronomy:
&lt;a class="reference external" href="http://blogs.discovery.com/space_disco/"&gt;Dave Mosher&lt;/a&gt;&lt;/p&gt;
</content><category term="misc"></category><category term="googlepost"></category><category term="astronomers"></category></entry><entry><title>wrapping text around a figure in latex</title><link href="https://keflavich.github.io/blog/wrapping-text-around-a-figure-in-latex.html" rel="alternate"></link><published>2012-09-20T20:02:00-06:00</published><updated>2012-09-20T20:02:00-06:00</updated><author><name>Adam (keflavich@gmail.com)</name></author><id>tag:keflavich.github.io,2012-09-20:/blog/wrapping-text-around-a-figure-in-latex.html</id><content type="html">&lt;p&gt;An example from Devin:
%\begin{wrapfigure}{l}{0.5\textwidth}
% \vspace{-27pt}
% \begin{center}
% \includegraphics[width=0.48\textwidth]{nsf_fig3.ps}
% \end{center}
% \vspace{-27pt}
% \caption{\it{}}
% \vspace{-12pt}
%\end{wrapfigure}
1:16
\usepackage{wrapfig}&lt;/p&gt;
</content><category term="misc"></category><category term="googlepost"></category><category term="latex"></category></entry><entry><title>Characterizing Precursors to Stellar Clusters with Herschel</title><link href="https://keflavich.github.io/blog/characterizing-precursors-to-stellar-clusters-with-herschel.html" rel="alternate"></link><published>2012-09-20T18:43:00-06:00</published><updated>2012-09-20T18:43:00-06:00</updated><author><name>Adam (keflavich@gmail.com)</name></author><id>tag:keflavich.github.io,2012-09-20:/blog/characterizing-precursors-to-stellar-clusters-with-herschel.html</id><summary type="html">&lt;p&gt;[ &lt;a class="reference external" href="http://adsabs.harvard.edu/abs/2011A%26A...535A.128B"&gt;ADS&lt;/a&gt; ] [ &lt;a class="reference external" href="http://adsabs.harvard.edu/abs/2011A%26A...535A.128B"&gt;arXiv&lt;/a&gt; ]&lt;/p&gt;
&lt;p&gt;C. Battersby, J. Bally, A. Ginsburg, J.-P. Bernard, C. Brunt, G.A.  Fuller, P.
Martin, S. Molinari, J. Mottram, N. Peretto, L. Testi, M.A.  Thompson 2011&lt;/p&gt;
&lt;hr class="docutils" /&gt;
&lt;p&gt;The paper includes a careful characterization of the properties of both
dense and diffuse regions within the two Hi-Gal Science …&lt;/p&gt;</summary><content type="html">&lt;p&gt;[ &lt;a class="reference external" href="http://adsabs.harvard.edu/abs/2011A%26A...535A.128B"&gt;ADS&lt;/a&gt; ] [ &lt;a class="reference external" href="http://adsabs.harvard.edu/abs/2011A%26A...535A.128B"&gt;arXiv&lt;/a&gt; ]&lt;/p&gt;
&lt;p&gt;C. Battersby, J. Bally, A. Ginsburg, J.-P. Bernard, C. Brunt, G.A.  Fuller, P.
Martin, S. Molinari, J. Mottram, N. Peretto, L. Testi, M.A.  Thompson 2011&lt;/p&gt;
&lt;hr class="docutils" /&gt;
&lt;p&gt;The paper includes a careful characterization of the properties of both
dense and diffuse regions within the two Hi-Gal Science Demonstration
Phase fields (l=30 and l=59). It demonstrated that star formation
tracers are more common at higher temperatures, and that IRDCs exist on
both the near and far side of the galaxy, where the difference between
near and far is around 5-7 kpc.&lt;/p&gt;
&lt;p&gt;I helped develop the iterative background subtraction method and
contributed to the discussion and conclusions; most of the work was
Cara's but my experience with iterative flux estimation from the &lt;a class="reference external" href="code.google.com/p/bgpspipeline/"&gt;BGPS
pipeline&lt;/a&gt; proved useful.&lt;/p&gt;
</content><category term="publications"></category><category term="googlepost"></category><category term="star formation"></category><category term="Herschel"></category><category term="publication"></category></entry><entry><title>The optically bright post-AGB population of the LMC</title><link href="https://keflavich.github.io/blog/the-optically-bright-post-agb-population-of-the-lmc.html" rel="alternate"></link><published>2012-09-20T18:43:00-06:00</published><updated>2012-09-20T18:43:00-06:00</updated><author><name>Adam (keflavich@gmail.com)</name></author><id>tag:keflavich.github.io,2012-09-20:/blog/the-optically-bright-post-agb-population-of-the-lmc.html</id><summary type="html">&lt;p&gt;[&lt;a class="reference external" href="http://adsabs.harvard.edu/abs/2011A%26A...530A..90V"&gt;ADS&lt;/a&gt; ] [&lt;a class="reference external" href="http://arxiv.org/abs/1104.2254"&gt;arXiv&lt;/a&gt; ]&lt;/p&gt;
&lt;p&gt;E. van Aarle, H. Van Winckel, T. Lloyd Evans, T. Ueta, P. R. Wood, and
A. G. Ginsburg&lt;/p&gt;
&lt;hr class="docutils" /&gt;
&lt;p&gt;A catalog of post-AGB stars in the LMC, useful in particular because
they are at a common distance. Post-AGB stars are quite luminous (&amp;gt; 1000
L&lt;sub&gt;O&lt;/sub&gt; usually), so easily detected …&lt;/p&gt;</summary><content type="html">&lt;p&gt;[&lt;a class="reference external" href="http://adsabs.harvard.edu/abs/2011A%26A...530A..90V"&gt;ADS&lt;/a&gt; ] [&lt;a class="reference external" href="http://arxiv.org/abs/1104.2254"&gt;arXiv&lt;/a&gt; ]&lt;/p&gt;
&lt;p&gt;E. van Aarle, H. Van Winckel, T. Lloyd Evans, T. Ueta, P. R. Wood, and
A. G. Ginsburg&lt;/p&gt;
&lt;hr class="docutils" /&gt;
&lt;p&gt;A catalog of post-AGB stars in the LMC, useful in particular because
they are at a common distance. Post-AGB stars are quite luminous (&amp;gt; 1000
L&lt;sub&gt;O&lt;/sub&gt; usually), so easily detected in the LMC.&lt;/p&gt;
&lt;p&gt;My contribution to this work was years ago; I worked on the &lt;a class="reference external" href="http://sage.stsci.edu/"&gt;SAGE&lt;/a&gt;
project for a few months at the University of Denver with &lt;a class="reference external" href="http://mysite.du.edu/~tueta/Welcome.html"&gt;Toshiya
Ueta&lt;/a&gt;. I generated a catalog of post-AGB objects and an online catalog
with automatic SED plotter. It was a pretty neat project, but I left
before I was able to convince others that my catalog was definitive;
nonetheless it was eventually used in this publication. As an aside,
that was my first foray into data languages, and I ended up using the
&lt;a class="reference external" href="http://pdl.perl.org/"&gt;Perl Data Language&lt;/a&gt; long before I learned of python and before I got a
free IDL license.&lt;/p&gt;
</content><category term="publications"></category><category term="googlepost"></category><category term="SAGE"></category><category term="post-agb"></category><category term="publication"></category></entry><entry><title>Cross-Correlation Offsets Revisited</title><link href="https://keflavich.github.io/blog/cross-correlation-offsets-revisited.html" rel="alternate"></link><published>2012-09-08T08:06:00-06:00</published><updated>2012-09-08T08:06:00-06:00</updated><author><name>Adam (adam.g.ginsburg@gmail.com)</name></author><id>tag:keflavich.github.io,2012-09-08:/blog/cross-correlation-offsets-revisited.html</id><summary type="html">&lt;p&gt;Since last time (&lt;a class="reference external" href="http://bolocam.blogspot.com/2009/03/43-relative-alignment-and-mosaicing.html"&gt;Taylor Expansion &amp;amp; Cross
Correlation&lt;/a&gt;&lt;a class="reference external" href="http://bolocam.blogspot.com/2012/03/new-coalignment-code.html"&gt;,&lt;/a&gt;&lt;a class="reference external" href="http://bolocam.blogspot.com/2012/03/new-coalignment-code.html"&gt;Coalignment Code&lt;/a&gt;), I have attempted to re-do the
cross-correlation with an added component: error estimates.
It turns out, there is a better method than the Taylor-expansion around
the cross-correlation peak. &amp;nbsp;Fourier upsampling can be used to
efficiently determine precise sub-pixel offsets (&lt;a class="reference external" href="http://www.mathworks.com/matlabcentral/fileexchange/18401-efficient-subpixel-image-registration-by-cross-correlation/content/html/efficient_subpixel_registration.html"&gt;matlab version …&lt;/a&gt;&lt;/p&gt;</summary><content type="html">&lt;p&gt;Since last time (&lt;a class="reference external" href="http://bolocam.blogspot.com/2009/03/43-relative-alignment-and-mosaicing.html"&gt;Taylor Expansion &amp;amp; Cross
Correlation&lt;/a&gt;&lt;a class="reference external" href="http://bolocam.blogspot.com/2012/03/new-coalignment-code.html"&gt;,&lt;/a&gt;&lt;a class="reference external" href="http://bolocam.blogspot.com/2012/03/new-coalignment-code.html"&gt;Coalignment Code&lt;/a&gt;), I have attempted to re-do the
cross-correlation with an added component: error estimates.
It turns out, there is a better method than the Taylor-expansion around
the cross-correlation peak. &amp;nbsp;Fourier upsampling can be used to
efficiently determine precise sub-pixel offsets (&lt;a class="reference external" href="http://www.mathworks.com/matlabcentral/fileexchange/18401-efficient-subpixel-image-registration-by-cross-correlation/content/html/efficient_subpixel_registration.html"&gt;matlab version&lt;/a&gt;,
&lt;a class="reference external" href="http://people.web.psi.ch/guizar_m/main/"&gt;Manuel Guizar, author&lt;/a&gt;, &lt;a class="reference external" href="http://www.opticsinfobase.org/view_article.cfm?gotourl=http%3A%2F%2Fwww%2Eopticsinfobase%2Eorg%2FDirectPDFAccess%2F6C566DF3-B5C5-B342-97F01180999C7632_148843%2Fol-33-2-156%2Epdf%3Fda%3D1%26id%3D148843%26seq%3D0%26mobile%3Dno&amp;amp;org=University%20of%20Colorado%20at%20Boulder%20Library"&gt;refereed article&lt;/a&gt;).
However, in the published methods just cited, there is no way to
determine the error - those algorithms are designed to measure offsets
between identical images corrupted by noise but still strongly dominated
by signal.
We're more interested in the case where individual pixels may well be
noise-dominated, but the overall signal in the map is still large.
So, I've developed a python translation of the above codes and then
some.
&lt;a class="reference external" href="https://github.com/keflavich/image_registration"&gt;Image Registration on github&lt;/a&gt;
The docstrings are pretty solid, but there is no overall documentation.
However, there's a pretty good demo of the simulation AND fitting code
here:
&lt;a class="reference external" href="https://github.com/keflavich/image_registration/blob/master/doc/CrossCorrelationSimulation.pdf?raw=true"&gt;Tests and Examples&lt;/a&gt;
The results for the Bolocam data are here (only applied to v2-Herschel
offsets):&lt;/p&gt;
&lt;img alt="" src="http://2.bp.blogspot.com/-PMJx-wX23w8/UErt7G3PqfI/AAAAAAAAHOQ/-5xD6ReBRGs/s320/Offsets_XYplot.png" /&gt;
</content><category term="bgps"></category><category term="googlepost"></category><category term="alignment"></category><category term="pointing"></category></entry><entry><title>How does Bolocam data improve greybody fits?</title><link href="https://keflavich.github.io/blog/how-does-bolocam-data-improve-greybody-fits.html" rel="alternate"></link><published>2012-06-23T09:11:00-06:00</published><updated>2012-06-23T09:11:00-06:00</updated><author><name>Adam (adam.g.ginsburg@gmail.com)</name></author><id>tag:keflavich.github.io,2012-06-23:/blog/how-does-bolocam-data-improve-greybody-fits.html</id><content type="html">&lt;img alt="" src="http://3.bp.blogspot.com/-c_JUkbALzlE/T-WIDgFQgpI/AAAAAAAAHM0/wQIBvsgQtQU/s320/longwav500_sn10_Herschelsn50_bb_test.png" /&gt;
&lt;img alt="" src="http://1.bp.blogspot.com/-CZHBZFtEpC8/T-WIExxu5uI/AAAAAAAAHM8/wxR_0xFujm8/s320/longwav500_sn20_Herschelsn50_bb_test.png" /&gt;
&lt;img alt="" src="http://3.bp.blogspot.com/-58ayoSrqcjU/T-WIF4NEwHI/AAAAAAAAHNA/ivNPdPGm5iY/s320/longwav500_sn5_Herschelsn50_bb_test.png" /&gt;
&lt;p&gt;Long wavelength data can be very useful for constraining the value of
beta in a greybody fit.&lt;/p&gt;
</content><category term="bgps"></category><category term="googlepost"></category></entry><entry><title>Bolocat V1 vs V2</title><link href="https://keflavich.github.io/blog/bolocat-v1-vs-v2.html" rel="alternate"></link><published>2012-05-24T17:59:00-06:00</published><updated>2012-05-24T17:59:00-06:00</updated><author><name>Adam (adam.g.ginsburg@gmail.com)</name></author><id>tag:keflavich.github.io,2012-05-24:/blog/bolocat-v1-vs-v2.html</id><summary type="html">&lt;p&gt;I've done some very extensive comparison of v1 and v2. The plots below
are included in the current BGPS draft, but I'll go into more excessive
detail here. ALL plots below show Version 1 fluxes versus Version 2
fluxes using Bolocat V1 apertures. This means there are only two
possible …&lt;/p&gt;</summary><content type="html">&lt;p&gt;I've done some very extensive comparison of v1 and v2. The plots below
are included in the current BGPS draft, but I'll go into more excessive
detail here. ALL plots below show Version 1 fluxes versus Version 2
fluxes using Bolocat V1 apertures. This means there are only two
possible effects in play:&lt;/p&gt;
&lt;ol class="arabic simple"&gt;
&lt;li&gt;Different fluxes in the v1 and v2 maps&lt;/li&gt;
&lt;li&gt;Pointing (spatial) offsets between the v1 and v2 maps
[see&amp;nbsp;&lt;a class="reference external" href="http://bolocam.blogspot.com/2012/05/bgps-v2-pointing.html"&gt;http://bolocam.blogspot.com/2012/05/bgps-v2-pointing.html&lt;/a&gt;]&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;Therefore, the plots below are just different ways of visualizing the
same information. This holds true despite the fact that different
&amp;quot;correction factors&amp;quot; appear in different plots.&lt;/p&gt;
&lt;img alt="" src="http://3.bp.blogspot.com/-gGL8rEcNr20/T75tzRC4dJI/AAAAAAAAHHM/A8KeWkBtfmc/s320/total_ratiohistograms.png" /&gt;
&lt;p&gt;Ratios of v2 fluxes to v1 fluxes in the listed apertures. The curves
represent best-fit gaussian distributions to the data after excluding
outliers using a &lt;a class="reference external" href="http://scikit-learn.org/dev/modules/generated/sklearn.covariance.MinCovDet.html"&gt;minimum covariance determinant&lt;/a&gt; method&lt;/p&gt;
&lt;p&gt;v1 vs v2 with a background subtracted around the source equal to the source
area (this was not reported in Bolocat v1, but is a tool Erik implemented so I
used it)&lt;/p&gt;
&lt;p&gt;v1 vs v2 in 40&amp;quot; apertures, as stated. &amp;nbsp;There are y=x and y=1.5x lines plotted:
these are NOT fits to the data! &amp;nbsp;The green line is a Total Least Squares linear
fit to the data weighted by the measured errors.&lt;/p&gt;
&lt;p&gt;Source Mask &amp;quot;aperture&amp;quot;:&lt;/p&gt;
&lt;img alt="" src="http://1.bp.blogspot.com/-YS2Jtvz4Yy0/T75pixKkYsI/AAAAAAAAHFs/iEJHrsKsBk0/s320/total_v1v2_sourcemask_bg_fit_compare.png" /&gt;
&lt;img alt="" src="http://1.bp.blogspot.com/-g-ZbEUUWEpY/T75pjj26FeI/AAAAAAAAHGE/rtdSRgoMQpo/s320/total_v1v2_sourcemask_fit_compare.png" /&gt;
&lt;p&gt;Same as above, but the best fit slope is steeper. The best explanation
for the steeper slope (i.e., v2 &amp;gt; 1.5(v1)) is that more extended flux is
recovered in v2 around bright sources, therefore in the larger source
masks, there is greater flux than would be recovered if a simple 1.5x
corrective factor was applied.
80&amp;quot; apertures&lt;/p&gt;
&lt;img alt="" src="http://2.bp.blogspot.com/-WKtlvnFbUF4/T75piyh8tVI/AAAAAAAAHF4/FROq508X6pU/s320/total_v1v2_80arcsec_fit_compare.png" /&gt;
&lt;img alt="" src="http://1.bp.blogspot.com/-EHGNHIarslc/T75yqG_AmFI/AAAAAAAAHJg/ToAicG9ynmk/s320/total_v1v2_80_nobgarcsec_fit_compare.png" /&gt;
&lt;p&gt;Same for 120&amp;quot; apertures:&lt;/p&gt;
&lt;img alt="" src="http://1.bp.blogspot.com/-ymBFW1Y5OhY/T75piwFYrJI/AAAAAAAAHFw/07ujRFCd_Ts/s320/total_v1v2_120arcsec_fit_compare.png" /&gt;
&lt;img alt="" src="http://3.bp.blogspot.com/-PMkvtoJKNVs/T75yqPe16PI/AAAAAAAAHJk/QF041ok8yQ0/s320/total_v1v2_120_nobgarcsec_fit_compare.png" /&gt;
&lt;p&gt;For all 3 of the 40, 80 and 120&amp;quot; apertures both, the 1.5x correction
factor is nearly perfect (agrees to &amp;lt;5%). &amp;nbsp;The background subtraction
seems to have different effects depending on aperture size. &amp;nbsp;I welcome
Erik to comment on this, but I do not think it is particularly
important.
The figures below require some explanation. &amp;nbsp;NONE of the circular
apertures use background subtraction in this comparison (i.e., compare
to the RIGHT column above).
These figures are histograms of the flux ratio within a given aperture
as a function of flux in the v1 aperture. &amp;nbsp;From bottom to top, the flux
in the v1 aperture goes from 0.1 to 10 Jy. &amp;nbsp;The X-axis shows the ratio
of the v2 flux to the v1 flux. &amp;nbsp;The black dots with error bars represent
the best-fit gaussian distribution to each flux bin. &amp;nbsp;The colorbar shows
the log of the number of sources; the most in any bin is about
10&lt;sup&gt;2.5&lt;/sup&gt; ~ 300.
In short, there is some sign that the ratio of v2/v1 flux varies with v1
flux. &amp;nbsp;This effect could be seen in the figures above since a linear fit
is imperfect. &amp;nbsp;The effect is not very strong. &amp;nbsp;Again, I believe the
explanation here is the changed spatial transfer function in v2.&lt;/p&gt;
&lt;img alt="" src="http://3.bp.blogspot.com/-bfrjMd2veR0/T75pzxm5_xI/AAAAAAAAHGs/SQ1LDR8_EoM/s320/ratio_twodhist_40.png" /&gt;
&lt;img alt="" src="http://4.bp.blogspot.com/-unXyfhsIL1g/T75pkN6kWkI/AAAAAAAAHGQ/axiiWsEMO0M/s320/ratio_twodhist_80.png" /&gt;
&lt;img alt="" src="http://2.bp.blogspot.com/-kJEMLqkaQak/T75pkNu78XI/AAAAAAAAHGM/Dh2T4m0cD-8/s320/ratio_twodhist_120.png" /&gt;
&lt;img alt="" src="http://4.bp.blogspot.com/-ExDpIxfHO74/T75pkjjeKAI/AAAAAAAAHGk/pU3mE5uzcgM/s320/ratio_twodhist_sourcemask_nobg.png" /&gt;
&lt;img alt="" src="http://3.bp.blogspot.com/-Pru74WRl-Hg/T75pkOL1YWI/AAAAAAAAHGU/qtrMl-w59SA/s320/ratio_twodhist_sourcemask.png" /&gt;
</content><category term="bgps"></category><category term="googlepost"></category></entry><entry><title>BGPS V2 pointing</title><link href="https://keflavich.github.io/blog/bgps-v2-pointing.html" rel="alternate"></link><published>2012-05-23T23:59:00-06:00</published><updated>2012-05-23T23:59:00-06:00</updated><author><name>Adam (adam.g.ginsburg@gmail.com)</name></author><id>tag:keflavich.github.io,2012-05-23:/blog/bgps-v2-pointing.html</id><summary type="html">&lt;p&gt;BGPS V2.0 pointing offsets relative to V1 and Herschel:&lt;/p&gt;
&lt;img alt="" src="http://4.bp.blogspot.com/-41YC6GZJR-0/T715bELMplI/AAAAAAAAHE0/Fzk41wW8ysM/s320/Offsets_CDF.png" /&gt;
&lt;p&gt;Cumulative Distribution Function of the total offsets.&lt;/p&gt;
&lt;img alt="" src="http://2.bp.blogspot.com/-9zPWRdGI0jY/T715bmcgVnI/AAAAAAAAHFA/K0XKvlJdO_8/s320/Offsets_Histogram.png" /&gt;
&lt;p&gt;Histograms of the total offsets.&lt;/p&gt;
&lt;img alt="" src="http://2.bp.blogspot.com/-3hkzLY1D4KY/T715b0VfMxI/AAAAAAAAHFM/DDBXKCGu8ng/s320/Offsets_XYplot.png" /&gt;
&lt;p&gt;X-offsets vs Y-offsets (X and Y are GLON and GLAT). The ellipses are
centered at the mean of the X/Y offsets and have major and minor axes …&lt;/p&gt;</summary><content type="html">&lt;p&gt;BGPS V2.0 pointing offsets relative to V1 and Herschel:&lt;/p&gt;
&lt;img alt="" src="http://4.bp.blogspot.com/-41YC6GZJR-0/T715bELMplI/AAAAAAAAHE0/Fzk41wW8ysM/s320/Offsets_CDF.png" /&gt;
&lt;p&gt;Cumulative Distribution Function of the total offsets.&lt;/p&gt;
&lt;img alt="" src="http://2.bp.blogspot.com/-9zPWRdGI0jY/T715bmcgVnI/AAAAAAAAHFA/K0XKvlJdO_8/s320/Offsets_Histogram.png" /&gt;
&lt;p&gt;Histograms of the total offsets.&lt;/p&gt;
&lt;img alt="" src="http://2.bp.blogspot.com/-3hkzLY1D4KY/T715b0VfMxI/AAAAAAAAHFM/DDBXKCGu8ng/s320/Offsets_XYplot.png" /&gt;
&lt;p&gt;X-offsets vs Y-offsets (X and Y are GLON and GLAT). The ellipses are
centered at the mean of the X/Y offsets and have major and minor axes
corresponding to the standard deviations.&lt;/p&gt;
</content><category term="bgps"></category><category term="googlepost"></category><category term="v2.0"></category><category term="pointing"></category><category term="version comparison"></category></entry><entry><title>Getting rid of haloes</title><link href="https://keflavich.github.io/blog/getting-rid-of-haloes.html" rel="alternate"></link><published>2012-03-31T00:28:00-06:00</published><updated>2012-03-31T00:28:00-06:00</updated><author><name>Adam (adam.g.ginsburg@gmail.com)</name></author><id>tag:keflavich.github.io,2012-03-31:/blog/getting-rid-of-haloes.html</id><content type="html">&lt;p&gt;Haloes are when images look like this:&lt;/p&gt;
&lt;img alt="" src="http://1.bp.blogspot.com/-Hwwiewo9FyU/T3Yhs6TpYcI/AAAAAAAAG0k/uKSTBCn95FY/s320/Screen%2Bshot%2B2012-03-30%2Bat%2B3.09.54%2BPM.png" /&gt;
&lt;p&gt;instead of this, as they should:&lt;/p&gt;
&lt;img alt="" src="http://4.bp.blogspot.com/-t5jVccq9Dtc/T3Yhs-hcY5I/AAAAAAAAG0s/EZ4x0zdSgxw/s320/Screen%2Bshot%2B2012-03-30%2Bat%2B3.09.58%2BPM.png" /&gt;
&lt;p&gt;Things to try:&lt;/p&gt;
&lt;ol class="arabic simple"&gt;
&lt;li&gt;Pass &lt;tt class="docutils literal"&gt;/return_deconv&lt;/tt&gt; to deconv_map&lt;/li&gt;
&lt;li&gt;Pass &lt;tt class="docutils literal"&gt;/linear&lt;/tt&gt; to deconv_map&lt;/li&gt;
&lt;li&gt;Disable deconvolve - deconvolve=0&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;In l123 &amp;amp; l169, at least, &lt;tt class="docutils literal"&gt;/return_deconv&lt;/tt&gt; worked&lt;/p&gt;
</content><category term="bgps"></category><category term="googlepost"></category><category term="artifacts"></category><category term="deconvolution"></category><category term="mapping"></category></entry><entry><title>New coalignment code</title><link href="https://keflavich.github.io/blog/new-coalignment-code.html" rel="alternate"></link><published>2012-03-20T15:06:00-06:00</published><updated>2012-03-20T15:06:00-06:00</updated><author><name>Adam (adam.g.ginsburg@gmail.com)</name></author><id>tag:keflavich.github.io,2012-03-20:/blog/new-coalignment-code.html</id><summary type="html">&lt;p&gt;pixshift has been giving me issues for a long, long time. It finally
came to a head, though, when nothing I did could make l001 &amp;quot;work&amp;quot;. It
turns out, when you do cross-correlation analysis, you're really only
interested in the most correlated pixel, NOT the junk around it - the
junk …&lt;/p&gt;</summary><content type="html">&lt;p&gt;pixshift has been giving me issues for a long, long time. It finally
came to a head, though, when nothing I did could make l001 &amp;quot;work&amp;quot;. It
turns out, when you do cross-correlation analysis, you're really only
interested in the most correlated pixel, NOT the junk around it - the
junk around it only provides a second-order correction.
Well, &lt;a class="reference external" href="http://solarmuri.ssl.berkeley.edu/~welsch/public/software/cross_cor_taylor.pro"&gt;cross_cor_taylor.pro&lt;/a&gt;, a tool from the solar physics
community, does exactly that. And it works far, far better than my
hacked-together pixshift code. A lesson I should always take to heart:
don't rewrite code if it's out there. Of course, if I'd known it was out
there, I wouldn't have rewritten it....&lt;/p&gt;
</content><category term="bgps"></category><category term="googlepost"></category></entry><entry><title>Major Error</title><link href="https://keflavich.github.io/blog/major-error.html" rel="alternate"></link><published>2012-01-06T23:29:00-07:00</published><updated>2012-01-06T23:29:00-07:00</updated><author><name>Adam (adam.g.ginsburg@gmail.com)</name></author><id>tag:keflavich.github.io,2012-01-06:/blog/major-error.html</id><content type="html">&lt;p&gt;This was a big problem:
&lt;tt class="docutils literal"&gt;Rev 472, by ginsbura, &lt;span class="pre"&gt;2009-12-15&lt;/span&gt; 14:43readall_pc wasn't getting passed mvperjy&lt;/tt&gt;&lt;/p&gt;
</content><category term="bgps"></category><category term="googlepost"></category></entry><entry><title>Flow Charts</title><link href="https://keflavich.github.io/blog/flow-charts.html" rel="alternate"></link><published>2011-12-31T02:53:00-07:00</published><updated>2011-12-31T02:53:00-07:00</updated><author><name>Adam (adam.g.ginsburg@gmail.com)</name></author><id>tag:keflavich.github.io,2011-12-31:/blog/flow-charts.html</id><content type="html">&lt;p&gt;Made with &lt;a class="reference external" href="http://code.google.com/p/bgpspipeline/source/browse/bgps_pipeline/documentation/wrap_pipeline_and_log.py"&gt;this code&lt;/a&gt; and &lt;a class="reference external" href="www.graphviz.org"&gt;graphviz&lt;/a&gt;.&lt;/p&gt;
&lt;img alt="" src="http://2.bp.blogspot.com/-rbeS36D6fek/Tv55L9HSfVI/AAAAAAAAGrE/VArJAV60nys/s320/pipeline_v1.0.png" /&gt;
&lt;img alt="" src="http://2.bp.blogspot.com/-lI_OWOGIVko/Tv55MIfhcdI/AAAAAAAAGrU/MUiQuiBLqrA/s320/pipeline_v2.0.png" /&gt;
</content><category term="bgps"></category><category term="googlepost"></category><category term="pipeline"></category></entry><entry><title>Calibration: As good as it's gonna get</title><link href="https://keflavich.github.io/blog/calibration-as-good-as-its-gonna-get.html" rel="alternate"></link><published>2011-12-02T23:25:00-07:00</published><updated>2011-12-02T23:25:00-07:00</updated><author><name>Adam (adam.g.ginsburg@gmail.com)</name></author><id>tag:keflavich.github.io,2011-12-02:/blog/calibration-as-good-as-its-gonna-get.html</id><content type="html">&lt;img alt="" src="http://2.bp.blogspot.com/-JLIm1-8V9pc/TtlaRJP2EoI/AAAAAAAAGoA/-gwCmjybJxs/s320/newmottecygx2_bgps_iram_comp_linefits_cross.png" /&gt;
&lt;img alt="" src="http://1.bp.blogspot.com/-FkotaRfI_hk/TtlaR5VW_PI/AAAAAAAAGoM/Hd9yvKq66lU/s320/newmottecygx2_bgpsv2_iram_comp_linefits_cross.png" /&gt;
&lt;img alt="" src="http://4.bp.blogspot.com/-9xlFisqEq38/TtlaSXvv3ZI/AAAAAAAAGoY/uWvlhTeriuY/s320/newmottecygx2_bgps_iram_comp_linefits_cross_dr21.png" /&gt;
&lt;img alt="" src="http://4.bp.blogspot.com/-MGx4yVQpxfU/TtlaS9OB3AI/AAAAAAAAGok/aMz1NHI2G9k/s320/newmottecygx2_bgpsv2_iram_comp_linefits_cross_dr21.png" /&gt;
&lt;p&gt;BGPS vs BGPSv2 in Cyg X&lt;/p&gt;
&lt;img alt="" src="http://1.bp.blogspot.com/-JMPVYUkw0nc/Ttla0-Fqn9I/AAAAAAAAGow/9c0IhC4_qlg/s320/newirdc1_bgps_iram_comp_linefits_cross.png" /&gt;
&lt;img alt="" src="http://4.bp.blogspot.com/-knIt9Yw8FJU/Ttla1XeTfmI/AAAAAAAAGo8/d4bNvhfPf6U/s320/newirdc1_bgpsv2_iram_comp_linefits_cross.png" /&gt;
&lt;p&gt;BGPS vs BGPSv2 in IRDC1 (Rathborne)&lt;/p&gt;
&lt;img alt="" src="http://3.bp.blogspot.com/-Uw9lPIsA758/TtlbgMzryZI/AAAAAAAAGpI/3OcrHYS-8KA/s320/testregl44_bgps_s1200_comp_linefits_1.png" /&gt;
&lt;img alt="" src="http://2.bp.blogspot.com/-ikkojUChsfY/Ttlbg4BnvJI/AAAAAAAAGpU/-SrRpX1GvMw/s320/testregl44_bgpsv2_s1200_comp_linefits_1.png" /&gt;
&lt;img alt="" src="http://1.bp.blogspot.com/-G6PzOBzHmtc/TtlbhbgsEQI/AAAAAAAAGpg/1K630s21FpQ/s320/testregl44_bgps_s1200_comp_linefits_2.png" /&gt;
&lt;img alt="" src="http://3.bp.blogspot.com/-NEnpDAiVatM/Ttlbh7_cTdI/AAAAAAAAGps/FDDMbzdHbBw/s320/testregl44_bgpsv2_s1200_comp_linefits_2.png" /&gt;
&lt;p&gt;BGPS vs BGPSv2 in l=44 (comparison is SIMBA, not MAMBO)&lt;/p&gt;
&lt;img alt="" src="http://1.bp.blogspot.com/-J27n1Y5t4Ug/TtleWSaYxoI/AAAAAAAAGp4/LuPMX5Iv8E0/s320/l44_regions.png" /&gt;
</content><category term="bgps"></category><category term="googlepost"></category><category term="calibration"></category></entry><entry><title>Check to make sure original fits were/were not for...</title><link href="https://keflavich.github.io/blog/check-to-make-sure-original-fits-werewere-not-for.html" rel="alternate"></link><published>2011-11-17T22:57:00-07:00</published><updated>2011-11-17T22:57:00-07:00</updated><author><name>Adam (adam.g.ginsburg@gmail.com)</name></author><id>tag:keflavich.github.io,2011-11-17:/blog/check-to-make-sure-original-fits-werewere-not-for.html</id><content type="html">&lt;p&gt;Check to make sure original fits were/were not forced through 0,0&lt;/p&gt;
</content><category term="bgps"></category><category term="http://schemas.google.com/blogger/2008/kind#comment"></category></entry><entry><title>Calibration Offsets Revisited</title><link href="https://keflavich.github.io/blog/calibration-offsets-revisited.html" rel="alternate"></link><published>2011-11-16T01:05:00-07:00</published><updated>2011-11-16T01:05:00-07:00</updated><author><name>Adam (adam.g.ginsburg@gmail.com)</name></author><id>tag:keflavich.github.io,2011-11-16:/blog/calibration-offsets-revisited.html</id><summary type="html">&lt;p&gt;The agreement with Motte et al 2007 is now perfect with a vertical
ADDITIVE offset instead of the annoying multiplicative offset. An
additive offset can trivially be accounted for by a spatial transfer
function. As is evident in the difference images, the MAMBO data appears
to sit on a plateau …&lt;/p&gt;</summary><content type="html">&lt;p&gt;The agreement with Motte et al 2007 is now perfect with a vertical
ADDITIVE offset instead of the annoying multiplicative offset. An
additive offset can trivially be accounted for by a spatial transfer
function. As is evident in the difference images, the MAMBO data appears
to sit on a plateau.&lt;/p&gt;
&lt;img alt="" src="http://2.bp.blogspot.com/-dCeUkoHiAPs/TrwYlSZ2I6I/AAAAAAAAGj8/2FpasBudxPc/s320/newtestregl44_bgps_s1200_comp_linefits_point.png" /&gt;
&lt;img alt="" src="http://2.bp.blogspot.com/-XWWisYSwoiw/TrwYl-E4uQI/AAAAAAAAGkI/Gu5MxohyxZY/s320/newtestregl44_bgpsv2_s1200_comp_linefits_point.png" /&gt;
&lt;img alt="" src="http://3.bp.blogspot.com/-flBRCavDJKM/TrwYmZLzifI/AAAAAAAAGkU/D7K7-aG_ZZE/s320/testregl44_bgps_s1200_comp_origimages_scales1200peak_1.png" /&gt;
&lt;img alt="" src="http://3.bp.blogspot.com/-0i_9U9v37Wc/TrwYm3Ctx4I/AAAAAAAAGkg/xj1xWYI4eLo/s320/testregl44_bgpsv2_s1200_comp_origimages_scales1200peak_1.png" /&gt;
&lt;img alt="" src="http://4.bp.blogspot.com/-Wnys8tmpdnI/TsMFsi04CZI/AAAAAAAAGlc/sXKhoMMDRUM/s320/newirdc1_bgps_iram_comp_linefits_cross.png" /&gt;
&lt;img alt="" src="http://4.bp.blogspot.com/-XWRv2iQr_yM/TsMFtHzCWUI/AAAAAAAAGlo/MVvzvsJEv8s/s320/irdc1_bgps_iram_comp_origimages_scaleirampeak.png" /&gt;
&lt;img alt="" src="http://1.bp.blogspot.com/-2VT-44snbic/TsMFthQNCzI/AAAAAAAAGl0/XJmjYJWlT0A/s320/newirdc1_bgpsv2_iram_comp_linefits_cross.png" /&gt;
&lt;img alt="" src="http://4.bp.blogspot.com/-76VOl5ASlas/TsMFuS2tU7I/AAAAAAAAGmA/1GY0DwzsToo/s320/irdc1_bgpsv2_iram_comp_origimages_scaleirampeak.png" /&gt;
&lt;p&gt;Cygnus X:
BGPSV1:&lt;/p&gt;
&lt;img alt="" src="http://3.bp.blogspot.com/-Ul21t0ucmOs/TsMGdaRI50I/AAAAAAAAGmM/UhJ_mCKRZ4A/s320/newmottecygx2_bgps_iram_comp_linefits_cross.png" /&gt;
&lt;img alt="" src="http://1.bp.blogspot.com/-d_XSGb63vtk/TsMGd7cMs1I/AAAAAAAAGmY/MTL7mFfH9_I/s320/newmottecygx2_bgps_iram_comp_linefits_cross_2.png" /&gt;
&lt;img alt="" src="http://1.bp.blogspot.com/-CKArUxnvfXc/TsMGeY4yP7I/AAAAAAAAGmk/iaRcDy28-8w/s320/newmottecygx2_bgps_iram_comp_linefits_cross_3.png" /&gt;
&lt;img alt="" src="http://4.bp.blogspot.com/-cNgOGbIFhzc/TsMGe3d7kZI/AAAAAAAAGmw/kn3Y0M18flM/s320/newmottecygx2_bgps_iram_comp_linefits_cross_dr21.png" /&gt;
&lt;p&gt;BGPSV2:&lt;/p&gt;
&lt;img alt="" src="http://4.bp.blogspot.com/-cIZHQxLW7t0/TsMGrpLUTcI/AAAAAAAAGm8/PJfhh_Z1Y44/s320/newmottecygx2_bgpsv2_iram_comp_linefits_cross.png" /&gt;
&lt;img alt="" src="http://4.bp.blogspot.com/-55051oTEK34/TsMGrzJL3eI/AAAAAAAAGnI/pd468xeLBxQ/s320/newmottecygx2_bgpsv2_iram_comp_linefits_cross_2.png" /&gt;
&lt;img alt="" src="http://4.bp.blogspot.com/-f2BTCfMG5Ao/TsMGsTy98yI/AAAAAAAAGnU/6m30n1cgwgQ/s320/newmottecygx2_bgpsv2_iram_comp_linefits_cross_3.png" /&gt;
&lt;img alt="" src="http://1.bp.blogspot.com/-ND8KA8OqHpc/TsMGs5pAo0I/AAAAAAAAGng/kkucv9xfINk/s320/newmottecygx2_bgpsv2_iram_comp_linefits_cross_dr21.png" /&gt;
&lt;img alt="" src="http://4.bp.blogspot.com/-8ovlXgU6EIU/TsMMT0wfZ-I/AAAAAAAAGns/dq5Es6kDmE0/s320/sections.png" /&gt;
</content><category term="bgps"></category><category term="googlepost"></category><category term="calibration"></category></entry><entry><title>Bolocat v1-v2 comparison with new calibration</title><link href="https://keflavich.github.io/blog/bolocat-v1-v2-comparison-with-new-calibration.html" rel="alternate"></link><published>2011-08-30T21:04:00-06:00</published><updated>2011-08-30T21:04:00-06:00</updated><author><name>Adam (adam.g.ginsburg@gmail.com)</name></author><id>tag:keflavich.github.io,2011-08-30:/blog/bolocat-v1-v2-comparison-with-new-calibration.html</id><summary type="html">&lt;img alt="" src="http://2.bp.blogspot.com/-c3_0Rlbv2qM/Tl1P5FhWC8I/AAAAAAAAGdc/oiFxmO7vrUU/s320/total_v1v2_40arcsec_ratio_compare.png" /&gt;
&lt;img alt="" src="http://4.bp.blogspot.com/-Gk60vlSPkWk/Tl1P5c4THoI/AAAAAAAAGdk/E7zdIwtyD3w/s320/total_v1v2_40arcsec_fit_compare.png" /&gt;
&lt;p&gt;I re-examined the Bolocat data on l351 after re-running the pipeline
with the new calibration curve. The change wasn't all that great. See
&lt;a class="reference external" href="http://bolocam.blogspot.com/2011/08/bolocat-v1-v2-comparison.html"&gt;this post&lt;/a&gt; for a brief description of the procedure.
In the data below, I've fit the residuals as a function of v1.0.2 flux
density in …&lt;/p&gt;</summary><content type="html">&lt;img alt="" src="http://2.bp.blogspot.com/-c3_0Rlbv2qM/Tl1P5FhWC8I/AAAAAAAAGdc/oiFxmO7vrUU/s320/total_v1v2_40arcsec_ratio_compare.png" /&gt;
&lt;img alt="" src="http://4.bp.blogspot.com/-Gk60vlSPkWk/Tl1P5c4THoI/AAAAAAAAGdk/E7zdIwtyD3w/s320/total_v1v2_40arcsec_fit_compare.png" /&gt;
&lt;p&gt;I re-examined the Bolocat data on l351 after re-running the pipeline
with the new calibration curve. The change wasn't all that great. See
&lt;a class="reference external" href="http://bolocam.blogspot.com/2011/08/bolocat-v1-v2-comparison.html"&gt;this post&lt;/a&gt; for a brief description of the procedure.
In the data below, I've fit the residuals as a function of v1.0.2 flux
density in an aperture (source mask) with a line. The slope of the line
should ideally be zero - that would indicate a multiplicative offset is
an acceptable correction.
Nicely, in the 40&amp;quot; aperture case, I see no reason to exclude the m=0
case. For the most reliable data - the 13pca - the slope is rather small
and the &amp;quot;correction factor&amp;quot; is disturbingly close to what we recommended
(1.5). We have no right to be that lucky...&lt;/p&gt;
&lt;img alt="" src="http://2.bp.blogspot.com/-W08ZvMS3M90/TlwhPW62NQI/AAAAAAAAGc8/8YRm6iyDPO8/s320/l351_40arcsec_residualfit.png" /&gt;
&lt;p&gt;...and so perhaps wer are not. The source mask includes more area and
therefore is more sensitive to extended flux recovery. The slopes are
not consistent with 0 - just look at the data above and below 2 Jy to
see that there is a difference. The multiplicative correction of 1.5 is
decent for a pretty wide range of flux densities, but is inadequate for
the brightest sources. This is somewhat interesting... it implies that
the brightest sources also lie on the highest backgrounds.&lt;/p&gt;
&lt;img alt="" src="http://3.bp.blogspot.com/-GQBE_MjAxt8/TlwhPveClUI/AAAAAAAAGdE/lohBYlJuHwM/s320/l351_sourcemask_residualfit.png" /&gt;
&lt;p&gt;You might note that the brightest source has a smaller correction factor
in both apertures. It's not clear why that is the case, but I don't
think it's enough to call it a trend yet - wait for the full 8000-source
comparison first.
Why is there so much scatter? Not entirely clear, but the scatter is
primarily at low S/N.&lt;/p&gt;
&lt;img alt="" src="http://3.bp.blogspot.com/-GPKbsfs9Y8k/Tl1OJE43J3I/AAAAAAAAGdM/pVUx9SClgtc/s320/l351_40arcsec_fit_compare_monochrome.png" /&gt;
&lt;img alt="" src="http://3.bp.blogspot.com/-snhh3Bamwc4/Tl1OJXzOYNI/AAAAAAAAGdU/n-rPxs-ZCtI/s320/l351_40arcsec_ratio_compare_monochrome.png" /&gt;
&lt;p&gt;Here are the same for all of the data reduced up to this point:&lt;/p&gt;
&lt;img alt="" src="http://2.bp.blogspot.com/-oUewyjZc9wU/Tl1QaGPeURI/AAAAAAAAGds/CHx3BtnT9sA/s320/total_v1v2_sourcemask_fit_compare.png" /&gt;
&lt;img alt="" src="http://1.bp.blogspot.com/-n27ucFd82VI/Tl1Qab1kbUI/AAAAAAAAGd0/kwWAceGqo5c/s320/total_v1v2_sourcemask_ratio_compare.png" /&gt;
</content><category term="bgps"></category><category term="googlepost"></category><category term="bolocat"></category><category term="version comparison"></category></entry><entry><title>Final calibration curves (yeah... sure)</title><link href="https://keflavich.github.io/blog/final-calibration-curves-yeah-sure.html" rel="alternate"></link><published>2011-08-26T17:26:00-06:00</published><updated>2011-08-26T17:26:00-06:00</updated><author><name>Adam (adam.g.ginsburg@gmail.com)</name></author><id>tag:keflavich.github.io,2011-08-26:/blog/final-calibration-curves-yeah-sure.html</id><content type="html">&lt;p&gt;I've finished rederiving the calibration curves self-consistently. These
will now be applied to the data....&lt;/p&gt;
&lt;img alt="" src="http://4.bp.blogspot.com/-Px-hpKGeiK0/TlfXKrZw3mI/AAAAAAAAGcc/mJH4Yes9K1I/s320/planet_dcfluxes_05_v2.0_13pca_ds2_defaults_map20.png" /&gt;
&lt;img alt="" src="http://1.bp.blogspot.com/-n2uTCyFEiqQ/TlfXLCd3twI/AAAAAAAAGck/iDls4F3YpKs/s320/planet_dcfluxes_06_v2.0_13pca_ds2_defaults_map20.png" /&gt;
&lt;img alt="" src="http://3.bp.blogspot.com/-361ND0Pcic0/TlfXLiczcRI/AAAAAAAAGcs/_RnBjVjrsGY/s320/planet_dcfluxes_07_v2.0_13pca_ds2_defaults_map20.png" /&gt;
&lt;img alt="" src="http://1.bp.blogspot.com/-Ui00rWxnoiE/TlfXL-jQw_I/AAAAAAAAGc0/9WZG7srlDok/s320/planet_dcfluxes_09_v2.0_13pca_ds2_defaults_map20.png" /&gt;
</content><category term="bgps"></category><category term="googlepost"></category><category term="calibration"></category></entry><entry><title>V1 vs V2: Calibration Curves</title><link href="https://keflavich.github.io/blog/v1-vs-v2-calibration-curves.html" rel="alternate"></link><published>2011-08-25T17:09:00-06:00</published><updated>2011-08-25T17:09:00-06:00</updated><author><name>Adam (adam.g.ginsburg@gmail.com)</name></author><id>tag:keflavich.github.io,2011-08-25:/blog/v1-vs-v2-calibration-curves.html</id><summary type="html">&lt;p&gt;Why did we find a factor ~1.8 in &lt;a class="reference external" href="http://bolocam.blogspot.com/2011/08/bolocat-v1-v2-comparison.html"&gt;the previous post&lt;/a&gt;? Well, for
starters we used a calibration curve that was based off of 'masking' and
other tricky techniques.
The calibration curves below are the first ever produced
self-consistently, i.e. using the EXACT same pipeline with the EXACT …&lt;/p&gt;</summary><content type="html">&lt;p&gt;Why did we find a factor ~1.8 in &lt;a class="reference external" href="http://bolocam.blogspot.com/2011/08/bolocat-v1-v2-comparison.html"&gt;the previous post&lt;/a&gt;? Well, for
starters we used a calibration curve that was based off of 'masking' and
other tricky techniques.
The calibration curves below are the first ever produced
self-consistently, i.e. using the EXACT same pipeline with the EXACT
same parameters as the science data. No hacks were needed to produce
these&lt;a class="reference external" href="#asterisk&amp;quot;"&gt;*&lt;/a&gt;. The recovered Volts/Jy are substantially higher than
BGPSv1 and ALSO higher than the curve used about a year ago in an
attempt to explain the v1 flux discrepancy.
Remember that a higher calibration curve means a LOWER recovered flux. I
haven't finished the check, but odds are pretty good that applying these
self-consistent cal curves will reduce the v2 data to be about 1.5.&lt;/p&gt;
&lt;img alt="" src="http://4.bp.blogspot.com/-PRU4LQ5f-C4/TlZ9wpeFBeI/AAAAAAAAGb8/jKdJHtIqV40/s320/planet_dcfluxes_05_defaults_ds2_v2.0_13pca_map20.png" /&gt;
&lt;img alt="" src="http://3.bp.blogspot.com/-AIzsETyl69g/TlZ9w50DjBI/AAAAAAAAGcE/h5ggKhH3dO4/s320/planet_dcfluxes_06_defaults_ds2_v2.0_13pca_map20.png" /&gt;
&lt;img alt="" src="http://4.bp.blogspot.com/-BNWD4QQ21Ac/TlZ9xZ5eTkI/AAAAAAAAGcM/QOVbum2jXIo/s320/planet_dcfluxes_07_defaults_ds2_v2.0_13pca_map20.png" /&gt;
&lt;img alt="" src="http://2.bp.blogspot.com/-OucWo74b8VY/TlZ9yFIJYQI/AAAAAAAAGcU/IBMs5YLMlYU/s320/planet_dcfluxes_09_defaults_ds2_v2.0_13pca_map20.png" /&gt;
&lt;p&gt;While no hacks were needed to produce these plots, there were abundant
problems. There are far fewer data points than there should be. The
problems are manifold, but mostly have to do with the PCA scaling (I
think).
In some cases, the first scan in an observation was wildly variable.
There looked to be an exponential or similar decay (as has been observed
in scan turnarounds) at the observation start that took ~3 scans to
decay to bring all of the bolometers onto a scaleable curve. This is a
HUGE problem, because the assumption that the dominant signal is
atmosphere is badly violated in this situation - the signal becomes
electronics-dominated. The first PCA component is then an ugly
step-function. With these first scans flagged out, the whole problem
goes away, but that's a painful manual process. Automating it MAY be
possible, but also risky.
In other cases, particularly September 4th 2007, the atmosphere appeared
to be negligible! While the atmospheric optical depth probably was not,
if it was extraordinarily stable over the course of ~10 minutes, again
we experience severe problems. A stable atmosphere means no atmospheric
variation, which means that ACBOLOS is just noise (plus Uranus signal).
Ironically, this is very bad for calibration - it means there is no
common signal on which we can calibrate the bolos' relative
sensitivities. This problem doesn't seem to affect science data,
probably because there's no such thing as 45-minute stable atmosphere
(especially when you're following rising/setting sources). If I REALLY
need that data, I could snag the relative scalings from a science field
and apply them to the cal data... honestly that's not a bad idea in
general... hmm... Well, we'll explore that later if I have time, that
will take days to implement.&lt;/p&gt;
</content><category term="bgps"></category><category term="googlepost"></category><category term="calibration"></category><category term="version comparison"></category></entry><entry><title>Bolocat v1-v2 comparison</title><link href="https://keflavich.github.io/blog/bolocat-v1-v2-comparison.html" rel="alternate"></link><published>2011-08-23T04:39:00-06:00</published><updated>2011-08-23T04:39:00-06:00</updated><author><name>Adam (adam.g.ginsburg@gmail.com)</name></author><id>tag:keflavich.github.io,2011-08-23:/blog/bolocat-v1-v2-comparison.html</id><summary type="html">&lt;p&gt;For this experiment, I ran Bolocat on all of the v1 and v2 images using
the source masks Erik derived for v1. I then compared the derived fluxes
using both aperture photometry (as defined in bolocat) and the mask
sums.&lt;/p&gt;
&lt;p&gt;First, note that the object_photometry code Erik wrote does …&lt;/p&gt;</summary><content type="html">&lt;p&gt;For this experiment, I ran Bolocat on all of the v1 and v2 images using
the source masks Erik derived for v1. I then compared the derived fluxes
using both aperture photometry (as defined in bolocat) and the mask
sums.&lt;/p&gt;
&lt;p&gt;First, note that the object_photometry code Erik wrote does NOT do
background subtraction - this is important for understanding
non-multiplicative offsets between v1 and v2.&lt;/p&gt;
&lt;p&gt;I fit a 2-parameter model (a line) to the v2 vs v1 plots using two
methods. The simple linear-least-squares method is one we're all
familiar with, and it gives semi-reasonable results, but is NOT
statistically robust when there are errors on both axes. The other fit
method used was Total Least Squares, which is approximately equivalent
to Principle Component Analysis with 2 vectors. It uses components of
the singular-value-decomposition to determine the best fit. The fits
returned by TLS should be more robust, though the additive offsets need
not be.&lt;/p&gt;
&lt;p&gt;Conclusion: Our factor of 1.5 looks like it was pretty accurate. For 40&amp;quot;
apertures, the best fit is ~1.56, which is easily within the error bars.
Luckily, for 40&amp;quot; apertures, there is no apparent need for an additive
offset (I'm pretty sure the uncertainty on the measured offset is larger
than the offset, though statistically that is not the case), which would
complicate things.&lt;/p&gt;
&lt;p&gt;However, for the source mask, there is a greater scaling factor and a
very substantial offset. This implies that the peaks in v2 are brighter
by a large factor, but the backgrounds in v2 are actually lower than in
v1 (though please do check my reasoning here). I'm really not sure what
to make of the difference between source mask and aperture yet,
though... there's probably something significant in the source mask
being forced to pick positive pixels. (and peppered pickles)&lt;/p&gt;
&lt;img alt="" src="http://2.bp.blogspot.com/-9a-O_TQx3Ek/TlMr1f-nmKI/AAAAAAAAGbs/Tp6UY_vwl_s/s320/total_v1v2_40arcsec_fit_compare.png" /&gt;
&lt;img alt="" src="http://2.bp.blogspot.com/-zhLxvflZ-30/TlMr1mWy6kI/AAAAAAAAGb0/GH7xSizIjnk/s320/total_v1v2_sourcemask_fit_compare.png" /&gt;
</content><category term="bgps"></category><category term="googlepost"></category><category term="bolocat"></category><category term="version comparison"></category></entry><entry><title>v1-v2 comparison</title><link href="https://keflavich.github.io/blog/v1-v2-comparison.html" rel="alternate"></link><published>2011-08-23T04:25:00-06:00</published><updated>2011-08-23T04:25:00-06:00</updated><author><name>Adam (adam.g.ginsburg@gmail.com)</name></author><id>tag:keflavich.github.io,2011-08-23:/blog/v1-v2-comparison.html</id><summary type="html">&lt;p&gt;Some positive results.
v2 is uniformly higher than v1, but at nearly 1.8, not 1.5. Some of this
could be because of a different calibration curve (which is worth
checking on; I'll do that later).&lt;/p&gt;
&lt;img alt="" src="http://1.bp.blogspot.com/-OJ0dGhlukDI/TkrJp3xJ3CI/AAAAAAAAGaM/2wljUfSwwiM/s320/v1.0.2_compare_to_v2.0_ds2_deconv_compare.png" /&gt;
&lt;img alt="" src="http://4.bp.blogspot.com/-JuJNBoV9AFw/TkrJqtQVgYI/AAAAAAAAGaU/SMlGuh16ETs/s320/v1.0.2_compare_to_v2.0_ds2_deconv_deline_compare.png" /&gt;
&lt;img alt="" src="http://1.bp.blogspot.com/-HIMECvNyofo/TkrJrFOgCeI/AAAAAAAAGac/6T6TTJMx0cM/s320/v1.0.2_compare_to_v2.0_ds2_deconv_madflag3_compare.png" /&gt;
&lt;img alt="" src="http://1.bp.blogspot.com/-wYf-dSk8NXY/TkrJsINgC7I/AAAAAAAAGak/k6Kn6WbgxWM/s320/v1.0.2_compare_to_v2.0_ds2_deline_compare.png" /&gt;
&lt;img alt="" src="http://3.bp.blogspot.com/-cMEqPyhfKDM/TkrJsmmMEpI/AAAAAAAAGas/ZgwSeLos5QQ/s320/v1.0.2_compare_to_v2.0_ds2_inversescaleweight_compare.png" /&gt;
&lt;p&gt;While the pixel-to-pixel comparison yields values ~1.75, the aperture
photometry is perhaps …&lt;/p&gt;</summary><content type="html">&lt;p&gt;Some positive results.
v2 is uniformly higher than v1, but at nearly 1.8, not 1.5. Some of this
could be because of a different calibration curve (which is worth
checking on; I'll do that later).&lt;/p&gt;
&lt;img alt="" src="http://1.bp.blogspot.com/-OJ0dGhlukDI/TkrJp3xJ3CI/AAAAAAAAGaM/2wljUfSwwiM/s320/v1.0.2_compare_to_v2.0_ds2_deconv_compare.png" /&gt;
&lt;img alt="" src="http://4.bp.blogspot.com/-JuJNBoV9AFw/TkrJqtQVgYI/AAAAAAAAGaU/SMlGuh16ETs/s320/v1.0.2_compare_to_v2.0_ds2_deconv_deline_compare.png" /&gt;
&lt;img alt="" src="http://1.bp.blogspot.com/-HIMECvNyofo/TkrJrFOgCeI/AAAAAAAAGac/6T6TTJMx0cM/s320/v1.0.2_compare_to_v2.0_ds2_deconv_madflag3_compare.png" /&gt;
&lt;img alt="" src="http://1.bp.blogspot.com/-wYf-dSk8NXY/TkrJsINgC7I/AAAAAAAAGak/k6Kn6WbgxWM/s320/v1.0.2_compare_to_v2.0_ds2_deline_compare.png" /&gt;
&lt;img alt="" src="http://3.bp.blogspot.com/-cMEqPyhfKDM/TkrJsmmMEpI/AAAAAAAAGas/ZgwSeLos5QQ/s320/v1.0.2_compare_to_v2.0_ds2_inversescaleweight_compare.png" /&gt;
&lt;p&gt;While the pixel-to-pixel comparison yields values ~1.75, the aperture
photometry is perhaps even more severe:&lt;/p&gt;
&lt;img alt="" src="http://2.bp.blogspot.com/-2kmy7UjYx-U/TkrX2i9j3KI/AAAAAAAAGbU/WTPdP7p6nHY/s320/v1.0.2_compare_to_v2.0_ds2_reconv_point.png" /&gt;
&lt;img alt="" src="http://3.bp.blogspot.com/-Uhcyj_rCPrY/TkrX2-k72nI/AAAAAAAAGbc/yePgRQO3RCU/s320/v1.0.2_compare_to_v2.0_ds2_reconv_point2.png" /&gt;
&lt;p&gt;Those are a difference of a factor of 2.5, which is rather enormous.&lt;/p&gt;
</content><category term="bgps"></category><category term="googlepost"></category><category term="version comparison"></category></entry><entry><title>Aperture Photometry</title><link href="https://keflavich.github.io/blog/aperture-photometry.html" rel="alternate"></link><published>2011-08-13T02:50:00-06:00</published><updated>2011-08-13T02:50:00-06:00</updated><author><name>Jared (adam.g.ginsburg@gmail.com)</name></author><id>tag:keflavich.github.io,2011-08-13:/blog/aperture-photometry.html</id><summary type="html">&lt;p&gt;So the code to add point sources to the maps and perform basic aperture
photometry has started working to the point where I can share some
results.&lt;/p&gt;
&lt;p&gt;For maps with no underlying sky structure, only point sources, recovery
is very nearly perfect, with PearsonR coefficients essentially equal to
1 until …&lt;/p&gt;</summary><content type="html">&lt;p&gt;So the code to add point sources to the maps and perform basic aperture
photometry has started working to the point where I can share some
results.&lt;/p&gt;
&lt;p&gt;For maps with no underlying sky structure, only point sources, recovery
is very nearly perfect, with PearsonR coefficients essentially equal to
1 until the peak amplitude of the point sources drops below 2.0 (and
even then they only drop to ~0.997)&lt;/p&gt;
&lt;p&gt;Below is a sample of the difference residual of output-input flux vs
input flux for 40&amp;quot;, 80&amp;quot; and 120&amp;quot; apertures&lt;/p&gt;
&lt;img alt="" src="http://2.bp.blogspot.com/-j5k--Oz92T0/TkXiYHLWjQI/AAAAAAAAABc/MnRtjz6hAMo/s320/exp13_ds2_astrosky_arrang45_srcpeakalpha002.00source_range_00.1_02.0ptsrc_brightness_diffresid.png" /&gt;
&lt;p&gt;flux vs input flux will show just how correlated these are:&lt;/p&gt;
&lt;img alt="" src="http://3.bp.blogspot.com/-zL6VyzobtkU/TkXix_KEExI/AAAAAAAAABk/6vYph5jtyM4/s320/exp13_ds2_astrosky_arrang45_srcpeakalpha002.00source_range_00.1_02.0ptsrc_brightness_lin.png" /&gt;
&lt;p&gt;Note that for the blank maps, these are taken from simulations using a
power law distribution of point sources from 0.1 to 2.0 Jy in magnitude
(if we allow the range to extend above 2.0 Jy, the recoveries become
even more closely correlated.&lt;/p&gt;
&lt;p&gt;As for simulations with background sky structure we see similar patterns
for the most part, however a few interesting pieces appear:&lt;/p&gt;
&lt;p&gt;For the 4 different source ranges I ran, the 80&amp;quot; aperture had the
highest pearson r coefficient across all simulations. Generally sitting
around 0.95 with the 40&amp;quot; and 120&amp;quot; apertures floating from 0.75-0.9. This
may be a fluke, however, I need to run more simulations to see if this
is reproducible with other seeds.&lt;/p&gt;
&lt;p&gt;Also, in the difference residuals we can clearly see an underrecovery of
flux as input flux increases, which we should probably work to quantify,
as seen by this example:&lt;/p&gt;
&lt;img alt="" src="http://1.bp.blogspot.com/-X4lP1Pl4PLg/TkXka4eio7I/AAAAAAAAABs/RCKTuX14PD8/s320/exp13_ds2_astrosky_arrang45_atmotest_amp2.0E%252B01_sky00_seed00_peak001.00_smooth_srcpeakalpha002.00source_range_00.1_02.0_wptsrcptsrc_brightness_diffresid.png" /&gt;
</content><category term="bgps"></category><category term="googlepost"></category><category term="aperture photometry"></category><category term="point source"></category></entry><entry><title>Spatial Transfer Function vs. nPCA</title><link href="https://keflavich.github.io/blog/spatial-transfer-function-vs-npca.html" rel="alternate"></link><published>2011-08-10T16:29:00-06:00</published><updated>2011-08-10T16:29:00-06:00</updated><author><name>Adam (adam.g.ginsburg@gmail.com)</name></author><id>tag:keflavich.github.io,2011-08-10:/blog/spatial-transfer-function-vs-npca.html</id><summary type="html">&lt;p&gt;A demonstration that the spatial transfer function can be improved to
~80% at ~300 arcseconds by reducing the number of PCA components
subtracted. However, image fidelity and noise backgrounds suffer, so
these sorts of maps are probably less ideal for point source extraction.
Below:&lt;/p&gt;
&lt;pre class="literal-block"&gt;
0 PCA
3 PCA
10 PCA …&lt;/pre&gt;</summary><content type="html">&lt;p&gt;A demonstration that the spatial transfer function can be improved to
~80% at ~300 arcseconds by reducing the number of PCA components
subtracted. However, image fidelity and noise backgrounds suffer, so
these sorts of maps are probably less ideal for point source extraction.
Below:&lt;/p&gt;
&lt;pre class="literal-block"&gt;
0 PCA
3 PCA
10 PCA
15 PCA
&lt;/pre&gt;
&lt;img alt="" src="http://1.bp.blogspot.com/-CPZck7lZils/TkKxcMIgsoI/AAAAAAAAGZg/HeZJfzaSewk/s320/exp15_ds2_astrosky_arrang45_atmotest_amp5.0E%252B02_sky00_seed00_peak050.00_smooth_00pca_median_psds.png" /&gt;
&lt;img alt="" src="http://1.bp.blogspot.com/-ew7CSdNfc3M/TkKxcZb3qDI/AAAAAAAAGZo/_mSPtt6TgG4/s320/exp15_ds2_astrosky_arrang45_atmotest_amp5.0E%252B02_sky00_seed00_peak050.00_smooth_03pca_psds.png" /&gt;
&lt;img alt="" src="http://4.bp.blogspot.com/-NG2yqqzPucM/TkKxcxoM6pI/AAAAAAAAGZw/zocHKlKAO3Q/s320/exp15_ds2_astrosky_arrang45_atmotest_amp5.0E%252B02_sky00_seed00_peak050.00_smooth_10pca_psds.png" /&gt;
&lt;img alt="" src="http://1.bp.blogspot.com/-Y_rIZ33S8QE/TkKxdOlcTAI/AAAAAAAAGZ4/J6kkz5PDasA/s320/exp15_ds2_astrosky_arrang45_atmotest_amp5.0E%252B02_sky00_seed00_peak050.00_smooth_15pca_psds.png" /&gt;
</content><category term="bgps"></category><category term="googlepost"></category><category term="simulation"></category></entry><entry><title>Spatial Transfer Functions, revisit 4</title><link href="https://keflavich.github.io/blog/spatial-transfer-functions-revisit-4.html" rel="alternate"></link><published>2011-08-05T18:56:00-06:00</published><updated>2011-08-05T18:56:00-06:00</updated><author><name>Adam (adam.g.ginsburg@gmail.com)</name></author><id>tag:keflavich.github.io,2011-08-05:/blog/spatial-transfer-functions-revisit-4.html</id><summary type="html">&lt;p&gt;Last report was a bit of a fiasco. There were problems all over the
place I didn't understand. I still don't but I've fixed them. My best
guess at this point is that a pass-by-reference led to an unacceptable
modification of an image. That doesn't even make sense - there was …&lt;/p&gt;</summary><content type="html">&lt;p&gt;Last report was a bit of a fiasco. There were problems all over the
place I didn't understand. I still don't but I've fixed them. My best
guess at this point is that a pass-by-reference led to an unacceptable
modification of an image. That doesn't even make sense - there was no
place it could have happened - but, there you have it.
So, going through the process step by step.
This is the effect of smoothing an image:&lt;/p&gt;
&lt;img alt="" src="http://1.bp.blogspot.com/-3TabjiWVKm4/Tjs03gqxkxI/AAAAAAAAGXk/BQOH5FvG3CM/s320/exp10_ds2_astrosky_arrang45_atmotest_amp1.0E%252B01_sky02_seed00_peak010.00_SMvsNOSM_input_psds.png" /&gt;
&lt;img alt="" src="http://1.bp.blogspot.com/-AWglr2CHB-0/Tjs04fniKDI/AAAAAAAAGXs/MM3RCNu6x10/s320/exp10_ds2_astrosky_arrang45_atmotest_amp1.0E%252B01_sky02_seed00_peak010.00_SMvsNOSM_input_compare.png" /&gt;
&lt;img alt="" src="http://2.bp.blogspot.com/-5yFhvF1iOeY/Tjs1ES7HeuI/AAAAAAAAGX0/T44kJArWn2o/s320/exp10_ds2_astrosky_arrang45_atmotest_amp1.0E%252B01_sky02_seed00_peak010.00_SMvsNOSM_input_stf.png" /&gt;
&lt;p&gt;Note from the 3rd figure that 100% recovery isn't reached until ~700
arcseconds.
Next question: What is happening at large spatial scales in the
flat-spectrum simulations?&lt;/p&gt;
&lt;img alt="" src="http://1.bp.blogspot.com/-Fi2EBFsPFK4/TjtLzkxRxRI/AAAAAAAAGX8/4GoYEwSaaKc/s320/exp10_ds2_astrosky_arrang45_atmotest_amp1.0E%252B01_sky07_seed00_peak100.00_smooth_compare.png" /&gt;
&lt;img alt="" src="http://2.bp.blogspot.com/-P3TEAHevkEY/TjtL0BG8BbI/AAAAAAAAGYE/oC71ZTFTz3k/s320/exp10_ds2_astrosky_arrang45_atmotest_amp1.0E%252B01_sky06_seed00_peak100.00_smooth_compare.png" /&gt;
&lt;img alt="" src="http://4.bp.blogspot.com/-g0m5hEHx8QY/TjtL00D3USI/AAAAAAAAGYM/687cgIORovk/s320/exp10_ds2_astrosky_arrang45_atmotest_amp1.0E%252B01_sky05_seed00_peak100.00_smooth_compare.png" /&gt;
&lt;p&gt;No obvious problems there.&lt;/p&gt;
&lt;img alt="" src="http://3.bp.blogspot.com/-DwXSkiyw2kE/TjtNt7XadiI/AAAAAAAAGYU/trzLma37DgM/s320/exp10_ds2_astrosky_arrang45_atmotest_amp1.0E%252B01_sky05_seed00_peak100.00_smooth_psds.png" /&gt;
&lt;img alt="" src="http://1.bp.blogspot.com/-Q9ItTP7uQDs/TjtNuILPfLI/AAAAAAAAGYc/w67japCoUpo/s320/exp10_ds2_astrosky_arrang45_atmotest_amp1.0E%252B01_sky06_seed00_peak100.00_smooth_psds.png" /&gt;
&lt;img alt="" src="http://3.bp.blogspot.com/-mgWHY8CT3tQ/TjtNuv1jZ-I/AAAAAAAAGYk/Iddg_I2UKjo/s320/exp10_ds2_astrosky_arrang45_atmotest_amp1.0E%252B01_sky07_seed00_peak100.00_smooth_psds.png" /&gt;
&lt;p&gt;Hmm, no apparent problem here either, though one might ask why the two
curves approach each other in sky05 (alpha=-0.5).
So it appears that the reason for the bump up at low frequencies (long
wavelengths) must be because of edge effects. After much hassle, I've
addressed that by cropping images.
Finally, the averaged results:&lt;/p&gt;
&lt;img alt="" src="http://3.bp.blogspot.com/-26KmVHKU_QY/Tjw8VVYnkkI/AAAAAAAAGY4/-R-e3mwVwZc/s320/stfs_bestmodel_fits.png" /&gt;
&lt;img alt="" src="http://2.bp.blogspot.com/-lPtvV465aLg/Tjw8VhQZXXI/AAAAAAAAGZA/Rib4AX6z75E/s320/stfs_bestmodels.png" /&gt;
&lt;p&gt;So we've got an Official Spatial Transfer Function.
However, of course, we must note that there is a dependence on the
atmosphere amplitude to source amplitude ratio: it appears that
large-scale structure is *easier* to recover when the atmosphere is at
higher amplitude. This makes sense: it is easier to distinguish faint
astrophysical signal from bright atmosphere in this case. The reason I
didn't run simulations to test this more is that the S/N ratio on small
scales becomes poor for the low astrophysical amplitudes.&lt;/p&gt;
</content><category term="bgps"></category><category term="googlepost"></category><category term="analysis"></category><category term="testing"></category><category term="simulation"></category><category term="pipeline"></category></entry><entry><title>STF measurement attempts, round 3?</title><link href="https://keflavich.github.io/blog/stf-measurement-attempts-round-3.html" rel="alternate"></link><published>2011-08-03T02:51:00-06:00</published><updated>2011-08-03T02:51:00-06:00</updated><author><name>Adam (adam.g.ginsburg@gmail.com)</name></author><id>tag:keflavich.github.io,2011-08-03:/blog/stf-measurement-attempts-round-3.html</id><summary type="html">&lt;p&gt;Below are plots of the spatial transfer function for a variety of
simulation parameters. Each line represents the median (i.e., mean of
the center 2 of 4) spatial transfer function of 4 realizations of the
listed parameters.&lt;/p&gt;
&lt;img alt="alt" src="http://3.bp.blogspot.com/-qAq4e3xotf8/TjJCwJb6knI/AAAAAAAAGXA/mv7hs-uKudI/s320/stfs_atmo01_peak010_smooth.png" /&gt;
&lt;img alt="alt" src="http://2.bp.blogspot.com/-lTKFbV1Zxno/TjJCwluvOXI/AAAAAAAAGXI/fK7qPWDF0Qw/s320/stfs_atmo10_peak010_smooth.png" /&gt;
&lt;img alt="alt" src="http://1.bp.blogspot.com/-HNLrsuXSrvA/TjJCwx9xEBI/AAAAAAAAGXQ/a0l3Qljyp04/s320/stfs_atmo10_peak100_smooth.png" /&gt;
&lt;p&gt;A few unfortunate details are apparent:&lt;/p&gt;
&lt;ol class="arabic simple"&gt;
&lt;li&gt;The STF is background dependent, though …&lt;/li&gt;&lt;/ol&gt;</summary><content type="html">&lt;p&gt;Below are plots of the spatial transfer function for a variety of
simulation parameters. Each line represents the median (i.e., mean of
the center 2 of 4) spatial transfer function of 4 realizations of the
listed parameters.&lt;/p&gt;
&lt;img alt="alt" src="http://3.bp.blogspot.com/-qAq4e3xotf8/TjJCwJb6knI/AAAAAAAAGXA/mv7hs-uKudI/s320/stfs_atmo01_peak010_smooth.png" /&gt;
&lt;img alt="alt" src="http://2.bp.blogspot.com/-lTKFbV1Zxno/TjJCwluvOXI/AAAAAAAAGXI/fK7qPWDF0Qw/s320/stfs_atmo10_peak010_smooth.png" /&gt;
&lt;img alt="alt" src="http://1.bp.blogspot.com/-HNLrsuXSrvA/TjJCwx9xEBI/AAAAAAAAGXQ/a0l3Qljyp04/s320/stfs_atmo10_peak100_smooth.png" /&gt;
&lt;p&gt;A few unfortunate details are apparent:&lt;/p&gt;
&lt;ol class="arabic simple"&gt;
&lt;li&gt;The STF is background dependent, though not strongly&lt;/li&gt;
&lt;li&gt;The STF appears to never exceed 85%, and be more typically 75%. If
this is not matched by point-source PSDs, an explanation for the flux
discrepancy becomes possible&lt;/li&gt;
&lt;li&gt;The 50% recovery point is much closer in than previously stated, at
closer to 150&amp;quot; than 300&amp;quot;.&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;Note for comparison that the recovery fraction for point sources is much
more nearly 1, at least in the calibrator type maps. We need to wait for
Jared's simulations with point sources in a full size map to confirm
this, but it seems pretty likely that the STF is different for point
sources and extended structures.&lt;/p&gt;
&lt;img alt="alt" src="http://4.bp.blogspot.com/-n0mH8DTSc80/Tji3c0tOffI/AAAAAAAAGXc/_Xd-AQMo4QU/s320/psf_ds1_reconv_arrang45_atmotest_noise%252B6.3E-04varyrelscale_amp1.0E%252B00_psds.png" /&gt;
</content><category term="bgps"></category><category term="googlepost"></category><category term="discrepancy"></category><category term="simulation"></category></entry><entry><title>Examining bolocat</title><link href="https://keflavich.github.io/blog/examining-bolocat.html" rel="alternate"></link><published>2011-07-27T22:51:00-06:00</published><updated>2011-07-27T22:51:00-06:00</updated><author><name>Adam (adam.g.ginsburg@gmail.com)</name></author><id>tag:keflavich.github.io,2011-07-27:/blog/examining-bolocat.html</id><summary type="html">&lt;p&gt;Just in case we were wondering, the V1 bolocat is completely
inconsistent with a lognormal distribution, but is perfectly consistent
(or... at least reasonably consistent...) with a power law distribution.&lt;/p&gt;
&lt;img alt="" src="http://2.bp.blogspot.com/-kKaOXdf9hW4/TjBRmgiNmqI/AAAAAAAAGUI/4H0KJk70F_o/s320/bolocat_flux_cdf.png" /&gt;
&lt;img alt="" src="http://1.bp.blogspot.com/-3T9mrt5U39E/TjBRm5p7inI/AAAAAAAAGUQ/ARP6EKQDYo0/s320/bolocat_flux40_cdf.png" /&gt;
&lt;img alt="" src="http://4.bp.blogspot.com/-ytrgQo5XYEg/TjBRndOQqOI/AAAAAAAAGUY/9g--hpa5X0Y/s320/bolocat_flux80_cdf.png" /&gt;
&lt;img alt="" src="http://3.bp.blogspot.com/-TqVY1B1uGLw/TjBRnt6uLEI/AAAAAAAAGUg/FhXct0wpEio/s320/bolocat_flux120_cdf.png" /&gt;
&lt;p&gt;These plots show power-law fits (red) and lognormal fits (blue) to the
data (black). It's pretty obvious that the lognormal …&lt;/p&gt;</summary><content type="html">&lt;p&gt;Just in case we were wondering, the V1 bolocat is completely
inconsistent with a lognormal distribution, but is perfectly consistent
(or... at least reasonably consistent...) with a power law distribution.&lt;/p&gt;
&lt;img alt="" src="http://2.bp.blogspot.com/-kKaOXdf9hW4/TjBRmgiNmqI/AAAAAAAAGUI/4H0KJk70F_o/s320/bolocat_flux_cdf.png" /&gt;
&lt;img alt="" src="http://1.bp.blogspot.com/-3T9mrt5U39E/TjBRm5p7inI/AAAAAAAAGUQ/ARP6EKQDYo0/s320/bolocat_flux40_cdf.png" /&gt;
&lt;img alt="" src="http://4.bp.blogspot.com/-ytrgQo5XYEg/TjBRndOQqOI/AAAAAAAAGUY/9g--hpa5X0Y/s320/bolocat_flux80_cdf.png" /&gt;
&lt;img alt="" src="http://3.bp.blogspot.com/-TqVY1B1uGLw/TjBRnt6uLEI/AAAAAAAAGUg/FhXct0wpEio/s320/bolocat_flux120_cdf.png" /&gt;
&lt;p&gt;These plots show power-law fits (red) and lognormal fits (blue) to the
data (black). It's pretty obvious that the lognormal is a bad fit, but
in case you're unconvinced, the ks test for the &amp;quot;source flux&amp;quot; has a
probability 1.6e-7, and it is the highest likelihood by 17 orders of
magnitude out of the 4 flux types.
By contrast, the simulations are on average (though not uniformly) more
consistent with lognormal than powerlaw distributions:&lt;/p&gt;
&lt;img alt="" src="http://2.bp.blogspot.com/-lpOaHHV3e3Q/TjCTzm9RwFI/AAAAAAAAGWI/o57oH5SfdqE/s320/simulations_ksvalues_lognormvspowerlaw.png" /&gt;
&lt;p&gt;Even in those examples where the KS test is slightly more favorable for
the powerlaw distribution, the lognormal is a pretty good fit, and the
failure points for the two distributions are in about the same place.
The smoothness of the lognormal distribution is required to reproduce
the observed distribution.&lt;/p&gt;
&lt;img alt="" src="http://1.bp.blogspot.com/-8_WCGM_8AjM/TjB2tW_JZeI/AAAAAAAAGU4/SDR1guNcNq0/s320/exp10_ds2_astrosky_arrang45_atmotest_amp1.0E%252B01_sky07_seed00_peak100.00_smooth_bolocat_cdf.png" /&gt;
&lt;p&gt;Note that the first 4 plots are for the whole BGPS survey. What about an
individual field? For obvious reasons, I choose l30 again.&lt;/p&gt;
&lt;img alt="" src="http://1.bp.blogspot.com/-vHQoJtAe-vU/TjCIiVcRHsI/AAAAAAAAGVo/04fA4WSCnlA/s320/bolocat_flux40_L30_cdf.png" /&gt;
&lt;img alt="" src="http://1.bp.blogspot.com/-kIpe2v9_YpQ/TjCIimC8K2I/AAAAAAAAGVw/-o5GZ7DoLOw/s320/bolocat_flux80_L30_cdf.png" /&gt;
&lt;img alt="" src="http://2.bp.blogspot.com/-Shg66Vp6sUI/TjCIi2HEe4I/AAAAAAAAGV4/na0n21atNsI/s320/bolocat_flux120_L30_cdf.png" /&gt;
&lt;img alt="" src="http://1.bp.blogspot.com/-R2zq58aXXyI/TjCIjeTdjHI/AAAAAAAAGWA/D3xEDRAgY7M/s320/bolocat_flux_L30_cdf.png" /&gt;
&lt;p&gt;This gets to be a little more interesting - apparently the &amp;quot;source flux&amp;quot;
has a tendency to pick up the power-law distributed background
structure, since it is consistent with a lognormal (but note that it is
also consistent with a powerlaw! The ks test doesn't really say
definitively which is better). Although the fits look bad at high flux,
note that this is a log-log plot and therefore the difference in
probability is rather small.
What does this all indicate? It's not entirely clear whether individual
fields are genuinely more lognormally-distributed or whether the number
statistics are just worse. However, even the source flux is consistent
with a power-law, while many realizations of the simulations are not.
Therefore, we should perform the next logical test - add point sources
drawn from a power-law distribution (and a log-normal distribution?) and
see what bolocat retrieves. We can at least say now that the point
source contribution cannot be ignored, since there is no power-law
distribution that can reproduce the observed bolocat flux distribution.&lt;/p&gt;
</content><category term="bgps"></category><category term="googlepost"></category><category term="bolocat"></category><category term="analysis"></category><category term="simulation"></category></entry><entry><title>Bolocat examination part 1</title><link href="https://keflavich.github.io/blog/bolocat-examination-part-1.html" rel="alternate"></link><published>2011-07-18T22:59:00-06:00</published><updated>2011-07-18T22:59:00-06:00</updated><author><name>Adam (adam.g.ginsburg@gmail.com)</name></author><id>tag:keflavich.github.io,2011-07-18:/blog/bolocat-examination-part-1.html</id><summary type="html">&lt;img alt="" src="http://2.bp.blogspot.com/-RTBSwnk-CX0/TiS6VA5P39I/AAAAAAAAGT0/kB4v_Krbkm0/s320/bolocatrecovery_inputfiltered.png" /&gt;
&lt;p&gt;This figure shows the flux recovery of bolocat. The Y axis shows the
Input flux (green) and the Filtered flux (blue/cyan/purple) with a few
different large-scale filters. The red line is the 1-1 line. Obviously,
bolocat doesn't recover everything that was there - we removed a lot of
flux …&lt;/p&gt;</summary><content type="html">&lt;img alt="" src="http://2.bp.blogspot.com/-RTBSwnk-CX0/TiS6VA5P39I/AAAAAAAAGT0/kB4v_Krbkm0/s320/bolocatrecovery_inputfiltered.png" /&gt;
&lt;p&gt;This figure shows the flux recovery of bolocat. The Y axis shows the
Input flux (green) and the Filtered flux (blue/cyan/purple) with a few
different large-scale filters. The red line is the 1-1 line. Obviously,
bolocat doesn't recover everything that was there - we removed a lot of
flux, so recovery fractions are in the few % range. However, bolocat
does a much better job than the simple filter at recovering positive
fluxes. Therefore, the filter function still isn't good enough.&lt;/p&gt;
</content><category term="bgps"></category><category term="googlepost"></category><category term="analysis"></category><category term="simulation"></category></entry><entry><title>Star-forming Region Sh 2-233IR. I. Deep Near-infrared Observations toward the Embedded Stellar Clusters</title><link href="https://keflavich.github.io/blog/star-forming-region-sh-2-233ir-i-deep-near-infrared-observations-toward-the-embedded-stellar-clusters.html" rel="alternate"></link><published>2011-07-18T15:15:00-06:00</published><updated>2011-07-18T15:15:00-06:00</updated><author><name>Adam (keflavich@gmail.com)</name></author><id>tag:keflavich.github.io,2011-07-18:/blog/star-forming-region-sh-2-233ir-i-deep-near-infrared-observations-toward-the-embedded-stellar-clusters.html</id><content type="html">&lt;p&gt;[ &lt;a class="reference external" href="http://adsabs.harvard.edu/abs/2010ApJ...720....1Y"&gt;ADS&lt;/a&gt; ] [ &lt;a class="reference external" href="http://arxiv.org/abs/1107.2943"&gt;arXiv&lt;/a&gt; ]&lt;/p&gt;
&lt;hr class="docutils" /&gt;
&lt;p&gt;My contributions to this paper were minor. Analysis of luminosity
functions in the IRAS 05358+3543 region have identified different aged
groups. The paper contributes to the picture of sequential (triggered?)
star formation in the S233-235 region in Auriga.&lt;/p&gt;
</content><category term="publications"></category><category term="googlepost"></category><category term="star formation"></category><category term="publication"></category></entry><entry><title>when things go really really bad</title><link href="https://keflavich.github.io/blog/when-things-go-really-really-bad.html" rel="alternate"></link><published>2011-07-17T23:30:00-06:00</published><updated>2011-07-17T23:30:00-06:00</updated><author><name>Adam (adam.g.ginsburg@gmail.com)</name></author><id>tag:keflavich.github.io,2011-07-17:/blog/when-things-go-really-really-bad.html</id><content type="html">&lt;img alt="" src="http://4.bp.blogspot.com/-YX2VAOPAHso/TiNwkZ3l1MI/AAAAAAAAGTs/JsOe6JIxpuQ/s320/whoatrippy.png" /&gt;
&lt;p&gt;that's all.&lt;/p&gt;
</content><category term="bgps"></category><category term="googlepost"></category></entry><entry><title>Open Questions I'm trying to answer</title><link href="https://keflavich.github.io/blog/open-questions-im-trying-to-answer.html" rel="alternate"></link><published>2011-07-17T22:58:00-06:00</published><updated>2011-07-17T22:58:00-06:00</updated><author><name>Adam (adam.g.ginsburg@gmail.com)</name></author><id>tag:keflavich.github.io,2011-07-17:/blog/open-questions-im-trying-to-answer.html</id><summary type="html">&lt;p&gt;I still haven't dealt with
&lt;a class="reference external" href="http://bolocam.blogspot.com/2011/07/additional-problems.html"&gt;http://bolocam.blogspot.com/2011/07/additional-problems.html&lt;/a&gt;, or
essentiall any of
&lt;a class="reference external" href="http://bolocam.blogspot.com/2011/07/minor-ongoing-problems.html"&gt;http://bolocam.blogspot.com/2011/07/minor-ongoing-problems.html&lt;/a&gt;.
However, they're probably related to this problem:
&lt;tt class="docutils literal"&gt;% CLEAN_ITER_STRUCT: There were&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp; 1 bolometers with high weights:&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp; 13.5047 indices:&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp; 142 or flagged indices&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp; 142 …&lt;/tt&gt;&lt;/p&gt;</summary><content type="html">&lt;p&gt;I still haven't dealt with
&lt;a class="reference external" href="http://bolocam.blogspot.com/2011/07/additional-problems.html"&gt;http://bolocam.blogspot.com/2011/07/additional-problems.html&lt;/a&gt;, or
essentiall any of
&lt;a class="reference external" href="http://bolocam.blogspot.com/2011/07/minor-ongoing-problems.html"&gt;http://bolocam.blogspot.com/2011/07/minor-ongoing-problems.html&lt;/a&gt;.
However, they're probably related to this problem:
&lt;tt class="docutils literal"&gt;% CLEAN_ITER_STRUCT: There were&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp; 1 bolometers with high weights:&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp; 13.5047 indices:&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp; 142 or flagged indices&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp; 142&lt;/tt&gt;
which indicates that in a simulation in which there can be no outliers
(in terms of weight/scale), there is one being rejected as an outlier.
That indicates that weights are being computed incorrectly, despite the
fact that scales look right (so far):
&lt;tt class="docutils literal"&gt;Relsens calibration: Scaled to bolometer #&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp; 0% RELSENS_CAL_PCA: There were&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp; 0 NAN scales and&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp; 0 very low scales% RELSENS_CAL_PCA: Scale Median/Mad:&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp; &lt;span class="pre"&gt;1.0005510+/-&lt;/span&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp; 0.010990833 led to&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp; 0 scales set to zero for a total of&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp; 0 bad bolos% RELSENS_CAL_PCA: Scales &lt;span class="pre"&gt;avg+/-std&lt;/span&gt; =&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp; &lt;span class="pre"&gt;1.0007304355062783+/-&lt;/span&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp; 0.0103252880998329Relsens calibration: Scaled to bolometer #&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp; 0% RELSENS_CAL_PCA: There were&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp; 0 NAN scales and&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp; 0 very low scales% RELSENS_CAL_PCA: Scale Median/Mad:&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp; &lt;span class="pre"&gt;0.99955294+/-&lt;/span&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp; 0.0093122063 led to&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp; 0 scales set to zero for a total of&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp; 0 bad bolos% RELSENS_CAL_PCA: Scales &lt;span class="pre"&gt;avg+/-std&lt;/span&gt; =&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp; &lt;span class="pre"&gt;0.9990063123041220+/-&lt;/span&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp; 0.0096663438876613&lt;/tt&gt;&lt;/p&gt;
</content><category term="bgps"></category><category term="googlepost"></category></entry><entry><title>Fourier transforms are not commutative or distributive</title><link href="https://keflavich.github.io/blog/fourier-transforms-are-not-commutative-or-distributive.html" rel="alternate"></link><published>2011-07-15T20:09:00-06:00</published><updated>2011-07-15T20:09:00-06:00</updated><author><name>Adam (adam.g.ginsburg@gmail.com)</name></author><id>tag:keflavich.github.io,2011-07-15:/blog/fourier-transforms-are-not-commutative-or-distributive.html</id><summary type="html">&lt;p&gt;Problem with yesterday's work:&lt;/p&gt;
&lt;pre class="literal-block"&gt;
A*B = IFT(FT(A)*FT(B))A*B - A*C != IFT(FT(A)*(FT(B)-FT(C)))
&lt;/pre&gt;
&lt;p&gt;If instead of yesterday's &amp;quot;bandpass filter&amp;quot; you use the convolution -
convolution 'filter', the agreement in real space and most of fourier
space is much better:&lt;/p&gt;
&lt;img alt="" src="http://1.bp.blogspot.com/-dXT8RIHG6iI/TiCeMHu2bBI/AAAAAAAAGTc/NjQaTyJb4cc/s320/exp12_ds2_astrosky_arrang45_atmotest_amp5.0E%252B02_sky00_seed00_peak050.00_nosmooth_map20filtercompare.png" /&gt;
&lt;img alt="" src="http://1.bp.blogspot.com/-m0DeYyvE0Xg/TiCeM6b_LOI/AAAAAAAAGTk/MwwIbLjhY4Q/s320/exp12_ds2_astrosky_arrang45_atmotest_amp5.0E%252B02_sky00_seed00_peak050.00_nosmooth_map20filterpsds.png" /&gt;
&lt;p&gt;though map20 clearly …&lt;/p&gt;</summary><content type="html">&lt;p&gt;Problem with yesterday's work:&lt;/p&gt;
&lt;pre class="literal-block"&gt;
A*B = IFT(FT(A)*FT(B))A*B - A*C != IFT(FT(A)*(FT(B)-FT(C)))
&lt;/pre&gt;
&lt;p&gt;If instead of yesterday's &amp;quot;bandpass filter&amp;quot; you use the convolution -
convolution 'filter', the agreement in real space and most of fourier
space is much better:&lt;/p&gt;
&lt;img alt="" src="http://1.bp.blogspot.com/-dXT8RIHG6iI/TiCeMHu2bBI/AAAAAAAAGTc/NjQaTyJb4cc/s320/exp12_ds2_astrosky_arrang45_atmotest_amp5.0E%252B02_sky00_seed00_peak050.00_nosmooth_map20filtercompare.png" /&gt;
&lt;img alt="" src="http://1.bp.blogspot.com/-m0DeYyvE0Xg/TiCeM6b_LOI/AAAAAAAAGTk/MwwIbLjhY4Q/s320/exp12_ds2_astrosky_arrang45_atmotest_amp5.0E%252B02_sky00_seed00_peak050.00_nosmooth_map20filterpsds.png" /&gt;
&lt;p&gt;though map20 clearly reproduces some structures better (higher) but is
overall less powerful than the filtered map.&lt;/p&gt;
</content><category term="bgps"></category><category term="googlepost"></category><category term="analysis"></category></entry><entry><title>Testing out analytic filter functions</title><link href="https://keflavich.github.io/blog/testing-out-analytic-filter-functions.html" rel="alternate"></link><published>2011-07-15T03:03:00-06:00</published><updated>2011-07-15T03:03:00-06:00</updated><author><name>Adam (adam.g.ginsburg@gmail.com)</name></author><id>tag:keflavich.github.io,2011-07-15:/blog/testing-out-analytic-filter-functions.html</id><summary type="html">&lt;p&gt;I've attempted to model the spatial filter function as a gaussian (or
PSF) plus an inverse gaussian. i.e., the high-spatial-frequency
components are smoothed with the PSF, and the low spatial frequency
components are convolved with a (1-gaussian) high-pass filter.
First, the mildly good news: With a 300&amp;quot; FWHM large-scale …&lt;/p&gt;</summary><content type="html">&lt;p&gt;I've attempted to model the spatial filter function as a gaussian (or
PSF) plus an inverse gaussian. i.e., the high-spatial-frequency
components are smoothed with the PSF, and the low spatial frequency
components are convolved with a (1-gaussian) high-pass filter.
First, the mildly good news: With a 300&amp;quot; FWHM large-scale cutoff, the
filter PSD reasonably resembles the iterative map PSD:&lt;/p&gt;
&lt;img alt="" src="http://3.bp.blogspot.com/-udANxY5rM98/Th-i7hx3qnI/AAAAAAAAGS0/kwoR30ZO5OI/s320/exp12_ds2_astrosky_arrang45_atmotest_amp5.0E%252B02_sky00_seed00_peak050.00_nosmooth_map20filterpsds.png" /&gt;
&lt;p&gt;Luckily, the double-filter goes a very long way in explaining the
scale-free flux loss. In the following diagram, I show the effect of the
filter compared to the input map.&lt;/p&gt;
&lt;img alt="" src="http://3.bp.blogspot.com/-iZtSoQjlzJY/Th-jf6oatlI/AAAAAAAAGS8/p8ZcznsKGpI/s320/exp12_ds2_astrosky_arrang45_atmotest_amp5.0E%252B02_sky00_seed00_peak050.00_nosmooth_filterpsds.png" /&gt;
&lt;p&gt;The filter only recovers about 75% of the flux at ANY wavenumber. The
map does slightly worse at high frequencies, which I can't explain yet.
These show the recovery fraction of the iterative maps, a gaussian
smoothing function with FWHM=33&amp;quot;, and the mid-pass-filter. Map20 (no
smooth) has a lot of additional &amp;quot;noise power&amp;quot; at high spatial
frequencies; if it wasn't for the telescope filter function, we would
apparently have pretty good high-frequency recovery. Hmph.
Note that map20 is higher than the filter at some intermediate
frequencies, but quite a bit lower at higher frequencies. Also note the
moderately poor agreement between the 'smoothed' and 'smoothed (theory)'
lines.&lt;/p&gt;
&lt;img alt="" src="http://4.bp.blogspot.com/-zhxfyI_XDNY/Th-qZmsMZaI/AAAAAAAAGTE/550ocw2kFx8/s320/filterfunctions_smoothedx2.png" /&gt;
&lt;p&gt;Finally, look at the comparison between map20 and fiiltered. The
agreement is not bad for positive points; filtered is apparently
slightly higher but that can be adjusted. The problem: the filter forces
some structures that are negative or zero to be positive. For example,
look at the feature at 210,300 that is negative in Map20 but positive in
Filtered. In the real (input) map, this feature is lower than its
surroundings - it is legitimately negative.&lt;/p&gt;
&lt;img alt="" src="http://4.bp.blogspot.com/-zH98yuBL7lo/Th-tQIoKYCI/AAAAAAAAGTM/QNqslST6b2c/s320/exp12_ds2_astrosky_arrang45_atmotest_amp5.0E%252B02_sky00_seed00_peak050.00_nosmooth_map20filtercompare.png" /&gt;
&lt;img alt="" src="http://2.bp.blogspot.com/-bvlju06_ySU/Th-ttpCOuhI/AAAAAAAAGTU/3zoCyl5gCIY/s320/exp12_ds2_astrosky_arrang45_atmotest_amp5.0E%252B02_sky00_seed00_peak050.00_nosmooth_filtercompare.png" /&gt;
</content><category term="bgps"></category><category term="googlepost"></category><category term="analysis"></category><category term="simulation"></category></entry><entry><title>Masked edge effects?</title><link href="https://keflavich.github.io/blog/masked-edge-effects.html" rel="alternate"></link><published>2011-07-13T20:28:00-06:00</published><updated>2011-07-13T20:28:00-06:00</updated><author><name>Adam (adam.g.ginsburg@gmail.com)</name></author><id>tag:keflavich.github.io,2011-07-13:/blog/masked-edge-effects.html</id><content type="html">&lt;p&gt;I raised the possibility that the ratty edges of a scan could affect the
power spectrum measurements, leading to a scale-free power loss. This
doesn't appear to happen... instead, the masking adds some small-scale
power and apparently a small amount of large-scale power.&lt;/p&gt;
&lt;img alt="" src="http://1.bp.blogspot.com/-y7Bh9ngi7mY/Th3_sLpN0VI/AAAAAAAAGSc/4P67rBou5HE/s320/exp10_ds2_astrosky_arrang45_atmotest_amp1.0E%252B00_sky03_seed00_peak010.00_nosmooth_test_compare.png" /&gt;
&lt;img alt="" src="http://4.bp.blogspot.com/-cg1akcZbUek/Th3_sicaVmI/AAAAAAAAGSk/_4sALFui9kA/s320/exp10_ds2_astrosky_arrang45_atmotest_amp1.0E%252B00_sky03_seed00_peak010.00_nosmooth_test_psds.png" /&gt;
&lt;img alt="" src="http://2.bp.blogspot.com/-y-9SbSCsPqw/Th3_tHJGc8I/AAAAAAAAGSs/suuiw8xvwpQ/s320/exp10_ds2_astrosky_arrang45_atmotest_amp1.0E%252B00_sky03_seed00_peak010.00_nosmooth_test_stf.png" /&gt;
</content><category term="bgps"></category><category term="googlepost"></category><category term="simulation"></category></entry><entry><title>Spatial Transfer Functions</title><link href="https://keflavich.github.io/blog/spatial-transfer-functions.html" rel="alternate"></link><published>2011-07-13T18:54:00-06:00</published><updated>2011-07-13T18:54:00-06:00</updated><author><name>Adam (adam.g.ginsburg@gmail.com)</name></author><id>tag:keflavich.github.io,2011-07-13:/blog/spatial-transfer-functions.html</id><summary type="html">&lt;p&gt;The majority of the past week has been dedicated to debugging; it looks
like cross-scanned simulations finally work.
The plot below is a derivation of the spatial transfer function for a
number of different intrinsic sky power-law power spectra.&lt;/p&gt;
&lt;img alt="" src="http://2.bp.blogspot.com/-JyAPg0u9uQ8/Th3kuQh1fpI/AAAAAAAAGRs/pP7o3n9_wds/s320/Experiment10_AverageRecoveryFunction.png" /&gt;
&lt;p&gt;Justifying the above plot is essential.
First, the very steep power-laws …&lt;/p&gt;</summary><content type="html">&lt;p&gt;The majority of the past week has been dedicated to debugging; it looks
like cross-scanned simulations finally work.
The plot below is a derivation of the spatial transfer function for a
number of different intrinsic sky power-law power spectra.&lt;/p&gt;
&lt;img alt="" src="http://2.bp.blogspot.com/-JyAPg0u9uQ8/Th3kuQh1fpI/AAAAAAAAGRs/pP7o3n9_wds/s320/Experiment10_AverageRecoveryFunction.png" /&gt;
&lt;p&gt;Justifying the above plot is essential.
First, the very steep power-laws [-3 in the example below] show a
recovery fraction &amp;gt;1. This is simply because their S/N was inadequate -
the output power spectrum is nearly flat, but at a level higher than the
sky.&lt;/p&gt;
&lt;img alt="" src="http://4.bp.blogspot.com/-JPBjsLDfP5M/Th3lw5n1xTI/AAAAAAAAGR0/aDeOmMv5s8w/s320/exp10_ds2_astrosky_arrang45_atmotest_amp1.0E%252B01_sky00_seed00_peak010.00_nosmooth_compare.png" /&gt;
&lt;img alt="" src="http://3.bp.blogspot.com/-LOCDmoLCcZs/Th3lxfnKVzI/AAAAAAAAGR8/9NCM3OroGoM/s320/exp10_ds2_astrosky_arrang45_atmotest_amp1.0E%252B01_sky00_seed00_peak010.00_nosmooth_psds.png" /&gt;
&lt;p&gt;Second, the most plausible power-laws [-1.5 in the example below] show
pretty good recovery (90-95% over the relevant range):&lt;/p&gt;
&lt;img alt="" src="http://1.bp.blogspot.com/-MTZ8WGl3ZRc/Th3mMkvv2II/AAAAAAAAGSE/0OO4Te39fPI/s320/exp10_ds2_astrosky_arrang45_atmotest_amp1.0E%252B01_sky03_seed00_peak010.00_nosmooth_compare.png" /&gt;
&lt;img alt="" src="http://2.bp.blogspot.com/-5IeTZW-ZTAw/Th3mNHPC8gI/AAAAAAAAGSM/WhIWClGWqbo/s320/exp10_ds2_astrosky_arrang45_atmotest_amp1.0E%252B01_sky03_seed00_peak010.00_nosmooth_psds.png" /&gt;
&lt;img alt="" src="http://4.bp.blogspot.com/-O6ofm7GaxUI/Th3mNgf29AI/AAAAAAAAGSU/VzQ7aL-yd_E/s320/exp10_ds2_astrosky_arrang45_atmotest_amp1.0E%252B01_sky03_seed00_peak010.00_nosmooth_stf.png" /&gt;
&lt;p&gt;There are some &amp;quot;white&amp;quot; power losses, particularly in the flatter
power-spectra. My best guess is that this has something to do with the
relative scales being offset from a mean of 1, but so far all tests to
show that that is the cause have in fact shown no problems at all. What
else could cause a scale-independent power loss?
Also, the flat power spectrum (and inverted) aren't quite flat because I
impose a &amp;quot;galactic scale height&amp;quot; on them. Should I stop doing that?&lt;/p&gt;
</content><category term="bgps"></category><category term="googlepost"></category><category term="simulation"></category></entry><entry><title>additional problems</title><link href="https://keflavich.github.io/blog/additional-problems.html" rel="alternate"></link><published>2011-07-12T19:08:00-06:00</published><updated>2011-07-12T19:08:00-06:00</updated><author><name>Adam (adam.g.ginsburg@gmail.com)</name></author><id>tag:keflavich.github.io,2011-07-12:/blog/additional-problems.html</id><summary type="html">&lt;p&gt;There are a few cases in the L=30 field that look awful. 050706_o31
probably observed the inside of the dish. 070727_ob6 shows some
streaking that I can't easily explain... though it appears that there
are some bad bolos that need to get flagged out. I wonder if …&lt;/p&gt;</summary><content type="html">&lt;p&gt;There are a few cases in the L=30 field that look awful. 050706_o31
probably observed the inside of the dish. 070727_ob6 shows some
streaking that I can't easily explain... though it appears that there
are some bad bolos that need to get flagged out. I wonder if that's
systematic over 070727 observations....&lt;/p&gt;
</content><category term="bgps"></category><category term="googlepost"></category></entry><entry><title>Outflows and Massive Stars in the protocluster IRAS 05358+3543</title><link href="https://keflavich.github.io/blog/outflows-and-massive-stars-in-the-protocluster-iras-053583543.html" rel="alternate"></link><published>2011-07-11T16:47:00-06:00</published><updated>2011-07-11T16:47:00-06:00</updated><author><name>Adam (keflavich@gmail.com)</name></author><id>tag:keflavich.github.io,2011-07-11:/blog/outflows-and-massive-stars-in-the-protocluster-iras-053583543.html</id><summary type="html">&lt;p&gt;&lt;em&gt;First Author&lt;/em&gt; [ &lt;a class="reference external" href="http://adsabs.harvard.edu/abs/2009ApJ...707..310G"&gt;ADS&lt;/a&gt; ] [ &lt;a class="reference external" href="http://arxiv.org/abs/0910.2990"&gt;arXiv&lt;/a&gt; ]&lt;/p&gt;
&lt;p&gt;A mm and near-IR study of the IRAS 05358+3543 system. Recently (2011),
it has become clear that &amp;quot;protocluster&amp;quot; is unlikely to be the right
label for IRAS 05358+3543. &amp;quot;proto-association&amp;quot; might be more accurate.
Perhaps the most interesting result of this paper is the discovery …&lt;/p&gt;</summary><content type="html">&lt;p&gt;&lt;em&gt;First Author&lt;/em&gt; [ &lt;a class="reference external" href="http://adsabs.harvard.edu/abs/2009ApJ...707..310G"&gt;ADS&lt;/a&gt; ] [ &lt;a class="reference external" href="http://arxiv.org/abs/0910.2990"&gt;arXiv&lt;/a&gt; ]&lt;/p&gt;
&lt;p&gt;A mm and near-IR study of the IRAS 05358+3543 system. Recently (2011),
it has become clear that &amp;quot;protocluster&amp;quot; is unlikely to be the right
label for IRAS 05358+3543. &amp;quot;proto-association&amp;quot; might be more accurate.
Perhaps the most interesting result of this paper is the discovery that
the central source is likely to be a 400-AU binary with two massive (&amp;gt;8
msun) stars at different evolutionary stages. It is just barely in
ALMA's range...&lt;/p&gt;
</content><category term="publications"></category><category term="googlepost"></category><category term="star formation"></category><category term="first author"></category><category term="publication"></category><category term="outflows"></category></entry><entry><title>An Infrared Through Radio Study of the Properties and Evolution of IRDC Clumps</title><link href="https://keflavich.github.io/blog/an-infrared-through-radio-study-of-the-properties-and-evolution-of-irdc-clumps.html" rel="alternate"></link><published>2011-07-11T16:46:00-06:00</published><updated>2011-07-11T16:46:00-06:00</updated><author><name>Adam (keflavich@gmail.com)</name></author><id>tag:keflavich.github.io,2011-07-11:/blog/an-infrared-through-radio-study-of-the-properties-and-evolution-of-irdc-clumps.html</id><content type="html">&lt;p&gt;&lt;a class="reference external" href="http://adsabs.harvard.edu/abs/2010ApJ...721..222B"&gt;ADS&lt;/a&gt;
&lt;a class="reference external" href="http://arxiv.org/abs/1008.0871"&gt;arXiv&lt;/a&gt;
I assisted in many of the technical aspects of the paper including
Bolocam and VLA data reduction.
We identify a potential evolutionary sequence among millimeter &amp;quot;clumps&amp;quot;.
HCO+ and N2H+ maps are used to measure the physical properties of some
of these clumps.&lt;/p&gt;
</content><category term="publications"></category><category term="googleblog"></category><category term="star formation"></category><category term="publication"></category><category term="bolocam"></category></entry><entry><title>Herschel observations of the W43 "mini-starburst"</title><link href="https://keflavich.github.io/blog/herschel-observations-of-the-w43-mini-starburst.html" rel="alternate"></link><published>2011-07-11T16:38:00-06:00</published><updated>2011-07-11T16:38:00-06:00</updated><author><name>Adam (keflavich@gmail.com)</name></author><id>tag:keflavich.github.io,2011-07-11:/blog/herschel-observations-of-the-w43-mini-starburst.html</id><content type="html">&lt;p&gt;&lt;a class="reference external" href="http://adsabs.harvard.edu/abs/2010A%26A...518L..90B"&gt;ADS&lt;/a&gt;
&lt;a class="reference external" href="http://arxiv.org/abs/1005.4092"&gt;arXiv&lt;/a&gt;
A minor work as part of the Herschel Hi-Gal early science special issue.&lt;/p&gt;
</content><category term="publications"></category><category term="googlepost"></category><category term="publication"></category></entry><entry><title>The Bolocam Galactic Plane Survey IV: λ = 1.1 and 0.35 mm Dust Continuum Emission in the Galactic Center Region</title><link href="https://keflavich.github.io/blog/the-bolocam-galactic-plane-survey-iv-l-11-and-035-mm-dust-continuum-emission-in-the-galactic-center-region.html" rel="alternate"></link><published>2011-07-11T16:37:00-06:00</published><updated>2011-07-11T16:37:00-06:00</updated><author><name>Adam (keflavich@gmail.com)</name></author><id>tag:keflavich.github.io,2011-07-11:/blog/the-bolocam-galactic-plane-survey-iv-l-11-and-035-mm-dust-continuum-emission-in-the-galactic-center-region.html</id><content type="html">&lt;p&gt;&lt;a class="reference external" href="http://adsabs.harvard.edu/abs/2010ApJ...721..137B"&gt;ADS&lt;/a&gt;
&lt;a class="reference external" href="http://arxiv.org/abs/1011.0932"&gt;arXiv&lt;/a&gt;
As with other Bolocam papers, I reduced the data.
We identify a number of interesting mm sources in the Galactic Center
and characterize some of their properties using Bolocam and SHARC data.&lt;/p&gt;
</content><category term="publications"></category><category term="googlepost"></category><category term="publication"></category><category term="bolocam"></category></entry><entry><title>The Bolocam Galactic Plane Survey. III. Characterizing Physical Properties of Massive Star-forming Regions in the Gemini OB1 Molecular Cloud</title><link href="https://keflavich.github.io/blog/the-bolocam-galactic-plane-survey-iii-characterizing-physical-properties-of-massive-star-forming-regions-in-the-gemini-ob1-molecular-cloud.html" rel="alternate"></link><published>2011-07-11T16:35:00-06:00</published><updated>2011-07-11T16:35:00-06:00</updated><author><name>Adam (keflavich@gmail.com)</name></author><id>tag:keflavich.github.io,2011-07-11:/blog/the-bolocam-galactic-plane-survey-iii-characterizing-physical-properties-of-massive-star-forming-regions-in-the-gemini-ob1-molecular-cloud.html</id><summary type="html">&lt;p&gt;&lt;a class="reference external" href="http://adsabs.harvard.edu/abs/2010ApJ...717.1157D"&gt;ADS&lt;/a&gt;
&lt;a class="reference external" href="http://arxiv.org/abs/1005.4969"&gt;arXiv&lt;/a&gt;
As with the other Bolocam papers, I reduced the data. All of the
analysis work was done by Miranda.
Because of Gem OB1's known distance (~2 kpc), it was possible to derive
the physical properties of all of the 34 BGPS sources. NH&lt;sub&gt;3&lt;/sub&gt;
temperatures and line widths …&lt;/p&gt;</summary><content type="html">&lt;p&gt;&lt;a class="reference external" href="http://adsabs.harvard.edu/abs/2010ApJ...717.1157D"&gt;ADS&lt;/a&gt;
&lt;a class="reference external" href="http://arxiv.org/abs/1005.4969"&gt;arXiv&lt;/a&gt;
As with the other Bolocam papers, I reduced the data. All of the
analysis work was done by Miranda.
Because of Gem OB1's known distance (~2 kpc), it was possible to derive
the physical properties of all of the 34 BGPS sources. NH&lt;sub&gt;3&lt;/sub&gt;
temperatures and line widths were combined to measure total dust mass,
density, and virial parameter. This paper is the best characterization
of &amp;quot;typical&amp;quot; BGPS sources, at least for the outer galaxy.&lt;/p&gt;
</content><category term="publications"></category><category term="googlepost"></category><category term="publication"></category><category term="bolocam"></category></entry><entry><title>The Bolocam Galactic Plane Survey. II. Catalog of the Image Data</title><link href="https://keflavich.github.io/blog/the-bolocam-galactic-plane-survey-ii-catalog-of-the-image-data.html" rel="alternate"></link><published>2011-07-11T16:32:00-06:00</published><updated>2011-07-11T16:32:00-06:00</updated><author><name>Adam (keflavich@gmail.com)</name></author><id>tag:keflavich.github.io,2011-07-11:/blog/the-bolocam-galactic-plane-survey-ii-catalog-of-the-image-data.html</id><summary type="html">&lt;p&gt;&lt;a class="reference external" href="http://adsabs.harvard.edu/abs/2010ApJS..188..123R"&gt;ADS&lt;/a&gt;
&lt;a class="reference external" href="http://arxiv.org/abs/0909.2871"&gt;arXiv&lt;/a&gt;
My primary contribution to this work was reducing the data from which
catalogs were derived. As part of this process, I also made the noise
maps that were part of the Bolocat process and did some of the by-eye
verification work.
Bolocat extracted &amp;gt;8000 sources from the BGPS …&lt;/p&gt;</summary><content type="html">&lt;p&gt;&lt;a class="reference external" href="http://adsabs.harvard.edu/abs/2010ApJS..188..123R"&gt;ADS&lt;/a&gt;
&lt;a class="reference external" href="http://arxiv.org/abs/0909.2871"&gt;arXiv&lt;/a&gt;
My primary contribution to this work was reducing the data from which
catalogs were derived. As part of this process, I also made the noise
maps that were part of the Bolocat process and did some of the by-eye
verification work.
Bolocat extracted &amp;gt;8000 sources from the BGPS using a watershed
decomposition method. Most of these sources have now been observed with
the HHT in HCO+ and N2H+ to determine their velocity and kinematic
distance.&lt;/p&gt;
</content><category term="publications"></category><category term="googlepost"></category><category term="publication"></category><category term="bolocam"></category></entry><entry><title>The Bolocam Galactic Plane Survey: Survey Description and Data Reduction</title><link href="https://keflavich.github.io/blog/the-bolocam-galactic-plane-survey-survey-description-and-data-reduction.html" rel="alternate"></link><published>2011-07-11T16:29:00-06:00</published><updated>2011-07-11T16:29:00-06:00</updated><author><name>Adam (keflavich@gmail.com)</name></author><id>tag:keflavich.github.io,2011-07-11:/blog/the-bolocam-galactic-plane-survey-survey-description-and-data-reduction.html</id><summary type="html">&lt;p&gt;&lt;a class="reference external" href="http://adsabs.harvard.edu/abs/2011ApJS..192....4A"&gt;ADS&lt;/a&gt;
&lt;a class="reference external" href="http://arxiv.org/abs/1011.0691"&gt;arXiv&lt;/a&gt;
I wrote about half of this paper and did the majority of the work
described, including writing the &lt;a class="reference external" href="http://code.google.com/p/bgpspipeline"&gt;data pipeline&lt;/a&gt; and reducing all of
the data. However, there was a good deal of work done on the project
before I showed up on the scene.
The paper describes …&lt;/p&gt;</summary><content type="html">&lt;p&gt;&lt;a class="reference external" href="http://adsabs.harvard.edu/abs/2011ApJS..192....4A"&gt;ADS&lt;/a&gt;
&lt;a class="reference external" href="http://arxiv.org/abs/1011.0691"&gt;arXiv&lt;/a&gt;
I wrote about half of this paper and did the majority of the work
described, including writing the &lt;a class="reference external" href="http://code.google.com/p/bgpspipeline"&gt;data pipeline&lt;/a&gt; and reducing all of
the data. However, there was a good deal of work done on the project
before I showed up on the scene.
The paper describes the methods by which we reduced the Bolocam
observations of the Northern Galactic Plane and the tests we ran to
determine how well we recovered the &amp;quot;true&amp;quot; sky structure.&lt;/p&gt;
</content><category term="publications"></category><category term="googlepost"></category><category term="publication"></category><category term="bolocam"></category></entry><entry><title>A spatially resolved study of photoelectric heating and [C II] cooling in the LMC. Comparison with dust emission as seen by SAGE</title><link href="https://keflavich.github.io/blog/a-spatially-resolved-study-of-photoelectric-heating-and-c-ii-cooling-in-the-lmc-comparison-with-dust-emission-as-seen-by-sage.html" rel="alternate"></link><published>2011-07-11T16:22:00-06:00</published><updated>2011-07-11T16:22:00-06:00</updated><author><name>Adam (keflavich@gmail.com)</name></author><id>tag:keflavich.github.io,2011-07-11:/blog/a-spatially-resolved-study-of-photoelectric-heating-and-c-ii-cooling-in-the-lmc-comparison-with-dust-emission-as-seen-by-sage.html</id><content type="html">&lt;p&gt;&lt;a class="reference external" href="http://adsabs.harvard.edu/abs/2009A%26A...494..647R"&gt;ADS&lt;/a&gt;
&lt;a class="reference external" href="http://arxiv.org/abs/0812.2396"&gt;arXiv&lt;/a&gt;
My contribution to this paper was quite minor. I was briefly a member of
the SAGE team and this is the only SAGE paper I'm included on.&lt;/p&gt;
</content><category term="publications"></category><category term="googleblog"></category><category term="SAGE"></category><category term="publication"></category></entry><entry><title>Kinematics and H2 morphology of the multipolar post-AGB star IRAS 16594-4656</title><link href="https://keflavich.github.io/blog/kinematics-and-h2-morphology-of-the-multipolar-post-agb-star-iras-16594-4656.html" rel="alternate"></link><published>2011-07-11T16:18:00-06:00</published><updated>2011-07-11T16:18:00-06:00</updated><author><name>Adam (keflavich@gmail.com)</name></author><id>tag:keflavich.github.io,2011-07-11:/blog/kinematics-and-h2-morphology-of-the-multipolar-post-agb-star-iras-16594-4656.html</id><summary type="html">&lt;p&gt;&lt;a class="reference external" href="http://adsabs.harvard.edu/abs/2008A%26A...480..775V"&gt;ADS&lt;/a&gt;
&lt;a class="reference external" href="http://arxiv.org/abs/0801.0674"&gt;arXiv&lt;/a&gt;
An interesting examination of the morphology of the circumstellar
material around IRAS 16594-4656. I did this work with Toshiya Ueta at
the University of Denver. My contribution was azimuthally interpolating
the 7 high-resolution long-slit spectra onto a 3-dimensional grid,
creating a full 3D position-velocity cube. I used &lt;a class="reference external" href="http://pdl.perl.org/"&gt;the …&lt;/a&gt;&lt;/p&gt;</summary><content type="html">&lt;p&gt;&lt;a class="reference external" href="http://adsabs.harvard.edu/abs/2008A%26A...480..775V"&gt;ADS&lt;/a&gt;
&lt;a class="reference external" href="http://arxiv.org/abs/0801.0674"&gt;arXiv&lt;/a&gt;
An interesting examination of the morphology of the circumstellar
material around IRAS 16594-4656. I did this work with Toshiya Ueta at
the University of Denver. My contribution was azimuthally interpolating
the 7 high-resolution long-slit spectra onto a 3-dimensional grid,
creating a full 3D position-velocity cube. I used &lt;a class="reference external" href="http://pdl.perl.org/"&gt;the Perl Data
Language&lt;/a&gt;, which I have since abandoned.&lt;/p&gt;
</content><category term="publications"></category><category term="googlepost"></category><category term="post-agb"></category><category term="publication"></category></entry><entry><title>[minor] Ongoing problems...</title><link href="https://keflavich.github.io/blog/minor-ongoing-problems.html" rel="alternate"></link><published>2011-07-10T19:41:00-06:00</published><updated>2011-07-10T19:41:00-06:00</updated><author><name>Adam (adam.g.ginsburg@gmail.com)</name></author><id>tag:keflavich.github.io,2011-07-10:/blog/minor-ongoing-problems.html</id><summary type="html">&lt;p&gt;Since I have many tasks running in parallel, I need to summarize them
sometimes...&lt;/p&gt;
&lt;ol class="arabic simple"&gt;
&lt;li&gt;There are many &amp;quot;bad&amp;quot; observations that haven't been placed in &amp;quot;bad&amp;quot;
directories. A list of the error messages generated is here: &lt;a class="reference external" href="http://code.google.com/p/bgpspipeline/wiki/MakingInfiles"&gt;Making
Infiles wiki&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;There may be streaking in the BGPS ds2 images of l030 and …&lt;/li&gt;&lt;/ol&gt;</summary><content type="html">&lt;p&gt;Since I have many tasks running in parallel, I need to summarize them
sometimes...&lt;/p&gt;
&lt;ol class="arabic simple"&gt;
&lt;li&gt;There are many &amp;quot;bad&amp;quot; observations that haven't been placed in &amp;quot;bad&amp;quot;
directories. A list of the error messages generated is here: &lt;a class="reference external" href="http://code.google.com/p/bgpspipeline/wiki/MakingInfiles"&gt;Making
Infiles wiki&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;There may be streaking in the BGPS ds2 images of l030 and l032. Still
trying to re-run cleanly to find out&lt;/li&gt;
&lt;li&gt;There may be unflagged high-points in l030 and l032. Also under
examination&lt;/li&gt;
&lt;li&gt;Simulations have been generating bulk-offset outputs; my suspicion
was that the relative scales were being set incorrectly because astro
dominated atmo, so I bumped up the atmo scale. The tests have run but
I haven't examined the outputs&lt;/li&gt;
&lt;li&gt;V1 sims have shown streaking, possibly because of the previous
bullet, but certainly (in part) because cross-scans haven't worked&lt;/li&gt;
&lt;/ol&gt;
</content><category term="bgps"></category><category term="googlepost"></category><category term="problems"></category><category term="pipeline"></category><category term="minor"></category></entry><entry><title>Direct comparison of column-density power spectra</title><link href="https://keflavich.github.io/blog/direct-comparison-of-column-density-power-spectra.html" rel="alternate"></link><published>2011-06-29T04:43:00-06:00</published><updated>2011-06-29T04:43:00-06:00</updated><author><name>Adam (adam.g.ginsburg@gmail.com)</name></author><id>tag:keflavich.github.io,2011-06-29:/blog/direct-comparison-of-column-density-power-spectra.html</id><summary type="html">&lt;p&gt;I've multiplied the 13CO integrated data cube, the Herschel 500
micron*, and the BGPS v1.0 and v2.0 by the appropriate conversion
factor to get the maps into units of column density assuming T=20K and
some opacity for the dust maps. BGPS v1 has been multiplied by the …&lt;/p&gt;</summary><content type="html">&lt;p&gt;I've multiplied the 13CO integrated data cube, the Herschel 500
micron*, and the BGPS v1.0 and v2.0 by the appropriate conversion
factor to get the maps into units of column density assuming T=20K and
some opacity for the dust maps. BGPS v1 has been multiplied by the 1.5
&amp;quot;correction&amp;quot; factor.&lt;/p&gt;
&lt;blockquote&gt;
&lt;ul class="simple"&gt;
&lt;li&gt;The Herschel maps are arbitrarily scaled; I didn't derive an actual
column conversion but just guess-and-checked once or twice until I got
something pretty close.&lt;/li&gt;
&lt;/ul&gt;
&lt;/blockquote&gt;
&lt;p&gt;The power spectra look pretty outstanding:&lt;/p&gt;
&lt;img alt="" src="http://4.bp.blogspot.com/--uPAgTvMjkk/TgqcjV9uvhI/AAAAAAAAGO4/cOe1iLuF-H0/s320/powerspectrum_comparison_512_0x1.png" /&gt;
&lt;img alt="" src="http://3.bp.blogspot.com/-1Lupi5MSVpk/TgqcjsPwKFI/AAAAAAAAGPA/D9oNXIHdRtE/s320/powerspectrum_comparison_512_1x1.png" /&gt;
&lt;img alt="" src="http://2.bp.blogspot.com/-P2pC9RDKUic/TgqckFwVQUI/AAAAAAAAGPI/FU8cUUZe7bc/s320/powerspectrum_comparison_512_2x1.png" /&gt;
&lt;p&gt;The bumps and wiggles in the 50-200&amp;quot; range are quite well-matched in
Herschel and Bolocam. Some map edge effects are visible in the Herschel
maps, resulting in multi-frequency bumps at small spatial scales. The
Herschel noise floor is also quite evidently lower. Also noteworthy is
that BGPS v1 (scaled up by 1.5) matches the others &amp;quot;pretty well&amp;quot; but is
a worse match, in general, to the Herschel data than is the BGPS v2.
Here are some zoomed-in plots on the inverse scale:&lt;/p&gt;
&lt;img alt="" src="http://3.bp.blogspot.com/-ldoGiyzeb2w/TgqhYPqerHI/AAAAAAAAGPQ/E1BFNEhcadw/s320/powerspectrum_comparison_512_0x1.png" /&gt;
&lt;img alt="" src="http://3.bp.blogspot.com/-algBRWCXB9E/TgqhYgcwsPI/AAAAAAAAGPY/eSbDDcAYvCk/s320/powerspectrum_comparison_512_1x1.png" /&gt;
&lt;img alt="" src="http://4.bp.blogspot.com/-36H34cVnAPM/TgqhY7f4kAI/AAAAAAAAGPg/HUWvO9nZwuE/s320/powerspectrum_comparison_512_2x1.png" /&gt;
&lt;p&gt;And finally, the 13CO data is totally unrepresentative of the dust data.
There is very little agreement on any scale. This may imply that the
13CO and/or dust temperature is too high, as a decreased T_D or T_ex
will decrease 13CO column and increase dust column. However, it also
raises a question - on what scales should dust and CO agree?
This is getting into some real science, perhaps. The shapes of the CO
and dust power spectra disagree: the CO is pretty well-fit by a power
law, while the dust is not. What hypotheses can explain this?&lt;/p&gt;
&lt;ol class="arabic"&gt;
&lt;li&gt;&lt;p class="first"&gt;There is a systematic temperature difference / preference in which CO
or dust is hotter on the largest scales.
-Dust is probably warmer on larger scales, however CO should be less
abundant / more readily dissociated on these largest, most diffuse
scales. CO shouldn't exist (or at least, should be underabundant) in
regions with high temperature. Maybe? This probably needs to be
quantified.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p class="first"&gt;There is a systematic dust opacity difference on large scales
resulting in lower dust emission.&lt;/p&gt;
&lt;blockquote&gt;
&lt;ul class="simple"&gt;
&lt;li&gt;This is almost certainly true: the dust population increases in
opacity with age, following OH94. Dust on the largest spatial scales
should not have coagulated / collected ice, leading to a lower
opacity on the largest scales&lt;/li&gt;
&lt;li&gt;This may also be true even though CO is present: dust coagulation
is less efficient than CO formation at n~10^3-10^4 (I think - again,
off the cuff, but consistent with OH94)&lt;/li&gt;
&lt;/ul&gt;
&lt;/blockquote&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p class="first"&gt;The CO overestimates all scales, either because of incorrect bulk
abundance or temperature considerations.&lt;/p&gt;
&lt;blockquote&gt;
&lt;ul class="simple"&gt;
&lt;li&gt;This is problematic..... if you drop the CO values at all scales, it
becomes deficient in the 50-200 arcsecond range, where the dust
measurements agree quite well&lt;/li&gt;
&lt;/ul&gt;
&lt;/blockquote&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p class="first"&gt;There is a preferred distance in both images&lt;/p&gt;
&lt;blockquote&gt;
&lt;ul class="simple"&gt;
&lt;li&gt;It is not clear that the observed effects would occur because of
this&lt;/li&gt;
&lt;li&gt;It is also quite evident from other analyses that there IS a
preferred velocity, at least, and it completely dominates all others
and has the same shape as the integrated power spectrum. So a
distance effect is most likely ruled out.&lt;/li&gt;
&lt;/ul&gt;
&lt;/blockquote&gt;
&lt;/li&gt;
&lt;/ol&gt;
</content><category term="bgps"></category><category term="googlepost"></category><category term="analysis"></category></entry><entry><title>Power Spectra of 13CO and Bolocam</title><link href="https://keflavich.github.io/blog/power-spectra-of-13co-and-bolocam.html" rel="alternate"></link><published>2011-06-22T18:14:00-06:00</published><updated>2011-06-22T18:14:00-06:00</updated><author><name>Adam (adam.g.ginsburg@gmail.com)</name></author><id>tag:keflavich.github.io,2011-06-22:/blog/power-spectra-of-13co-and-bolocam.html</id><content type="html"></content><category term="bgps"></category><category term="googlepost"></category></entry><entry><title>Measuring preferred angles in the Herschel data on larger scales</title><link href="https://keflavich.github.io/blog/measuring-preferred-angles-in-the-herschel-data-on-larger-scales.html" rel="alternate"></link><published>2011-06-07T22:09:00-06:00</published><updated>2011-06-07T22:09:00-06:00</updated><author><name>Adam (adam.g.ginsburg@gmail.com)</name></author><id>tag:keflavich.github.io,2011-06-07:/blog/measuring-preferred-angles-in-the-herschel-data-on-larger-scales.html</id><summary type="html">&lt;p&gt;This is something of a repeat of yesterday's exercise, but for Herschel
data on larger scales, where filamentation is expected (at different
angles?) on a different scale than the Galactic plane.
First example: L030 500 microns&lt;/p&gt;
&lt;img alt="" src="http://1.bp.blogspot.com/-wtocYOxuJGo/Te6boI6cE7I/AAAAAAAAGNU/f9h0MXIPNh8/s320/bin_l30_plw_PSD.png" /&gt;
&lt;img alt="" src="http://4.bp.blogspot.com/-HlNCVZYyly4/Te6bob1mWLI/AAAAAAAAGNc/Jq6MTJnVyWE/s320/bin_l30_plw_azprofile.png" /&gt;
&lt;p&gt;There is evidently a preferred direction that is correlated down to the
resolution of …&lt;/p&gt;</summary><content type="html">&lt;p&gt;This is something of a repeat of yesterday's exercise, but for Herschel
data on larger scales, where filamentation is expected (at different
angles?) on a different scale than the Galactic plane.
First example: L030 500 microns&lt;/p&gt;
&lt;img alt="" src="http://1.bp.blogspot.com/-wtocYOxuJGo/Te6boI6cE7I/AAAAAAAAGNU/f9h0MXIPNh8/s320/bin_l30_plw_PSD.png" /&gt;
&lt;img alt="" src="http://4.bp.blogspot.com/-HlNCVZYyly4/Te6bob1mWLI/AAAAAAAAGNc/Jq6MTJnVyWE/s320/bin_l30_plw_azprofile.png" /&gt;
&lt;p&gt;There is evidently a preferred direction that is correlated down to the
resolution of the map, though the preference is smallest at the smallest
scales. This may simply be a statement that there are more sources along
the galactic plane, though, since there really isn't any particularly
obvious filamentation in the image.&lt;/p&gt;
&lt;img alt="" src="http://4.bp.blogspot.com/-LfWovOR8nBk/Te6bpM-PNTI/AAAAAAAAGNk/T9il85L34p0/s320/bin_l59_plw_PSD.png" /&gt;
&lt;img alt="" src="http://4.bp.blogspot.com/-1_7ezH0S6tk/Te6bpokBuYI/AAAAAAAAGNs/AQL0U86N4gw/s320/bin_l59_plw_azprofile.png" /&gt;
&lt;p&gt;In L59, on the other hand, there is at most a very weak preference
except at the largest scales corresponding to the Galactic Plane. This
is somewhat interesting because there IS obvious filamentation in the
L59 image, but it does not have a preferred direction. Unfortunately, it
is not obvious whether or where filamentation shows up in fourier space
if it does not have a preferred direction. There is no excess at any
spatial scale that I can pick out.&lt;/p&gt;
</content><category term="bgps"></category><category term="googlepost"></category><category term="simulation"></category></entry><entry><title>Hunting for preferred directions</title><link href="https://keflavich.github.io/blog/hunting-for-preferred-directions.html" rel="alternate"></link><published>2011-06-06T03:58:00-06:00</published><updated>2011-06-06T03:58:00-06:00</updated><author><name>Adam (adam.g.ginsburg@gmail.com)</name></author><id>tag:keflavich.github.io,2011-06-06:/blog/hunting-for-preferred-directions.html</id><summary type="html">&lt;p&gt;In our last group meeting, we discussed simulations using filamentary
structures. I've been trying to determine how best to generate
random/artificial filamentary structures in images. The first step in
that direction is coming up with a way to measure asymmetries and
therefore preferred directions within a real map. In …&lt;/p&gt;</summary><content type="html">&lt;p&gt;In our last group meeting, we discussed simulations using filamentary
structures. I've been trying to determine how best to generate
random/artificial filamentary structures in images. The first step in
that direction is coming up with a way to measure asymmetries and
therefore preferred directions within a real map. In order to do this,
I've had to develop a number of new tools in agpy for azimuthally binned
radial profiles and radially-averaged azimuthal profiles
(&lt;a class="reference external" href="http://code.google.com/p/agpy/source/browse/trunk/agpy/radialprofile.py"&gt;radialprofile.py&lt;/a&gt;).
Examining real maps is necessary because a simple sinusoidal dependence
of the power introduces filamentation along the same directions at ALL
scales, which is not obviously (or in some cases, obviously not) the
correct solution. Filaments are observed on large scales, but sometimes
there can be 'kinks' in opposite directions on small scales.
So, the map I picked to examine was one with the most flagrantly obvious
filamentary structure in it: the Motte DR 21 MAMBO map. It was also a
choice of convenience because I already had the data on my laptop....&lt;/p&gt;
&lt;img alt="" src="http://3.bp.blogspot.com/-ULjqyt_ofEI/TexIAK9ohhI/AAAAAAAAGM0/eCEys_tFOTA/s320/MAMBOmap.png" /&gt;
&lt;p&gt;The preferred direction is quite obvious in this map: there is a long
filament going up and down the map. Therefore, the DC component should
be substantially higher in one direction than the other.&lt;/p&gt;
&lt;img alt="" src="http://1.bp.blogspot.com/-X7TY9wPUL7Y/TexIAZ7hH_I/AAAAAAAAGM8/IEkgX500_Os/s320/MAMBOpsd.png" /&gt;
&lt;p&gt;In the power-spectral-density image, it is quite clear that there is a
preferred direction, though it is not obvious that the fourier transform
is rotated 90 degrees from the image. My fourier intuition somewhat
fails me here.... I realize that a broad, smooth profile in real space
should be narrow and highly peaked in fourier space, but I don't fully
understand why it effectively spreads out in the perpendicular
direction, which I have confirmed that it does with a simple experiment.
I also don't know what the Shah function is, but it implies a periodic
dip in the image at every 1/5th of the image, or every 50 pixels.&lt;/p&gt;
&lt;img alt="" src="http://2.bp.blogspot.com/-l4qWlj1G42k/TexIAufhjSI/AAAAAAAAGNE/UqagczdWzwA/s320/MAMBOpowerspectra.png" /&gt;
&lt;p&gt;These are the power spectra averaged over different angles as labeled.
-15 corresponds to -15 to +15, 15 corresponds to 15 to 45, etc. The
highly peaked 75-105 power spectrum shows the large-scale filamentary
profile. I think the difference in the DC component is actually an
artifact of the azimuthal binning process: each pixel can only be
assigned one angle, so the DC value isn't included in all of them...
I'll need to find a workaround for that because it's quite deceptive.&lt;/p&gt;
&lt;img alt="" src="http://4.bp.blogspot.com/-qEWk2rRrwNI/TexIBKn59FI/AAAAAAAAGNM/MXdsiKagpW4/s320/MAMBOazspectra.png" /&gt;
&lt;p&gt;The more interesting way to view the data - and perhaps to analyze maps
- is to take &lt;em&gt;radial&lt;/em&gt; averages in some range of spatial scales and plot
the azimuthal dependence. There is a clear sinusoid at large scales. The
legend shows &amp;quot;spatial frequency&amp;quot; in 1/pixel units. The distribution
becomes more even with angle and even changes preferred direction at
smaller scales (higher frequencies).
Next step is testing different approaches. I think an added,
steeper-power-law component would probably be the best way to start.
Another suggestion, courtesy Bruce Elmegreen, is to attempt this sort of
asymmetric power law sampling in 3 dimensions (with only 1 or 2
dimensions asymmetric) and then projecting down onto two dimensions.&lt;/p&gt;
</content><category term="bgps"></category><category term="googlepost"></category><category term="simulation"></category></entry><entry><title>Updates for 6/1/2011 meeting</title><link href="https://keflavich.github.io/blog/updates-for-612011-meeting.html" rel="alternate"></link><published>2011-06-01T21:40:00-06:00</published><updated>2011-06-01T21:40:00-06:00</updated><author><name>Adam (adam.g.ginsburg@gmail.com)</name></author><id>tag:keflavich.github.io,2011-06-01:/blog/updates-for-612011-meeting.html</id><summary type="html">&lt;p&gt;This is going to be a mishmash of various things....
First, Jared has run the same simulations I e-mailed out through the
V1.0 pipeline. Unfortunately, the results are not good - there is
substantial streaking of a variety not seen in the real data in V1.
Second, here are the …&lt;/p&gt;</summary><content type="html">&lt;p&gt;This is going to be a mishmash of various things....
First, Jared has run the same simulations I e-mailed out through the
V1.0 pipeline. Unfortunately, the results are not good - there is
substantial streaking of a variety not seen in the real data in V1.
Second, here are the simulated images from V2:
&lt;a class="reference external" href="http://eta.colorado.edu/bgps/simulations/Experiment7_Simulation_Images.pdf"&gt;http://eta.colorado.edu/bgps/simulations/Experiment7_Simulation_Images.pdf&lt;/a&gt;
Unfortunately I can't present a direct comparison because something got
screwed up...&lt;/p&gt;
</content><category term="bgps"></category><category term="googlepost"></category></entry><entry><title>Recovery as a function of bolometer noise part 2</title><link href="https://keflavich.github.io/blog/recovery-as-a-function-of-bolometer-noise-part-2.html" rel="alternate"></link><published>2011-05-27T23:49:00-06:00</published><updated>2011-05-27T23:49:00-06:00</updated><author><name>Adam (adam.g.ginsburg@gmail.com)</name></author><id>tag:keflavich.github.io,2011-05-27:/blog/recovery-as-a-function-of-bolometer-noise-part-2.html</id><summary type="html">&lt;p&gt;In the Experiment 7 simulations I was running, I observed greater noise
than expected, causing me to question the results of the &lt;a class="reference external" href="http://bolocam.blogspot.com/2011/05/recovery-as-function-of-bolometer-noise.html"&gt;previous
post&lt;/a&gt;. I therefore ran Experiment 8, which is the same as Experiment 6
from that post with a larger (320x320) map with a larger step size. The …&lt;/p&gt;</summary><content type="html">&lt;p&gt;In the Experiment 7 simulations I was running, I observed greater noise
than expected, causing me to question the results of the &lt;a class="reference external" href="http://bolocam.blogspot.com/2011/05/recovery-as-function-of-bolometer-noise.html"&gt;previous
post&lt;/a&gt;. I therefore ran Experiment 8, which is the same as Experiment 6
from that post with a larger (320x320) map with a larger step size. The
noise recovery remains linear, but the scaling is quite different - a
factor of ~4 instead of ~12. The step size is the most likely culprit,
since an 8x larger step size should result in sqrt(8)~2.8 worse noise
per pixel.&lt;/p&gt;
&lt;img alt="" src="http://1.bp.blogspot.com/-ubZ-9LXWmXQ/TeAdFoOUcZI/AAAAAAAAGMY/bSSwM2JuLyA/s320/exp8_measurednoise_vs_bolonoiseRMS.png" /&gt;
&lt;p&gt;There are some curious / worrisome artifacts that turn up and are
evident in the recovery fraction plot. For the low-noise cases, the
middle bolometers get totally flagged out because they are over-weighted
(by orders of magnitude).&lt;/p&gt;
&lt;img alt="" src="http://3.bp.blogspot.com/-0KKwo1wB6aI/TeAdFz6pTiI/AAAAAAAAGMg/yHGsx8j7WMM/s320/exp8_recovery_vs_bolonoiseRMS.png" /&gt;
&lt;p&gt;So I'm forced to explore via pyflagger. I will almost certainly need to
re-run all experiments after making a change to how weights are
computed.
Well, it turns out the problem is that those 28 bolos are scaled to
zero, even though there is nothing obvious (or even suggestive) in their
timestream plots. This is only true when varyrelscale is off. Apparently
varying the relative scales leads to a different problem.
AHA! The noise is so low that the relative scales are SO well correlated
that the signal is enough to cause problems! A plausible solution is
therefore no change to the pipeline, but to add minimal (nominal) noise
to the relative scales to increase the MAD so that the others don't get
flagged out.
So I added a 1% variation, which prevented flagging at the scale stage,
but there are still some disturbing artifacts in the map:&lt;/p&gt;
&lt;img alt="" src="http://4.bp.blogspot.com/-TX2_8PsUgdM/TeA4Iu9T5FI/AAAAAAAAGMo/vfEjTGcSBp0/s320/psf_ds1_reconv_arrang45_atmotest_noise%252B1.0E-03_amp1.0E%252B00_compare.png" /&gt;
&lt;p&gt;Unfortunately, this problem requires further examination in detail. Exp
9/10 should probably be gaussians and airys on larger step-size maps,
but the solution will require something else, possibly even a change in
the pipeline. On the plus side, I think I can re-run experiment 7 with a
factor of 4 instead of 12 scaling for the noise and expect it to work.&lt;/p&gt;
</content><category term="bgps"></category><category term="googlepost"></category><category term="simulation"></category></entry><entry><title>Recovery as a function of bolometer noise</title><link href="https://keflavich.github.io/blog/recovery-as-a-function-of-bolometer-noise.html" rel="alternate"></link><published>2011-05-26T18:47:00-06:00</published><updated>2011-05-26T18:47:00-06:00</updated><author><name>Adam (adam.g.ginsburg@gmail.com)</name></author><id>tag:keflavich.github.io,2011-05-26:/blog/recovery-as-a-function-of-bolometer-noise.html</id><summary type="html">&lt;p&gt;One clear simulation result comes from varying the amplitude of the
gaussian noise added to each bolometer's timestream for a fixed
atmosphere amplitude. The atmosphere amplitude sets the &lt;em&gt;mean&lt;/em&gt; value of
the atmosphere timestream.
Increased bolometer noise results in decreased recovery of the outer
rings of the PSF. This is …&lt;/p&gt;</summary><content type="html">&lt;p&gt;One clear simulation result comes from varying the amplitude of the
gaussian noise added to each bolometer's timestream for a fixed
atmosphere amplitude. The atmosphere amplitude sets the &lt;em&gt;mean&lt;/em&gt; value of
the atmosphere timestream.
Increased bolometer noise results in decreased recovery of the outer
rings of the PSF. This is demonstrated in that the peak amplitudes
remain constant (as long as they are still recovered) while the aperture
sums (in 100&amp;quot; radius apertures) decrease.
The simulations were run on a logarithmic spacing from 1e-3 to 1e0. The
1e0 point is missing because the peak flux wasn't recovered by the
gaussian fitter. The model maps don't recover the source at all for this
run, which is worrisome, since it means there is no iterative process
There is a minor concern that some simulations over-recover the peak at
high noise, but the effect is at a &amp;lt;1% level so not very worrisome.&lt;/p&gt;
&lt;img alt="" src="http://1.bp.blogspot.com/-H0j13RdCays/Td6QrP78qWI/AAAAAAAAGMI/X-74WUEgYFE/s320/exp6_recovery_vs_bolonoiseRMS.png" /&gt;
&lt;p&gt;From the same set of simulations, I derive the pixel RMS of the map (the
noise level) derived from a give individual bolometer noise. The
theoretical expectation would be
Measured Noise = Input Noise / N(bolometers)
&lt;em&gt;if&lt;/em&gt; the pixel sampling and the timestream sampling were the same (i.e.
there were exactly sqrt(nbolos) hits per pixel). This is not exactly the
case, and there are potential additional sources of noise. Nonetheless,
the naive theory appears to be good enough in this simulation:&lt;/p&gt;
&lt;img alt="" src="http://3.bp.blogspot.com/-ar8f4tdXUkQ/Td6fecs1WoI/AAAAAAAAGMQ/f_PwoxFp4Fo/s320/exp6_measurednoise_vs_bolonoiseRMS.png" /&gt;
&lt;p&gt;You can ignore the green/blue points in this plot; they just show that
the std. dev. around the source is dominated by the source.
Additionally, there is a noise floor, probably set by an inability to
model the point source when the S/N gets to be ~500, preventing
convergence of the iterator at a level better than 0.2%.
In short, though, I'm going to use 1/sqrt(nbolos) to determine the
appropriate input noise level in the astro simulations.&lt;/p&gt;
</content><category term="bgps"></category><category term="googlepost"></category><category term="simulation"></category></entry><entry><title>Astrophysical Signal Modeling</title><link href="https://keflavich.github.io/blog/astrophysical-signal-modeling.html" rel="alternate"></link><published>2011-05-24T17:39:00-06:00</published><updated>2011-05-24T17:39:00-06:00</updated><author><name>Adam (adam.g.ginsburg@gmail.com)</name></author><id>tag:keflavich.github.io,2011-05-24:/blog/astrophysical-signal-modeling.html</id><summary type="html">&lt;p&gt;Here we finally get into the meat of the simulations. The goal is to
develop realistic - but arbitrary - astrophysical models to run through
simulations.
The first step is to figure out what a realistic sky looks like. To this
end, I use the HiGal SDP fields, looking only at their …&lt;/p&gt;</summary><content type="html">&lt;p&gt;Here we finally get into the meat of the simulations. The goal is to
develop realistic - but arbitrary - astrophysical models to run through
simulations.
The first step is to figure out what a realistic sky looks like. To this
end, I use the HiGal SDP fields, looking only at their power spectra.
They are well represented by a power law with α = 3 (shown in the dashed
black line below).&lt;/p&gt;
&lt;img alt="" src="http://2.bp.blogspot.com/-50R2lfaIGrY/TdvZi5tl5VI/AAAAAAAAGLQ/w45OC9dk3Rg/s320/sdp_psds_powerlaw.png" /&gt;
&lt;p&gt;Therefore, I've attempted to randomly sample from a similar power law
distribution using the following IDL code:&lt;/p&gt;
&lt;p&gt;&lt;tt class="docutils literal"&gt;dimsize = 512&amp;nbsp;&amp;nbsp;&amp;nbsp; realpower = realpowers[ii]&amp;nbsp;&amp;nbsp;&amp;nbsp; imagpower = imagpowers[ii]&amp;nbsp;&amp;nbsp;&amp;nbsp; imagscale = imagscales[ii]&amp;nbsp;&amp;nbsp;&amp;nbsp; peakamp = 1.0&amp;nbsp;&amp;nbsp;&amp;nbsp; noise = 0.03&amp;nbsp;&amp;nbsp;&amp;nbsp; smoothscale = 2.0&amp;nbsp;&amp;nbsp;&amp;nbsp; smoothkernel = &lt;span class="pre"&gt;psf_gaussian(npix=512,ndim=2,fwhm=31.2/7.2/2.0,/normalize)&lt;/span&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp; sigma_gp = 128.0 ; &lt;span class="pre"&gt;sigma-width&lt;/span&gt; of the Galactic Plane (can get more accurate value from Cara's paper)&amp;nbsp;&amp;nbsp;&amp;nbsp; xx = findgen(dimsize) #&amp;nbsp; replicate(1.0,dimsize)&amp;nbsp;&amp;nbsp;&amp;nbsp; yy = findgen(dimsize) ## replicate(1.0,dimsize)&amp;nbsp;&amp;nbsp;&amp;nbsp; rr = sqrt( &lt;span class="pre"&gt;(xx-255.5)^2&lt;/span&gt; + &lt;span class="pre"&gt;(yy-255.5)^2&lt;/span&gt; )&amp;nbsp;&amp;nbsp;&amp;nbsp; realpart = (rr^realpower) * &lt;span class="pre"&gt;randomn(seed1,[dimsize,dimsize])&lt;/span&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp; imagpart = &lt;span class="pre"&gt;((rr*imagscale)^imagpower)&lt;/span&gt; * &lt;span class="pre"&gt;randomn(seed2,[dimsize,dimsize])*complex(0,1)&lt;/span&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp; fakesky = abs(fft(shift(realpart + &lt;span class="pre"&gt;imagpart,0,0),1))&lt;/span&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp; expweight = &lt;span class="pre"&gt;exp(-(yy-255.5)^2/(2.0*sigma_gp^2))&lt;/span&gt; ; most power is in the inner plane&amp;nbsp;&amp;nbsp;&amp;nbsp; fakesky *= peakamp/max(fakesky)&amp;nbsp;&amp;nbsp;&amp;nbsp; fakesky_sm = convolve(fakesky,smoothkernel)&amp;nbsp;&amp;nbsp;&amp;nbsp; fakesky_sm = fakesky_sm*expweight&amp;nbsp;&amp;nbsp;&amp;nbsp; fakesky_sm += &lt;span class="pre"&gt;randomn(seed3,[dimsize,dimsize])&lt;/span&gt; * noise&lt;/tt&gt;&lt;/p&gt;
&lt;p&gt;Since Power is the fourier-transform squared, I'm using a power-law of
α=1.5 for the &amp;quot;real&amp;quot; part of the sampling. The imaginary part follows a
shallower slope to reduce the amount of power in large structures, which
didn't look quite right (but maybe I should leave both slopes the
same?). With both the same, and without the imaginary part down-scaled,
the structure appears too &amp;quot;cloudy&amp;quot; and not &amp;quot;clumpy&amp;quot; enough. But back to
that later...&lt;/p&gt;
&lt;p&gt;The peak amplitude is set by re-scaling the map. Ideally, we'd like to
see this set by a point source, since that is true in most fields.
The noise level should not be included in simulations, but should be
used to show the difference between pipeline-leftover noise and gaussian
noise on the sky. i.e., what structures disappear when you just add
noise, and what structures are removed by the pipeline.&lt;/p&gt;
&lt;p&gt;The PSF is simply to smooth out signals that are removed by the
telescope beam. We can replace this with a &amp;quot;real&amp;quot; PSF if and when we've
come up with a believable one.&lt;/p&gt;
&lt;p&gt;The noise is added after the smoothing because it should be on a pixel
scale rather than a beam scale.&lt;/p&gt;
&lt;p&gt;Here are some example realizations with different power laws:&lt;/p&gt;
&lt;img alt="" src="http://3.bp.blogspot.com/-vCy9Lx2RjWw/Tdvs_PO1u6I/AAAAAAAAGLw/cc7cIupQu0U/s320/exp7_fakesky_sm_realP-1.0_imagP-1.0_imagS01.0_seednum02.png" /&gt;
&lt;img alt="" src="http://4.bp.blogspot.com/-qpgg2U41r6U/Tdvs_RPxARI/AAAAAAAAGL4/v5exzhhqDew/s320/exp7_fakesky_sm_realP-1.5_imagP-1.5_imagS01.0_seednum02.png" /&gt;
&lt;img alt="" src="http://3.bp.blogspot.com/-2kUqO9aE8zM/Tdvs_maHaCI/AAAAAAAAGMA/u5bDCfiVuH0/s320/exp7_fakesky_sm_realP-2.0_imagP-2.0_imagS01.0_seednum02.png" /&gt;
</content><category term="bgps"></category><category term="googlepost"></category><category term="simulation"></category><category term="pipeline"></category></entry><entry><title>PSF modeling</title><link href="https://keflavich.github.io/blog/psf-modeling.html" rel="alternate"></link><published>2011-05-22T01:19:00-06:00</published><updated>2011-05-22T01:19:00-06:00</updated><author><name>Adam (adam.g.ginsburg@gmail.com)</name></author><id>tag:keflavich.github.io,2011-05-22:/blog/psf-modeling.html</id><summary type="html">&lt;p&gt;There haven't been many posts recently because I've primarily been
writing up old results into the v2 paper.
The Airy and Gaussian simulations with and without atmosphere seem to
have yielded their results. There is a ~5% loss when mapping Airy-disk
point sources. This is fine as long as it's …&lt;/p&gt;</summary><content type="html">&lt;p&gt;There haven't been many posts recently because I've primarily been
writing up old results into the v2 paper.
The Airy and Gaussian simulations with and without atmosphere seem to
have yielded their results. There is a ~5% loss when mapping Airy-disk
point sources. This is fine as long as it's quantified; it just means
that when calibrating we need to know whether extended sources are
similarly truncated. If all sources lose 5% in the pipeline, there will
be no net offset.
However, the Airy is not necessarily representative of the CSO's PSF.
In order to come up with a more reasonable representation of the PSF,
I've attempted to fit the *measured* PSF (from James' paper) with an
Airy disk. The first sidelobe has a lot more amplitude and is closer to
the peak than in an Airy disk. It is also asymmetric, but I'm ignoring
that for the moment.
To better represent the first sidelobe, I've fitted a modified Airy
function. The &amp;quot;modification&amp;quot; is to fit two Airy functions, one to the
peak and one to the rest. This is accomplished by setting everything
outside the first null to zero in the first function, and everything
inside the first null to zero in the second. The centers are the same,
but the amplitudes and widths are independent.&lt;/p&gt;
&lt;img alt="" src="http://3.bp.blogspot.com/-Vd8eey7FX4Q/TdhiEsk-FhI/AAAAAAAAGLA/ekzBJL8oNoE/s320/airy_modified_comparison.png" /&gt;
&lt;p&gt;The above image shows the best fit Airy and modified Airy, both in log
scale on an identical grid. The modeled PSF was then put through the
pipeline to see it recovers the pipeline-derived PSF. The radial profile
results are below, but note that this is only one particular realization
of the simulation + pipeline.&lt;/p&gt;
&lt;img alt="" src="http://2.bp.blogspot.com/-sxL-QjhRxUE/TdhidbXuAKI/AAAAAAAAGLI/NX9LdWqu4nM/s320/PSF_fit_plot_pipelinecompare.png" /&gt;
&lt;p&gt;Note that the model matches the first sidelobe in the &amp;quot;observed&amp;quot; PSF
pretty well, but both before and after pipeline processing, overpredicts
the second sidelobe.
There are a few &amp;quot;action items&amp;quot; remaining for this task:&lt;/p&gt;
&lt;ol class="arabic simple"&gt;
&lt;li&gt;Re-derive the &amp;quot;observed&amp;quot; PSF using V2. Does it vary with epoch?
Source?&lt;/li&gt;
&lt;li&gt;Find a model that better recovers the observed PSF&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;Any thoughts on better models to use? Does this seem like a good idea at
all?&lt;/p&gt;
</content><category term="bgps"></category><category term="googlepost"></category><category term="simulation"></category><category term="pipeline"></category></entry><entry><title>Azimuthal Averages</title><link href="https://keflavich.github.io/blog/azimuthal-averages.html" rel="alternate"></link><published>2011-04-27T19:45:00-06:00</published><updated>2011-04-27T19:45:00-06:00</updated><author><name>Adam (adam.g.ginsburg@gmail.com)</name></author><id>tag:keflavich.github.io,2011-04-27:/blog/azimuthal-averages.html</id><summary type="html">&lt;p&gt;We noted in discussion yesterday that the aperture sum in the (nearly
perfectly recovered) is lower than expected even for a gaussian fit of
an airy. A Gaussian approximation to an Airy should recover 93.5% of the
flux; 6.5% of the power is in the sidelobes of an …&lt;/p&gt;</summary><content type="html">&lt;p&gt;We noted in discussion yesterday that the aperture sum in the (nearly
perfectly recovered) is lower than expected even for a gaussian fit of
an airy. A Gaussian approximation to an Airy should recover 93.5% of the
flux; 6.5% of the power is in the sidelobes of an Airy disk. We recover
about 86-88% of the flux in the input point-source map, or about 5-7%
short, despite matching the peak to within 2-3%. This discrepancy is
partly - but not completely - explained by a slight negative bowl
effect: the Gaussian fit has a higher total flux than the aperture sum.
Using the gaussian fit value, the recovery is about 90%. A mere 3%
missing flux is not too much of a problem - it could still be that the
gaussian is uniformly reduced by bowl effects, or perhaps that some flux
is not reincorporated into the map (at a very low level) because it is
correlated enough to be PCA-cleaned.
In the figure, the top panel is the radial profile of the ds1 data
(black), the input data (red), and their gaussian fits (see legend). The
circles on the labeled images show the FWHM of the fitted gaussian,
indicating a good fit. The apertures used for summation are NOT
displayed. The sum aperture has a radius of 90&amp;quot; (6.25 pixels) and the
&amp;quot;Noise Aperture&amp;quot; has the same area as the sum aperture.&lt;/p&gt;
&lt;img alt="" src="http://1.bp.blogspot.com/-nvXzUBHvsmE/TbhaQabluMI/AAAAAAAAGKc/Ks16AZ70fe0/s320/exp2_amp1.0E%252B01_map20_ds1inputcompare_point.png" /&gt;
&lt;p&gt;If we redo the analysis with a smaller aperture, the recovery is better:
95% in the central 45&amp;quot;. However, now the airy ring cannot account for
any lost flux, so it still looks like there's a 5% loss intrinsic in the
pipeline.&lt;/p&gt;
&lt;img alt="" src="http://2.bp.blogspot.com/-mqisozGUA2c/Tbhx5wk04WI/AAAAAAAAGKk/AIxGRnDMZBM/s320/exp2_amp1.0E%252B01_map20_ds1inputcompare_point.png" /&gt;
</content><category term="bgps"></category><category term="googlepost"></category><category term="simulation"></category><category term="pipeline"></category></entry><entry><title>ds1-ds5 comparisons</title><link href="https://keflavich.github.io/blog/ds1-ds5-comparisons.html" rel="alternate"></link><published>2011-04-26T21:54:00-06:00</published><updated>2011-04-26T21:54:00-06:00</updated><author><name>Adam (adam.g.ginsburg@gmail.com)</name></author><id>tag:keflavich.github.io,2011-04-26:/blog/ds1-ds5-comparisons.html</id><summary type="html">&lt;p&gt;I'm comparing simulated ds1-ds5 to real ds1-ds5 comparison tests.
In the simulated tests, I compare the recovered map after 20 iterations
with 13 pca components subtracted to the input map. There are figures
showing this comparison for ds1 and ds5 images in addition to one
showing the comparison between ds1 …&lt;/p&gt;</summary><content type="html">&lt;p&gt;I'm comparing simulated ds1-ds5 to real ds1-ds5 comparison tests.
In the simulated tests, I compare the recovered map after 20 iterations
with 13 pca components subtracted to the input map. There are figures
showing this comparison for ds1 and ds5 images in addition to one
showing the comparison between ds1 and ds5. The agreement is pretty much
as good as you could ask for.
These simulations are the most realistic run yet. They include a
simulated atmosphere that is perfectly correlated between all bolometers
excepting gaussian noise, but the relative sensitivity of the bolometers
is varied.&lt;/p&gt;
&lt;img alt="" src="http://4.bp.blogspot.com/-xZqAo2n84iE/TbcsrsLkkaI/AAAAAAAAGIM/J_4xWIOGoCQ/s320/exp2_varyrelscale_amp1.0E-01_map20_ds1ds5compare.png" /&gt;
&lt;img alt="" src="http://4.bp.blogspot.com/-G7ks6aygM8w/TbcssORKmqI/AAAAAAAAGIU/aFrSrgTEhc4/s320/airy_test_ds1_reconv_arrang45_atmotest_varyrelscale_amp1.0E-01_compare.png" /&gt;
&lt;img alt="" src="http://4.bp.blogspot.com/-MemhZbvFgYw/Tbcssv4s06I/AAAAAAAAGIc/8aSHBsnKHuU/s320/airy_test_ds5_reconv_arrang45_atmotest_amp1.0E-01_compare.png" /&gt;
&lt;p&gt;This is what a 'real' ds1-ds5 comparison looks like. The image shown is
a &amp;quot;cross-linked&amp;quot; observation of Uranus with downsampling off and on.
Note that downsampling clearly and blatantly smears the source flux.&lt;/p&gt;
&lt;img alt="" src="http://2.bp.blogspot.com/-UvoCV4PvBcM/TbcstPbA_5I/AAAAAAAAGIk/S1cPsnCGmvc/s320/091219_o15-6_ds5_uranus_indivtest_reconv_ds1ds5compare.png" /&gt;
&lt;p&gt;The same image with &amp;quot;beam location correction&amp;quot; looks no better.&lt;/p&gt;
&lt;img alt="" src="http://2.bp.blogspot.com/-ab27Av_tJB4/Tbcu3Jp0x6I/AAAAAAAAGIs/xUjzxFEVYXI/s320/091219_o15-6_ds5_uranus_indivtest_reconvBL_ds1ds5compare.png" /&gt;
&lt;p&gt;The problem is essentially the same with the individual scan directions:&lt;/p&gt;
&lt;img alt="" src="http://4.bp.blogspot.com/-WwNjh1U-xu0/TbcyTyab16I/AAAAAAAAGI0/oO1fOiY4Bow/s320/091219_o16_ds1_uranus_indivtest_reconv_ds1ds5compare.png" /&gt;
&lt;img alt="" src="http://3.bp.blogspot.com/-k2U0rWMtcH8/TbcyUxfGrfI/AAAAAAAAGI8/ErLepYPyYJE/s320/091219_o15_ds1_uranus_indivtest_reconv_ds1ds5compare.png" /&gt;
&lt;p&gt;What is causing this difference?&lt;/p&gt;
&lt;ul class="simple"&gt;
&lt;li&gt;higher-order corrections to the atmosphere calculation?&lt;/li&gt;
&lt;li&gt;inadequate sampling of the model?&lt;/li&gt;
&lt;li&gt;&amp;quot;pointing&amp;quot; offsets between the model and the data (note that these
are NOT pointing offsets, but they may be &amp;quot;distortion map&amp;quot; offsets)?&lt;/li&gt;
&lt;li&gt;Other?&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Examining the weights and scales for two individual (real) observations,
ds1 followed by ds5, is not particularly telling; there is one
additional outlier bolometer flagged out in the ds1 observation, but
there is nothing obviously wrong with that bolometer (it may have much
lower high-frequency noise than others).&lt;/p&gt;
&lt;img alt="" src="http://2.bp.blogspot.com/-FQGo3OPClLw/Tbc5gVqn-1I/AAAAAAAAGJE/RSmGgDcDSK0/s320/091219_o15-6_ds1_uranus_indivtest_reconv091219_o15_raw_ds1.nc_indiv13pca_weights_iter10.png" /&gt;
&lt;img alt="" src="http://1.bp.blogspot.com/-M0u4dlKj5IM/Tbc5g7PQ5YI/AAAAAAAAGJM/njdiKaENlzI/s320/091219_o15-6_ds5_uranus_indivtest_reconv091219_o15_raw_ds5.nc_indiv13pca_weights_iter10.png" /&gt;
&lt;p&gt;The simulations actually have more discrepant weights, but that doesn't
seem to cause any problems:&lt;/p&gt;
&lt;img alt="" src="http://1.bp.blogspot.com/-pL-VkELw7g4/Tbc7OrD5d6I/AAAAAAAAGJU/zCB9wyF09_g/s320/airy_test_ds1_reconv_arrang45_atmotest_varyrelscale_amp1.0E-01_weights_iter20.png" /&gt;
&lt;img alt="" src="http://4.bp.blogspot.com/-D0GDZ-wq0ZY/Tbc7PIM2pQI/AAAAAAAAGJc/38Edm0ufAs4/s320/airy_test_ds5_reconv_arrang45_atmotest_varyrelscale_amp1.0E-01_weights_iter20.png" /&gt;
&lt;p&gt;The timestreams both have similar artifacts:&lt;/p&gt;
&lt;img alt="" src="http://4.bp.blogspot.com/-S_3X_HkqzF4/Tbc7v7rrs4I/AAAAAAAAGJk/y0Wkwo3JYhg/s320/091219_o15-6_ds1_uranus_indivtest_reconv091219_o15_raw_ds1.nc_indiv13pcatimestream004_plots_10_bolo12.png" /&gt;
&lt;img alt="" src="http://4.bp.blogspot.com/-lg_Z50_vocc/Tbc7wZXRUlI/AAAAAAAAGJs/fcuf9u241QE/s320/091219_o15-6_ds5_uranus_indivtest_reconv091219_o15_raw_ds5.nc_indiv13pcatimestream004_plots_10_bolo12.png" /&gt;
&lt;p&gt;while the simulated versions really don't:&lt;/p&gt;
&lt;img alt="" src="http://1.bp.blogspot.com/-cG1uUEY_N9M/Tbc-ZJtPVzI/AAAAAAAAGJ0/VGcWV0JYtxQ/s320/airy_test_ds1_reconv_arrang45_atmotest_varyrelscale_amp1.0E-01timestream011_plots_20_bolo07.png" /&gt;
&lt;img alt="" src="http://3.bp.blogspot.com/-4KA5jSCQgsY/Tbc-ZhvL_lI/AAAAAAAAGJ8/brh-nGwSses/s320/airy_test_ds5_reconv_arrang45_atmotest_varyrelscale_amp1.0E-01timestream011_plots_20_bolo07.png" /&gt;
&lt;p&gt;This is true even when the relative strength of the atmosphere is
higher:&lt;/p&gt;
&lt;img alt="" src="http://1.bp.blogspot.com/-2MZXbARZeWo/Tbc-xHG3bOI/AAAAAAAAGKE/yEiYQ8YqqkU/s320/airy_test_ds1_reconv_arrang45_atmotest_varyrelscale_amp1.0E%252B00timestream011_plots_20_bolo07.png" /&gt;
&lt;img alt="" src="http://2.bp.blogspot.com/-Lr1QqlLNc20/Tbc-xhLCH3I/AAAAAAAAGKM/N1GKh-hZZ-Q/s320/airy_test_ds5_reconv_arrang45_atmotest_varyrelscale_amp1.0E%252B00timestream011_plots_20_bolo07.png" /&gt;
&lt;p&gt;I think the most viable candidate is the 'pointing offset' idea, which
will take a little work to simulate properly...&lt;/p&gt;
</content><category term="bgps"></category><category term="googlepost"></category><category term="downsampling"></category><category term="pipeline"></category></entry><entry><title>It is somewhat clear that sampling isn&amp;#39;t causi...</title><link href="https://keflavich.github.io/blog/it-is-somewhat-clear-that-sampling-isnt-causi.html" rel="alternate"></link><published>2011-04-22T02:43:00-06:00</published><updated>2011-04-22T02:43:00-06:00</updated><author><name>Adam (adam.g.ginsburg@gmail.com)</name></author><id>tag:keflavich.github.io,2011-04-22:/blog/it-is-somewhat-clear-that-sampling-isnt-causi.html</id><content type="html">&lt;p&gt;It is somewhat clear that sampling isn't causing huge issues in the
sense I was imagining... the highest pixel ranges from 0.98 to 1.04
depending on how the PSF is made anyway, so 5% errors are totally
unavoidable.&lt;/p&gt;
</content><category term="bgps"></category><category term="http://schemas.google.com/blogger/2008/kind#comment"></category></entry><entry><title>Weighting and Scaling</title><link href="https://keflavich.github.io/blog/weighting-and-scaling.html" rel="alternate"></link><published>2011-04-19T23:08:00-06:00</published><updated>2011-04-19T23:08:00-06:00</updated><author><name>Adam (adam.g.ginsburg@gmail.com)</name></author><id>tag:keflavich.github.io,2011-04-19:/blog/weighting-and-scaling.html</id><content type="html">&lt;p&gt;The &amp;quot;simple&amp;quot; relative sensitivity calibration was causing serious
problems.
The assumed model for a &amp;quot;gain&amp;quot; $G$, timestream $S$, and reference
timestream $R$ is:
$S = G R$
Naively, one would assume that something like
$G = median(S/R)$
would work. However, it doesn't. The distribution of $G$ values looks
like:&lt;/p&gt;
</content><category term="bgps"></category><category term="googlepost"></category></entry><entry><title>Sampling Causes Problems: Rd 2</title><link href="https://keflavich.github.io/blog/sampling-causes-problems-rd-2.html" rel="alternate"></link><published>2011-04-19T17:39:00-06:00</published><updated>2011-04-19T17:39:00-06:00</updated><author><name>Adam (adam.g.ginsburg@gmail.com)</name></author><id>tag:keflavich.github.io,2011-04-19:/blog/sampling-causes-problems-rd-2.html</id><summary type="html">&lt;p&gt;Proof that a well-sampled timestream / gaussian is recovered better than
a poorly sampled one:&lt;/p&gt;
&lt;img alt="" src="http://3.bp.blogspot.com/-PVt1suBQt3s/Ta3EQqypzAI/AAAAAAAAGG4/ap-3_SKjigI/s320/airy_test_superres_ds1_smallpix_sn100timestream012_plots_16_bolo12.png" /&gt;
&lt;img alt="" src="http://1.bp.blogspot.com/-HMr4DXKBVMY/Ta3GE49GmcI/AAAAAAAAGHA/ULLRUq_IWn8/s320/airy_test_superres_ds1_sn100timestream012_plots_20_bolo12.png" /&gt;
&lt;img alt="" src="http://3.bp.blogspot.com/-ujL_h0j-Gms/Ta3GWwcEttI/AAAAAAAAGHI/4uVLXXXhtqc/s320/airy_test_superres_ds1_smallpix_sn100_compare.png" /&gt;
&lt;img alt="" src="http://4.bp.blogspot.com/-r98h73qcMKY/Ta3GXBKAT3I/AAAAAAAAGHQ/k3y8j427TC0/s320/airy_test_superres_ds1_sn100_compare.png" /&gt;
&lt;p&gt;These aren't really the most convincing, since the flux loss is only
1-8% depending on how you count. The atmosphere-included ones have
larger flux loss, which is important to understand... WHY does the added
noise INCREASE …&lt;/p&gt;</summary><content type="html">&lt;p&gt;Proof that a well-sampled timestream / gaussian is recovered better than
a poorly sampled one:&lt;/p&gt;
&lt;img alt="" src="http://3.bp.blogspot.com/-PVt1suBQt3s/Ta3EQqypzAI/AAAAAAAAGG4/ap-3_SKjigI/s320/airy_test_superres_ds1_smallpix_sn100timestream012_plots_16_bolo12.png" /&gt;
&lt;img alt="" src="http://1.bp.blogspot.com/-HMr4DXKBVMY/Ta3GE49GmcI/AAAAAAAAGHA/ULLRUq_IWn8/s320/airy_test_superres_ds1_sn100timestream012_plots_20_bolo12.png" /&gt;
&lt;img alt="" src="http://3.bp.blogspot.com/-ujL_h0j-Gms/Ta3GWwcEttI/AAAAAAAAGHI/4uVLXXXhtqc/s320/airy_test_superres_ds1_smallpix_sn100_compare.png" /&gt;
&lt;img alt="" src="http://4.bp.blogspot.com/-r98h73qcMKY/Ta3GXBKAT3I/AAAAAAAAGHQ/k3y8j427TC0/s320/airy_test_superres_ds1_sn100_compare.png" /&gt;
&lt;p&gt;These aren't really the most convincing, since the flux loss is only
1-8% depending on how you count. The atmosphere-included ones have
larger flux loss, which is important to understand... WHY does the added
noise INCREASE the flux loss?
Ugh, unfortunately, there is a perfect counter-example. The first image
shows a timestream in which the input map is sampled by 7.2&amp;quot; pixels,
which is just shy of nyquist sampling the 1-sigma width of the gaussian
(but is fine for the FWHM of the gaussian). The second shows 3.6&amp;quot;
sampling of the same. No improvement. The third, very surprisingly,
shows significant improvement - but this was an experiment in which the
relative scales were allowed to vary.&lt;/p&gt;
&lt;img alt="" src="http://4.bp.blogspot.com/-NIwHLJT2SOw/Ta3IAGQA4HI/AAAAAAAAGHY/N3Oju7RHhRE/s320/airy_test_ds1_reconv_arrang45_atmotest_amp1.0E-01timestream011_plots_20_bolo07.png" /&gt;
&lt;img alt="" src="http://4.bp.blogspot.com/-Qo8-kSCFMCc/Ta3IATO7P1I/AAAAAAAAGHg/Jx9ufNhabiE/s320/airy_test_ds1_reconv_arrang45_atmotest_smallpix_amp1.0E-01timestream011_plots_20_bolo07.png" /&gt;
&lt;img alt="" src="http://3.bp.blogspot.com/-6PlqmOsDRFY/Ta3IA00cfBI/AAAAAAAAGHo/t5b2jddw5Lw/s320/airy_test_ds1_reconv_arrang45_atmotest_varyrelscale_amp1.0E-01timestream011_plots_20_bolo07.png" /&gt;
&lt;p&gt;The first two each had one high-weight bolometer rejected, the last had
12 high-weight bolos rejected. So that's problably the problem....&lt;/p&gt;
</content><category term="bgps"></category><category term="googlepost"></category><category term="downsampling"></category><category term="simulation"></category><category term="pipeline"></category></entry><entry><title>Sampling causes problems</title><link href="https://keflavich.github.io/blog/sampling-causes-problems.html" rel="alternate"></link><published>2011-04-18T23:39:00-06:00</published><updated>2011-04-18T23:39:00-06:00</updated><author><name>Adam (adam.g.ginsburg@gmail.com)</name></author><id>tag:keflavich.github.io,2011-04-18:/blog/sampling-causes-problems.html</id><summary type="html">&lt;p&gt;One of the simplest experiments that can be run is a point-source
observed in point-scan mode, i.e. with smaller step-sizes. I've done
this for an Airy disk with noise added in the image plan but not
atmosphere (some noise is necessary to avoid bizarre artifacts with
weighting when you …&lt;/p&gt;</summary><content type="html">&lt;p&gt;One of the simplest experiments that can be run is a point-source
observed in point-scan mode, i.e. with smaller step-sizes. I've done
this for an Airy disk with noise added in the image plan but not
atmosphere (some noise is necessary to avoid bizarre artifacts with
weighting when you have truly zero signal and zero noise). At a S/N of
500, the noise is pretty minimal, though.
It turns out for the 'noiseless' images, the PCA cleaning is the
issue... curiously, it varies significantly with iteration. Is it worth
trying to debug the PCA cleaning for noiseless timestreams? I mean...
they really shouldn't have any correlated information anyway.
There is still an outstanding issue where one bolometer gets scaled to
be higher than the rest without any apparent reason for doing so.
It is also clear that we do not nyquist-sample the pixels with the
timestream. However, that doesn't explain a deficiency observed in the
ds1 images. Also note that the sidelobes are not picked up at this S/N,
but that's not too surprising.
And here is the explanation: The peak is missed by about 10% because of
finite sampling? Somehow the sampled gaussian nearly uniformly
underestimates the gaussian... I think this violates theory a bit.....&lt;/p&gt;
&lt;img alt="" src="http://3.bp.blogspot.com/-L2CMkehyV2g/TazJvpj2jjI/AAAAAAAAGGg/_BM0_GgC_x4/s320/airy_test_ds1_reconv_arrang45_atmotest_amp1.0E-01timestream011_plots_20_bolo07.png" /&gt;
&lt;p&gt;Here's the problem shown again:&lt;/p&gt;
&lt;img alt="" src="http://2.bp.blogspot.com/-vvY-1uleKmk/TazKE4Osm_I/AAAAAAAAGGo/n6Nadxi8UM4/s320/airy_test_ds1_reconv_arrang45_atmotest_amp1.0E-01_compare.png" /&gt;
&lt;p&gt;This is a comparison between the input image and a ds1-sampled image
with perfectly correlated atmospheric noise. So there is something in
the pipeline that is preventing the peaks from achieving the necessary
heights.... I wonder if resampling the deconvolved image onto a
higher-resolution grid, then downsampling afterwards, would fix this?
Also note that the flux loss increases from 7% to 20% from ds1 to ds5:&lt;/p&gt;
&lt;img alt="" src="http://4.bp.blogspot.com/-hHQBTMME8Ow/TazKuf0gkuI/AAAAAAAAGGw/uQdJw4kc2U8/s320/airy_test_ds5_reconv_arrang45_atmotest_amp1.0E-01_compare.png" /&gt;
</content><category term="bgps"></category><category term="googlepost"></category><category term="downsampling"></category><category term="pipeline"></category></entry><entry><title>Recovery for an Airy</title><link href="https://keflavich.github.io/blog/recovery-for-an-airy.html" rel="alternate"></link><published>2011-04-12T01:38:00-06:00</published><updated>2011-04-12T01:38:00-06:00</updated><author><name>Adam (adam.g.ginsburg@gmail.com)</name></author><id>tag:keflavich.github.io,2011-04-12:/blog/recovery-for-an-airy.html</id><content type="html">&lt;img alt="" src="http://3.bp.blogspot.com/-Qj43vct-3Hw/TaOsoVQAeTI/AAAAAAAAGGY/Ju9HpmnrvCc/s320/airy_sn100.png" /&gt;
&lt;p&gt;The recovery for an Airy function is not particularly good, since the
pipeline assumes a purely positive response....&lt;/p&gt;
</content><category term="bgps"></category><category term="googlepost"></category></entry><entry><title>Definitive Testing</title><link href="https://keflavich.github.io/blog/definitive-testing.html" rel="alternate"></link><published>2011-04-11T19:09:00-06:00</published><updated>2011-04-11T19:09:00-06:00</updated><author><name>Adam (adam.g.ginsburg@gmail.com)</name></author><id>tag:keflavich.github.io,2011-04-11:/blog/definitive-testing.html</id><summary type="html">&lt;p&gt;It is now possible to make artificial timestreams!
First round of tests:
For pointing maps with ~21 scans in 15&amp;quot; steps, array angle is
approximately negligible.
deconv does NOT recover point sources, but reconv does (perfectly)
The algorithm starts to decay and produce weird ringey residuals at a
S/N …&lt;/p&gt;</summary><content type="html">&lt;p&gt;It is now possible to make artificial timestreams!
First round of tests:
For pointing maps with ~21 scans in 15&amp;quot; steps, array angle is
approximately negligible.
deconv does NOT recover point sources, but reconv does (perfectly)
The algorithm starts to decay and produce weird ringey residuals at a
S/N ~300. The residuals are only at the 1% level out to S/N ~1000.&lt;/p&gt;
</content><category term="bgps"></category><category term="googlepost"></category><category term="testing"></category><category term="pipeline"></category></entry><entry><title>Tests running</title><link href="https://keflavich.github.io/blog/tests-running.html" rel="alternate"></link><published>2011-04-08T17:48:00-06:00</published><updated>2011-04-08T17:48:00-06:00</updated><author><name>Adam (adam.g.ginsburg@gmail.com)</name></author><id>tag:keflavich.github.io,2011-04-08:/blog/tests-running.html</id><summary type="html">&lt;ul class="simple"&gt;
&lt;li&gt;Re-doing December 2010 calibration (remember to check &amp;amp; compare AFGL
4029)&lt;/li&gt;
&lt;li&gt;Mapping L351 with deconv, reconv, nodeconv&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;ARGH something is wrong with l351 pointing! Is the pointing model
broken? What HAPPENED?!
OK, on to 4/8/2011 stuff:
I've done more work on the Memo from a few weeks ago, and …&lt;/p&gt;</summary><content type="html">&lt;ul class="simple"&gt;
&lt;li&gt;Re-doing December 2010 calibration (remember to check &amp;amp; compare AFGL
4029)&lt;/li&gt;
&lt;li&gt;Mapping L351 with deconv, reconv, nodeconv&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;ARGH something is wrong with l351 pointing! Is the pointing model
broken? What HAPPENED?!
OK, on to 4/8/2011 stuff:
I've done more work on the Memo from a few weeks ago, and now have a
concrete recommendation that we do some more observing in 2011. Why I
torture myself so, I do not know....
Examination of the 2009 tests shows that reconv is by far the superior
approach for pointing observations as previously noted. Since reconv
doesn't look bad, but definitely not best, for science, it might be the
compromise we have to make. nodeconv completely fails for ds5 data, but
the ds5 data in general are abominable. They drop by 15-20% compared to
ds1 for Mars. The problem with nodeconv appears to be extremely high
noise maps.&lt;/p&gt;
</content><category term="bgps"></category><category term="googlepost"></category></entry><entry><title>Examining deconvolution strategies</title><link href="https://keflavich.github.io/blog/examining-deconvolution-strategies.html" rel="alternate"></link><published>2011-04-07T22:05:00-06:00</published><updated>2011-04-07T22:05:00-06:00</updated><author><name>Adam (adam.g.ginsburg@gmail.com)</name></author><id>tag:keflavich.github.io,2011-04-07:/blog/examining-deconvolution-strategies.html</id><summary type="html">&lt;p&gt;This is a direct continuation of what I did yesterday (but only posted
today because I forgot to click post).
No-deconvolution doesn't work, at least not reliably. It recovers
structures that are too large to be believable. Perhaps a higher
threshold should be required to include signal in the model …&lt;/p&gt;</summary><content type="html">&lt;p&gt;This is a direct continuation of what I did yesterday (but only posted
today because I forgot to click post).
No-deconvolution doesn't work, at least not reliably. It recovers
structures that are too large to be believable. Perhaps a higher
threshold should be required to include signal in the model? The noise
actually looks too high anyway. Also, the flagging doesn't look great.
Grr.
The agreement between the three is somewhat better, down to a 50%
increase of reconv over deconv:
[deconv, nodeconv, reconv]:
BMAJ: 0.00916667 BMIN: 0.00916667 PPBEAM: 23.8028 SUM/PPBEAM: 8.19765
Sum: 195.127 Mean: 1.04346 Median: 0.751545 RMS: 0.78342 NPIX: 187
BMAJ: 0.00916667 BMIN: 0.00916667 PPBEAM: 23.8028 SUM/PPBEAM: 10.1592
Sum: 241.816 Mean: 1.29314 Median: 1.04031 RMS: 0.778854 NPIX: 187
BMAJ: 0.00916667 BMIN: 0.00916667 PPBEAM: 23.8028 SUM/PPBEAM: 12.1694
Sum: 289.664 Mean: 1.54901 Median: 1.31107 RMS: 0.808915 NPIX: 187
But this time there is less indication of negative residuals than
previously.
I was very confused by negatives being included in the model for
nodeconv, then realized it's because of the grow_mask option.
sncut = 1 is now default for nodeconv. I think it makes sense.
(sncut = 1 drops the flux by &amp;lt;10%:
BMAJ: 0.00916667 BMIN: 0.00916667 PPBEAM: 23.8028 SUM/PPBEAM: 9.31507
Sum: 221.725 Mean: 1.18569 Median: 0.915137 RMS: 0.783316 NPIX: 187)
While reconv has produced reasonable results in some cases, a close look
at the maps shows that deconv ~ nodeconv &amp;lt;&amp;lt; reconv. There is something
wrong with reconv. It spreads out and increases the flux artificially.
So.... why did it work so damn well for point sources?
The new weighting scheme seems to flag a dangerous number of bolos as
'high weight'. It drops after iteration #1, but not all the way.
Need to remember to reprocess all December 2009 data with more flagged
bolos&lt;/p&gt;
</content><category term="bgps"></category><category term="googlepost"></category></entry><entry><title>Deconvolve and Epochs</title><link href="https://keflavich.github.io/blog/deconvolve-and-epochs.html" rel="alternate"></link><published>2011-04-05T18:12:00-06:00</published><updated>2011-04-05T18:12:00-06:00</updated><author><name>Adam (adam.g.ginsburg@gmail.com)</name></author><id>tag:keflavich.github.io,2011-04-05:/blog/deconvolve-and-epochs.html</id><summary type="html">&lt;p&gt;I've spent a large portion of the last week working on the deconvolver.
I found &lt;a class="reference external" href="http://bolocam.blogspot.com/2011/03/workaround-for-individual-maps.html"&gt;previously&lt;/a&gt; that a reconvolved map does a better job of
restoring flux than the straight-up deconvolved map for point sources /
pointing observations.
However, the same update broke the regular mapping modes, leading to
horrible instability …&lt;/p&gt;</summary><content type="html">&lt;p&gt;I've spent a large portion of the last week working on the deconvolver.
I found &lt;a class="reference external" href="http://bolocam.blogspot.com/2011/03/workaround-for-individual-maps.html"&gt;previously&lt;/a&gt; that a reconvolved map does a better job of
restoring flux than the straight-up deconvolved map for point sources /
pointing observations.
However, the same update broke the regular mapping modes, leading to
horrible instability in the mapping routines for large maps such as W5.
Curiously, it seems that the aspect that breaks is the weighting;
somehow the noise drops precipitously in certain bolometers, leading to
extremely high weights. Perhaps they somehow dominate the PCA
subtraction and therefore have all their noise removed?
Either way, there are a few large-scale changes that need to be made:&lt;/p&gt;
&lt;ol class="arabic simple"&gt;
&lt;li&gt;Since Scaling and Weighting are now done on a whole-timestream basis,
we should only map single epochs at once and coadd them after the
fact. This approach will also help relieve RAM strain. Since it
appears that individual observations are now reasonably convergent
with the proper treatment of NANs in the deconvolution scheme, it
should be possible to take any individual map and coadd it in a
reasonable way.&lt;/li&gt;
&lt;li&gt;Bolometers with bad weights need to be thrown out. Alternatively, and
more appropriately, I need to discover WHY their weights are going
bad.&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;We also need to explore different weighting schemes.&lt;/p&gt;
&lt;ol class="arabic simple"&gt;
&lt;li&gt;1/Variance over whole timestream (current default)&lt;/li&gt;
&lt;li&gt;1/Variance on a per-scan basis (previous default) [based on PSDs]&lt;/li&gt;
&lt;li&gt;Minimum Chi&lt;sup&gt;2&lt;/sup&gt; with Astrophysical Model (??)&lt;/li&gt;
&lt;li&gt;Min Chi&lt;sup&gt;2&lt;/sup&gt; on a per-scan basis?&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;Because of the extensive testing this will require, it is really
becoming essential that we develop an arbitrary map creation &amp;amp; testing
routine.&lt;/p&gt;
</content><category term="bgps"></category><category term="googlepost"></category><category term="distortion mapping"></category><category term="weighting"></category><category term="pipeline"></category></entry><entry><title>Weird problem</title><link href="https://keflavich.github.io/blog/weird-problem.html" rel="alternate"></link><published>2011-03-31T02:25:00-06:00</published><updated>2011-03-31T02:25:00-06:00</updated><author><name>Adam (adam.g.ginsburg@gmail.com)</name></author><id>tag:keflavich.github.io,2011-03-31:/blog/weird-problem.html</id><summary type="html">&lt;p&gt;I'm remapping everything, and there's a really strange situation in
ic1396... only one field has a source that doesn't have rotation
problems, every other observation is clearly improperly rotated. The
weird thing is that it's NOT the one you'd expect from the information
below:
&lt;tt class="docutils literal"&gt;&lt;span class="pre"&gt;readcol,'/Volumes/disk2/sliced/infiles/ic1396 …&lt;/span&gt;&lt;/tt&gt;&lt;/p&gt;</summary><content type="html">&lt;p&gt;I'm remapping everything, and there's a really strange situation in
ic1396... only one field has a source that doesn't have rotation
problems, every other observation is clearly improperly rotated. The
weird thing is that it's NOT the one you'd expect from the information
below:
&lt;tt class="docutils literal"&gt;&lt;span class="pre"&gt;readcol,'/Volumes/disk2/sliced/infiles/ic1396_infile.txt',filelist,format='A'for&lt;/span&gt; i=0,6 do begin &amp;amp; &lt;span class="pre"&gt;ncdf_varget_scale,filelist[i],'array_params',ap&lt;/span&gt; &amp;amp; &lt;span class="pre"&gt;print,filelist[i],ap&lt;/span&gt; &amp;amp; endfor/Volumes/disk2/sliced/ic1396/070911_o19_raw_ds5.nc&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp; 7.70000&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp; 31.2000&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp; 70.7000&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp; 0.00000&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp; 0.00000/Volumes/disk2/sliced/ic1396/070912_o26_raw_ds5.nc&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp; 7.70000&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp; 31.2000&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp; 84.0000&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp; 0.00000&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp; 0.00000/Volumes/disk2/sliced/ic1396_d/070913_o19_raw_ds5.nc&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp; 7.70000&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp; 31.2000&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp; 84.0000&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp; 0.00000&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp; 0.00000/Volumes/disk2/sliced/ic1396_l/070913_o17_raw_ds5.nc&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp; 7.70000&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp; 31.2000&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp; 84.0000&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp; 0.00000&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp; 0.00000/Volumes/disk2/sliced/ic1396_r/070913_o18_raw_ds5.nc&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp; 7.70000&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp; 31.2000&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp; 84.0000&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp; 0.00000&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp; 0.00000/Volumes/disk2/sliced/ic1396_u/070913_o20_raw_ds5.nc&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp; 7.70000&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp; 31.2000&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp; 84.0000&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp; 0.00000&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp; 0.00000&lt;/tt&gt;
One ofthese things is not like the others... but it's
070913_o18_raw_ds5.nc, not
/Volumes/disk2/sliced/ic1396/070911_o19_raw_ds5.nc&lt;/p&gt;
</content><category term="bgps"></category><category term="googlepost"></category><category term="errors"></category></entry><entry><title>Progress, but still ds1-ds5 issues</title><link href="https://keflavich.github.io/blog/progress-but-still-ds1-ds5-issues.html" rel="alternate"></link><published>2011-03-30T02:47:00-06:00</published><updated>2011-03-30T02:47:00-06:00</updated><author><name>Adam (adam.g.ginsburg@gmail.com)</name></author><id>tag:keflavich.github.io,2011-03-30:/blog/progress-but-still-ds1-ds5-issues.html</id><summary type="html">&lt;p&gt;ds1 and ds5 agree pretty well with the recent upgrades to delining and
deconvolution. However, there are still counterexamples, e.g.
101208_o13, in which ds5 &amp;lt; ds1:&lt;/p&gt;
&lt;img alt="" src="http://4.bp.blogspot.com/-fIJHF_x5mBI/TZI0cryJfbI/AAAAAAAAGDI/GsNfLRGNZAk/s200/101208_o13_raw_ds1.nc_indiv13pca.png" /&gt;
&lt;img alt="" src="http://2.bp.blogspot.com/-QRhiz8W9RDc/TZI0dGUR4UI/AAAAAAAAGDQ/WC8eLQd6_Z0/s200/101208_o13_raw_ds5.nc_indiv13pca.png" /&gt;
&lt;p&gt;The 'fitted' values agree better than the 'measured' values now that
NANs are treated properly.
Spent a few hours today trying to figure …&lt;/p&gt;</summary><content type="html">&lt;p&gt;ds1 and ds5 agree pretty well with the recent upgrades to delining and
deconvolution. However, there are still counterexamples, e.g.
101208_o13, in which ds5 &amp;lt; ds1:&lt;/p&gt;
&lt;img alt="" src="http://4.bp.blogspot.com/-fIJHF_x5mBI/TZI0cryJfbI/AAAAAAAAGDI/GsNfLRGNZAk/s200/101208_o13_raw_ds1.nc_indiv13pca.png" /&gt;
&lt;img alt="" src="http://2.bp.blogspot.com/-QRhiz8W9RDc/TZI0dGUR4UI/AAAAAAAAGDQ/WC8eLQd6_Z0/s200/101208_o13_raw_ds5.nc_indiv13pca.png" /&gt;
&lt;p&gt;The 'fitted' values agree better than the 'measured' values now that
NANs are treated properly.
Spent a few hours today trying to figure out if weighting can explain
the difference between ds1 and ds5; it appears to make up for most of it
so I'm doing some more experiments. Why is there so much parameter
space? Why can't weighting just work? It doesn't....
also wasted a few hours trying to write a python drizzling algorithm,
which unfortunately is impossible so I had to resort to an inefficient
for loop.
Finally got some minor results. It really looks like there is a trend
pushing up the recovered flux (i.e. higher volts/Jy) for ds5 over ds1.
There is a discrepancy between map types for ds1 but not for ds5, which
is actually backwards from what I would have expected, since ds1 will
get better-sampled maps.&lt;/p&gt;
&lt;img alt="" src="http://2.bp.blogspot.com/-ARaSL7ZdDmc/TZKRcE01DnI/AAAAAAAAGDY/YMZRpRo53Hw/s320/uranus_dcfluxes_dec2010_nomask_ds1_13pca_fits_map10.png" /&gt;
&lt;img alt="" src="http://3.bp.blogspot.com/-pWtggp0vSP4/TZKRcwZ_SrI/AAAAAAAAGDg/IqVHQSprkL8/s320/uranus_dcfluxes_dec2010_nomask_ds5_13pca_fits_map10.png" /&gt;
&lt;p&gt;Luckily, the difference between peak fitting and &amp;quot;measuring&amp;quot; results in
very small (insignificant) changes to the calibration curve (recall
fitting is direct gaussian fitting; 'measuring' is using the
gaussian-fit width and total flux in an ellipse to infer a peak assuming
a point source):&lt;/p&gt;
&lt;img alt="" src="http://2.bp.blogspot.com/-E-FDTTj-4Ik/TZKVyUA8zBI/AAAAAAAAGDo/9NGubgLWBvo/s320/uranus_dcfluxes_dec2010_nomask_ds5_13pca_fits_map10.png" /&gt;
&lt;img alt="" src="http://3.bp.blogspot.com/-GdyxFnmwQ7g/TZKVykSg57I/AAAAAAAAGDw/PPVXtfAxW0s/s320/uranus_dcfluxes_dec2010_nomask_ds5_13pca_map10.png" /&gt;
&lt;p&gt;Since this work has all been done for the 'bootstrapping' observations
that are supposed to tell us if different map sizes are compatible, I
have included the map sizes in the diagrams now. However, to really
understand the ds1/ds5 difference, there are much better data sets,
which I'm now reprocessing using the new and improved methods.
(the Whole BGPS is also processing with the new methods in the
background, though since the methods are being updated live there may be
more changes and it will have to be re-run.... initial looks at W5 are
BAD but L030 is GOOD (bordering on amazing))&lt;/p&gt;
</content><category term="bgps"></category><category term="googlepost"></category><category term="downsampling"></category><category term="calibration"></category><category term="pipeline"></category></entry><entry><title>Careful comparison of ds1 and ds5</title><link href="https://keflavich.github.io/blog/careful-comparison-of-ds1-and-ds5.html" rel="alternate"></link><published>2011-03-29T15:23:00-06:00</published><updated>2011-03-29T15:23:00-06:00</updated><author><name>Adam (adam.g.ginsburg@gmail.com)</name></author><id>tag:keflavich.github.io,2011-03-29:/blog/careful-comparison-of-ds1-and-ds5.html</id><summary type="html">&lt;p&gt;I looked very closely at the timestream and maps of 101208_o11 and had
a pretty hard time figuring out why the data were different, but it
looked like the data really did differ on a point-by-point basis
(according to pyflagger). The only conclusion I was able to draw is …&lt;/p&gt;</summary><content type="html">&lt;p&gt;I looked very closely at the timestream and maps of 101208_o11 and had
a pretty hard time figuring out why the data were different, but it
looked like the data really did differ on a point-by-point basis
(according to pyflagger). The only conclusion I was able to draw is that
the scaling must be off. I realized that the scaling was being done
before delining. I moved scaling from readall_pc to premap, and it
brought at least this one source into agreement. Time to run ds1-ds5
comparisons again!
(this means that ds1 data MUST have deline run on it, but ds5 data
doesn't really need it)
Here are examples of ds1 and ds5 timestreams, with and without scaling,
and ds1 with and without delining:&lt;/p&gt;
&lt;img alt="" src="http://4.bp.blogspot.com/-KR_NYG31_O0/TZECtBAgqFI/AAAAAAAAGCg/1jC9Ys2r9Iw/s200/101208_o11_ds5_uranus_indivtesttimestream011_plots_20_bolo02.png" /&gt;
&lt;img alt="" src="http://3.bp.blogspot.com/-HbK-hAXjSDs/TZECtUNe8AI/AAAAAAAAGCo/i4fsH12Iw8Y/s200/101208_o11_ds1_uranus_indivtest_delinetimestream011_plots_20_bolo02.png" /&gt;
&lt;img alt="" src="http://3.bp.blogspot.com/-edXLnDrrt5o/TZECt0No8oI/AAAAAAAAGCw/QjHg1ScBHG0/s200/101208_o11_ds1_uranus_indivtesttimestream011_plots_20_bolo02.png" /&gt;
&lt;img alt="" src="http://1.bp.blogspot.com/-4NIxFxEQ1jU/TZECuDJ1fVI/AAAAAAAAGC4/tGE5tDH_168/s200/101208_o11_ds1_uranus_indivtest_deline_noscaleacbtimestream011_plots_20_bolo02.png" /&gt;
&lt;img alt="" src="http://2.bp.blogspot.com/-DfIepZXXCFc/TZECuhm8lwI/AAAAAAAAGDA/Awp60ZuPGps/s200/101208_o11_ds5_uranus_indivtest_noscaleacbtimestream011_plots_20_bolo02.png" /&gt;
</content><category term="bgps"></category><category term="googlepost"></category><category term="calibration"></category><category term="pipeline"></category></entry><entry><title>Trying to bootstrap</title><link href="https://keflavich.github.io/blog/trying-to-bootstrap.html" rel="alternate"></link><published>2011-03-28T02:01:00-06:00</published><updated>2011-03-28T02:01:00-06:00</updated><author><name>Adam (adam.g.ginsburg@gmail.com)</name></author><id>tag:keflavich.github.io,2011-03-28:/blog/trying-to-bootstrap.html</id><summary type="html">&lt;p&gt;I've concluded, based on previous posts
&lt;a class="reference external" href="http://bolocam.blogspot.com/2011/02/downsampling-why-is-dec-2010-different.html"&gt;http://bolocam.blogspot.com/2011/02/downsampling-why-is-dec-2010-different.html&lt;/a&gt;,
&lt;a class="reference external" href="http://bolocam.blogspot.com/2011/03/revisiting-calibration-yet-again.html"&gt;http://bolocam.blogspot.com/2011/03/revisiting-calibration-yet-again.html&lt;/a&gt;,
and
&lt;a class="reference external" href="http://bolocam.blogspot.com/2011/03/workaround-for-individual-maps.html"&gt;http://bolocam.blogspot.com/2011/03/workaround-for-individual-maps.html&lt;/a&gt;,
that ds5 is a problem primarily for undersampled images, i.e. those
taken in the normal mapping mode. This …&lt;/p&gt;</summary><content type="html">&lt;p&gt;I've concluded, based on previous posts
&lt;a class="reference external" href="http://bolocam.blogspot.com/2011/02/downsampling-why-is-dec-2010-different.html"&gt;http://bolocam.blogspot.com/2011/02/downsampling-why-is-dec-2010-different.html&lt;/a&gt;,
&lt;a class="reference external" href="http://bolocam.blogspot.com/2011/03/revisiting-calibration-yet-again.html"&gt;http://bolocam.blogspot.com/2011/03/revisiting-calibration-yet-again.html&lt;/a&gt;,
and
&lt;a class="reference external" href="http://bolocam.blogspot.com/2011/03/workaround-for-individual-maps.html"&gt;http://bolocam.blogspot.com/2011/03/workaround-for-individual-maps.html&lt;/a&gt;,
that ds5 is a problem primarily for undersampled images, i.e. those
taken in the normal mapping mode. This makes bootstrapping a bit tricky.&lt;/p&gt;
&lt;p&gt;There are two options:&lt;/p&gt;
&lt;blockquote&gt;
&lt;ol class="arabic simple"&gt;
&lt;li&gt;Map Uranus and AFGL 4029 both in Volts and figure out what flux density
AFGL 4029 must have to lie on that curve&lt;/li&gt;
&lt;li&gt;Map Uranus and compute a calibration curve, apply that calibration curve
to AFGL 4029, and then compare derived flux densities.&lt;/li&gt;
&lt;/ol&gt;
&lt;/blockquote&gt;
&lt;p&gt;Both have the major problem that the individual AFGL 4029 maps will
forcibly be undersampled if I use ds5 data (which is normally OK,
according to the first paragraph). In the second case, it is possible to
co-add the images and get around the under-sampling issue, while in the
first case it is not because of the dependence on total loading
(MEANDC).&lt;/p&gt;
&lt;p&gt;The real problem is that the whole goal of these observations was to
compare the different observing methods and see if they agree (1x1, 3x1,
pointing, etc.) since the pointing-style observations were used to
calibrate the others. But if the 1x1s are just straight-up unreliable,
how can we do the comparison? I think the co-added AFGL 4029 is the only
option, but then how do I test if it's correct? It would be really nice
to have AFGL 4029 observed with both scan types...&lt;/p&gt;
&lt;p&gt;Alright, onto the data. After last week's fix of the bad bolos, I really
hope ds1 and ds5 agree. However, first glance at the cal curves says
they don't. ds1 and ds2 agree, but ds5 is different.&lt;/p&gt;
&lt;p&gt;After checking them out with
&lt;tt class="docutils literal"&gt;ds9 &lt;span class="pre"&gt;*ds[15]*13pca*_map10.fits&lt;/span&gt; &lt;span class="pre"&gt;-scale&lt;/span&gt; limits &lt;span class="pre"&gt;-1&lt;/span&gt; 1000 &lt;span class="pre"&gt;-log&lt;/span&gt; &lt;span class="pre"&gt;-cmap&lt;/span&gt; hsv &lt;span class="pre"&gt;-match&lt;/span&gt; colorbars &lt;span class="pre"&gt;-match&lt;/span&gt; scales &lt;span class="pre"&gt;-match&lt;/span&gt; frames wcs &amp;amp;&lt;/tt&gt;,
it appears that the _mask_ data is all... wrong, somehow. That's OK, I
want to discard the mask data anyway, so I'm happy to NOT spend time
debugging it.&lt;/p&gt;
&lt;p&gt;Even after careful examination showing that the fits look good - and
noting that the fluxes look pretty much the same - the calibration
curves still look rather different. Unfortunately I had to spend 3 hours
debugging IDL plotting commands; I want to show the fits each time and
save them as postscripts. What does &amp;quot;xyouts&amp;quot; with &amp;quot;/device,/normal&amp;quot; do?
I thought that should plot x,y text at the coordinates specified in the
plot window... but no, that is JUST /normalize.&lt;/p&gt;
&lt;p&gt;Anyway, realized that centroid_map treated NANs as zero. Added ERR
keyword (with a reasonable estimate of the error) in centroid_map to
ignore NANs. It looks like improper treatment of NANs is responsible for
a lot of the scatter seen in the calibration plots.&lt;/p&gt;
&lt;p&gt;There is a substantial difference between the &amp;quot;fitted&amp;quot; peak and the
&amp;quot;measured&amp;quot; peak (the latter computed by taking the sum of the pixels
divided by the area of the fitted gaussian). It looks like the
&amp;quot;measured&amp;quot; version is more robust, at first glance. However,
unfortunately, for 101208_o11, the difference between ds1 and ds5
exists in both quantities. I will have to examine timestreams now...
ARGH.&lt;/p&gt;
&lt;p&gt;Well, the timestreams show... that indeed the model is lower in ds1, but
not why. The &amp;quot;remainder&amp;quot; (new_astro; the stuff that never gets
incorporated into the model but DOES get incorporated into the map)
appears to be the same in both. Similarly, there is little to no flux in
the PCA atmosphere, so it's not simply being cleaned out. Where is the
flux going or coming from?&lt;/p&gt;
&lt;img alt="" src="http://3.bp.blogspot.com/-6lqGwWn650Q/TY_rgZKA9QI/AAAAAAAAGCI/Iq9O5mnmhl8/s320/101208_o11_ds1_uranus_indivtest_delinetimestream011_plots_20_bolo02.png" /&gt;
&lt;img alt="" src="http://1.bp.blogspot.com/-7uBbEU1tAqM/TY_rgg6Jq9I/AAAAAAAAGCQ/iaGhOSb6gtQ/s320/101208_o11_ds5_uranus_indivtesttimestream011_plots_20_bolo02.png" /&gt;
&lt;img alt="" src="http://1.bp.blogspot.com/-YKdZcNOjm7Q/TY_rg6tcvhI/AAAAAAAAGCY/fr4l8j-v4xI/s320/101208_o11_ds1_uranus_indivtesttimestream011_plots_20_bolo02.png" /&gt;
</content><category term="bgps"></category><category term="googlepost"></category><category term="downsampling"></category><category term="discrepancy"></category><category term="calibration"></category><category term="pipeline"></category></entry><entry><title>A workaround for individual maps?</title><link href="https://keflavich.github.io/blog/a-workaround-for-individual-maps.html" rel="alternate"></link><published>2011-03-24T00:33:00-06:00</published><updated>2011-03-24T00:33:00-06:00</updated><author><name>Adam (adam.g.ginsburg@gmail.com)</name></author><id>tag:keflavich.github.io,2011-03-24:/blog/a-workaround-for-individual-maps.html</id><summary type="html">&lt;p&gt;I closely examined the timestreams of 101208_ob7 as I said I would
yesterday. Unfortunately, all I can do is describe the symptoms: the
first deconvolution model looks good, though it isn't quite as wide as
the true source (this should be OK; it is an iterative method, after
all …&lt;/p&gt;</summary><content type="html">&lt;p&gt;I closely examined the timestreams of 101208_ob7 as I said I would
yesterday. Unfortunately, all I can do is describe the symptoms: the
first deconvolution model looks good, though it isn't quite as wide as
the true source (this should be OK; it is an iterative method, after
all). In the second iteration, though, the deconvolution model is even
smaller and lower amplitude... and it goes on like that.&lt;/p&gt;
&lt;p&gt;Not deconvolving results in a healthy-looking clean map - pretty much
what you expect and want to see.&lt;/p&gt;
&lt;p&gt;This implies that somehow removing an incomplete deconvolved model leads
to more of the source being included in the 'atmosphere' than would have
been included with no model subtraction at all. I'm not sure how this is
possible. In fact... I'm really quite sure that it is not.
The workaround is to only add positive changes to the model. This should
'definitely work' but may be non-convergent and assumes that the model
never has anything wrong with it at any iteration. I have demonstrated
that this works nicely for the two Uranus observations I tested on, but
now I have to run the gamut of tests.... the first (very obvious)
problem is that the background is now positive, which is dead wrong.
This workaround is not viable.
Alright, so what next? I've described the symptoms and that I think they
can't occur...
A closer look shows that new_astro is not being incorporated into
astro_model at the second iteration. Why?
AHA! Pyflagger + find_all_points reveals the problem!&lt;/p&gt;
&lt;pre class="literal-block"&gt;
Map value: 16.939728   Weighted average: 17.476323   Unweighted Average: 524.573136
scan,bolo,time:       mapped       astro       flags      weight       scale
3,  22,  12:     8.380408   13.561113    0.000000    0.025132    1.000000
4, 124,  23:   822.005327   13.561113    0.000000    0.000038    1.118012
4,  21,  38:   719.408983   13.561113    0.000000    0.000037    0.946721
5,  20,   7:     4.470616   13.561113    0.000000    0.013303    1.400000
5, 119,  23:   882.508303   13.561113    0.000000    0.000033    0.926887
5, 100,  35:   327.007750   13.561113    0.000000    0.000074    1.184397
5, 106,  38:   162.562098   13.561113    0.000000    0.000704    0.970000
6, 116,  27:   779.075640   13.561113    0.000000    0.000033    0.891768
8, 112,   3:   235.557390   13.561113    0.000000    0.000147    0.947130
9,   3,  14:   966.721773   13.561113    0.000000    0.000032    1.166292
9, 109,  41:   139.753656   13.561113    0.000000    0.000753    1.075269
10, 104,   8:   641.121935   13.561113    0.000000    0.000050    0.927827
10, 105,  24:     4.323228   13.561113    0.000000    0.032759    0.019022
10,  32,  36:   847.646990   13.561113    0.000000    0.000034    1.099406
11,  36,   9:   834.757586   13.561113    0.000000    0.000038    1.184751
11,  76,  37:   566.851891   13.561113    0.000000    0.000040    1.111000
12,  77,  13:   834.603090   13.561113    0.000000    0.000034    1.128464
12,  44,  44:   335.465654   13.561113    0.000000    0.000195    2.165775
13,  26,  17:    50.423143   13.561113    0.000000    0.004826    0.829932
13,  75,  29:   724.884676   13.561113    0.000000    0.000042    0.923077
14,  49,  21:   797.618990   13.561113    0.000000    0.000038    1.091918
14,  29,  33:   743.856012   13.561113    0.000000    0.000035    1.050360
15,  33,  13:   660.670099   13.561113    0.000000    0.000031    0.832180
15,  53,  25:   604.174286   13.561113    0.000000    0.000047    0.889922
15,  88,  40:     4.626476   13.561113    0.000000    0.008241    0.191489
17,  64,  20:   778.950533   13.561113    0.000000    0.000037    1.233108
18,  68,  30:   686.048136   13.561113    0.000000    0.000040    1.387283
&lt;/pre&gt;
&lt;p&gt;Note that the lowest points have the highest weights. They DEFINITELY
shouldn't. What's wrong with them?
Apparently they have NO sensitivity to the sky! What?! There were a
bunch of bad bolos in Dec2010 that weren't flagged out... I wonder if
that problem persists to other epochs. Still, why does it only affect
pointing observations? Looking at the power spectra... the
large-timescale stuff becomes less dominant when scans are longer, but
the noisy spectra are still clearly noise-only. How odd.
Dropped to 112 good bolos from 134. That is much more believable. Have
to go back and fix Dec09 data too...
Even after fixing the bad bolos, the model drops with iteration number.
Why why why?
Well, looking at deconv_map, I've always returned the truly deconvolved
version, not the reconvolved... maybe the reconvolved really is better?
Again, this will have to be extensively tested, but it certainly gets
rid of the obvious/dominant error that the model kept dropping off.
However, FINALLY, based on how ridiculously good the reconv-deconvolved
map looks, I think I'm ready to do the extensive pipeline tests. So,
10dec_caltest has been started up with all of the new bolo_params
applied and the changes in place to deconv_map... let's see what
happens.&lt;/p&gt;
&lt;p&gt;After that runs, I'll have to re-run the fit_and_plot routines&lt;/p&gt;
</content><category term="bgps"></category><category term="googlepost"></category><category term="iterating"></category><category term="mapping"></category><category term="flagging"></category><category term="pipeline"></category></entry><entry><title>Revisiting calibration yet again</title><link href="https://keflavich.github.io/blog/revisiting-calibration-yet-again.html" rel="alternate"></link><published>2011-03-23T00:22:00-06:00</published><updated>2011-03-23T00:22:00-06:00</updated><author><name>Adam (adam.g.ginsburg@gmail.com)</name></author><id>tag:keflavich.github.io,2011-03-23:/blog/revisiting-calibration-yet-again.html</id><summary type="html">&lt;p&gt;The recent hiatus for paper revisions has, unfortunately, come to an
end.
Re-examining my work, I did quite a lot but encountered many dead-ends.
First, we would very much like to use an *identical* reduction process
on both the calibration data and the science data. That way, we could
feel …&lt;/p&gt;</summary><content type="html">&lt;p&gt;The recent hiatus for paper revisions has, unfortunately, come to an
end.
Re-examining my work, I did quite a lot but encountered many dead-ends.
First, we would very much like to use an *identical* reduction process
on both the calibration data and the science data. That way, we could
feel very confident that the reduction process isn't introducing any
weird artifacts.
Unfortunately, I discovered early on that using ds5 data, 13 pca
components, and n&amp;gt;1 iterations resulted in strange shape and flux
conservation failures. These errors do NOT occur in co-added maps; they
are unique to single-observation scans (though I don't recollect whether
2 scans is enough or if you need more).
I spent many hours banging my head against this problem and have never
gotten a satisfactory solution. But perhaps it's time to approach it
again. The map00 images look MUCH rounder and generally better than the
map10 images.
So, the problem I need to examine is the iterative process. Why does it
fail for single images? Is it something about the noise properties?
model00 looks fine... what gets put into the timestream? Examining
timestreams is a terrible and horrendous process... but what else can I
do?
The next step will be to examine the timestreams of a particular
observation. I think a good choice is 101208_ob7; the next observation,
101208_ob8 was a large-area map and it looks fine (i.e., it improves
with iteration). So I can start looking at the effects of polysub,
iteration, etc. on this particular source.
Of course, the stupid trick with the pipeline - every time - is that
&amp;quot;fixing&amp;quot; a problem for one source has a nasty tendency to break it for
all other sources. That's why there are so many flags that can be passed
around. Still, this is the approach I have to take...&lt;/p&gt;
</content><category term="bgps"></category><category term="googlepost"></category><category term="planning"></category><category term="calibration"></category><category term="pipeline"></category></entry><entry><title>It looks like, for AFGL 4029 combined images, ds1 ...</title><link href="https://keflavich.github.io/blog/it-looks-like-for-afgl-4029-combined-images-ds1.html" rel="alternate"></link><published>2011-02-14T22:55:00-07:00</published><updated>2011-02-14T22:55:00-07:00</updated><author><name>Adam (adam.g.ginsburg@gmail.com)</name></author><id>tag:keflavich.github.io,2011-02-14:/blog/it-looks-like-for-afgl-4029-combined-images-ds1.html</id><content type="html">&lt;p&gt;It looks like, for AFGL 4029 combined images, ds1 and ds5 agree to
within 5% in the Dec2010 data. This implies that the offset is a result
of the individual scans instead of coadds, though for the individual
observations ds1&amp;gt;ds5 pretty uniformly.&lt;/p&gt;
</content><category term="bgps"></category><category term="http://schemas.google.com/blogger/2008/kind#comment"></category></entry><entry><title>Downsampling - Why is Dec 2010 different?</title><link href="https://keflavich.github.io/blog/downsampling-why-is-dec-2010-different.html" rel="alternate"></link><published>2011-02-13T19:08:00-07:00</published><updated>2011-02-13T19:08:00-07:00</updated><author><name>Adam (adam.g.ginsburg@gmail.com)</name></author><id>tag:keflavich.github.io,2011-02-13:/blog/downsampling-why-is-dec-2010-different.html</id><summary type="html">&lt;p&gt;As you'll recall from &lt;a class="reference external" href="http://bolocam.blogspot.com/2011/02/downsampling-what-is-going-on.html"&gt;my previous post&lt;/a&gt; (and references therein...),
the 2005 Orion data shows a discrepancy between ds1 and ds5 data in
which the ds1 data is significantly (~10%) higher than the ds5 data.
However, the 2010 Uranus observations show much larger discrepancies
between ds1 and ds5 favoring the …&lt;/p&gt;</summary><content type="html">&lt;p&gt;As you'll recall from &lt;a class="reference external" href="http://bolocam.blogspot.com/2011/02/downsampling-what-is-going-on.html"&gt;my previous post&lt;/a&gt; (and references therein...),
the 2005 Orion data shows a discrepancy between ds1 and ds5 data in
which the ds1 data is significantly (~10%) higher than the ds5 data.
However, the 2010 Uranus observations show much larger discrepancies
between ds1 and ds5 favoring the ds5 data! Because that was somewhat
unbelievable to me, I ran ds1-ds5 comparisons on Uranus data from other
epochs, and discovered that ds1&amp;gt;ds5 uniformly (also, it looks a LOT
better).
So, the question remains, WHY is the Dec 2010 data brighter in ds5? More
confusing to me, why do the ds5 PSFs from 2010 look so reasonable, while
the ds5 PSFs from all earlier epochs look terrible?
For example, I use the observations 070727_o31 and _o32. These show
clearly the blurring and flux-loss that happens when ds5 data are used
for 'normal' point-sources:&lt;/p&gt;
</content><category term="bgps"></category><category term="googlepost"></category></entry><entry><title>From a comparison of 3 different epochs using abou...</title><link href="https://keflavich.github.io/blog/from-a-comparison-of-3-different-epochs-using-abou.html" rel="alternate"></link><published>2011-02-12T01:30:00-07:00</published><updated>2011-02-12T01:30:00-07:00</updated><author><name>Adam (adam.g.ginsburg@gmail.com)</name></author><id>tag:keflavich.github.io,2011-02-12:/blog/from-a-comparison-of-3-different-epochs-using-abou.html</id><summary type="html">&lt;p&gt;From a comparison of 3 different epochs using about a dozen different
reduction techniques, but all with pairs of cross-scans, ds1 is
uniformly higher than ds5.
The only thing left to do is compare the individual scans, I suppose...
if the cross-scans behave differently, that explains the difference
between 2010 …&lt;/p&gt;</summary><content type="html">&lt;p&gt;From a comparison of 3 different epochs using about a dozen different
reduction techniques, but all with pairs of cross-scans, ds1 is
uniformly higher than ds5.
The only thing left to do is compare the individual scans, I suppose...
if the cross-scans behave differently, that explains the difference
between 2010 and other epochs&lt;/p&gt;
</content><category term="bgps"></category><category term="http://schemas.google.com/blogger/2008/kind#comment"></category></entry><entry><title>Downsampling - what is going on?</title><link href="https://keflavich.github.io/blog/downsampling-what-is-going-on.html" rel="alternate"></link><published>2011-02-11T04:19:00-07:00</published><updated>2011-02-11T04:19:00-07:00</updated><author><name>Adam (adam.g.ginsburg@gmail.com)</name></author><id>tag:keflavich.github.io,2011-02-11:/blog/downsampling-what-is-going-on.html</id><summary type="html">&lt;p&gt;The downsampling failure I &lt;a class="reference external" href="http://bolocam.blogspot.com/2011/01/downsampling-has-serious-negative.html"&gt;noted&lt;/a&gt; &lt;a class="reference external" href="http://bolocam.blogspot.com/2011/01/more-evidence-that-downsampling-causes.html"&gt;previously&lt;/a&gt; appears to be
illusory. It may be that the offset noted only holds for single-frame
images, in which there may be many blank pixels. It is possible - though
not certain - that the ds1 images were significantly higher than ds5
because more noise-only pixels were …&lt;/p&gt;</summary><content type="html">&lt;p&gt;The downsampling failure I &lt;a class="reference external" href="http://bolocam.blogspot.com/2011/01/downsampling-has-serious-negative.html"&gt;noted&lt;/a&gt; &lt;a class="reference external" href="http://bolocam.blogspot.com/2011/01/more-evidence-that-downsampling-causes.html"&gt;previously&lt;/a&gt; appears to be
illusory. It may be that the offset noted only holds for single-frame
images, in which there may be many blank pixels. It is possible - though
not certain - that the ds1 images were significantly higher than ds5
because more noise-only pixels were included with higher outliers; i.e.,
ds1 high-outlier noise was being compared to ds5 noise that was lower
amplitude.&lt;/p&gt;
&lt;p&gt;What led to these conclusions? First, I was getting inconsistent results
looking at Uranus in particular - ds5 appeared to have higher fluxes
than ds1. This was inconsistent with &lt;a class="reference external" href="http://bolocam.blogspot.com/2011/01/downsampling-has-serious-negative.html"&gt;earlier results&lt;/a&gt; on OMC1. Partly,
this is because I switched from my &lt;a class="reference external" href="http://4.bp.blogspot.com/_lsgW26mWZnU/TTiWWl3j3dI/AAAAAAAAF3I/Ef3WHEv5oXU/s1600/omc1_dstest_pixel-pixel.png"&gt;hacked-together plots&lt;/a&gt; to the much
more refined &lt;a class="reference external" href="http://code.google.com/p/bgpspipeline/source/browse/bgps_pipeline/plotting/compare_images.py"&gt;compare_images&lt;/a&gt; script, which demonstrated the effect of
changing the cutoff of the comparison.&lt;/p&gt;
&lt;p&gt;Also, I added in a Pearson Correlation Coefficient computation. Given a
single data set with the only difference being downsampling, the data
should be perfectly correlated even if there is a flux offset
(correlation should be 1, but the best fit slope should not be). It was
an indication of a problem when I started seeing correlation
coefficients &amp;lt;0.90 for data that had already been sigma-cut; that means
that noise was being included in the correlation computations.&lt;/p&gt;
&lt;p&gt;Therefore, the approach needed is to cut out the high pixels that are on
map edges. This I accomplished by adding an 'aperture' capability to the
compare_images code (for Uranus) and cropping using montage and a
wcs-based box for Orion.&lt;/p&gt;
&lt;p&gt;The results... are ambiguous. Wow. In some sub-fields - within the same
co-added map - the agreement is near-perfect.&lt;/p&gt;
&lt;img alt="" src="http://1.bp.blogspot.com/-i20j3FEx758/TVR-PbQl7lI/AAAAAAAAGAY/imgMqceS9n8/s1600/v2.0_dl_omc_b_OMC4_ds1ds5_compare.png" /&gt;
&lt;p&gt;In others, ds1 is clearly &amp;gt; ds5.&lt;/p&gt;
&lt;img alt="" src="http://4.bp.blogspot.com/-JsRH_ZQilWM/TVR-Os6vBSI/AAAAAAAAGAQ/JRR6Trm-weo/s1600/v2.0_dl_omc_b_OMC2_ds1ds5_compare.png" /&gt;
&lt;p&gt;What's going on? ds1 does look uniformly more smooth.
Note that the &lt;em&gt;disagreement&lt;/em&gt; is nearly scale-free:&lt;/p&gt;
&lt;p&gt;OK, so given the conclusion in Orion that ds1&amp;gt;=ds5, what's the deal with
Uranus?&lt;/p&gt;
&lt;img alt="" src="http://3.bp.blogspot.com/-AosJ1vzcYSs/TVSZjIZ81fI/AAAAAAAAGAk/qVGeaJtkbPA/s320/101208_o10_ds1ds5_compare.png" /&gt;
&lt;p&gt;The first two comparisons are for 1x1° observations; in both cases ds1 &amp;lt;
ds5, but by 6% and 24% respectively! The image of Uranus looks much
better (because of lack of parallel lines) in the second, more extreme
case. In both cases, the ds5 excess is nearly scale-free (not shown).&lt;/p&gt;
&lt;img alt="" src="http://1.bp.blogspot.com/_lsgW26mWZnU/TVSZki9k9OI/AAAAAAAAGA0/t9LOGHOAL7Q/s320/101208_o10_ds1ds5_compare.png" /&gt;
&lt;img alt="" src="http://2.bp.blogspot.com/_lsgW26mWZnU/TVSZj1pglLI/AAAAAAAAGAs/-4153NoAQQ0/s320/101208_o11_ds1ds5_compare.png" /&gt;
&lt;p&gt;The 3x1s are also highly discrepant. #12 shows nearly perfect agreement,
albeit with high dispersion (low correlation) because of pixel-to-pixel
variations around the peak. #13 is the only observation with a huge DS1
excess. It also demonstrates very poor correlation. It looks like the
telescope got bumped for the ds5 data (which is not actually possible;
recall they're the same data set). What happened here? Maybe a glitch
that went unflagged (mad_flagger is off by default for individual
scans)?&lt;/p&gt;
&lt;img alt="" src="http://3.bp.blogspot.com/-9gwzGfDBCEk/TVSZllWeBxI/AAAAAAAAGA8/x3mg5RbMScs/s320/101208_o12_ds1ds5_compare.png" /&gt;
&lt;img alt="" src="http://3.bp.blogspot.com/-9gwzGfDBCEk/TVSZllWeBxI/AAAAAAAAGA8/x3mg5RbMScs/s320/101208_o13_ds1ds5_compare.png" /&gt;
&lt;p&gt;In observations 4 and 5, we're looking at a 40-50% excess in ds5! What
the heck? There really is no clear explanation for this.&lt;/p&gt;
&lt;img alt="" src="http://1.bp.blogspot.com/_lsgW26mWZnU/TVSaYfZx0WI/AAAAAAAAGBE/cWbbBQCJOvk/s320/101208_ob4_ds1ds5_compare.png" /&gt;
&lt;img alt="" src="http://2.bp.blogspot.com/_lsgW26mWZnU/TVSaZM27sqI/AAAAAAAAGBM/XR-6pttUcBo/s320/101208_ob5_ds1ds5_compare.png" /&gt;
&lt;p&gt;But... what? Magically, they come into perfect agreement when the scan
axis nearly lines up with the coordinate axis! Or, is this just an
effect of the worse weather on night 2?&lt;/p&gt;
&lt;img alt="" src="http://3.bp.blogspot.com/_lsgW26mWZnU/TVSaaP6ISNI/AAAAAAAAGBU/PvN5aFOxBAQ/s320/101209_ob5_ds1ds5_compare.png" /&gt;
&lt;p&gt;Next thing to try: masked source map comparison. Unfortunately, masking
royally screwed up the long scans - probably because the initial polysub
didn't work. And masking in the individual point source maps did
nothing... so that pretty much rules out atmospheric oversubtraction,
doesn't it?
What else could be causing this offset? 0pca looks the same as 13pca,
give or take, so it's not the atmospheric subtraction. Could the
downsampling result in an offset in the bolo-scaling? Where else in the
process could things go wrong? Tomorrow, need to investigate .sav files
with pyflagger...&lt;/p&gt;
</content><category term="bgps"></category><category term="googlepost"></category><category term="pipeline"></category></entry><entry><title>Making maps faster</title><link href="https://keflavich.github.io/blog/making-maps-faster.html" rel="alternate"></link><published>2011-02-07T04:39:00-07:00</published><updated>2011-02-07T04:39:00-07:00</updated><author><name>Adam (adam.g.ginsburg@gmail.com)</name></author><id>tag:keflavich.github.io,2011-02-07:/blog/making-maps-faster.html</id><summary type="html">&lt;p&gt;The fundamental problem at this point is making the pipeline run faster.
At current speeds, with undownsampled data, it may take ~days to process
a single map. Ideas for faster processing:&lt;/p&gt;
&lt;ol class="arabic simple"&gt;
&lt;li&gt;Find out how long it takes to converge to 1%, 5%.... If it only
requires 10 iterations, that's a …&lt;/li&gt;&lt;/ol&gt;</summary><content type="html">&lt;p&gt;The fundamental problem at this point is making the pipeline run faster.
At current speeds, with undownsampled data, it may take ~days to process
a single map. Ideas for faster processing:&lt;/p&gt;
&lt;ol class="arabic simple"&gt;
&lt;li&gt;Find out how long it takes to converge to 1%, 5%.... If it only
requires 10 iterations, that's a factor of 2 savings over current
strategies.&lt;/li&gt;
&lt;li&gt;Use downsampled data of some sort if possible. Does DS2 match DS1?
How do we measure it? Flux-flux comparison and PSF point-source size
measurements are the most important. Need to automate PSF
comparison....&lt;/li&gt;
&lt;li&gt;Can we use median-combined individual images as a 0th order model? I
bet the answer is 'yes' and will probably increase the speed of
convergence by a large amount. Tests to run? This is probably needed
if we are to split up the 'super-fields' into smaller sub-fields,
otherwise overlapping data will be used less effectively.&lt;/li&gt;
&lt;li&gt;Find some way to keep bgps.raw, bgps.ra, bgps.dec, and other items
that are only used once on the HD during the iterative process. Is
there any way to separate out data in a struct in this manner?&lt;/li&gt;
&lt;/ol&gt;
</content><category term="bgps"></category><category term="googlepost"></category><category term="mapping"></category><category term="pipeline"></category></entry><entry><title>Delining - Maps</title><link href="https://keflavich.github.io/blog/delining-maps.html" rel="alternate"></link><published>2011-02-03T22:16:00-07:00</published><updated>2011-02-03T22:16:00-07:00</updated><author><name>Adam (adam.g.ginsburg@gmail.com)</name></author><id>tag:keflavich.github.io,2011-02-03:/blog/delining-maps.html</id><summary type="html">&lt;p&gt;First comment - delining has &lt;strong&gt;no effect&lt;/strong&gt; on downsampled data. At least
for the 0709 epoch, there were NO lines AT ALL in the data. From 0-5 Hz,
it was just empty. So we don't have to worry about that... the problem
only affects fully-sampled data.
Then, onto map comparisons. Curiously …&lt;/p&gt;</summary><content type="html">&lt;p&gt;First comment - delining has &lt;strong&gt;no effect&lt;/strong&gt; on downsampled data. At least
for the 0709 epoch, there were NO lines AT ALL in the data. From 0-5 Hz,
it was just empty. So we don't have to worry about that... the problem
only affects fully-sampled data.
Then, onto map comparisons. Curiously, the noise levels don't drop after
delining. They actually go up a bit. This may be because of the effects
on PCA cleaning.
However, flux levels in the sources go up by 0-10%. As usual, the change
in flux changes from field to field without any obvious reason.
Example 1: A pointing field. The source is ~2% brighter in the delined
version, but otherwise the match between the two is nearly perfect.&lt;/p&gt;
&lt;img alt="" src="http://1.bp.blogspot.com/_lsgW26mWZnU/TUskr5xAMSI/AAAAAAAAF_M/J65CutNg9hM/s320/101208_ob8_compare.png" /&gt;
&lt;img alt="" src="http://1.bp.blogspot.com/_lsgW26mWZnU/TUsksatOJSI/AAAAAAAAF_U/9X-rM6JQmCU/s320/101208_ob8_psd.png" /&gt;
&lt;p&gt;Example 2: A bigger map, where the flux recovery is much greater when
delining, but the background levels are also higher.&lt;/p&gt;
&lt;img alt="" src="http://4.bp.blogspot.com/_lsgW26mWZnU/TUsoBrKcQyI/AAAAAAAAF_c/junIzma1zg4/s320/101208_o11_compare.png" /&gt;
&lt;img alt="" src="http://3.bp.blogspot.com/_lsgW26mWZnU/TUsoCFL1DiI/AAAAAAAAF_k/b1QrgajdlaE/s320/101208_o11_psd.png" /&gt;
</content><category term="bgps"></category><category term="googlepost"></category><category term="mapping"></category><category term="pipeline"></category><category term="deline"></category></entry><entry><title>Delining and the Cleaning process</title><link href="https://keflavich.github.io/blog/delining-and-the-cleaning-process.html" rel="alternate"></link><published>2011-02-03T19:49:00-07:00</published><updated>2011-02-03T19:49:00-07:00</updated><author><name>Adam (adam.g.ginsburg@gmail.com)</name></author><id>tag:keflavich.github.io,2011-02-03:/blog/delining-and-the-cleaning-process.html</id><summary type="html">&lt;p&gt;One item I forgot to mention last night was the effects of
lines/delining on
PCA subtraction. These should be the primary effects on the final map
for all
epochs except 2010, in which case the primary effect SHOULD be to reduce
substantial noise.
In the examples below, there are …&lt;/p&gt;</summary><content type="html">&lt;p&gt;One item I forgot to mention last night was the effects of
lines/delining on
PCA subtraction. These should be the primary effects on the final map
for all
epochs except 2010, in which case the primary effect SHOULD be to reduce
substantial noise.
In the examples below, there are PSDs of whole timestreams (left) and
example timestreams from single scans (right). The first thing to note
is that
the delined timestreams still have correlated components in the line
region,
but they are suppressed - their amplitudes, and therefore their sort
order in
the PCA removal scheme, are changed. Since PCA cleaning is by its nature
adaptive
(the number of components remains fixed, but the order changes), these
effects
can be significant and dangerous. If the line noise is more correlated,
a PCA
component will be dedicated to removing it instead of atmospheric
signal.
Below are examples from l089 (epoch 0709) first. These have less
correlated
line noise and are more typical of BGPS observations. The first PCA
component,
the average, does not change much with PCA cleaning. However it is clear
that
the second component changes substantially, from large-amplitude
high-frequency
noise to small-amplitude variations that are very likely to describe
atmosphere.&lt;/p&gt;
&lt;hr class="docutils" /&gt;
&lt;p&gt;Example 1 - Zeroing out the lines:&lt;/p&gt;
&lt;img alt="" src="http://3.bp.blogspot.com/_lsgW26mWZnU/TUrs_QRBBHI/AAAAAAAAF9Y/BH4XEdrFdt0/s320/zero_pca_psds.png" /&gt;
&lt;img alt="" src="http://3.bp.blogspot.com/_lsgW26mWZnU/TUrs_nWI6YI/AAAAAAAAF9g/1Dcr0zyMBvM/s320/zero_pca_timestreams.png" /&gt;
&lt;p&gt;Example 2 - Fitting and removing the lines:&lt;/p&gt;
&lt;img alt="" src="http://4.bp.blogspot.com/_lsgW26mWZnU/TUrs-f7qfqI/AAAAAAAAF9I/Dt3Kk9roeW8/s320/fitline_pca_psds.png" /&gt;
&lt;img alt="" src="http://1.bp.blogspot.com/_lsgW26mWZnU/TUrs-_it9CI/AAAAAAAAF9Q/06KgQOS2vNA/s320/fitline_pca_timestreams.png" /&gt;
&lt;p&gt;Example 3 - Suppressing the lines with a non-fitted Gaussian:&lt;/p&gt;
&lt;img alt="" src="http://4.bp.blogspot.com/_lsgW26mWZnU/TUr_QHkPADI/AAAAAAAAF9o/n5ylgDCLKPw/s320/wingsupp_pca_psds.png" /&gt;
&lt;img alt="" src="http://2.bp.blogspot.com/_lsgW26mWZnU/TUr_QnuPZfI/AAAAAAAAF9w/lt4rEB1Qlq0/s320/wingsupp_pca_timestreams.png" /&gt;
&lt;hr class="docutils" /&gt;
&lt;p&gt;The next examples are from December 2010 observations of Uranus. In this
case, the correlated noise component is clearly dominant.&lt;/p&gt;
&lt;p&gt;Zeroing lines:&lt;/p&gt;
&lt;img alt="" src="http://2.bp.blogspot.com/_lsgW26mWZnU/TUsCBUeD67I/AAAAAAAAF94/CCj9gbJOgk8/s320/zero_pca_psds.png" /&gt;
&lt;img alt="" src="http://2.bp.blogspot.com/_lsgW26mWZnU/TUsCB4wFnSI/AAAAAAAAF-A/YgbjYlybcOc/s320/zero_pca_timestreams.png" /&gt;
&lt;p&gt;Fitted lines:&lt;/p&gt;
&lt;img alt="" src="http://2.bp.blogspot.com/_lsgW26mWZnU/TUsCCQNHurI/AAAAAAAAF-I/a5_FQ7bqUjI/s320/fitline_pca_psds.png" /&gt;
&lt;img alt="" src="http://3.bp.blogspot.com/_lsgW26mWZnU/TUsCCtO7DTI/AAAAAAAAF-Q/wKBz0UhDruE/s320/fitline_pca_timestreams.png" /&gt;
&lt;p&gt;Non-fitted gaussian suppression:&lt;/p&gt;
&lt;img alt="" src="http://1.bp.blogspot.com/_lsgW26mWZnU/TUsCLgCRbmI/AAAAAAAAF-Y/WzHcr1E5q4s/s320/wingsupp_pca_psds.png" /&gt;
&lt;img alt="" src="http://2.bp.blogspot.com/_lsgW26mWZnU/TUsCL5e9eGI/AAAAAAAAF-g/TgmNWbiJzbs/s320/wingsupp_pca_timestreams.png" /&gt;
&lt;hr class="docutils" /&gt;
&lt;p&gt;Finally, these two are demonstrations of what you might expect to see
for a purely noiseless images of a planet (it was constructed from a
PSF). PCA is first:&lt;/p&gt;
&lt;img alt="" src="http://2.bp.blogspot.com/_lsgW26mWZnU/TUsCyELAZ1I/AAAAAAAAF-o/65L-rwGFscM/s320/noiselesssim_pca_psds.png" /&gt;
&lt;img alt="" src="http://3.bp.blogspot.com/_lsgW26mWZnU/TUsCyRaYY7I/AAAAAAAAF-w/ZaRL4CPWw2E/s320/noiselesssim_pca_timestreams.png" /&gt;
&lt;p&gt;A single bolometer's timestream and PSD:&lt;/p&gt;
&lt;img alt="" src="http://4.bp.blogspot.com/_lsgW26mWZnU/TUsDgR4xcEI/AAAAAAAAF-4/udxMkuH6kio/s320/noiselesssim_deline_wingsupp_10hz_noscan_nsig0_psds_000.png" /&gt;
&lt;img alt="" src="http://1.bp.blogspot.com/_lsgW26mWZnU/TUsDgtnBPNI/AAAAAAAAF_A/weQNMCgtrtc/s320/noiselesssim_deline_wingsupp_10hz_noscan_nsig0_timestreams_000.png" /&gt;
</content><category term="bgps"></category><category term="googlepost"></category><category term="cleaning"></category><category term="pipeline"></category><category term="deline"></category></entry><entry><title>Delining</title><link href="https://keflavich.github.io/blog/delining.html" rel="alternate"></link><published>2011-02-03T04:54:00-07:00</published><updated>2011-02-03T04:54:00-07:00</updated><author><name>Adam (adam.g.ginsburg@gmail.com)</name></author><id>tag:keflavich.github.io,2011-02-03:/blog/delining.html</id><summary type="html">&lt;p&gt;Delining refers to the process of removing electronic noise that is
aliased to
particular frequencies by the discrete sampling of the data. Typical
electronic noise is at 60 Hz with some width. It gets aliased to these
frequencies:
&lt;tt class="docutils literal"&gt;linefreqs = &lt;span class="pre"&gt;[10.05+findgen(10)*1.2,10.05-((findgen(7)+1 …&lt;/span&gt;&lt;/tt&gt;&lt;/p&gt;</summary><content type="html">&lt;p&gt;Delining refers to the process of removing electronic noise that is
aliased to
particular frequencies by the discrete sampling of the data. Typical
electronic noise is at 60 Hz with some width. It gets aliased to these
frequencies:
&lt;tt class="docutils literal"&gt;linefreqs = &lt;span class="pre"&gt;[10.05+findgen(10)*1.2,10.05-((findgen(7)+1))*1.2]&lt;/span&gt;&lt;/tt&gt;
The 10.05 Hz and 20.10 Hz are the worst in most cases, and they are
wider. For
the above lines, we &amp;quot;remove&amp;quot; a bandwidth of 0.09 Hz by averaging over
the
neighboring 0.5 Hz on either side. For the wider lines, we remove 0.5 Hz
by
averaging over the neighboring 1.5 Hz on either side.
There are a few new things about the delining process that did not exist
in James' old version:&lt;/p&gt;
&lt;ol class="arabic simple"&gt;
&lt;li&gt;The wide-band lines are removed&lt;/li&gt;
&lt;li&gt;A check is performed before removing the lines - they are only
removed if the line region mean is
2-sigma above the average region (as computed via median and mad)&lt;/li&gt;
&lt;li&gt;The replaced noise is computed via median/mad, and the new noise
level is set 5x lower than in the
neighboring region&lt;/li&gt;
&lt;/ol&gt;
&lt;hr class="docutils" /&gt;
&lt;p&gt;Now, some examples:&lt;/p&gt;
&lt;img alt="" src="http://4.bp.blogspot.com/_lsgW26mWZnU/TUisqDHJ08I/AAAAAAAAF58/BpgnudfdAAw/s400/deline_timestreams_003.png" /&gt;
&lt;img alt="" src="http://2.bp.blogspot.com/_lsgW26mWZnU/TUisqWN6ueI/AAAAAAAAF6E/yAka7dlomjo/s400/deline_psds_003.png" /&gt;
&lt;p&gt;The timestream (left) and PSD (right) of a &amp;quot;pretty good&amp;quot; bolometer.
There is a lot of noise in lines, but note that the peak power is 2-3
orders of magnitude below the PSD peak. In this case the &amp;quot;Power&amp;quot; is in
Jy. There is little astrophysical information below ~14&amp;quot; (9 Hz), and
there should be none below 7.2&amp;quot; (17 Hz), but there is plausibly
information at these scales. It therefore makes sense to save as much
information as possible. As can be seen in the delined PSD, the peaks
drop by a substantial fraction, but not all the way - that's because
these lines are wider than typically observed. Unfortunately, I don't
have any really good ideas about how to fix this issue - I think fitting
gaussians to each line, while attractive, is going to be prohibitively
expensive in both programmer and processor time. However... it would be
a very interesting project to undertake. In the timestream, it can be
seen that the RMS drops substantially when the lines are filtered out
(note that the timestream is strongly dominated by large-scale
structure, so 'substantial' is really based on the RMS of the lines
removed).&lt;/p&gt;
&lt;img alt="" src="http://3.bp.blogspot.com/_lsgW26mWZnU/TUisq6D55wI/AAAAAAAAF6M/PZ4hyu5FkZM/s400/deline_10hz_timestreams_003.png" /&gt;
&lt;img alt="" src="http://3.bp.blogspot.com/_lsgW26mWZnU/TUisrWpL7yI/AAAAAAAAF6U/tSsL5Jc4n-A/s400/deline_10hz_psds_003.png" /&gt;
&lt;p&gt;The next two plots look identical to the previous ones. In principle,
they include the wide-band delining. However, in this case, the
satellite lines to either side of the 10 Hz line are too strong and
prevent identification of the 10 Hz line. This is unfortunate, again,
but no obvious solution presents itself.&lt;/p&gt;
&lt;img alt="" src="http://1.bp.blogspot.com/_lsgW26mWZnU/TUixLZbVHPI/AAAAAAAAF6c/xCWLpb9CKX4/s400/deline_timestreams_004.png" /&gt;
&lt;img alt="" src="http://1.bp.blogspot.com/_lsgW26mWZnU/TUixL8APCQI/AAAAAAAAF6k/j8FyKbgOdDo/s400/deline_psds_004.png" /&gt;
&lt;p&gt;Now we come to a truly problematic bolometer. The lines completely
dominate the power spectrum. Narrow line removal fails.&lt;/p&gt;
&lt;img alt="" src="http://2.bp.blogspot.com/_lsgW26mWZnU/TUixMjNxbkI/AAAAAAAAF6s/Hr8ouprcMpY/s400/deline_10hz_timestreams_004.png" /&gt;
&lt;img alt="" src="http://1.bp.blogspot.com/_lsgW26mWZnU/TUixNMO2NsI/AAAAAAAAF60/ZAsirbb25QY/s400/deline_10hz_psds_004.png" /&gt;
&lt;p&gt;Wide line removal does a much, much better job, dropping the RMS by an
order of magnitude.... but the bolometer probably still needs to be
removed, since the astrophysical signal is 2-3 orders of magnitude below
that.&lt;/p&gt;
&lt;img alt="" src="http://2.bp.blogspot.com/_lsgW26mWZnU/TUizkq9x4TI/AAAAAAAAF68/2xYY86d6aTQ/s400/deline_timestreams_001.png" /&gt;
&lt;img alt="" src="http://2.bp.blogspot.com/_lsgW26mWZnU/TUizlH0XvMI/AAAAAAAAF7E/ptDb5I3os6A/s400/deline_psds_001.png" /&gt;
&lt;p&gt;The 2010 data had much worse line noise and had to be delined. JS
accomplished this by throwing out all data above a certain frequency,
but I prefer the delining approach. It is clearly effective, but again
leaves much to be desired. Should the flagged bandwidth be increased?
What about the extra lines around 18 Hz?&lt;/p&gt;
&lt;img alt="" src="http://3.bp.blogspot.com/_lsgW26mWZnU/TUizln1mSCI/AAAAAAAAF7M/hTkZRUU3-ck/s400/deline_10hz_timestreams_001.png" /&gt;
&lt;img alt="" src="http://4.bp.blogspot.com/_lsgW26mWZnU/TUizmdrMkgI/AAAAAAAAF7U/-dlB4u30hBo/s400/deline_10hz_psds_001.png" /&gt;
&lt;p&gt;Again, the wide line flagging fails because of the satellite lines.&lt;/p&gt;
</content><category term="bgps"></category><category term="googlepost"></category><category term="pipeline"></category><category term="deline"></category></entry><entry><title>Next step: prove that this works in maps...</title><link href="https://keflavich.github.io/blog/next-step-prove-that-this-works-in-maps.html" rel="alternate"></link><published>2011-02-03T04:53:00-07:00</published><updated>2011-02-03T04:53:00-07:00</updated><author><name>Adam (adam.g.ginsburg@gmail.com)</name></author><id>tag:keflavich.github.io,2011-02-03:/blog/next-step-prove-that-this-works-in-maps.html</id><content type="html">&lt;p&gt;Next step: prove that this works in maps...&lt;/p&gt;
</content><category term="bgps"></category><category term="http://schemas.google.com/blogger/2008/kind#comment"></category></entry><entry><title>Some pretty neat things about delining....</title><link href="https://keflavich.github.io/blog/some-pretty-neat-things-about-delining.html" rel="alternate"></link><published>2011-02-03T04:50:00-07:00</published><updated>2011-02-03T04:50:00-07:00</updated><author><name>Adam (adam.g.ginsburg@gmail.com)</name></author><id>tag:keflavich.github.io,2011-02-03:/blog/some-pretty-neat-things-about-delining.html</id><summary type="html">&lt;p&gt;Well, I did the work, so might as well come up with some plots...
I created a gaussian-fitting based delining code that saves all of the
fits in a text file! That's a lot of data to play with, and allows me to
draw some conclusions:&lt;/p&gt;
&lt;ol class="arabic simple"&gt;
&lt;li&gt;For the narrow lines …&lt;/li&gt;&lt;/ol&gt;</summary><content type="html">&lt;p&gt;Well, I did the work, so might as well come up with some plots...
I created a gaussian-fitting based delining code that saves all of the
fits in a text file! That's a lot of data to play with, and allows me to
draw some conclusions:&lt;/p&gt;
&lt;ol class="arabic simple"&gt;
&lt;li&gt;For the narrow lines, the linewidth (gaussian sigma) is 0.03 Hz. For
the wide lines, it is 0.05.&lt;/li&gt;
&lt;li&gt;The amplitudes from December 2010 are ENORMOUS compared to others!&lt;/li&gt;
&lt;li&gt;The width distributions of the two are similar, though the lines
appear to be significantly wider in July 2009&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;I've also gotten to the point that I'm satisfied with how delining with
wing suppression works. Wing suppression is 0.4-2x quicker than fitting
directly, depending on... not clear what exactly; it depends on epoch,
but that could either be because there are more lines found or because
of relative data size. Does delining have to be done on whole
timestreams, or can it be done on a scan-by-scan basis? This is not
entirely clear... the peaks are less suppressed when done on a
scan-by-scan basis (presumably because the S/N is low and peaks are
therefore not detected), but incorrect suppression (removing a line
that's not there) is reduced. For short scans, the scan-by-scan approach
is 10x faster; for longer scans it's ~20% faster. I think the
scan-by-scan approach is going to be ideal.&lt;/p&gt;
&lt;hr class="docutils" /&gt;
&lt;p&gt;Examples from l089 (0709):
Top row: non-fitted line suppression&lt;/p&gt;
&lt;img alt="" src="http://4.bp.blogspot.com/_lsgW26mWZnU/TUowz4zgpsI/AAAAAAAAF8E/iJd0tAbVj0U/s320/deline_10hz_wingsuppress_psds_003.png" /&gt;
&lt;img alt="" src="http://4.bp.blogspot.com/_lsgW26mWZnU/TUow1IQ_Y9I/AAAAAAAAF8c/1OkISODwwPM/s320/deline_fitline_10hz_noscan_nsig0_preservephase_timestreams_003.png" /&gt;
&lt;p&gt;Bottom row: fitted line suppression&lt;/p&gt;
&lt;img alt="" src="http://4.bp.blogspot.com/_lsgW26mWZnU/TUow0sTBKsI/AAAAAAAAF8U/GtL0nyvlNBw/s320/deline_fitline_10hz_noscan_nsig0_preservephase_psds_003.png" /&gt;
&lt;img alt="" src="http://1.bp.blogspot.com/_lsgW26mWZnU/TUow0d-vEcI/AAAAAAAAF8M/or2gkvGxW4o/s320/deline_10hz_wingsuppress_timestreams_003.png" /&gt;
&lt;hr class="docutils" /&gt;
&lt;p&gt;Examples from Uranus (1012, really really liney):&lt;/p&gt;
&lt;p&gt;Top row: non-fitted line suppression&lt;/p&gt;
&lt;img alt="" src="http://1.bp.blogspot.com/_lsgW26mWZnU/TUoxEvWqRwI/AAAAAAAAF8k/J6ImhPN9ZS0/s320/deline_10hz_wingsuppress_psds_003.png" /&gt;
&lt;img alt="" src="http://2.bp.blogspot.com/_lsgW26mWZnU/TUoxFMLdujI/AAAAAAAAF8s/DrzWxFCdBu0/s320/deline_10hz_wingsuppress_timestreams_003.png" /&gt;
&lt;p&gt;Bottom row: fitted line suppression&lt;/p&gt;
&lt;img alt="" src="http://3.bp.blogspot.com/_lsgW26mWZnU/TUoxFXYN_tI/AAAAAAAAF80/BQwv6ROSOJ4/s320/deline_fitline_10hz_noscan_nsig0_preservephase_psds_003.png" /&gt;
&lt;img alt="" src="http://4.bp.blogspot.com/_lsgW26mWZnU/TUoxF_c0URI/AAAAAAAAF88/JU9_F-8HC2k/s320/deline_fitline_10hz_noscan_nsig0_preservephase_timestreams_003.png" /&gt;
</content><category term="bgps"></category><category term="googlepost"></category><category term="pipeline"></category><category term="deline"></category></entry><entry><title>Bleh, a whole day&amp;#39;s work dedicate to new delin...</title><link href="https://keflavich.github.io/blog/bleh-a-whole-days-work-dedicate-to-new-delin.html" rel="alternate"></link><published>2011-02-03T03:29:00-07:00</published><updated>2011-02-03T03:29:00-07:00</updated><author><name>Adam (adam.g.ginsburg@gmail.com)</name></author><id>tag:keflavich.github.io,2011-02-03:/blog/bleh-a-whole-days-work-dedicate-to-new-delin.html</id><summary type="html">&lt;p&gt;Bleh, a whole day's work dedicate to new delining methods and testing.
Very unrewarding. However, there are results that I need to FINALLY
prove and show tomorrow:
1. amplitude suppression + phase preservation is a good alternative to
zeroing/scrambling or replacing with noise
2. line fitting is effective but slow …&lt;/p&gt;</summary><content type="html">&lt;p&gt;Bleh, a whole day's work dedicate to new delining methods and testing.
Very unrewarding. However, there are results that I need to FINALLY
prove and show tomorrow:
1. amplitude suppression + phase preservation is a good alternative to
zeroing/scrambling or replacing with noise
2. line fitting is effective but slow
3. Assuming a line profile and suppressing is nearly as effective as
line fitting
4. scan-by-scan is less effective than observation-by-observation for
fitting (but it's not clear if that holds for other methods)&lt;/p&gt;
</content><category term="bgps"></category><category term="http://schemas.google.com/blogger/2008/kind#comment"></category></entry><entry><title>What about the effects on the map? Unfortunately,...</title><link href="https://keflavich.github.io/blog/what-about-the-effects-on-the-map-unfortunately.html" rel="alternate"></link><published>2011-02-02T02:12:00-07:00</published><updated>2011-02-02T02:12:00-07:00</updated><author><name>Adam (adam.g.ginsburg@gmail.com)</name></author><id>tag:keflavich.github.io,2011-02-02:/blog/what-about-the-effects-on-the-map-unfortunately.html</id><summary type="html">&lt;p&gt;What about the effects on the map? Unfortunately, in the tests I've run,
delining actually INCREASES the noise in the map! How is this possible?
My only hypothesis is that PCA cleaning does an excellent job of
removing the line noise, but when it is replaced with truly uncorrelated
gaussian …&lt;/p&gt;</summary><content type="html">&lt;p&gt;What about the effects on the map? Unfortunately, in the tests I've run,
delining actually INCREASES the noise in the map! How is this possible?
My only hypothesis is that PCA cleaning does an excellent job of
removing the line noise, but when it is replaced with truly uncorrelated
gaussian noise, the PCA cleaning no longer removes that component.
But we don't want PCA cleaning to grab instrumental correlated noise; we
want it to be limited to atmospheric noise. So ideally we want to
completely remove the line noise without adding noise to the image...
maybe the line regions should just be set to zero after all....&lt;/p&gt;
</content><category term="bgps"></category><category term="http://schemas.google.com/blogger/2008/kind#comment"></category></entry><entry><title>Downsampling by a factor of 3 appears not to be an...</title><link href="https://keflavich.github.io/blog/downsampling-by-a-factor-of-3-appears-not-to-be-an.html" rel="alternate"></link><published>2011-01-27T22:16:00-07:00</published><updated>2011-01-27T22:16:00-07:00</updated><author><name>Adam (adam.g.ginsburg@gmail.com)</name></author><id>tag:keflavich.github.io,2011-01-27:/blog/downsampling-by-a-factor-of-3-appears-not-to-be-an.html</id><summary type="html">&lt;p&gt;Downsampling by a factor of 3 appears not to be an option because this
error:
% NCDF_VARGET: Requested read is larger than data in dimension 0.
Reducing COUNT to 615.
% REBIN: Result dimensions must be integer factor of original dimensions
% Execution halted at: NCDF_VARGET_SCALE 133
/Users/adam/work …&lt;/p&gt;</summary><content type="html">&lt;p&gt;Downsampling by a factor of 3 appears not to be an option because this
error:
% NCDF_VARGET: Requested read is larger than data in dimension 0.
Reducing COUNT to 615.
% REBIN: Result dimensions must be integer factor of original dimensions
% Execution halted at: NCDF_VARGET_SCALE 133
/Users/adam/work/bgps_pipeline/support/ncdf_varget_scale.pro
occurs.&lt;/p&gt;
</content><category term="bgps"></category><category term="http://schemas.google.com/blogger/2008/kind#comment"></category></entry><entry><title>More evidence that downsampling causes problems</title><link href="https://keflavich.github.io/blog/more-evidence-that-downsampling-causes-problems.html" rel="alternate"></link><published>2011-01-21T22:48:00-07:00</published><updated>2011-01-21T22:48:00-07:00</updated><author><name>Adam (adam.g.ginsburg@gmail.com)</name></author><id>tag:keflavich.github.io,2011-01-21:/blog/more-evidence-that-downsampling-causes-problems.html</id><content type="html">&lt;p&gt;The captions are pretty much the same as for &lt;a class="reference external" href="http://bolocam.blogspot.com/2011/01/downsampling-has-serious-negative.html"&gt;the previous post&lt;/a&gt;, but
this is a larger field and the effects are more serious.&lt;/p&gt;
&lt;img alt="" src="http://1.bp.blogspot.com/_lsgW26mWZnU/TToMoxR5xJI/AAAAAAAAF3Q/qod6NlqiNpU/s400/orion_omc1_dstest_images.png" /&gt;
&lt;img alt="" src="http://2.bp.blogspot.com/_lsgW26mWZnU/TToMpcpYjJI/AAAAAAAAF3Y/Hp9V2KcCEgE/s400/orion_omc1_dstest_autocorrfits.png" /&gt;
&lt;img alt="" src="http://1.bp.blogspot.com/_lsgW26mWZnU/TToMpxmFurI/AAAAAAAAF3g/-JJwti4yW58/s400/orion_omc1_dstest_psds.png" /&gt;
&lt;img alt="" src="http://4.bp.blogspot.com/_lsgW26mWZnU/TToMqdKihGI/AAAAAAAAF3o/X54ObZ_AHkk/s400/orion_omc1_dstest_pixel-pixel.png" /&gt;
</content><category term="bgps"></category><category term="googlepost"></category><category term="mapping"></category><category term="pipeline"></category></entry><entry><title>Downsampling has serious negative effects on the data</title><link href="https://keflavich.github.io/blog/downsampling-has-serious-negative-effects-on-the-data.html" rel="alternate"></link><published>2011-01-20T20:16:00-07:00</published><updated>2011-01-20T20:16:00-07:00</updated><author><name>Adam (adam.g.ginsburg@gmail.com)</name></author><id>tag:keflavich.github.io,2011-01-20:/blog/downsampling-has-serious-negative-effects-on-the-data.html</id><summary type="html">&lt;p&gt;Background: Downsampling is performed using Old Pipeline code called
&lt;tt class="docutils literal"&gt;process_ncdf&lt;/tt&gt;. All BGPS data was downsampled by a factor of 5
before mapping because of data size concerns. I did this 'blindly'
(i.e., just
accepted that I should) because James said I could.
However, I had previously noted that …&lt;/p&gt;</summary><content type="html">&lt;p&gt;Background: Downsampling is performed using Old Pipeline code called
&lt;tt class="docutils literal"&gt;process_ncdf&lt;/tt&gt;. All BGPS data was downsampled by a factor of 5
before mapping because of data size concerns. I did this 'blindly'
(i.e., just
accepted that I should) because James said I could.
However, I had previously noted that the pointing files could not be
done with
downsampled data because the beams 'looked funny' or something along
those
lines; it may also have been a simple map sampling issue in which not
all
pixels were filled with a downsampled image.
Anyway, I decided to go back and quantify the effects. The plots below
are from the
single &amp;quot;pointing-style&amp;quot; observation of OMC1 from 2009. The units are
volts. 'ds1' indicates
sampling at 0.02 seconds, 'ds5' indicates sampling every 0.1 seconds.
The scan rate was
120&amp;quot;/s.&lt;/p&gt;
&lt;hr class="docutils" /&gt;
&lt;img alt="" src="http://2.bp.blogspot.com/_lsgW26mWZnU/TTiWWSS-JVI/AAAAAAAAF24/4m2SFfwWkmA/s400/omc1_dstest_autocorrfits.png" /&gt;
&lt;p&gt;The beam sizes were measured from the autocorrelation maps. However,
because there is structure on many scales
in this map, I had to use a rather ad-hoc method to remove the
correlated structure. I fitted a gaussian
to the elliptical northwest-southeast structure, removed it, then fitted
a gaussian to the remaining circular
thing in the center, which is approximately the beam.
If I fit the &amp;quot;beam&amp;quot; gaussian with an ellipse, I get:
Beamsize 1_1: 36.15,26.23
Beamsize 1_5: 48.39,30.21
With a circle:
Beamsize 1_1: 29.51
Beamsize 1_5: 35.31&lt;/p&gt;
&lt;img alt="" src="http://1.bp.blogspot.com/_lsgW26mWZnU/TTiWWKeGbJI/AAAAAAAAF2w/jOEmOnDa1hw/s400/omc1_dstest_images.png" /&gt;
&lt;p&gt;The ds1 and ds5 images compared.&lt;/p&gt;
&lt;img alt="" src="http://3.bp.blogspot.com/_lsgW26mWZnU/TTiWWlzyWKI/AAAAAAAAF3A/nPCN-C0e3Jo/s400/omc1_dstest_psds.png" /&gt;
&lt;p&gt;The PSDs of the two images (on identical grids). Note that ds5 loses
power at small spatial scales, 50% at 40&amp;quot;!&lt;/p&gt;
&lt;img alt="" src="http://4.bp.blogspot.com/_lsgW26mWZnU/TTiWWl3j3dI/AAAAAAAAF3I/Ef3WHEv5oXU/s400/omc1_dstest_pixel-pixel.png" /&gt;
&lt;p&gt;The pixel-pixel plot with a fit that shows a 10% overall flux loss
(best-fit).&lt;/p&gt;
</content><category term="bgps"></category><category term="googlepost"></category><category term="mapping"></category><category term="calibration"></category></entry><entry><title>BGPS data paper published</title><link href="https://keflavich.github.io/blog/bgps-data-paper-published.html" rel="alternate"></link><published>2010-11-03T15:22:00-06:00</published><updated>2010-11-03T15:22:00-06:00</updated><author><name>Adam (adam.g.ginsburg@gmail.com)</name></author><id>tag:keflavich.github.io,2010-11-03:/blog/bgps-data-paper-published.html</id><summary type="html">&lt;p&gt;&amp;nbsp;*[[&lt;a class="reference external" href="http://irsa.ipac.caltech.edu/data/BOLOCAM_GPS/bgps_methods.pdf"&gt;http://irsa.ipac.caltech.edu/data/BOLOCAM_GPS/bgps_methods.pdf&lt;/a&gt;
The Bolocam Galactic Plane Survey I. Survey Description and Data
Reduction] `[`[&lt;a class="reference external" href="http://arxiv.org/abs/1011.0691"&gt;http://arxiv.org/abs/1011.0691&lt;/a&gt; arXiv]`]`
&amp;nbsp;*[[&lt;a class="reference external" href="http://adsabs.harvard.edu/abs/2010ApJS..188..123R"&gt;http://adsabs.harvard.edu/abs/2010ApJS..188..123R&lt;/a&gt; The Bolocam
Galactic Plane Survey II. Catalog of the Image Data]
`[`[&lt;a class="reference external" href="http://arxiv.org/abs/0909.2871"&gt;http://arxiv …&lt;/a&gt;&lt;/p&gt;</summary><content type="html">&lt;p&gt;&amp;nbsp;*[[&lt;a class="reference external" href="http://irsa.ipac.caltech.edu/data/BOLOCAM_GPS/bgps_methods.pdf"&gt;http://irsa.ipac.caltech.edu/data/BOLOCAM_GPS/bgps_methods.pdf&lt;/a&gt;
The Bolocam Galactic Plane Survey I. Survey Description and Data
Reduction] `[`[&lt;a class="reference external" href="http://arxiv.org/abs/1011.0691"&gt;http://arxiv.org/abs/1011.0691&lt;/a&gt; arXiv]`]`
&amp;nbsp;*[[&lt;a class="reference external" href="http://adsabs.harvard.edu/abs/2010ApJS..188..123R"&gt;http://adsabs.harvard.edu/abs/2010ApJS..188..123R&lt;/a&gt; The Bolocam
Galactic Plane Survey II. Catalog of the Image Data]
`[`[&lt;a class="reference external" href="http://arxiv.org/abs/0909.2871"&gt;http://arxiv.org/abs/0909.2871&lt;/a&gt; arXiv]`]`
&amp;nbsp;*[[&lt;a class="reference external" href="http://adsabs.harvard.edu/abs/2010ApJ...717.1157D"&gt;http://adsabs.harvard.edu/abs/2010ApJ...717.1157D&lt;/a&gt; The Bolocam
Galactic Plane Survey III. Characterizing Physical Properties of Massive
Star-Forming Regions in the Gemini OB1 Molecular Cloud ]
`[`[&lt;a class="reference external" href="http://arxiv.org/abs/1005.4969"&gt;http://arxiv.org/abs/1005.4969&lt;/a&gt; arXiv]`]`
&amp;nbsp;*[[&lt;a class="reference external" href="http://adsabs.harvard.edu/abs/2010ApJ...721..137B"&gt;http://adsabs.harvard.edu/abs/2010ApJ...721..137B&lt;/a&gt; The Bolocam
Galactic Plane Survey IV: λ = 1.1 and 0.35 mm Dust Continuum Emission in
the Galactic Center Region]&lt;/p&gt;
</content><category term="bgps"></category><category term="googlepost"></category></entry><entry><title>v2.0 is to v1.0 as ___ is to v1.0</title><link href="https://keflavich.github.io/blog/v20-is-to-v10-as-___-is-to-v10.html" rel="alternate"></link><published>2010-06-24T23:04:00-06:00</published><updated>2010-06-24T23:04:00-06:00</updated><author><name>Adam (adam.g.ginsburg@gmail.com)</name></author><id>tag:keflavich.github.io,2010-06-24:/blog/v20-is-to-v10-as-___-is-to-v10.html</id><summary type="html">&lt;img alt="" src="http://2.bp.blogspot.com/_lsgW26mWZnU/TCN8uqZ-xSI/AAAAAAAAFw8/TywL2w_ntIk/s320/l079_comparison.png" /&gt;
&lt;img alt="" src="http://4.bp.blogspot.com/_lsgW26mWZnU/TCN8vlKAjAI/AAAAAAAAFxE/BZE5Wlca8oU/s320/l079_comparison_psd.png" /&gt;
&lt;p&gt;Apparently v2.0 recovers flux better at all scales than v1.0.&amp;nbsp; However,
it is noisier.&amp;nbsp; The full comparison is available &lt;a class="reference external" href="http://casa.colorado.edu/%7Eginsbura/bgps/v1.0_v2.0_comparison.pdf"&gt;here&lt;/a&gt;.&amp;nbsp; The
trustworthy range of flux scales is 1.2-1.6ish.&amp;nbsp; The flux is increased
at ALL scales in most images.&amp;nbsp; However, as was noted in comparisons with
MAMBO …&lt;/p&gt;</summary><content type="html">&lt;img alt="" src="http://2.bp.blogspot.com/_lsgW26mWZnU/TCN8uqZ-xSI/AAAAAAAAFw8/TywL2w_ntIk/s320/l079_comparison.png" /&gt;
&lt;img alt="" src="http://4.bp.blogspot.com/_lsgW26mWZnU/TCN8vlKAjAI/AAAAAAAAFxE/BZE5Wlca8oU/s320/l079_comparison_psd.png" /&gt;
&lt;p&gt;Apparently v2.0 recovers flux better at all scales than v1.0.&amp;nbsp; However,
it is noisier.&amp;nbsp; The full comparison is available &lt;a class="reference external" href="http://casa.colorado.edu/%7Eginsbura/bgps/v1.0_v2.0_comparison.pdf"&gt;here&lt;/a&gt;.&amp;nbsp; The
trustworthy range of flux scales is 1.2-1.6ish.&amp;nbsp; The flux is increased
at ALL scales in most images.&amp;nbsp; However, as was noted in comparisons with
MAMBO, there may be curvature in the best-fit lines.&amp;nbsp; Also, l=35 does
not appear to scale up linearly... G34 is fainter in v2.0?
In the low S/N fields, the PSD is more reliable than the pixel-pixel
comparison.&lt;/p&gt;
</content><category term="bgps"></category><category term="googlepost"></category><category term="discrepancy"></category><category term="v2.0"></category></entry><entry><title>PPS comparison completed</title><link href="https://keflavich.github.io/blog/pps-comparison-completed.html" rel="alternate"></link><published>2010-06-24T15:24:00-06:00</published><updated>2010-06-24T15:24:00-06:00</updated><author><name>Adam (adam.g.ginsburg@gmail.com)</name></author><id>tag:keflavich.github.io,2010-06-24:/blog/pps-comparison-completed.html</id><content type="html">&lt;p&gt;The PPS scale factor seems to hold for many different (and ridiculous)
aperture sizes.&amp;nbsp; The full results are &lt;a class="reference external" href="http://casa.colorado.edu/%7Eginsbura/bgps/pps_comparison.pdf"&gt;here.&lt;/a&gt;&lt;/p&gt;
</content><category term="bgps"></category><category term="googlepost"></category><category term="analysis"></category><category term="discrepancy"></category></entry><entry><title>PPS analysis: suggests a possible solution to the discrepancy</title><link href="https://keflavich.github.io/blog/pps-analysis-suggests-a-possible-solution-to-the-discrepancy.html" rel="alternate"></link><published>2010-06-21T18:17:00-06:00</published><updated>2010-06-21T18:17:00-06:00</updated><author><name>Adam (adam.g.ginsburg@gmail.com)</name></author><id>tag:keflavich.github.io,2010-06-21:/blog/pps-analysis-suggests-a-possible-solution-to-the-discrepancy.html</id><summary type="html">&lt;p&gt;The comparisons I mentioned in the previous post are sort of done.&amp;nbsp; They
are pretty suggestive of a solution to the &amp;quot;flux recovery problem&amp;quot; we
think must be true.&amp;nbsp; However, even if it is a solution, it doesn't
really solve the problem completely.
It looks like v1.0 should be …&lt;/p&gt;</summary><content type="html">&lt;p&gt;The comparisons I mentioned in the previous post are sort of done.&amp;nbsp; They
are pretty suggestive of a solution to the &amp;quot;flux recovery problem&amp;quot; we
think must be true.&amp;nbsp; However, even if it is a solution, it doesn't
really solve the problem completely.
It looks like v1.0 should be scaled up by a factor of 1.3-1.4 (not
1.5).&amp;nbsp; v2.0 is consistent with the PPS sources to within 5%, and might
even be slightly too high.
The comparison was done by taking the flux in a 60&amp;quot; radius aperture
(equivalent to bolocat 120&amp;quot; diameter apertures) and subtracting off the
background measured in a 120&amp;quot; radius annulus around the source.&amp;nbsp; Without
the background subtraction, these numbers would look very different: in
the science fields, most of the sources sit on an extended background.
Even though the &amp;quot;background flux&amp;quot; isn't recovered in the PPS fields, it
should contribute to the source background because it is involved in the
atmosphere subtraction (it's sort of &amp;quot;already subtracted&amp;quot; so you have to
subtract from the science fields).&lt;/p&gt;
&lt;img alt="" src="http://3.bp.blogspot.com/_lsgW26mWZnU/TB-rPT7MLdI/AAAAAAAAFws/7oWTt3FOF-M/s320/BGPS_correction_factors.png" /&gt;
&lt;img alt="" src="http://2.bp.blogspot.com/_lsgW26mWZnU/TB-rQId8G_I/AAAAAAAAFw0/NUJKQO_5zI4/s320/BGPS_correction_factor_histograms.png" /&gt;
&lt;p&gt;Next step: direct comparison between v1.0 and v2.0.&amp;nbsp; Pixel by pixel,
aperture, and powerspectrum&lt;/p&gt;
</content><category term="bgps"></category><category term="googlepost"></category><category term="analysis"></category><category term="discrepancy"></category></entry><entry><title>PPS analysis</title><link href="https://keflavich.github.io/blog/pps-analysis.html" rel="alternate"></link><published>2010-06-16T18:06:00-06:00</published><updated>2010-06-16T18:06:00-06:00</updated><author><name>Adam (adam.g.ginsburg@gmail.com)</name></author><id>tag:keflavich.github.io,2010-06-16:/blog/pps-analysis.html</id><summary type="html">&lt;p&gt;I've started looking at PPS fields to see if I can glean any additional
information about the &amp;quot;flux discrepancy&amp;quot; from them.&amp;nbsp; However, the
results are, as usual, unenlightening.
There is no consistent increase in flux when 3 PCA components are used
instead of 13 PCA components - very plausibly an indication …&lt;/p&gt;</summary><content type="html">&lt;p&gt;I've started looking at PPS fields to see if I can glean any additional
information about the &amp;quot;flux discrepancy&amp;quot; from them.&amp;nbsp; However, the
results are, as usual, unenlightening.
There is no consistent increase in flux when 3 PCA components are used
instead of 13 PCA components - very plausibly an indication that 13 PCA
is not too much to subtract because it's only atmosphere.&amp;nbsp; Similarly,
there is no obvious benefit to using a quadratic sky estimator instead
of a PCA estimator.
I'm using aperture photometry (without background subtraction) on
identical fields to perform these comparisons.&amp;nbsp; I've selected
(arbitrarily) the l357pps source as my comparison source.&amp;nbsp; The next step
(ongoing) is to compare to the co-added maps and crosshatched
large-scale maps of the same field.
(next step) PPS &amp;lt; single cross-hatched large-scale observation pair &amp;lt;
13PCA full combined map &amp;lt; 3PCA full combined map.
Unfortunately, this result implies that the small maps under-recover
flux, which suggests that the large maps are too bright, which is the
opposite of what we expect.&amp;nbsp; Additionally, lower noise -&amp;gt; more flux
recovered?
When background subtraction is included, the 3PCA and 13PCA fluxes match
nearly perfectly.
Despite the failure of this test (PPS &amp;lt; full field), I will do a
systematic comparison of PPS sources with 0PCA + masking to the large
fields in the hopes that doing so can provide a legitimate estimate of
the &amp;quot;scale factor&amp;quot; from treating small and large fields differently.&lt;/p&gt;
</content><category term="bgps"></category><category term="googlepost"></category><category term="calibration"></category></entry><entry><title>BGPS Pipeline Published</title><link href="https://keflavich.github.io/blog/bgps-pipeline-published.html" rel="alternate"></link><published>2010-06-11T19:59:00-06:00</published><updated>2010-06-11T19:59:00-06:00</updated><author><name>Adam (adam.g.ginsburg@gmail.com)</name></author><id>tag:keflavich.github.io,2010-06-11:/blog/bgps-pipeline-published.html</id><content type="html">&lt;p&gt;The BGPS pipeline has officially been released on &lt;a class="reference external" href="http://code.google.com/p/bgpspipeline/"&gt;Google Code&lt;/a&gt;.&lt;/p&gt;
</content><category term="bgps"></category><category term="googlepost"></category><category term="pipeline"></category></entry><entry><title>Aperture Photometry on Herschel-based simulation</title><link href="https://keflavich.github.io/blog/aperture-photometry-on-herschel-based-simulation.html" rel="alternate"></link><published>2010-06-08T18:15:00-06:00</published><updated>2010-06-08T18:15:00-06:00</updated><author><name>Adam (adam.g.ginsburg@gmail.com)</name></author><id>tag:keflavich.github.io,2010-06-08:/blog/aperture-photometry-on-herschel-based-simulation.html</id><summary type="html">&lt;img alt="" src="http://1.bp.blogspot.com/_lsgW26mWZnU/TA6IGulWZrI/AAAAAAAAFvU/MHMBrTgxxnU/s200/ApertureCompare_Source00.png" /&gt;
&lt;img alt="" src="http://3.bp.blogspot.com/_lsgW26mWZnU/TA6IHwUnzhI/AAAAAAAAFvc/6xv7rKG9Ao4/s200/ApertureCompare_Source01.png" /&gt;
&lt;img alt="" src="http://2.bp.blogspot.com/_lsgW26mWZnU/TA6IIrbLWVI/AAAAAAAAFvk/mVRxd8bCY0w/s200/ApertureCompare_Source02.png" /&gt;
&lt;img alt="" src="http://3.bp.blogspot.com/_lsgW26mWZnU/TA6IJQBhEoI/AAAAAAAAFvs/VhnsSNbs75A/s200/ApertureCompare_Source03.png" /&gt;
&lt;img alt="" src="http://4.bp.blogspot.com/_lsgW26mWZnU/TA6IKP3X_SI/AAAAAAAAFv0/LCXAGTyp_yE/s200/ApertureCompare_Source04.png" /&gt;
&lt;img alt="" src="http://2.bp.blogspot.com/_lsgW26mWZnU/TA6ILDl55sI/AAAAAAAAFv8/jFfTmYof1yQ/s200/ApertureCompare_Source05.png" /&gt;
&lt;img alt="" src="http://1.bp.blogspot.com/_lsgW26mWZnU/TA6IL9QhTmI/AAAAAAAAFwE/TAIwnefrPlE/s200/ApertureCompare_Source06.png" /&gt;
&lt;img alt="" src="http://3.bp.blogspot.com/_lsgW26mWZnU/TA6IM_9TaaI/AAAAAAAAFwM/0YpADED3SlE/s200/ApertureCompare_Source07.png" /&gt;
&lt;img alt="" src="http://1.bp.blogspot.com/_lsgW26mWZnU/TA6IOYETGbI/AAAAAAAAFwU/aq5OYcifDc8/s200/ApertureCompare_Source08.png" /&gt;
&lt;img alt="" src="http://1.bp.blogspot.com/_lsgW26mWZnU/TA6IPFzIniI/AAAAAAAAFwc/omOacZgjFuc/s200/ApertureCompare_Source09.png" /&gt;
&lt;p&gt;Aperture Photometry on isolated and not-so-isolated sources in the
Herschel-based BGPS simulation using the L=111 field for the &amp;quot;noise&amp;quot;.
Depending on the aperture, our flux recovery can be really really low.
The images should give an idea of the S/N.&amp;nbsp; Background subtraction means
subtracting the median of the …&lt;/p&gt;</summary><content type="html">&lt;img alt="" src="http://1.bp.blogspot.com/_lsgW26mWZnU/TA6IGulWZrI/AAAAAAAAFvU/MHMBrTgxxnU/s200/ApertureCompare_Source00.png" /&gt;
&lt;img alt="" src="http://3.bp.blogspot.com/_lsgW26mWZnU/TA6IHwUnzhI/AAAAAAAAFvc/6xv7rKG9Ao4/s200/ApertureCompare_Source01.png" /&gt;
&lt;img alt="" src="http://2.bp.blogspot.com/_lsgW26mWZnU/TA6IIrbLWVI/AAAAAAAAFvk/mVRxd8bCY0w/s200/ApertureCompare_Source02.png" /&gt;
&lt;img alt="" src="http://3.bp.blogspot.com/_lsgW26mWZnU/TA6IJQBhEoI/AAAAAAAAFvs/VhnsSNbs75A/s200/ApertureCompare_Source03.png" /&gt;
&lt;img alt="" src="http://4.bp.blogspot.com/_lsgW26mWZnU/TA6IKP3X_SI/AAAAAAAAFv0/LCXAGTyp_yE/s200/ApertureCompare_Source04.png" /&gt;
&lt;img alt="" src="http://2.bp.blogspot.com/_lsgW26mWZnU/TA6ILDl55sI/AAAAAAAAFv8/jFfTmYof1yQ/s200/ApertureCompare_Source05.png" /&gt;
&lt;img alt="" src="http://1.bp.blogspot.com/_lsgW26mWZnU/TA6IL9QhTmI/AAAAAAAAFwE/TAIwnefrPlE/s200/ApertureCompare_Source06.png" /&gt;
&lt;img alt="" src="http://3.bp.blogspot.com/_lsgW26mWZnU/TA6IM_9TaaI/AAAAAAAAFwM/0YpADED3SlE/s200/ApertureCompare_Source07.png" /&gt;
&lt;img alt="" src="http://1.bp.blogspot.com/_lsgW26mWZnU/TA6IOYETGbI/AAAAAAAAFwU/aq5OYcifDc8/s200/ApertureCompare_Source08.png" /&gt;
&lt;img alt="" src="http://1.bp.blogspot.com/_lsgW26mWZnU/TA6IPFzIniI/AAAAAAAAFwc/omOacZgjFuc/s200/ApertureCompare_Source09.png" /&gt;
&lt;p&gt;Aperture Photometry on isolated and not-so-isolated sources in the
Herschel-based BGPS simulation using the L=111 field for the &amp;quot;noise&amp;quot;.
Depending on the aperture, our flux recovery can be really really low.
The images should give an idea of the S/N.&amp;nbsp; Background subtraction means
subtracting the median of the image.... it works frighteningly well in
most cases.&lt;/p&gt;
</content><category term="bgps"></category><category term="googlepost"></category><category term="simulation"></category></entry><entry><title>Pipeline Flowcharts</title><link href="https://keflavich.github.io/blog/pipeline-flowcharts.html" rel="alternate"></link><published>2010-06-07T22:39:00-06:00</published><updated>2010-06-07T22:39:00-06:00</updated><author><name>Adam (adam.g.ginsburg@gmail.com)</name></author><id>tag:keflavich.github.io,2010-06-07:/blog/pipeline-flowcharts.html</id><summary type="html">&lt;p&gt;In the process of hunting down a supposed calibration error, I
determined that it was necessary to generate a more intuitive graphical
display of the pipeline. Hence, pipeline flowcharts (generated in
keynote). The key should be self-explanatory to the degree that any part
of these charts is understandable to an …&lt;/p&gt;</summary><content type="html">&lt;p&gt;In the process of hunting down a supposed calibration error, I
determined that it was necessary to generate a more intuitive graphical
display of the pipeline. Hence, pipeline flowcharts (generated in
keynote). The key should be self-explanatory to the degree that any part
of these charts is understandable to an outsider. The yellow boxes
represent wrapper scripts/functions while the rounded box bubbles show
individual functions within these wrappers and their interrelationship.&lt;/p&gt;
&lt;img alt="" src="http://2.bp.blogspot.com/_lsgW26mWZnU/TA10NjZw6qI/AAAAAAAAFtc/ibmISvLIcm0/s400/PipelineFlowchartV1.0.png" /&gt;
&lt;img alt="" src="http://1.bp.blogspot.com/_lsgW26mWZnU/TA10O8mOl5I/AAAAAAAAFtk/W5M6XdTf6mM/s400/PipelineFlowchartV2.0.png" /&gt;
</content><category term="bgps"></category><category term="googlepost"></category><category term="pipeline"></category></entry><entry><title>Minor mystery resolved: Perseus cal curve</title><link href="https://keflavich.github.io/blog/minor-mystery-resolved-perseus-cal-curve.html" rel="alternate"></link><published>2010-06-07T22:32:00-06:00</published><updated>2010-06-07T22:32:00-06:00</updated><author><name>Adam (adam.g.ginsburg@gmail.com)</name></author><id>tag:keflavich.github.io,2010-06-07:/blog/minor-mystery-resolved-perseus-cal-curve.html</id><summary type="html">&lt;p&gt;When I started working on the Perseus data again, I decided to use the
Enoch 2006 calibration curve directly. However, it has a very different
form than all other epochs. The reason, as revealed below, is that it
was not forced through 0,0. Additionally, all of the BGPS data …&lt;/p&gt;</summary><content type="html">&lt;p&gt;When I started working on the Perseus data again, I decided to use the
Enoch 2006 calibration curve directly. However, it has a very different
form than all other epochs. The reason, as revealed below, is that it
was not forced through 0,0. Additionally, all of the BGPS data was
observed with mean DC ~ 2-3 V, while the Perseus data was observed with
mean DC 4-5 V, so the relevant regime is in a very different location.
The reference DC bias was much lower, ~2.15 V vs. 4.6 V in the 2005-2007
BGPS and 2.6 V in the 2009 BGPS.&lt;/p&gt;
&lt;img alt="" src="http://3.bp.blogspot.com/_lsgW26mWZnU/TA1yfdAS7BI/AAAAAAAAFtU/XvYiDQKi-cM/s320/CalCurveComparison.png" /&gt;
</content><category term="bgps"></category><category term="googlepost"></category><category term="perseus"></category><category term="calibration"></category></entry><entry><title>Minor mystery solved</title><link href="https://keflavich.github.io/blog/minor-mystery-solved.html" rel="alternate"></link><published>2010-06-07T22:23:00-06:00</published><updated>2010-06-07T22:23:00-06:00</updated><author><name>Adam (adam.g.ginsburg@gmail.com)</name></author><id>tag:keflavich.github.io,2010-06-07:/blog/minor-mystery-solved.html</id><content type="html"></content><category term="bgps"></category><category term="googlepost"></category></entry><entry><title>RELEASE</title><link href="https://keflavich.github.io/blog/release.html" rel="alternate"></link><published>2009-06-22T23:30:00-06:00</published><updated>2009-06-22T23:30:00-06:00</updated><author><name>Adam (adam.g.ginsburg@gmail.com)</name></author><id>tag:keflavich.github.io,2009-06-22:/blog/release.html</id><content type="html">&lt;p&gt;Finally.
&lt;a class="reference external" href="http://irsa.ipac.caltech.edu/"&gt;http://irsa.ipac.caltech.edu/&lt;/a&gt;&lt;/p&gt;
</content><category term="bgps"></category><category term="googlepost"></category></entry><entry><title>Eimers project</title><link href="https://keflavich.github.io/blog/eimers-project.html" rel="alternate"></link><published>2009-03-21T01:24:00-06:00</published><updated>2009-03-21T01:24:00-06:00</updated><author><name>Adam (adam.g.ginsburg@gmail.com)</name></author><id>tag:keflavich.github.io,2009-03-21:/blog/eimers-project.html</id><content type="html">&lt;p&gt;Project for Marc Eimers:
Determine velocities to molecular clouds by a variety of methods. Start
with l=30
1. Find archival data, particularly from the JCMT, for each core.
2. Compare morphologically to 13CO from GRS
3. Find Vizier data&lt;/p&gt;
</content><category term="bgps"></category><category term="googlepost"></category><category term="analysis"></category></entry><entry><title>locating beams</title><link href="https://keflavich.github.io/blog/locating-beams.html" rel="alternate"></link><published>2009-03-20T21:18:00-06:00</published><updated>2009-03-20T21:18:00-06:00</updated><author><name>Adam (adam.g.ginsburg@gmail.com)</name></author><id>tag:keflavich.github.io,2009-03-20:/blog/locating-beams.html</id><content type="html">&lt;img alt="" src="http://3.bp.blogspot.com/_lsgW26mWZnU/ScQIDaTTPhI/AAAAAAAAEzk/C67XkoQb244/s400/beamlocations_050619_default_bolopars.png" /&gt;
&lt;p&gt;White - &amp;quot;Default&amp;quot;, OP-calculated beam-locations
Red - My code's beam locations
Yellow - Boloparams, the fiducial beam locations&lt;/p&gt;
</content><category term="bgps"></category><category term="googlepost"></category><category term="distortion mapping"></category></entry><entry><title>Gem OB1 comparisons</title><link href="https://keflavich.github.io/blog/gem-ob1-comparisons.html" rel="alternate"></link><published>2009-03-09T00:07:00-06:00</published><updated>2009-03-09T00:07:00-06:00</updated><author><name>Adam (adam.g.ginsburg@gmail.com)</name></author><id>tag:keflavich.github.io,2009-03-09:/blog/gem-ob1-comparisons.html</id><summary type="html">&lt;p&gt;I'm running 0,1,2,3,5,7,10,16, and 19 PCA component 51 iteration maps of
Gem OB1 with deconvolution. No clue when they'll be done because they're
at the end of a long queue.
Next (important!) step is to re-run the simulations with linear source
sizes but …&lt;/p&gt;</summary><content type="html">&lt;p&gt;I'm running 0,1,2,3,5,7,10,16, and 19 PCA component 51 iteration maps of
Gem OB1 with deconvolution. No clue when they'll be done because they're
at the end of a long queue.
Next (important!) step is to re-run the simulations with linear source
sizes but with different numbers of PCA components, different kernel
sizes, etc..... there is a LOT of parameter space to cover.&lt;/p&gt;
</content><category term="bgps"></category><category term="googlepost"></category><category term="mapping"></category><category term="simulation"></category></entry><entry><title>A detailed look at l086</title><link href="https://keflavich.github.io/blog/a-detailed-look-at-l086.html" rel="alternate"></link><published>2009-03-04T21:35:00-07:00</published><updated>2009-03-04T21:35:00-07:00</updated><author><name>Adam (adam.g.ginsburg@gmail.com)</name></author><id>tag:keflavich.github.io,2009-03-04:/blog/a-detailed-look-at-l086.html</id><summary type="html">&lt;p&gt;Despite a slew of alignment errors, it appears that the alignment for
MOST fields turns out OK using Method 3 of the pixel-shift code; the
signal to noise is VERY low in a lot of fields.
070724_o38 does not come up with a good fit, for very good reason …&lt;/p&gt;</summary><content type="html">&lt;p&gt;Despite a slew of alignment errors, it appears that the alignment for
MOST fields turns out OK using Method 3 of the pixel-shift code; the
signal to noise is VERY low in a lot of fields.
070724_o38 does not come up with a good fit, for very good reason -
there appears to be no signal at all.
070907_o20 is a problem. The offset was 27 pixels, which is too large,
but nonetheless correct. I had to institute the plane fitter at an
earlier stage to get it to work.
However, the biggest problem: the SCUBA source aligns with 070907_o20
but not the rest of the maps. So I needed to re-fit everything. That was
a BIG mistake, we need to check carefully for it in other fields.&lt;/p&gt;
</content><category term="bgps"></category><category term="googlepost"></category><category term="mapping"></category></entry><entry><title>Methods Paper: Figures / analysis to produce</title><link href="https://keflavich.github.io/blog/methods-paper-figures-analysis-to-produce.html" rel="alternate"></link><published>2009-03-04T03:43:00-07:00</published><updated>2009-03-04T03:43:00-07:00</updated><author><name>Adam (adam.g.ginsburg@gmail.com)</name></author><id>tag:keflavich.github.io,2009-03-04:/blog/methods-paper-figures-analysis-to-produce.html</id><summary type="html">&lt;p&gt;The methods paper needs some justification of the number of PCA
components used. This will require a map of some field with a range of
number of PCA components.
Plan:
simulate a map of L111 (the most square field) with 0-20 PCA components
x 21 iterations and a variety of …&lt;/p&gt;</summary><content type="html">&lt;p&gt;The methods paper needs some justification of the number of PCA
components used. This will require a map of some field with a range of
number of PCA components.
Plan:
simulate a map of L111 (the most square field) with 0-20 PCA components
x 21 iterations and a variety of source sizes and plot the recovered
flux vs. number of PCA components. Ideally, do this with both
deconvolution and not. Estimated processing time is ~24 hours.
Also, a plot of flux vs. iteration number will be useful.
Glitch filtering method has been modified:
&amp;quot;Glitches are removed by drizzling each bolometer measurement into a
given pixel using the mapping M[p], but retaining each pixel as an array
of measurements. Then, measurements exceeding $3\times MAD$ (Median
Average Deviation) are flagged out in the timestream. In cases where
there were too few ($&amp;lt;3$) hits per pixel, the pixel was completely
flagged out. This only occurred for pixels at scan edges.&amp;quot;
Data flagging:
Partly covered by deglitching. Many scans were flagged by hand to remove
overly noisy scans and those that were observed to confuse the iterative
mapper. Hand flagging is more robust than automated and can remove
features caused by the filter convolved with the glitch.
Creation of astrophysical model:
Not entirely sure what this section entails. Should have a subsection on
deconvolution though.
Jackknifing has not generally been done...&lt;/p&gt;
</content><category term="bgps"></category><category term="googlepost"></category><category term="methods paper"></category></entry><entry><title>4.3 Relative Alignment and Mosaicing</title><link href="https://keflavich.github.io/blog/43-relative-alignment-and-mosaicing.html" rel="alternate"></link><published>2009-03-04T02:57:00-07:00</published><updated>2009-03-04T02:57:00-07:00</updated><author><name>Adam (adam.g.ginsburg@gmail.com)</name></author><id>tag:keflavich.github.io,2009-03-04:/blog/43-relative-alignment-and-mosaicing.html</id><summary type="html">&lt;p&gt;Relative alignment was performed by finding the peak of the
cross-correlation between images and a pointing master selected from the
epoch with the best-constrained pointing model for that field. Each
observation was initially mapped individually, then all observations of
a given field were cross-correlated with a selected master image of …&lt;/p&gt;</summary><content type="html">&lt;p&gt;Relative alignment was performed by finding the peak of the
cross-correlation between images and a pointing master selected from the
epoch with the best-constrained pointing model for that field. Each
observation was initially mapped individually, then all observations of
a given field were cross-correlated with a selected master image of that
field. The cross-correlation peak was fit with a gaussian and the
difference between the gaussian peak and the image center was used as
the pixel offset. The offsets were recorded and written to the
timestreams. Finally, all observations of a field were merged into a
single timestream with pointing offsets applied to create the field
mosaic.&lt;/p&gt;
</content><category term="bgps"></category><category term="googlepost"></category><category term="methods paper"></category></entry><entry><title>a bunch of plots</title><link href="https://keflavich.github.io/blog/a-bunch-of-plots.html" rel="alternate"></link><published>2009-03-03T01:06:00-07:00</published><updated>2009-03-03T01:06:00-07:00</updated><author><name>Adam (adam.g.ginsburg@gmail.com)</name></author><id>tag:keflavich.github.io,2009-03-03:/blog/a-bunch-of-plots.html</id><content type="html">&lt;img alt="" src="http://1.bp.blogspot.com/_lsgW26mWZnU/SayCk8uDT2I/AAAAAAAAEzE/hVCHxfejfxk/s400/noise_per_deg.png" /&gt;
&lt;img alt="" src="http://3.bp.blogspot.com/_lsgW26mWZnU/SayCkyW19KI/AAAAAAAAEy8/Df_SgR-blY4/s400/fillfact_per_deg.png" /&gt;
&lt;img alt="" src="http://1.bp.blogspot.com/_lsgW26mWZnU/SayCk9BDNzI/AAAAAAAAEy0/oBgJX2IWav8/s400/mean_per_deg.png" /&gt;
&lt;img alt="" src="http://2.bp.blogspot.com/_lsgW26mWZnU/SayCksjhWmI/AAAAAAAAEys/vt0ZUY50Uqw/s400/sources_per_deg.png" /&gt;
&lt;p&gt;I wasted a lot of time making these so I figured I might as well waste a
little space showing them.&lt;/p&gt;
</content><category term="bgps"></category><category term="googlepost"></category><category term="plots"></category></entry><entry><title>A new series of problems</title><link href="https://keflavich.github.io/blog/a-new-series-of-problems.html" rel="alternate"></link><published>2009-03-03T00:52:00-07:00</published><updated>2009-03-03T00:52:00-07:00</updated><author><name>Adam (adam.g.ginsburg@gmail.com)</name></author><id>tag:keflavich.github.io,2009-03-03:/blog/a-new-series-of-problems.html</id><summary type="html">&lt;ol class="arabic simple"&gt;
&lt;li&gt;There are severe (~5 pixel) pointing offsets in the MOSAICs. They are
caused by IRAF and I can't figure out exactly why.&lt;/li&gt;
&lt;li&gt;Deconvolution has created more artifacts at l=54, 70, 357. I don't
know how to fix them.&lt;/li&gt;
&lt;li&gt;Either my earlier time estimates were way off, or the mapping …&lt;/li&gt;&lt;/ol&gt;</summary><content type="html">&lt;ol class="arabic simple"&gt;
&lt;li&gt;There are severe (~5 pixel) pointing offsets in the MOSAICs. They are
caused by IRAF and I can't figure out exactly why.&lt;/li&gt;
&lt;li&gt;Deconvolution has created more artifacts at l=54, 70, 357. I don't
know how to fix them.&lt;/li&gt;
&lt;li&gt;Either my earlier time estimates were way off, or the mapping has
gotten slower. It now takes ~120 computer hours (72 real hours) where
before it was taking closer to 48.&lt;/li&gt;
&lt;/ol&gt;
</content><category term="bgps"></category><category term="googlepost"></category></entry><entry><title>Return to Deconvolution</title><link href="https://keflavich.github.io/blog/return-to-deconvolution.html" rel="alternate"></link><published>2009-02-23T18:55:00-07:00</published><updated>2009-02-23T18:55:00-07:00</updated><author><name>Adam (adam.g.ginsburg@gmail.com)</name></author><id>tag:keflavich.github.io,2009-02-23:/blog/return-to-deconvolution.html</id><summary type="html">&lt;p&gt;I ran the v0.7 reductions with deconvolution on for 50 iterations. I had
cut out deconvolution originally because of the funky noise maps, but
that was partly an error on my part. There is also an issue with bright
sources being largely left over in the noise maps.
The …&lt;/p&gt;</summary><content type="html">&lt;p&gt;I ran the v0.7 reductions with deconvolution on for 50 iterations. I had
cut out deconvolution originally because of the funky noise maps, but
that was partly an error on my part. There is also an issue with bright
sources being largely left over in the noise maps.
The deconvolver does MUCH better at filtering out the fuzzy atmospheric
emission, so I want to use it. It leaves some flux from bright point
sources behind, though, so I decided to try to make the deconvolution
kernel smaller to see if that recovers more of the pointlike flux.&lt;/p&gt;
</content><category term="bgps"></category><category term="googlepost"></category><category term="mapping"></category></entry><entry><title>planet fluxes</title><link href="https://keflavich.github.io/blog/planet-fluxes.html" rel="alternate"></link><published>2009-02-06T22:39:00-07:00</published><updated>2009-02-06T22:39:00-07:00</updated><author><name>Adam (adam.g.ginsburg@gmail.com)</name></author><id>tag:keflavich.github.io,2009-02-06:/blog/planet-fluxes.html</id><summary type="html">&lt;p&gt;; ephemerides from the JCMT
; MARS:
; June 30 2005: 730.14 Jy UT:53551
; July 15 2005: 872.83 Jy UT:53566
; Sept 10 2005: 1941.72 Jy UT:53623
; June 5 2006: 553.13 Jy UT:53891
; June 23 2006: 674.14 Jy UT:53544
; Sept 10 2006: 135.79 …&lt;/p&gt;</summary><content type="html">&lt;p&gt;; ephemerides from the JCMT
; MARS:
; June 30 2005: 730.14 Jy UT:53551
; July 15 2005: 872.83 Jy UT:53566
; Sept 10 2005: 1941.72 Jy UT:53623
; June 5 2006: 553.13 Jy UT:53891
; June 23 2006: 674.14 Jy UT:53544
; Sept 10 2006: 135.79 Jy UT:53896
; July 20 2007: 381.18 Jy UT:54301
; Sept 10 2007: 597.87 Jy UT:54353
;
; URANUS:
; June 30 2005: 43.43 Jy UT:53551
; July 15 2005: 44.35 Jy UT:53566
; Sept 10 2005: 45.78 Jy UT:53623
; June 5 2006: 41.71 Jy UT:53891
; June 23 2006: 42.96 Jy UT:53544
; Sept 10 2006: 41.62 Jy UT:53896
; July 20 2007: 43.90 Jy UT:54301
; Sept 10 2007: 45.57 Jy UT:54353
;
; NEPTUNE:
; June 30 2005: 17.42 Jy UT:53551
; July 15 2005: 17.58 Jy UT:53566
; Sept 10 2005: 17.50 Jy UT:53623
; June 5 2006: 17.04 Jy UT:53891
; June 23 2006: 17.33 Jy UT:53544
; Sept 10 2006: 17.09 Jy UT:53896
; July 20 2007: 17.59 Jy UT:54301
; Sept 10 2007: 17.56 Jy UT:54353&lt;/p&gt;
</content><category term="bgps"></category><category term="googlepost"></category><category term="calibration"></category></entry><entry><title>Rant: calc_beam_locations</title><link href="https://keflavich.github.io/blog/rant-calc_beam_locations.html" rel="alternate"></link><published>2009-02-06T18:24:00-07:00</published><updated>2009-02-06T18:24:00-07:00</updated><author><name>Adam (adam.g.ginsburg@gmail.com)</name></author><id>tag:keflavich.github.io,2009-02-06:/blog/rant-calc_beam_locations.html</id><summary type="html">&lt;p&gt;It took me a few days to figure this out, but &amp;quot;calc_beam_locations&amp;quot; is
about 800 lines of wasted space. It does nothing substantive until line
335. Everything to that point is parameter parsing. But there doesn't
need to be any of that crap, really, and it should have …&lt;/p&gt;</summary><content type="html">&lt;p&gt;It took me a few days to figure this out, but &amp;quot;calc_beam_locations&amp;quot; is
about 800 lines of wasted space. It does nothing substantive until line
335. Everything to that point is parameter parsing. But there doesn't
need to be any of that crap, really, and it should have been outsourced
to functions to begin with.
NCDF files are read to get the rotation angle - JUST as an error check!
There is no a priori reason to include it.
All that the code does is read in a centroid file (a list of x,y
offsets), rotate them, and output them as r,theta,error. Sure, there's a
bunch of automated outlier rejection etc, but... seriously?! We don't
have enough observations to hold up the statistics necessary for that to
begin with! NO ONE would if each observation takes an hour. It's absurd.
Odd as it is coming from me, manual rejection makes a lot more sense in
this case.
Now, I still have to understand WHY the beam locations are rotated by
the fiducial array angle.&lt;/p&gt;
</content><category term="bgps"></category><category term="googlepost"></category></entry><entry><title>distortion mapping done?</title><link href="https://keflavich.github.io/blog/distortion-mapping-done.html" rel="alternate"></link><published>2009-02-02T00:12:00-07:00</published><updated>2009-02-02T00:12:00-07:00</updated><author><name>Adam (adam.g.ginsburg@gmail.com)</name></author><id>tag:keflavich.github.io,2009-02-02:/blog/distortion-mapping-done.html</id><content type="html">&lt;p&gt;Created 'beam_locations_0707.txt' from uranus_070702_o42 with a few
contributions from g34.3_070630_o34.
The rest were created by averaging over all of the beam location files&lt;/p&gt;
</content><category term="bgps"></category><category term="googlepost"></category><category term="calibration"></category></entry><entry><title>0707 distortion maps</title><link href="https://keflavich.github.io/blog/0707-distortion-maps.html" rel="alternate"></link><published>2009-02-01T20:26:00-07:00</published><updated>2009-02-01T20:26:00-07:00</updated><author><name>Adam (adam.g.ginsburg@gmail.com)</name></author><id>tag:keflavich.github.io,2009-02-01:/blog/0707-distortion-maps.html</id><content type="html">&lt;img alt="" src="http://2.bp.blogspot.com/_lsgW26mWZnU/SYYFc97uFjI/AAAAAAAAEt0/nxjKDE_KBIA/s400/0707distmaps.png" /&gt;
&lt;p&gt;They're consistent but not very close to each other.&lt;/p&gt;
</content><category term="bgps"></category><category term="googlepost"></category><category term="calibration"></category></entry><entry><title>beam locations &amp; peak fluxes</title><link href="https://keflavich.github.io/blog/beam-locations-peak-fluxes.html" rel="alternate"></link><published>2009-02-01T19:50:00-07:00</published><updated>2009-02-01T19:50:00-07:00</updated><author><name>Adam (adam.g.ginsburg@gmail.com)</name></author><id>tag:keflavich.github.io,2009-02-01:/blog/beam-locations-peak-fluxes.html</id><summary type="html">&lt;p&gt;The results of my distortion mapping work below. Note that, especially
for 06, there are a LOT of cases where no beam locations correction
(noBL) had a higher peak than the distortion corrected map. I have no
explanation for this yet. More work to come...&lt;/p&gt;
&lt;pre class="literal-block"&gt;
PEAK COMPARISON BL:       5.95824 …&lt;/pre&gt;</summary><content type="html">&lt;p&gt;The results of my distortion mapping work below. Note that, especially
for 06, there are a LOT of cases where no beam locations correction
(noBL) had a higher peak than the distortion corrected map. I have no
explanation for this yet. More work to come...&lt;/p&gt;
&lt;pre class="literal-block"&gt;
PEAK COMPARISON BL:       5.95824  noBL:       3.09836    uranus_050619_o23 PEAK COMPARISON BL:       3.93725  noBL:       2.85479    uranus_050619_o24 PEAK COMPARISON BL:       15.5613  noBL:       523.035    neptune_050626_o19 PEAK COMPARISON BL:       16.4601  noBL:       16.0038    neptune_050626_o20 PEAK COMPARISON BL:       426.671  noBL:       375.174    mars_050627_o31 PEAK COMPARISON BL:       415.968  noBL:       413.327    mars_050627_o32  PEAK COMPARISON BL:       15.2464  noBL:       33.8593    uranus_050628_o33 PEAK COMPARISON BL:       34.6631  noBL:       35.5086    uranus_050628_o34 PEAK COMPARISON BL:       164.832  noBL:       403.189    uranus_050904_o31 PEAK COMPARISON BL:       216.820  noBL:       425.613    uranus_050904_o32 PEAK COMPARISON BL:       134.972  noBL:       156.196    uranus_050911_ob8 PEAK COMPARISON BL:       11.0957  noBL:       11.1993    neptune_060602_o30 PEAK COMPARISON BL:       12.0000  noBL:       11.0947    neptune_060602_o31 PEAK COMPARISON BL:       2478.20  noBL:       2365.17    mars_060605_ob1 PEAK COMPARISON BL:       2144.68  noBL:       2147.18    mars_060605_ob2  PEAK COMPARISON BL:       17.7354  noBL:       25.7041    uranus_060621_o29 PEAK COMPARISON BL:       18.7889  noBL:       25.6599    uranus_060621_o30 PEAK COMPARISON BL:       28.1957  noBL:       31.1013    uranus_060625_o46 PEAK COMPARISON BL:       23.0236  noBL:       27.8556    uranus_060905_ob6 PEAK COMPARISON BL:       18.8731  noBL:       28.4964    uranus_060906_o12 PEAK COMPARISON BL:       23.3481  noBL:       29.8294    uranus_060908_o13 PEAK COMPARISON BL:       20.6238  noBL:       26.9424    uranus_060909_o12 PEAK COMPARISON BL:       21.1049  noBL:       28.8533    uranus_060910_o12 PEAK COMPARISON BL:       24.0231  noBL:       32.0877    uranus_060914_o10 PEAK COMPARISON BL:       23.2590  noBL:       33.3496    uranus_060914_o11 PEAK COMPARISON BL:       24.0538  noBL:       30.0552    uranus_060919_ob9 PEAK COMPARISON BL:       355.467  noBL:       669.416    g34.3_070630_o34 PEAK COMPARISON BL:       246.803  noBL:       296.252    g34.3_070630_o35 PEAK COMPARISON BL:       724.874  noBL:       807.152    uranus_070702_o42 PEAK COMPARISON BL:       7.60370  noBL:       9.02960    uranus_070912_o27 PEAK COMPARISON BL:       98.8058  noBL:       88.9957    mars_070913_o22 PEAK COMPARISON BL:       82.2708  noBL:       89.3476    mars_070913_o23
&lt;/pre&gt;
</content><category term="bgps"></category><category term="googlepost"></category><category term="calibration"></category></entry><entry><title>sign errors</title><link href="https://keflavich.github.io/blog/sign-errors.html" rel="alternate"></link><published>2009-02-01T19:50:00-07:00</published><updated>2009-02-01T19:50:00-07:00</updated><author><name>Adam (adam.g.ginsburg@gmail.com)</name></author><id>tag:keflavich.github.io,2009-02-01:/blog/sign-errors.html</id><summary type="html">&lt;p&gt;pinned down the problem. Was a minor sign error in the offsets. Why is
it that simple sign errors are ALWAYS the hardest things to track down?
Now, open question: should x,y scaling be free parameters or not? What I
mean is, when I measure the positions of bolometers …&lt;/p&gt;</summary><content type="html">&lt;p&gt;pinned down the problem. Was a minor sign error in the offsets. Why is
it that simple sign errors are ALWAYS the hardest things to track down?
Now, open question: should x,y scaling be free parameters or not? What I
mean is, when I measure the positions of bolometers on the array using
the planet map, should I allow the X and Y stretch (the bolometer
spacing) to change? Should it be a uniform stretch in X and Y or should
it be allowed to 'distort' too? My opinion is, none of the above: I'm
measuring their actual positions (in terms of a fixed spacing) and
therefore stretching or distorting to match the nominal positions is not
necessary.&lt;/p&gt;
</content><category term="bgps"></category><category term="googlepost"></category><category term="calibration"></category></entry><entry><title>BL/noBL Mars</title><link href="https://keflavich.github.io/blog/blnobl-mars.html" rel="alternate"></link><published>2009-02-01T03:22:00-07:00</published><updated>2009-02-01T03:22:00-07:00</updated><author><name>Adam (adam.g.ginsburg@gmail.com)</name></author><id>tag:keflavich.github.io,2009-02-01:/blog/blnobl-mars.html</id><summary type="html">&lt;p&gt;Mars using uranus_070702_o42 distortion map:&lt;/p&gt;
&lt;pre class="literal-block"&gt;
BL070706_o38_raw_ds1.nc_indiv0    134.8757324     -0.2325330      0.0721872   3282.5439453      2.0985703      2.1959550   3147.6682129      2.3311033      2.1237679BL070706_o39_raw_ds1.nc_indiv0    188.0588379     -0.0947621     -0.0643225   3782.3984375      2.1416662      1.9909470   3594.3395996 …&lt;/pre&gt;</summary><content type="html">&lt;p&gt;Mars using uranus_070702_o42 distortion map:&lt;/p&gt;
&lt;pre class="literal-block"&gt;
BL070706_o38_raw_ds1.nc_indiv0    134.8757324     -0.2325330      0.0721872   3282.5439453      2.0985703      2.1959550   3147.6682129      2.3311033      2.1237679BL070706_o39_raw_ds1.nc_indiv0    188.0588379     -0.0947621     -0.0643225   3782.3984375      2.1416662      1.9909470   3594.3395996      2.2364283      2.0552695BL070706_o40_raw_ds1.nc_indiv0    451.6955566     -0.0427303     -0.3303463   3461.9191895      2.1925442      2.0726480   3010.2236328      2.2352746      2.4029944BL070713_o36_raw_ds1.nc_indiv0    294.5898438     -0.2068889      0.0493107   5975.9482422      1.9935303      2.1527038   5681.3583984      2.2004192      2.1033931BL070713_o37_raw_ds1.nc_indiv0    813.5678711     -0.4597032      0.0361557   5515.4501953      2.0334179      2.1772604   4701.8823242      2.4931211      2.1411047BL070713_o38_raw_ds1.nc_indiv0    286.2934570     -0.1904230      0.0520797   5967.7011719      1.9853363      2.1624830   5681.4077148      2.1757593      2.1104033BL070713_o39_raw_ds1.nc_indiv0    773.2104492     -0.0816238     -0.3387871   5409.8344727      2.0317609      2.1736624   4636.6240234      2.1133847      2.5124495BL070714_o76_raw_ds1.nc_indiv0    244.2031250     -0.2079357      0.0572422   5312.0419922      1.9982606      2.1597764   5067.8388672      2.2061963      2.1025343BL070714_o77_raw_ds1.nc_indiv0    688.7365723     -0.1176772     -0.3138330   4706.1503906      2.0379941      2.1989338   4017.4138184      2.1556714      2.5127668BL070715_o45_raw_ds1.nc_indiv0    108.5583496     -0.0652246     -0.0818899   2397.9819336      2.1608708      1.9907858   2289.4235840      2.2260954      2.0726757BL070715_o46_raw_ds1.nc_indiv0    268.4321289     -0.2927990     -0.0692098   2236.4533691      2.1387808      2.0159581   1968.0212402      2.4315798      2.0851679BL070717_o47_raw_ds1.nc_indiv0    372.6528320     -0.2188239      0.0690587   7070.0649414      1.9820960      2.1670835   6697.4121094      2.2009199      2.0980248BL070717_o48_raw_ds1.nc_indiv0    498.4628906     -0.2993519      0.0410304   6636.1396484      2.0418782      2.1088474   6137.6767578      2.3412302      2.0678170BL070718_o41_raw_ds1.nc_indiv0    287.1591797     -0.2016468      0.0641356   6684.1699219      1.9891322      2.1470959   6397.0107422      2.1907790      2.0829604BL070718_o42_raw_ds1.nc_indiv0    841.6083984     -0.0809386     -0.3511798   5934.2832031      2.0332539      2.1427581   5092.6748047      2.1141925      2.4939380BL070725_o34_raw_ds1.nc_indiv0    245.6381836     -0.0810674     -0.0582435   5918.6728516      1.9807132      2.1547492   5673.0346680      2.0617807      2.2129927BL070725_o35_raw_ds1.nc_indiv0    697.7910156      0.1512802     -0.6174591   4873.1469727      2.3222449      2.0499101   4175.3559570      2.1709647      2.6673691BL070726_o33_raw_ds1.nc_indiv0    216.2124023     -0.0697458     -0.0627950   5056.3364258      2.1531394      1.9873902   4840.1240234      2.2228851      2.0501852BL070726_o34_raw_ds1.nc_indiv0    433.0415039     -0.0154374     -0.3017542   4586.9204102      2.1483676      2.0385454   4153.8789062      2.1638050      2.3402996BL070730_o23_raw_ds1.nc_indiv0    105.4489746      0.1025155     -0.2241490   2679.8452148      2.1567283      1.9786894   2574.3962402      2.0542128      2.2028384BL070730_o24_raw_ds1.nc_indiv0    440.7482910     -0.3968222     -0.0447321   2595.1044922      2.0618360      2.1782801   2154.3562012      2.4586582      2.2230122
&lt;/pre&gt;
</content><category term="bgps"></category><category term="googlepost"></category><category term="calibration"></category></entry><entry><title>distortion mapping failures</title><link href="https://keflavich.github.io/blog/distortion-mapping-failures.html" rel="alternate"></link><published>2009-01-25T16:08:00-07:00</published><updated>2009-01-25T16:08:00-07:00</updated><author><name>Adam (adam.g.ginsburg@gmail.com)</name></author><id>tag:keflavich.github.io,2009-01-25:/blog/distortion-mapping-failures.html</id><content type="html">&lt;p&gt;So, despite the fact that I clearly have a distortion mapper working,
applying the distortion maps that come out of it do NOT improve the peak
or FWHM of the data.&lt;/p&gt;
</content><category term="bgps"></category><category term="googlepost"></category></entry><entry><title>filling factors</title><link href="https://keflavich.github.io/blog/filling-factors.html" rel="alternate"></link><published>2009-01-25T06:00:00-07:00</published><updated>2009-01-25T06:00:00-07:00</updated><author><name>Adam (adam.g.ginsburg@gmail.com)</name></author><id>tag:keflavich.github.io,2009-01-25:/blog/filling-factors.html</id><content type="html">&lt;p&gt;to do: histogram per square degree, plot cumulative &amp;gt; some bin number
(100 mJy, 300 mJy, 1 Jy) vs l, then do it again for b=+/-.1, +/-.3.&lt;/p&gt;
</content><category term="bgps"></category><category term="googlepost"></category><category term="analysis"></category></entry><entry><title>distortion mapping</title><link href="https://keflavich.github.io/blog/distortion-mapping.html" rel="alternate"></link><published>2009-01-24T19:18:00-07:00</published><updated>2009-01-24T19:18:00-07:00</updated><author><name>Adam (adam.g.ginsburg@gmail.com)</name></author><id>tag:keflavich.github.io,2009-01-24:/blog/distortion-mapping.html</id><summary type="html">&lt;p&gt;Between sign errors, failures to fit, and.... I really don't know WHAT
was going on, I finally figured out how to get the cursed distortion
mapping to work. I still haven't even started testing, unfortunately.
I don't know why I can fit the way the OP did, fitting R and …&lt;/p&gt;</summary><content type="html">&lt;p&gt;Between sign errors, failures to fit, and.... I really don't know WHAT
was going on, I finally figured out how to get the cursed distortion
mapping to work. I still haven't even started testing, unfortunately.
I don't know why I can fit the way the OP did, fitting R and Theta, and
I apparently can't fit x,y. It's frustrating.&lt;/p&gt;
</content><category term="bgps"></category><category term="googlepost"></category><category term="calibration"></category></entry><entry><title>Flagger images</title><link href="https://keflavich.github.io/blog/flagger-images.html" rel="alternate"></link><published>2009-01-17T16:13:00-07:00</published><updated>2009-01-17T16:13:00-07:00</updated><author><name>Adam (adam.g.ginsburg@gmail.com)</name></author><id>tag:keflavich.github.io,2009-01-17:/blog/flagger-images.html</id><summary type="html">&lt;p&gt;James requested sample images from the flagger for the methods paper.
Below are images + description:
.. image:: &lt;a class="reference external" href="http://3.bp.blogspot.com/_lsgW26mWZnU/SXHsZcqegtI/AAAAAAAAEs4/3PjUtU2IXtQ/s400/sample_waterfall_070911_o15_highFnoisepng.png"&gt;http://3.bp.blogspot.com/_lsgW26mWZnU/SXHsZcqegtI/AAAAAAAAEs4/3PjUtU2IXtQ/s400/sample_waterfall_070911_o15_highFnoisepng.png&lt;/a&gt;
This is a &amp;quot;noise-dominated&amp;quot; scan in the sense that the high/low pixels
are set by noise, not …&lt;/p&gt;</summary><content type="html">&lt;p&gt;James requested sample images from the flagger for the methods paper.
Below are images + description:
.. image:: &lt;a class="reference external" href="http://3.bp.blogspot.com/_lsgW26mWZnU/SXHsZcqegtI/AAAAAAAAEs4/3PjUtU2IXtQ/s400/sample_waterfall_070911_o15_highFnoisepng.png"&gt;http://3.bp.blogspot.com/_lsgW26mWZnU/SXHsZcqegtI/AAAAAAAAEs4/3PjUtU2IXtQ/s400/sample_waterfall_070911_o15_highFnoisepng.png&lt;/a&gt;
This is a &amp;quot;noise-dominated&amp;quot; scan in the sense that the high/low pixels
are set by noise, not signal. Despite the clear high frequency noise,
this image actually maps out pretty well - I think the high-noise
bolometers get downweighted and the high/low pixels probably get clipped
by my hot pixel rejection procedure.
.. image:: &lt;a class="reference external" href="http://3.bp.blogspot.com/_lsgW26mWZnU/SXHsY7Rgq3I/AAAAAAAAEsY/0NT8IB26JUo/s400/flagger_marked_source_050708_o15.png"&gt;http://3.bp.blogspot.com/_lsgW26mWZnU/SXHsY7Rgq3I/AAAAAAAAEsY/0NT8IB26JUo/s400/flagger_marked_source_050708_o15.png&lt;/a&gt;
An image of the galactic center with a source southeast of center
identified.
.. image:: &lt;a class="reference external" href="http://1.bp.blogspot.com/_lsgW26mWZnU/SXHsYyHCEGI/AAAAAAAAEsg/3iwoklY0--0/s400/sample_waterfall_050708_o15_glitchandsources.png"&gt;http://1.bp.blogspot.com/_lsgW26mWZnU/SXHsYyHCEGI/AAAAAAAAEsg/3iwoklY0--0/s400/sample_waterfall_050708_o15_glitchandsources.png&lt;/a&gt;
A scan from the GC image above. I forgot to mark the source, I should go
back and do that. The glitch is obvious.
.. image:: &lt;a class="reference external" href="http://1.bp.blogspot.com/_lsgW26mWZnU/SXHsZHVZ4OI/AAAAAAAAEso/pOXwGFn7rGg/s400/sample_waterfall_050708_o15_glitchflagged.png"&gt;http://1.bp.blogspot.com/_lsgW26mWZnU/SXHsZHVZ4OI/AAAAAAAAEso/pOXwGFn7rGg/s400/sample_waterfall_050708_o15_glitchflagged.png&lt;/a&gt;
I drew a box to flag out the region affected by the glitch.
.. image:: &lt;a class="reference external" href="http://4.bp.blogspot.com/_lsgW26mWZnU/SXHsZG_MmWI/AAAAAAAAEsw/RA6tqAWMnLM/s400/sample_waterfall_050708_o15_glitchgone.png"&gt;http://4.bp.blogspot.com/_lsgW26mWZnU/SXHsZG_MmWI/AAAAAAAAEsw/RA6tqAWMnLM/s400/sample_waterfall_050708_o15_glitchgone.png&lt;/a&gt;
This is what happens when I redraw after flagging out the glitch - the
colorbar is rescaled and no more glitch.
.. image:: &lt;a class="reference external" href="http://4.bp.blogspot.com/_lsgW26mWZnU/SXIDILh3hfI/AAAAAAAAEtQ/cMuOhlFO_fA/s400/sample_waterfall_050708_o15_glitchandsources_marked.png"&gt;http://4.bp.blogspot.com/_lsgW26mWZnU/SXIDILh3hfI/AAAAAAAAEtQ/cMuOhlFO_fA/s400/sample_waterfall_050708_o15_glitchandsources_marked.png&lt;/a&gt;
Timestream with glitches and sources marked (one pixel in the map is hit
by 3 different points in this scan).
.. image:: &lt;a class="reference external" href="http://4.bp.blogspot.com/_lsgW26mWZnU/SXIDH3uIjHI/AAAAAAAAEtI/vijTeEWf_nA/s400/sample_waterfall_050708_o15_glitchandsources_gray.png"&gt;http://4.bp.blogspot.com/_lsgW26mWZnU/SXIDH3uIjHI/AAAAAAAAEtI/vijTeEWf_nA/s400/sample_waterfall_050708_o15_glitchandsources_gray.png&lt;/a&gt;
Grayscale version of above (ok, I lied about grayscale being impossible)
with a different pixel marked.
.. image:: &lt;a class="reference external" href="http://1.bp.blogspot.com/_lsgW26mWZnU/SXIDHbYLbiI/AAAAAAAAEtA/nSh2rM6GhMc/s400/flagger_marked_source_footprint_050708_o15.png"&gt;http://1.bp.blogspot.com/_lsgW26mWZnU/SXIDHbYLbiI/AAAAAAAAEtA/nSh2rM6GhMc/s400/flagger_marked_source_footprint_050708_o15.png&lt;/a&gt;
A zoom-in around the 'kidney bean' source with the Bolocam footprint
overlaid and a pixel marked. Note that this pixel corresponds to the 3
points in the color waterfall above.&lt;/p&gt;
</content><category term="bgps"></category><category term="googlepost"></category><category term="methods paper"></category><category term="flagging"></category></entry><entry><title>0709 rotators fixed, latest run</title><link href="https://keflavich.github.io/blog/0709-rotators-fixed-latest-run.html" rel="alternate"></link><published>2009-01-17T14:26:00-07:00</published><updated>2009-01-17T14:26:00-07:00</updated><author><name>Adam (adam.g.ginsburg@gmail.com)</name></author><id>tag:keflavich.github.io,2009-01-17:/blog/0709-rotators-fixed-latest-run.html</id><summary type="html">&lt;p&gt;0709 11-13 needed to be 83.88 degrees, they're all fixed now.
I flagged the l060 070911 maps; I'm not convinced that was weather,
there were some fluctuations up to 2400 Jy! Maybe a cloud would do that
though.&lt;/p&gt;
&lt;p&gt;Problems in the latest run:&lt;/p&gt;
&lt;pre class="literal-block"&gt;
l359 - missing files?
Reading files from …&lt;/pre&gt;</summary><content type="html">&lt;p&gt;0709 11-13 needed to be 83.88 degrees, they're all fixed now.
I flagged the l060 070911 maps; I'm not convinced that was weather,
there were some fluctuations up to 2400 Jy! Maybe a cloud would do that
though.&lt;/p&gt;
&lt;p&gt;Problems in the latest run:&lt;/p&gt;
&lt;pre class="literal-block"&gt;
l359 - missing files?
Reading files from /scratch/sliced/INFILES/l359\_infile.txt
FIELD v0.7\_l359 BEGUN at Fri Jan 16 20:11:34 2009
MRDFITS: File access error
% HEULER: ERROR - First parameter must be a FITS header or astrometry
 structure
l012 - missing files?
% READFITS: ERROR - Unable to locate file
 /scratch/adam\_work/l012/060614\_o10\_raw\_ds5.nc\_indiv13pca\_map01.fi
 ts
&lt;/pre&gt;
</content><category term="bgps"></category><category term="googlepost"></category><category term="mapping"></category></entry><entry><title>More problem maps</title><link href="https://keflavich.github.io/blog/more-problem-maps.html" rel="alternate"></link><published>2009-01-16T02:29:00-07:00</published><updated>2009-01-16T02:29:00-07:00</updated><author><name>Adam (adam.g.ginsburg@gmail.com)</name></author><id>tag:keflavich.github.io,2009-01-16:/blog/more-problem-maps.html</id><content type="html">&lt;p&gt;the l060-l062 range has some severe noise problems and rotator issues.
They need to be fixed before release.&lt;/p&gt;
</content><category term="bgps"></category><category term="googlepost"></category><category term="maps"></category></entry><entry><title>Uh?</title><link href="https://keflavich.github.io/blog/uh.html" rel="alternate"></link><published>2009-01-15T18:22:00-07:00</published><updated>2009-01-15T18:22:00-07:00</updated><author><name>Adam (adam.g.ginsburg@gmail.com)</name></author><id>tag:keflavich.github.io,2009-01-15:/blog/uh.html</id><summary type="html">&lt;p&gt;I'm not sure the error reported yesterday is reproducible.
Tonight, I started a complete re-mapping of the entire survey. The new
mapping will include beam-smoothed maps and more complete header
parameters.
I need to re-check the L111 mapping. It looks like the region with NGC
7538 in it did alright …&lt;/p&gt;</summary><content type="html">&lt;p&gt;I'm not sure the error reported yesterday is reproducible.
Tonight, I started a complete re-mapping of the entire survey. The new
mapping will include beam-smoothed maps and more complete header
parameters.
I need to re-check the L111 mapping. It looks like the region with NGC
7538 in it did alright, but the southeast region didn't do so well. The
combined maps are probably better than in any previous iteration,
though.
Tomorrow's tests will include L024 presumably.
It's time to get to work on this stuff. There is definitely a reasonably
efficient way to go through all of this stuff; the most difficult part
is post-facto error checking.
Here are some awk commands I found useful (the \'s are because of VI):
`` awk '{printf( $0); if ($2 != 0){ printf(&amp;quot; %4i%4i&amp;quot;,$4-443,$5-207) }; if($4!=0){printf(&amp;quot; %4i,%4i&amp;quot;,$2-272,$3-742)}; printf(&amp;quot;n&amp;quot;) }' align/l111_fitslist_shiftfind.txt``
&lt;tt class="docutils literal"&gt;awk '{print &lt;span class="pre"&gt;$6,$7}'&lt;/span&gt; align/l111_fitslist_shiftfind.txt &amp;gt; align/shifts_all_lb.txt&lt;/tt&gt;
One important point: I had to add a parameter to the header file to say
whether the current pointing model was used or not. It matters when
applying the offsets. Note that since I'm using the pointing model to
make all the individual maps, we actually have to stick with this
current set of pointing models for all coaligned maps.
The current models:&lt;/p&gt;
&lt;pre class="literal-block"&gt;
#   Definition of coefficientts:#   start/end mjd are the start/end modified Julian date of a given pointing model#   the 'a' coefficients are for the AZIMUTH OFFSET, the b coefficients are for the ZENITH ANGLE OFFSET#   a0/b0 are constants (e.g. the mean)#   [ab][12] are the 1st and 2nd coefficients of Azimuth.  They have been fiated to zero for most of#   the past year or three.#   [ab][34] are the 1st and 2nd coefficients of Zenith Angle.#   A 'pointing model' is therefore something like this:#   azoff = a0 + a3*alt + a4*alt^2#   altoff = b0 + b3*alt + b4*alt^2##   It is important that the start_mjd/end_mjd be in ascending order##   WARNING: LATER THAN JULY 2007 DEFAULTS TO JULY 2007 WHICH WILL PROBABLY RESULT IN ERRORS!#   I don't have a September 2007 model yet.##   start_mjd      end_mjd               a0              a1            a2              a3             a4                 b0             b1             b2             b3                b4       realdate      53522.5      53582.5       -9.2413685             0.0           0.0   -0.0066354359  -0.0015110883          7.0392221            0.0            0.0   -0.053635657    -0.00047042481       20050601      53614.5      53643.5        84.969583             0.0           0.0      -2.4339154    0.016300937          126.00164            0.0            0.0     -2.4424431       0.015455417       20050901      53887.5      53947.5        9.5305281             0.0           0.0    -0.053191181  -0.0029300592         0.13425019            0.0            0.0     0.48160040     -0.0092814256       20060601      53979.5      54008.5       -98.980381             0.0           0.0      0.65354164   -0.012414466          52.841380            0.0            0.0      1.6705743      -0.020893018       20060901      54101.5      54252.5       -99.078392             0.0           0.0        0.105270   -0.005943491          86.896333            0.0            0.0     0.54257415      -0.011919129       20070101      54252.5      54288         -103.03831             0.0           0.0      0.20972540  -0.0060336987          100.74491            0.0            0.0   0.0099012827     -0.0033331895       20070601#      54288        54313         -99.078392             0.0           0.0      0.10527000  -0.0059434911          86.896333            0.0            0.0     0.54257415      -0.011919129       20070707      54288        54313         -98.803883             0.0           0.0      0.11810246  -0.0051207995          91.720516            0.0            0.0     0.18953269      -0.0078189793       20070707      54313        54500         -99.078392             0.0           0.0      0.10527000  -0.0059434911          86.896333            0.0            0.0     0.54257415      -0.011919129       20070707mjd2date,53522.5 ,y,m,d &amp;amp; print,y,m,dmjd2date,53614.5 ,y,m,d &amp;amp; print,y,m,dmjd2date,53887.5 ,y,m,d &amp;amp; print,y,m,dmjd2date,53979.5 ,y,m,d &amp;amp; print,y,m,dmjd2date,54101.5 ,y,m,d &amp;amp; print,y,m,dmjd2date,54252.5 ,y,m,d &amp;amp; print,y,m,dmjd2date,54288   ,y,m,d &amp;amp; print,y,m,d
&lt;/pre&gt;
</content><category term="bgps"></category><category term="googlepost"></category><category term="alignment"></category></entry><entry><title>New mapping procedure</title><link href="https://keflavich.github.io/blog/new-mapping-procedure.html" rel="alternate"></link><published>2009-01-15T18:21:00-07:00</published><updated>2009-01-15T18:21:00-07:00</updated><author><name>Adam (adam.g.ginsburg@gmail.com)</name></author><id>tag:keflavich.github.io,2009-01-15:/blog/new-mapping-procedure.html</id><summary type="html">&lt;p&gt;I cut down the number of maps made by the pipeline from 80 to 30 by
merging regions with severe overlap. I don't think this will result in
any net change in efficiency of the mapping process because a few of the
maps will go over to swap, but it …&lt;/p&gt;</summary><content type="html">&lt;p&gt;I cut down the number of maps made by the pipeline from 80 to 30 by
merging regions with severe overlap. I don't think this will result in
any net change in efficiency of the mapping process because a few of the
maps will go over to swap, but it will reduce the amount of overlap /
noisy edges and make debugging simpler. It should also reduce hard drive
usage once I decide that I'm satisfied with the results and remove the
old (v0.6) redundant data.
As part of this process, the reference fields for coalignment have been
re-set to the v0.6.2 coadds + some (crappy) mosaics from v0.6.2 so that
we no longer need to rely on 3x1's for the alignment.
See /data/bgps/releases/v0.7/readme.txt for details (reproduced below)
Created 01/14/09
Version 0.7 does not exist yet. This is the 'release notes' indicating
what will change
-Overlapping redundant fields will be eliminated
Mapping of field name to area covered, followed by number of
observations
included:
gemob1: l189-l192 11 - 2 = 9
w5: l135-l138 46 = 46
l133: l133-l134 34 - 1 = 33
l111: l110-l111 88 = 88
l086: l085-l086 17 = 17
l082: l080-l084 33 = 33
l077: l075-l080 43 - 1 = 42
l072: l070-l074 10 - 2 = 8
l065: l059-l069 19 = 19
l055: l053-l058 10 - 1 = 9
l050: l048-l052 19 = 19
l045: l043-l047 20 - 4 = 16
l040: l038-l042 33 - 4 = 27
l035: l034-l037 53 = 53
l032: l031-l033 61 = 61
l030: l030 61 - 3 = 58
l029: l028-l029 53 - 4 = 49
l024: l021-l027 29 = 29
l018: l015-l021 29 - 3 = 26
l012: l011-l014 7 = 7
l009: l008-l010 11 = 11
l006: l005-l007 15 - 1 = 14
l003: l002-l004 25 - 1 = 24
l001: l001 20 = 20
l000: l000 23 - 1 = 23
l359: l359 14 = 14
l357: l356-l358 9 - 1 = 8
l354: l353-l355 3 = 3
l351: l350-l352 9 = 9&lt;/p&gt;
</content><category term="bgps"></category><category term="googlepost"></category><category term="mapping"></category></entry><entry><title>Gem OB1</title><link href="https://keflavich.github.io/blog/gem-ob1.html" rel="alternate"></link><published>2009-01-14T23:49:00-07:00</published><updated>2009-01-14T23:49:00-07:00</updated><author><name>Adam (adam.g.ginsburg@gmail.com)</name></author><id>tag:keflavich.github.io,2009-01-14:/blog/gem-ob1.html</id><summary type="html">&lt;p&gt;With Miranda's help, I discovered some serious errors in Gem OB1 and
fixed them.&lt;/p&gt;
&lt;ol class="arabic simple"&gt;
&lt;li&gt;L189 was using L134 data for no apparent reason&lt;/li&gt;
&lt;li&gt;many September 2007 observations have the WRONG rotation angle in
place in array_params! Unfortunately it's not clear yet which ones
suffer from this problem: I need …&lt;/li&gt;&lt;/ol&gt;</summary><content type="html">&lt;p&gt;With Miranda's help, I discovered some serious errors in Gem OB1 and
fixed them.&lt;/p&gt;
&lt;ol class="arabic simple"&gt;
&lt;li&gt;L189 was using L134 data for no apparent reason&lt;/li&gt;
&lt;li&gt;many September 2007 observations have the WRONG rotation angle in
place in array_params! Unfortunately it's not clear yet which ones
suffer from this problem: I need a list of when rotangle was/was not
used, and it looks like it'll be a pain to fix the problem.&lt;/li&gt;
&lt;li&gt;GemOB1link wasn't mapped, it will be now.&lt;/li&gt;
&lt;/ol&gt;
</content><category term="bgps"></category><category term="googlepost"></category><category term="mapping"></category></entry><entry><title>Back to work</title><link href="https://keflavich.github.io/blog/back-to-work.html" rel="alternate"></link><published>2009-01-13T16:45:00-07:00</published><updated>2009-01-13T16:45:00-07:00</updated><author><name>Adam (adam.g.ginsburg@gmail.com)</name></author><id>tag:keflavich.github.io,2009-01-13:/blog/back-to-work.html</id><summary type="html">&lt;p&gt;I started working again yesterday, mostly looking at the 31PCA
reductions I did. I have no strong opinions yet on their quality.
It's time to work towards a final data release, though, and to that end,
I'm going to start removing duplicate fields. e.g. l023 and l024 have
identical …&lt;/p&gt;</summary><content type="html">&lt;p&gt;I started working again yesterday, mostly looking at the 31PCA
reductions I did. I have no strong opinions yet on their quality.
It's time to work towards a final data release, though, and to that end,
I'm going to start removing duplicate fields. e.g. l023 and l024 have
identical data, so only one of them should ever be used.&lt;/p&gt;
</content><category term="bgps"></category><category term="googlepost"></category><category term="data release"></category></entry><entry><title>L111 observation notes</title><link href="https://keflavich.github.io/blog/l111-observation-notes.html" rel="alternate"></link><published>2008-12-09T11:40:00-07:00</published><updated>2008-12-09T11:40:00-07:00</updated><author><name>Adam (adam.g.ginsburg@gmail.com)</name></author><id>tag:keflavich.github.io,2008-12-09:/blog/l111-observation-notes.html</id><summary type="html">&lt;img alt="" src="http://2.bp.blogspot.com/_lsgW26mWZnU/SJZ5AakkcMI/AAAAAAAADL4/BV6bqAe26oc/s320/l111_sep05_noptgmdl_fixedoffset.jpg" /&gt;
&lt;img alt="" src="http://2.bp.blogspot.com/_lsgW26mWZnU/SJZ5ArDzBhI/AAAAAAAADMA/Qa6nxqshl7Y/s320/l111_sep05_rawcsoptg.jpg" /&gt;
&lt;img alt="" src="http://3.bp.blogspot.com/_lsgW26mWZnU/SJZ5Avg041I/AAAAAAAADMI/flj9idr7F54/s320/l111_sep05_ptgapplied.jpg" /&gt;
&lt;p&gt;In L111, the failures noted in the &lt;a class="reference external" href="http://bolocam.blogspot.com/2008/08/pointing-model-failure.html"&gt;previous post&lt;/a&gt; are specific to
September 2005. By comparing the pointing model images to the &amp;quot;raw cso
pointing&amp;quot; and &amp;quot;no pointing model&amp;quot; (the latter still have FAZO/FZAO
applied, all that has been done to them is aberration/nutation and
precession correction) it …&lt;/p&gt;</summary><content type="html">&lt;img alt="" src="http://2.bp.blogspot.com/_lsgW26mWZnU/SJZ5AakkcMI/AAAAAAAADL4/BV6bqAe26oc/s320/l111_sep05_noptgmdl_fixedoffset.jpg" /&gt;
&lt;img alt="" src="http://2.bp.blogspot.com/_lsgW26mWZnU/SJZ5ArDzBhI/AAAAAAAADMA/Qa6nxqshl7Y/s320/l111_sep05_rawcsoptg.jpg" /&gt;
&lt;img alt="" src="http://3.bp.blogspot.com/_lsgW26mWZnU/SJZ5Avg041I/AAAAAAAADMI/flj9idr7F54/s320/l111_sep05_ptgapplied.jpg" /&gt;
&lt;p&gt;In L111, the failures noted in the &lt;a class="reference external" href="http://bolocam.blogspot.com/2008/08/pointing-model-failure.html"&gt;previous post&lt;/a&gt; are specific to
September 2005. By comparing the pointing model images to the &amp;quot;raw cso
pointing&amp;quot; and &amp;quot;no pointing model&amp;quot; (the latter still have FAZO/FZAO
applied, all that has been done to them is aberration/nutation and
precession correction) it appears that the Sep 05 model is simply wrong.
I haven't had time to check on W3/4/5 and L033, but presumably they have
a similar issue. W3/4/5 includes late July 07 and September 06. L033
includes July 05, June 06, and July 07. I will need to generate pointing
plots for September 05 and 06, and probably regenerate June 06. I have
the rest and I think Meredith's models are fine for those dates - they
certainly don't create recognizable errors in the maps.
It is possible that my pointing_model.pro has some pointing models (the
problematic ones) entered incorrectly. It would be nice to get those
double-checked.&lt;/p&gt;
</content><category term="bgps"></category><category term="googlepost"></category><category term="pointing"></category></entry><entry><title>Pointing model failure</title><link href="https://keflavich.github.io/blog/pointing-model-failure.html" rel="alternate"></link><published>2008-12-09T11:40:00-07:00</published><updated>2008-12-09T11:40:00-07:00</updated><author><name>Adam (adam.g.ginsburg@gmail.com)</name></author><id>tag:keflavich.github.io,2008-12-09:/blog/pointing-model-failure.html</id><summary type="html">&lt;img alt="" src="http://2.bp.blogspot.com/_lsgW26mWZnU/SJXjh0a_cRI/AAAAAAAADBM/J3qzKAdvAE8/s320/l033_pointingmodel_failure.jpg" /&gt;
&lt;img alt="" src="http://2.bp.blogspot.com/_lsgW26mWZnU/SJXjiJuyDoI/AAAAAAAADBU/mVcnF0BNdFM/s320/l111_pointingmodel_failure.jpeg" /&gt;
&lt;p&gt;I attempted to map L111, L033, and W3/4/5 with the pointing model
corrections applied. That was a failure. Two images are attached to
illustrate the problem - relative pointing is clearly not correct
(middle of L33, bottom left of L111).
So.... possibilities:&lt;/p&gt;
&lt;ol class="arabic simple"&gt;
&lt;li&gt;Pointing models are incorrect&lt;/li&gt;
&lt;li&gt;Pointing model signs …&lt;/li&gt;&lt;/ol&gt;</summary><content type="html">&lt;img alt="" src="http://2.bp.blogspot.com/_lsgW26mWZnU/SJXjh0a_cRI/AAAAAAAADBM/J3qzKAdvAE8/s320/l033_pointingmodel_failure.jpg" /&gt;
&lt;img alt="" src="http://2.bp.blogspot.com/_lsgW26mWZnU/SJXjiJuyDoI/AAAAAAAADBU/mVcnF0BNdFM/s320/l111_pointingmodel_failure.jpeg" /&gt;
&lt;p&gt;I attempted to map L111, L033, and W3/4/5 with the pointing model
corrections applied. That was a failure. Two images are attached to
illustrate the problem - relative pointing is clearly not correct
(middle of L33, bottom left of L111).
So.... possibilities:&lt;/p&gt;
&lt;ol class="arabic simple"&gt;
&lt;li&gt;Pointing models are incorrect&lt;/li&gt;
&lt;li&gt;Pointing model signs have been misinterpreted (don't think this one
is possible based on other graphs)&lt;/li&gt;
&lt;li&gt;Uhh... ideas?&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;Next step, I'll use the individual maps with no ptg mdl and find out
what the offsets should be....&lt;/p&gt;
</content><category term="bgps"></category><category term="googlepost"></category><category term="pointing"></category><category term="mapping"></category></entry><entry><title>Deconvolution vs. Not</title><link href="https://keflavich.github.io/blog/deconvolution-vs-not.html" rel="alternate"></link><published>2008-11-28T19:39:00-07:00</published><updated>2008-11-28T19:39:00-07:00</updated><author><name>Adam (adam.g.ginsburg@gmail.com)</name></author><id>tag:keflavich.github.io,2008-11-28:/blog/deconvolution-vs-not.html</id><summary type="html">&lt;p&gt;I've done some by-eye comparisons of deconvolutions vs no deconvolution.
The no-deconvolution clearly does better on the bright sources: probably
the deconvolved beam size is a little bit different from (larger?
smaller?) the actual source size. Deconvolution does better in putting
noise from noisy regions into the noisemap and keeping …&lt;/p&gt;</summary><content type="html">&lt;p&gt;I've done some by-eye comparisons of deconvolutions vs no deconvolution.
The no-deconvolution clearly does better on the bright sources: probably
the deconvolved beam size is a little bit different from (larger?
smaller?) the actual source size. Deconvolution does better in putting
noise from noisy regions into the noisemap and keeping it out of the
astromap.
Both might be useful - the deconvolved maps may end up being prettier,
but the no-deconvolve maps will probably have more reliable fluxes.
This all probably relies on testing / simulation.&lt;/p&gt;
</content><category term="bgps"></category><category term="googlepost"></category><category term="mapping"></category></entry><entry><title>4 errors</title><link href="https://keflavich.github.io/blog/4-errors.html" rel="alternate"></link><published>2008-11-28T16:46:00-07:00</published><updated>2008-11-28T16:46:00-07:00</updated><author><name>Adam (adam.g.ginsburg@gmail.com)</name></author><id>tag:keflavich.github.io,2008-11-28:/blog/4-errors.html</id><content type="html">&lt;p&gt;l047, l083, l359 (l000 is in /usb, l359 is in /scratch), l136p15
Only 83 is a code error, the others are file location errors. l083 is an
error in 'pixshift' with subscripting and will require real debugging.&lt;/p&gt;
</content><category term="bgps"></category><category term="googlepost"></category><category term="errors"></category></entry><entry><title>def_user_common modified</title><link href="https://keflavich.github.io/blog/def_user_common-modified.html" rel="alternate"></link><published>2008-11-23T15:21:00-07:00</published><updated>2008-11-23T15:21:00-07:00</updated><author><name>Adam (adam.g.ginsburg@gmail.com)</name></author><id>tag:keflavich.github.io,2008-11-23:/blog/def_user_common-modified.html</id><summary type="html">&lt;p&gt;The NP doesn't work without USER_COMMON defined because at a single
point it makes use of the 'which' function.
def_user_common is a disaster, though, because it calls
get_screen_size(), which forces an X connection to be launched, which
means that if you start a remote session …&lt;/p&gt;</summary><content type="html">&lt;p&gt;The NP doesn't work without USER_COMMON defined because at a single
point it makes use of the 'which' function.
def_user_common is a disaster, though, because it calls
get_screen_size(), which forces an X connection to be launched, which
means that if you start a remote session and close X IDL crashes. This
has been a constant nagging problem and has cost me ~a few days of work.
So I commented out the offending (and offensive) line. The worst of it
is, I'm not even convinced there's anything that uses any of that
information. The common block is only needed to get paths, so which
could have been written better.
The pipeline ground to a halt for an unknown reason at an unknown point
so I added a lot more timing outputs to try to figure out what's going
on.
Back to the grind...&lt;/p&gt;
</content><category term="bgps"></category><category term="googlepost"></category><category term="pipeline"></category></entry><entry><title>flagger</title><link href="https://keflavich.github.io/blog/flagger.html" rel="alternate"></link><published>2008-11-22T01:37:00-07:00</published><updated>2008-11-22T01:37:00-07:00</updated><author><name>Adam (adam.g.ginsburg@gmail.com)</name></author><id>tag:keflavich.github.io,2008-11-22:/blog/flagger.html</id><summary type="html">&lt;p&gt;Discovered that the flagger causes some pretty serious problems if you
try to run it on a non-coadd for obvious reasons: there's practically no
coverage! Individual maps should NOT go through the flagger, so I have
added a piece of code that turns off the flagger if only one observation …&lt;/p&gt;</summary><content type="html">&lt;p&gt;Discovered that the flagger causes some pretty serious problems if you
try to run it on a non-coadd for obvious reasons: there's practically no
coverage! Individual maps should NOT go through the flagger, so I have
added a piece of code that turns off the flagger if only one observation
is being used. That code is in map_iter where the flagger is called.&lt;/p&gt;
</content><category term="bgps"></category><category term="googlepost"></category><category term="flagging"></category></entry><entry><title>v0.6.1 done</title><link href="https://keflavich.github.io/blog/v061-done.html" rel="alternate"></link><published>2008-11-21T02:42:00-07:00</published><updated>2008-11-21T02:42:00-07:00</updated><author><name>Adam (adam.g.ginsburg@gmail.com)</name></author><id>tag:keflavich.github.io,2008-11-21:/blog/v061-done.html</id><content type="html"></content><category term="bgps"></category><category term="googlepost"></category></entry><entry><title>Version 0.6 begun</title><link href="https://keflavich.github.io/blog/version-06-begun.html" rel="alternate"></link><published>2008-11-19T04:52:00-07:00</published><updated>2008-11-19T04:52:00-07:00</updated><author><name>Adam (adam.g.ginsburg@gmail.com)</name></author><id>tag:keflavich.github.io,2008-11-19:/blog/version-06-begun.html</id><content type="html">&lt;p&gt;I started on (what I hope will be) v0.6 tonight.
New things:
-Sigma-rejection flagging in the spatial domain
-Inverse-variance weighting&lt;/p&gt;
</content><category term="bgps"></category><category term="googlepost"></category><category term="mapping"></category></entry><entry><title>MAD flagger</title><link href="https://keflavich.github.io/blog/mad-flagger.html" rel="alternate"></link><published>2008-11-19T04:50:00-07:00</published><updated>2008-11-19T04:50:00-07:00</updated><author><name>Adam (adam.g.ginsburg@gmail.com)</name></author><id>tag:keflavich.github.io,2008-11-19:/blog/mad-flagger.html</id><summary type="html">&lt;pre class="literal-block"&gt;
; The Mad Flagger; Flag based on the median average deviation within a spatial pixelfunction mad_flagger,data,inds,flags,nsig=nsig    t = systime(/sec)    f0 = total(where(flags))    if n_e(nsig) eq 0 then nsig = 3            newflags = flags    mx=max(inds)    vec3=fltarr(mx+1)    h=histogram(inds,reverse …&lt;/pre&gt;</summary><content type="html">&lt;pre class="literal-block"&gt;
; The Mad Flagger; Flag based on the median average deviation within a spatial pixelfunction mad_flagger,data,inds,flags,nsig=nsig    t = systime(/sec)    f0 = total(where(flags))    if n_e(nsig) eq 0 then nsig = 3            newflags = flags    mx=max(inds)    vec3=fltarr(mx+1)    h=histogram(inds,reverse_indices=ri,OMIN=om)    for j=0L,n_elements(h)-1 do begin        if ri[j+1] gt ri[j] then begin            v_inds = [ri[ri[j]:ri[j+1]-1]]            if n_e(v_inds) gt 2 then begin                vec = data[v_inds];                vecmad = mad(vec)  ; the MAD is WAY too small!  I ended up rejecting 8% of points!                vecmad = stddev(vec)                vecmed = median(vec,/even)                madreject = where( (vec gt vecmed + nsig*vecmad) or (vec lt vecmed - nsig*vecmad) )                if (n_e(madreject) gt 0 and total(madreject)) gt 0 then begin                    reject_inds = v_inds[madreject]                    newflags[reject_inds] = 1                endif             endif        endif    endfor    print,&amp;quot;MAD flagger took &amp;quot;,strc(systime(/sec)-t),&amp;quot; seconds and flagged &amp;quot;,$        strc(round(total(where(newflags)) - f0)),' points'    return,newflagsend
&lt;/pre&gt;
</content><category term="bgps"></category><category term="googlepost"></category><category term="flagging"></category></entry><entry><title>Median drizzling</title><link href="https://keflavich.github.io/blog/median-drizzling.html" rel="alternate"></link><published>2008-11-18T16:11:00-07:00</published><updated>2008-11-18T16:11:00-07:00</updated><author><name>Adam (adam.g.ginsburg@gmail.com)</name></author><id>tag:keflavich.github.io,2008-11-18:/blog/median-drizzling.html</id><summary type="html">&lt;p&gt;&lt;a class="reference external" href="http://groups.google.com/group/comp.lang.idl-pvwave/browse_thread/thread/762770933591238d"&gt;http://groups.google.com/group/comp.lang.idl-pvwave/browse_thread/thread/762770933591238d&lt;/a&gt;
Someone going by the name 'wox' introduced me to a spectacularly simple
drizzling algorithm for medianing. It will be a little less efficient
because it can't take advantage of some 'partial sum' tricks that the
average can, but …&lt;/p&gt;</summary><content type="html">&lt;p&gt;&lt;a class="reference external" href="http://groups.google.com/group/comp.lang.idl-pvwave/browse_thread/thread/762770933591238d"&gt;http://groups.google.com/group/comp.lang.idl-pvwave/browse_thread/thread/762770933591238d&lt;/a&gt;
Someone going by the name 'wox' introduced me to a spectacularly simple
drizzling algorithm for medianing. It will be a little less efficient
because it can't take advantage of some 'partial sum' tricks that the
average can, but it will median over ALL data points, which is an
advantage.&lt;/p&gt;
</content><category term="bgps"></category><category term="googlepost"></category><category term="mapping"></category></entry><entry><title>Massive upgrades, new strategy?</title><link href="https://keflavich.github.io/blog/massive-upgrades-new-strategy.html" rel="alternate"></link><published>2008-11-18T04:01:00-07:00</published><updated>2008-11-18T04:01:00-07:00</updated><author><name>Adam (adam.g.ginsburg@gmail.com)</name></author><id>tag:keflavich.github.io,2008-11-18:/blog/massive-upgrades-new-strategy.html</id><summary type="html">&lt;p&gt;A few major things today:&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;#. I renamed 'ts_to_map' to 'drizzle' and made 'ts_to_map' a wrapper
that will either median combine by scans (if passed the right keywords,
i.e. tstomapmedian and scans_info). This will reject cosmic rays much
more effectively than previously.
#. My extensive test …&lt;/p&gt;&lt;/blockquote&gt;</summary><content type="html">&lt;p&gt;A few major things today:&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;#. I renamed 'ts_to_map' to 'drizzle' and made 'ts_to_map' a wrapper
that will either median combine by scans (if passed the right keywords,
i.e. tstomapmedian and scans_info). This will reject cosmic rays much
more effectively than previously.
#. My extensive test runs on the 'weird' fields completed. Conclusions:&lt;/p&gt;
&lt;blockquote&gt;
&lt;ul class="simple"&gt;
&lt;li&gt;&lt;dl class="first docutils"&gt;
&lt;dt&gt;Deconvolution is DEFINITELY responsibly for the weird fuzzy effects&lt;/dt&gt;
&lt;dd&gt;seen esp. in l=33, l=2.&lt;/dd&gt;
&lt;/dl&gt;
&lt;/li&gt;
&lt;li&gt;&lt;dl class="first docutils"&gt;
&lt;dt&gt;Even a descending iterator is ineffective at alleviating this&lt;/dt&gt;
&lt;dd&gt;problem
What I still don't understand is WHY the deconvolver is behaving badly
for some regions. It is extracting peaks that are too high.&lt;/dd&gt;
&lt;/dl&gt;
&lt;/li&gt;
&lt;li&gt;&lt;dl class="first docutils"&gt;
&lt;dt&gt;Not deconvolving works pretty well, so I'm not really concerned. I'm&lt;/dt&gt;
&lt;dd&gt;resetting the defaults to no deconvolution once my next test is done....&lt;/dd&gt;
&lt;/dl&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/blockquote&gt;
&lt;ol class="arabic simple"&gt;
&lt;li&gt;Started up a new test run to compare median stacking with weighted
average stacking&lt;/li&gt;
&lt;/ol&gt;
&lt;/blockquote&gt;
</content><category term="bgps"></category><category term="googlepost"></category><category term="pipeline"></category></entry><entry><title>5x1?</title><link href="https://keflavich.github.io/blog/5x1.html" rel="alternate"></link><published>2008-11-17T16:32:00-07:00</published><updated>2008-11-17T16:32:00-07:00</updated><author><name>Adam (adam.g.ginsburg@gmail.com)</name></author><id>tag:keflavich.github.io,2008-11-17:/blog/5x1.html</id><content type="html">&lt;p&gt;060609_o17 is weird looking. It appears to be TWO 3x1s with an overlap,
but it's only 1 observation. Any idea what happened?&lt;/p&gt;
</content><category term="bgps"></category><category term="googlepost"></category></entry><entry><title>Weighting - next steps</title><link href="https://keflavich.github.io/blog/weighting-next-steps.html" rel="alternate"></link><published>2008-11-15T01:04:00-07:00</published><updated>2008-11-15T01:04:00-07:00</updated><author><name>Adam (adam.g.ginsburg@gmail.com)</name></author><id>tag:keflavich.github.io,2008-11-15:/blog/weighting-next-steps.html</id><summary type="html">&lt;p&gt;Idea: 'edge taper' for scans. The scan start/end usually has higher
noise, so it would be good to downweight those regions slightly.
Probably only the first/last 5% of each scan should be linearly
downweighted.
I'm running a lot of tests on l001 with/without deconvolution, lots of
iterations …&lt;/p&gt;</summary><content type="html">&lt;p&gt;Idea: 'edge taper' for scans. The scan start/end usually has higher
noise, so it would be good to downweight those regions slightly.
Probably only the first/last 5% of each scan should be linearly
downweighted.
I'm running a lot of tests on l001 with/without deconvolution, lots of
iterations, different pca components. They'll be done sometime tomorrow.&lt;/p&gt;
</content><category term="bgps"></category><category term="googlepost"></category></entry><entry><title>Weighting and high-frequency noise</title><link href="https://keflavich.github.io/blog/weighting-and-high-frequency-noise.html" rel="alternate"></link><published>2008-11-15T00:41:00-07:00</published><updated>2008-11-15T00:41:00-07:00</updated><author><name>Adam (adam.g.ginsburg@gmail.com)</name></author><id>tag:keflavich.github.io,2008-11-15:/blog/weighting-and-high-frequency-noise.html</id><summary type="html">&lt;img alt="" src="http://1.bp.blogspot.com/_lsgW26mWZnU/SR4DzVCz1WI/AAAAAAAADfk/cJ70OPeqEzg/s400/psds.png" /&gt;
&lt;p&gt;Image of PSDs (with no normalization) of the raw (blue), delined and
exponential and polynomial subtracted (white), the noise timestream
(yellow), and the data (cyan).
The good: It looks like all of the powerline noise got into the noise
timestream and almost none in the data.
The bad: weighting is …&lt;/p&gt;</summary><content type="html">&lt;img alt="" src="http://1.bp.blogspot.com/_lsgW26mWZnU/SR4DzVCz1WI/AAAAAAAADfk/cJ70OPeqEzg/s400/psds.png" /&gt;
&lt;p&gt;Image of PSDs (with no normalization) of the raw (blue), delined and
exponential and polynomial subtracted (white), the noise timestream
(yellow), and the data (cyan).
The good: It looks like all of the powerline noise got into the noise
timestream and almost none in the data.
The bad: weighting is based on the noise timestream so it's possible
that the weights aren't quite right as a result
The weird: the data PSD. What's up with that? Apparently I'm
preferentially subtracting certain scales but I don't know why, unless
deconvolution is at fault.
Edit/Update: The deconvolution is definitely at fault. Here's the same
scan done without deconvolution:&lt;/p&gt;
&lt;img alt="" src="http://3.bp.blogspot.com/_lsgW26mWZnU/SR4ZM6FPfrI/AAAAAAAADf0/baHOQwedeqs/s400/psds2.png" /&gt;
&lt;p&gt;It should have been obvious; the cyan in the first plot is the PSD of
the deconvolution straight up, and that should have no high-frequency
structure...&lt;/p&gt;
</content><category term="bgps"></category><category term="googlepost"></category><category term="weighting"></category></entry><entry><title>Paragraph for the methods paper</title><link href="https://keflavich.github.io/blog/paragraph-for-the-methods-paper.html" rel="alternate"></link><published>2008-11-15T00:25:00-07:00</published><updated>2008-11-15T00:25:00-07:00</updated><author><name>Adam (adam.g.ginsburg@gmail.com)</name></author><id>tag:keflavich.github.io,2008-11-15:/blog/paragraph-for-the-methods-paper.html</id><summary type="html">&lt;p&gt;The raw data from Bolocam contains noise components from the atmosphere
and instrument in addition to the astrophysical signal. To remove the
atmospheric noise, an iterative approach was required.&lt;/p&gt;
&lt;ol class="arabic simple"&gt;
&lt;li&gt;The median across all bolometers is subtracted&lt;/li&gt;
&lt;li&gt;A set number of principle components are subtracted. The principle
components are the most …&lt;/li&gt;&lt;/ol&gt;</summary><content type="html">&lt;p&gt;The raw data from Bolocam contains noise components from the atmosphere
and instrument in addition to the astrophysical signal. To remove the
atmospheric noise, an iterative approach was required.&lt;/p&gt;
&lt;ol class="arabic simple"&gt;
&lt;li&gt;The median across all bolometers is subtracted&lt;/li&gt;
&lt;li&gt;A set number of principle components are subtracted. The principle
components are the most correlated components between bolometers. In
this process both the atmosphere above the telescope - which is
assumed to be constant across the field of view - and any large-scale
astrophysical structure are removed.&lt;/li&gt;
&lt;li&gt;The timestream data is mapped into the plane of the sky. Data points
are mapped to the nearest pixel. 7.2&amp;quot; pixels are used so that
sampling is better than Nyquist.&lt;/li&gt;
&lt;li&gt;The map is deconvolved using a maximum entropy deconvolution
algorithm ( Based on paper by Hollis, Dorband, Yusef-Zadeh, Ap.J.
Feb.1992, written by Frank Varosi at NASA/GSFC 1992)&lt;/li&gt;
&lt;li&gt;The deconvolved map is returned to a timestream and subtracted from
the original to yield a noise-only timestream.&lt;/li&gt;
&lt;li&gt;Power spectral densities are calculated for each scan in the noise
timestream, and weights are calculated from these. [At the moment,
the weights are actually inverse-variance]&lt;/li&gt;
&lt;li&gt;The deconvolved map timestream is subtracted from the raw timestream,
and then steps 1-6 are repeated on that timestream to recover flux
that was oversubtracted in the first iteration.&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;Convergence takes ???? iterations....
??? PCA components are subtracted [default 13]...&lt;/p&gt;
</content><category term="bgps"></category><category term="googlepost"></category><category term="methods paper"></category></entry><entry><title>Rewriting pipeline again</title><link href="https://keflavich.github.io/blog/rewriting-pipeline-again.html" rel="alternate"></link><published>2008-11-14T20:42:00-07:00</published><updated>2008-11-14T20:42:00-07:00</updated><author><name>Adam (adam.g.ginsburg@gmail.com)</name></author><id>tag:keflavich.github.io,2008-11-14:/blog/rewriting-pipeline-again.html</id><content type="html">&lt;p&gt;Not entirely, but I realized my code had become... clunky, at best.
I'm rewriting the wrappers using structs. I HATE IDL structs, but
they're necessary.... if only they would make them dynamically
modifiable.
Weighting worked to some degree, the mapping is pretty much done.&lt;/p&gt;
</content><category term="bgps"></category><category term="googlepost"></category></entry><entry><title>Implementing weighting</title><link href="https://keflavich.github.io/blog/implementing-weighting.html" rel="alternate"></link><published>2008-11-09T04:56:00-07:00</published><updated>2008-11-09T04:56:00-07:00</updated><author><name>Adam (adam.g.ginsburg@gmail.com)</name></author><id>tag:keflavich.github.io,2008-11-09:/blog/implementing-weighting.html</id><summary type="html">&lt;p&gt;Not as easy as it ought to be.
I think I need to do a few things:
1. check and make sure there are no more of those !&amp;#64;#$!&amp;#64;#$#&amp;#64;% different
sized array subtractions/multiplications. 'weight' and
'best_astro_model' need to have the same size &amp;amp; shape in mem_iter_pc
2 …&lt;/p&gt;</summary><content type="html">&lt;p&gt;Not as easy as it ought to be.
I think I need to do a few things:
1. check and make sure there are no more of those !&amp;#64;#$!&amp;#64;#$#&amp;#64;% different
sized array subtractions/multiplications. 'weight' and
'best_astro_model' need to have the same size &amp;amp; shape in mem_iter_pc
2. I guess just check and make sure stuff works. The weighted mean I'm
using appears to be right: sum(weight * value) / sum(weight)
I hate making lists that end up being two items....&lt;/p&gt;
</content><category term="bgps"></category><category term="googlepost"></category><category term="weighting"></category></entry><entry><title>l020 too</title><link href="https://keflavich.github.io/blog/l020-too.html" rel="alternate"></link><published>2008-11-09T04:10:00-07:00</published><updated>2008-11-09T04:10:00-07:00</updated><author><name>Adam (adam.g.ginsburg@gmail.com)</name></author><id>tag:keflavich.github.io,2008-11-09:/blog/l020-too.html</id><content type="html">&lt;p&gt;l020 too&lt;/p&gt;
</content><category term="bgps"></category><category term="http://schemas.google.com/blogger/2008/kind#comment"></category></entry><entry><title>redo targets:&lt;br&gt;l068&lt;br&gt;l086&lt;br&gt;l111&lt;br&gt;l027</title><link href="https://keflavich.github.io/blog/redo-targetsl068l086l111l027.html" rel="alternate"></link><published>2008-11-09T04:10:00-07:00</published><updated>2008-11-09T04:10:00-07:00</updated><author><name>Adam (adam.g.ginsburg@gmail.com)</name></author><id>tag:keflavich.github.io,2008-11-09:/blog/redo-targetsl068l086l111l027.html</id><content type="html">&lt;p&gt;redo targets:
l068
l086
l111
l027&lt;/p&gt;
</content><category term="bgps"></category><category term="http://schemas.google.com/blogger/2008/kind#comment"></category></entry><entry><title>the l111 reference field was 60% flagged out becau...</title><link href="https://keflavich.github.io/blog/the-l111-reference-field-was-60-flagged-out-becau.html" rel="alternate"></link><published>2008-11-09T04:04:00-07:00</published><updated>2008-11-09T04:04:00-07:00</updated><author><name>Adam (adam.g.ginsburg@gmail.com)</name></author><id>tag:keflavich.github.io,2008-11-09:/blog/the-l111-reference-field-was-60-flagged-out-becau.html</id><summary type="html">&lt;p&gt;the l111 reference field was 60% flagged out because of bad rotators:
ALL PREPROC ... output is&lt;/p&gt;
&lt;pre class="literal-block"&gt;
/scratch/adam\_work/l111/060602\_o34\_raw\_ds5.nc\_indiv13pca READING IN
1 FILES FROM /scratch/sliced/l111/060602\_o34\_raw\_ds5.nc
Reading file /scratch/sliced/l111/060602\_o34\_raw\_ds5.nc
Flagged …&lt;/pre&gt;</summary><content type="html">&lt;p&gt;the l111 reference field was 60% flagged out because of bad rotators:
ALL PREPROC ... output is&lt;/p&gt;
&lt;pre class="literal-block"&gt;
/scratch/adam\_work/l111/060602\_o34\_raw\_ds5.nc\_indiv13pca READING IN
1 FILES FROM /scratch/sliced/l111/060602\_o34\_raw\_ds5.nc
Reading file /scratch/sliced/l111/060602\_o34\_raw\_ds5.nc
Flagged scan 2 in file /scratch/sliced/l111/060602\_o34\_raw\_ds5.nc
 because rotangle changes by -23.2941
Flagged scan 6 in file /scratch/sliced/l111/060602\_o34\_raw\_ds5.nc
 because rotangle changes by -24.9265
Flagged scan 7 in file /scratch/sliced/l111/060602\_o34\_raw\_ds5.nc
 because rotangle changes by -21.3750
Flagged scan 8 in file /scratch/sliced/l111/060602\_o34\_raw\_ds5.nc
 because rotangle changes by -25.7647
Flagged scan 9 in file /scratch/sliced/l111/060602\_o34\_raw\_ds5.nc
 because rotangle changes by 0.110294
Flagged scan 10 in file /scratch/sliced/l111/060602\_o34\_raw\_ds5.nc
 because rotangle changes by -26.6140
Flagged scan 11 in file /scratch/sliced/l111/060602\_o34\_raw\_ds5.nc
 because rotangle changes by 0.143383
Flagged scan 12 in file /scratch/sliced/l111/060602\_o34\_raw\_ds5.nc
 because rotangle changes by -27.4743
Flagged scan 14 in file /scratch/sliced/l111/060602\_o34\_raw\_ds5.nc
 because rotangle changes by -28.3235
Flagged scan 15 in file /scratch/sliced/l111/060602\_o34\_raw\_ds5.nc
 because rotangle changes by -24.6397
Flagged scan 17 in file /scratch/sliced/l111/060602\_o34\_raw\_ds5.nc
 because rotangle changes by -25.4559
Flagged scan 18 in file /scratch/sliced/l111/060602\_o34\_raw\_ds5.nc
 because rotangle changes by -30.0441
Flagged scan 19 in file /scratch/sliced/l111/060602\_o34\_raw\_ds5.nc
 because rotangle changes by 0.110292
Flagged scan 21 in file /scratch/sliced/l111/060602\_o34\_raw\_ds5.nc
 because rotangle changes by 0.220589
Flagged scan 22 in file /scratch/sliced/l111/060602\_o34\_raw\_ds5.nc
 because rotangle changes by -31.8088
Flagged scan 23 in file /scratch/sliced/l111/060602\_o34\_raw\_ds5.nc
 because rotangle changes by -27.9596
Flagged scan 24 in file /scratch/sliced/l111/060602\_o34\_raw\_ds5.nc
 because rotangle changes by -32.7022
Flagged scan 26 in file /scratch/sliced/l111/060602\_o34\_raw\_ds5.nc
 because rotangle changes by -33.5846
Flagged scan 28 in file /scratch/sliced/l111/060602\_o34\_raw\_ds5.nc
 because rotangle changes by -34.4890
Flagged scan 30 in file /scratch/sliced/l111/060602\_o34\_raw\_ds5.nc
 because rotangle changes by -35.3934
Flagged scan 31 in file /scratch/sliced/l111/060602\_o34\_raw\_ds5.nc
 because rotangle changes by -31.3787
Flagged scan 33 in file /scratch/sliced/l111/060602\_o34\_raw\_ds5.nc
 because rotangle changes by -0.231617
Flagged scan 34 in file /scratch/sliced/l111/060602\_o34\_raw\_ds5.nc
 because rotangle changes by 0.121325
Flagged scan 36 in file /scratch/sliced/l111/060602\_o34\_raw\_ds5.nc
 because rotangle changes by 0.132353
Flagged scan 38 in file /scratch/sliced/l111/060602\_o34\_raw\_ds5.nc
 because rotangle changes by 0.209558
Flagged scan 39 in file /scratch/sliced/l111/060602\_o34\_raw\_ds5.nc
 because rotangle changes by -0.198528
Flagged scan 40 in file /scratch/sliced/l111/060602\_o34\_raw\_ds5.nc
 because rotangle changes by 0.231617
Flagged scan 42 in file /scratch/sliced/l111/060602\_o34\_raw\_ds5.nc
 because rotangle changes by 0.121325
Did not find rpcfile /data/bgps/raw/rpc/20060602/20060602\_0811\_rpc.bin
for file /scratch/sliced/l111/060602\_o34\_raw\_ds5.nc
Applying pointing model with alt/az off -0.00023445157 -0.00016187002
NO OFFSETS APPLIED
Scans 2 6 7 8 9 10
 11 12 14 15 17 18
 19 21 22 23 24 26
 28 30 31 33 34 36
 38 39 40 42
 flagged in file /scratch/sliced/l111/060602\_o34\_raw\_ds5.nc because
of rotation
4.2049680 sec.
Total of 1947176 points flagged
AC\_BOLOS has 1.94718e+06 NAN points, which is 0.608696 of total
&lt;/pre&gt;
</content><category term="bgps"></category><category term="http://schemas.google.com/blogger/2008/kind#comment"></category></entry><entry><title>curiously, l135p1 has a reference field that is on...</title><link href="https://keflavich.github.io/blog/curiously-l135p1-has-a-reference-field-that-is-on.html" rel="alternate"></link><published>2008-11-09T03:59:00-07:00</published><updated>2008-11-09T03:59:00-07:00</updated><author><name>Adam (adam.g.ginsburg@gmail.com)</name></author><id>tag:keflavich.github.io,2008-11-09:/blog/curiously-l135p1-has-a-reference-field-that-is-on.html</id><content type="html">&lt;p&gt;curiously, l135p1 has a reference field that is only present in the
w3ohbolocam directory. Probably need to remake the infiles for all of
W3/4/5&lt;/p&gt;
</content><category term="bgps"></category><category term="http://schemas.google.com/blogger/2008/kind#comment"></category></entry><entry><title>I think l086 needs to be re-treated specially; it ...</title><link href="https://keflavich.github.io/blog/i-think-l086-needs-to-be-re-treated-specially-it.html" rel="alternate"></link><published>2008-11-09T03:55:00-07:00</published><updated>2008-11-09T03:55:00-07:00</updated><author><name>Adam (adam.g.ginsburg@gmail.com)</name></author><id>tag:keflavich.github.io,2008-11-09:/blog/i-think-l086-needs-to-be-re-treated-specially-it.html</id><content type="html">&lt;p&gt;I think l086 needs to be re-treated specially; it had way too many large
offsets. Probably the error that resulted was from an overlap region
smaller than itself....&lt;/p&gt;
</content><category term="bgps"></category><category term="http://schemas.google.com/blogger/2008/kind#comment"></category></entry><entry><title>/scratch/sliced/l354/070724_o10_raw_ds5.nc was the...</title><link href="https://keflavich.github.io/blog/scratchslicedl354070724_o10_raw_ds5nc-was-the.html" rel="alternate"></link><published>2008-11-09T03:49:00-07:00</published><updated>2008-11-09T03:49:00-07:00</updated><author><name>Adam (adam.g.ginsburg@gmail.com)</name></author><id>tag:keflavich.github.io,2008-11-09:/blog/scratchslicedl354070724_o10_raw_ds5nc-was-the.html</id><content type="html">&lt;p&gt;/scratch/sliced/l354/070724_o10_raw_ds5.nc was the reference file for
l354 but somehow was excluded from the l354_infile. Warrants another
check post-mapping&lt;/p&gt;
</content><category term="bgps"></category><category term="http://schemas.google.com/blogger/2008/kind#comment"></category></entry><entry><title>somehow /scratch/sliced_polychrome/l034/050708_o21...</title><link href="https://keflavich.github.io/blog/somehow-scratchsliced_polychromel034050708_o21.html" rel="alternate"></link><published>2008-11-09T03:25:00-07:00</published><updated>2008-11-09T03:25:00-07:00</updated><author><name>Adam (adam.g.ginsburg@gmail.com)</name></author><id>tag:keflavich.github.io,2008-11-09:/blog/somehow-scratchsliced_polychromel034050708_o21.html</id><content type="html">&lt;p&gt;somehow /scratch/sliced_polychrome/l034/050708_o21_raw_mmd_ds5.nc
got into the l033_infile and screwed things up&lt;/p&gt;
</content><category term="bgps"></category><category term="http://schemas.google.com/blogger/2008/kind#comment"></category></entry><entry><title>BGPS Photo</title><link href="https://keflavich.github.io/blog/bgps-photo.html" rel="alternate"></link><published>2008-11-06T07:29:00-07:00</published><updated>2008-11-06T07:29:00-07:00</updated><author><name>Adam (adam.g.ginsburg@gmail.com)</name></author><id>tag:keflavich.github.io,2008-11-06:/blog/bgps-photo.html</id><content type="html">&lt;p&gt;&lt;a class="reference external" href="http://www.nrao.edu/index.php/learn/gallery/imagecontest"&gt;http://www.nrao.edu/index.php/learn/gallery/imagecontest&lt;/a&gt;&lt;/p&gt;
</content><category term="bgps"></category><category term="googlepost"></category></entry><entry><title>New to-do list, updated things....</title><link href="https://keflavich.github.io/blog/new-to-do-list-updated-things.html" rel="alternate"></link><published>2008-10-15T12:57:00-06:00</published><updated>2008-10-15T12:57:00-06:00</updated><author><name>Adam (adam.g.ginsburg@gmail.com)</name></author><id>tag:keflavich.github.io,2008-10-15:/blog/new-to-do-list-updated-things.html</id><summary type="html">&lt;p&gt;&lt;tt class="docutils literal"&gt;do_maptests.pro&lt;/tt&gt; is running a bunch of different mapping parameters
(pca components, deconvolution, etc.) on l000, l002, l003, l033, l083.
We'll then run bolocat on it and look for the following:
-number of sources found
-flux in sources found as a function of n_pca
-size of sources as …&lt;/p&gt;</summary><content type="html">&lt;p&gt;&lt;tt class="docutils literal"&gt;do_maptests.pro&lt;/tt&gt; is running a bunch of different mapping parameters
(pca components, deconvolution, etc.) on l000, l002, l003, l033, l083.
We'll then run bolocat on it and look for the following:
-number of sources found
-flux in sources found as a function of n_pca
-size of sources as function of n_pca
-BADNESS, e.g. blurring / unremoved atmosphere / oversubtracted sources
&lt;tt class="docutils literal"&gt;bolocat2reg&lt;/tt&gt; makes a region file out of a bolocat catalog. I'd like
to make a separate ds9 region file that includes the actual pointing
error + the centroiding error rather than just the elliptical fit to a
given source; that will be more useful for finder charts.
My current goal is to get a nice set of images I can combine to release
as a poster to Jason Glenn's student who is making pretty posters for
publicity purposes; probably to promote CCAT. Umm.... I blame the late
hour for the alliteration.
That goal also means I've been using an IRAF task to do some mosaicing
(easier than writing the IDL code AGAIN):
&lt;tt class="docutils literal"&gt;mscstack l001_5pca_map09.fits,l002_5pca_map09.fits,l000_5pca_map09.fits,l359_5pca_map09.fits,l003_5pca_map09.fits&amp;nbsp; GCCOMBINE_5pca.fits &lt;span class="pre"&gt;lthresh=-1l001_13pca_map09_scuba_aligned.fits,l002_13pca_map09_scuba_aligned.fits,l000_13pca_map09_scuba_aligned.fits,l359_13pca_map09_scuba_aligned.fits,l003_13pca_map09_scuba_aligned.fits&lt;/span&gt;&amp;nbsp; GCCOMBINE.fits &lt;span class="pre"&gt;lthresh=-1mscstack&lt;/span&gt; l029_13pca_map09_scuba_aligned.fits,l030_13pca_map09_scuba_aligned.fits,l031_13pca_map09_scuba_aligned.fits,l032_13pca_map09_scuba_aligned.fits,l033_13pca_map09_scuba_aligned.fits,l034_13pca_map09_scuba_aligned.fits L33COMBINE.fits &lt;span class="pre"&gt;lthresh=-1&lt;/span&gt; hsig=5 lsig=5&lt;/tt&gt;&lt;/p&gt;
</content><category term="bgps"></category><category term="googlepost"></category><category term="mapping"></category><category term="pipeline"></category></entry><entry><title>outer galaxy fields done</title><link href="https://keflavich.github.io/blog/outer-galaxy-fields-done.html" rel="alternate"></link><published>2008-10-13T14:47:00-06:00</published><updated>2008-10-13T14:47:00-06:00</updated><author><name>Adam (adam.g.ginsburg@gmail.com)</name></author><id>tag:keflavich.github.io,2008-10-13:/blog/outer-galaxy-fields-done.html</id><summary type="html">&lt;p&gt;they're small files
&lt;tt class="docutils literal"&gt;&lt;span class="pre"&gt;logs/log_101008_coalign.log:/scratch/adam_work/l059/l059_13pca&lt;/span&gt; took 286.08181 &lt;span class="pre"&gt;sec.logs/log_101008_coalign.log:/scratch/adam_work/l062/l062_13pca&lt;/span&gt; took 390.88015 &lt;span class="pre"&gt;sec.logs/log_101008_coalign.log:/scratch/adam_work/l065/l065_13pca&lt;/span&gt; took 296.88441 &lt;span class="pre"&gt;sec.logs/log …&lt;/span&gt;&lt;/tt&gt;&lt;/p&gt;</summary><content type="html">&lt;p&gt;they're small files
&lt;tt class="docutils literal"&gt;&lt;span class="pre"&gt;logs/log_101008_coalign.log:/scratch/adam_work/l059/l059_13pca&lt;/span&gt; took 286.08181 &lt;span class="pre"&gt;sec.logs/log_101008_coalign.log:/scratch/adam_work/l062/l062_13pca&lt;/span&gt; took 390.88015 &lt;span class="pre"&gt;sec.logs/log_101008_coalign.log:/scratch/adam_work/l065/l065_13pca&lt;/span&gt; took 296.88441 &lt;span class="pre"&gt;sec.logs/log_101008_coalign.log:/scratch/adam_work/l068/l068_13pca&lt;/span&gt; took 1136.2623 &lt;span class="pre"&gt;sec.logs/log_101008_coalign.log:/scratch/adam_work/l071/l071_13pca&lt;/span&gt; took 899.41245 &lt;span class="pre"&gt;sec.logs/log_101208_coalign.log:/scratch/adam_work/l189p5/l189p5_13pca&lt;/span&gt; took 375.06840 &lt;span class="pre"&gt;sec.logs/log_101208_coalign.log:/scratch/adam_work/l192/l192_13pca&lt;/span&gt; took 403.81112 &lt;span class="pre"&gt;sec.logs/log_101208_coalign.log:/scratch/adam_work/l060/l060_13pca&lt;/span&gt; took 90.815500 &lt;span class="pre"&gt;sec.logs/log_101208_coalign.log:/scratch/adam_work/l069/l069_13pca&lt;/span&gt; took 160.17454 sec.&lt;/tt&gt;&lt;/p&gt;
</content><category term="bgps"></category><category term="googlepost"></category><category term="mapping"></category></entry><entry><title>flagging</title><link href="https://keflavich.github.io/blog/flagging.html" rel="alternate"></link><published>2008-10-08T04:31:00-06:00</published><updated>2008-10-08T04:31:00-06:00</updated><author><name>Adam (adam.g.ginsburg@gmail.com)</name></author><id>tag:keflavich.github.io,2008-10-08:/blog/flagging.html</id><content type="html">&lt;p&gt;most of what's left now is flagging. I updated the flagger,
flag_manual.pro. Check it out for documentation&lt;/p&gt;
</content><category term="bgps"></category><category term="googlepost"></category><category term="flagging"></category></entry><entry><title>Maps with problems</title><link href="https://keflavich.github.io/blog/maps-with-problems.html" rel="alternate"></link><published>2008-09-17T14:46:00-06:00</published><updated>2008-09-17T14:46:00-06:00</updated><author><name>Adam (adam.g.ginsburg@gmail.com)</name></author><id>tag:keflavich.github.io,2008-09-17:/blog/maps-with-problems.html</id><content type="html">&lt;p&gt;l002: fuzzy stuff - bad sky sub?
l033: misalignment
l004: possible misalignment? Pattern recognition fails me here
l354: misalignment&lt;/p&gt;
</content><category term="bgps"></category><category term="googlepost"></category><category term="mapping"></category></entry><entry><title>Mapping update</title><link href="https://keflavich.github.io/blog/mapping-update.html" rel="alternate"></link><published>2008-09-16T20:38:00-06:00</published><updated>2008-09-16T20:38:00-06:00</updated><author><name>Adam (adam.g.ginsburg@gmail.com)</name></author><id>tag:keflavich.github.io,2008-09-16:/blog/mapping-update.html</id><summary type="html">&lt;p&gt;I made a lot of mistakes in my script, so progress is about 12 computer
hours behind what it should be.
These maps are done:&lt;/p&gt;
&lt;pre class="literal-block"&gt;
/scratch/adam_work/l003/l003_13pca_map09.fits/scratch/adam_work/l006/l006_13pca_map09.fits/scratch/adam_work/l009/l009_13pca_map09.fits/scratch …&lt;/pre&gt;</summary><content type="html">&lt;p&gt;I made a lot of mistakes in my script, so progress is about 12 computer
hours behind what it should be.
These maps are done:&lt;/p&gt;
&lt;pre class="literal-block"&gt;
/scratch/adam_work/l003/l003_13pca_map09.fits/scratch/adam_work/l006/l006_13pca_map09.fits/scratch/adam_work/l009/l009_13pca_map09.fits/scratch/adam_work/l018/l018_13pca_map09.fits/scratch/adam_work/l021/l021_13pca_map09.fits/scratch/adam_work/l024/l024_13pca_map09.fits/scratch/adam_work/l027/l027_13pca_map09.fits/scratch/adam_work/l030/l030_13pca_map09.fits/scratch/adam_work/l033/l033_13pca_map09.fits/scratch/adam_work/l036/l036_13pca_map09.fits/scratch/adam_work/l039/l039_13pca_map09.fits/scratch/adam_work/l042/l042_13pca_map09.fits/scratch/adam_work/l044/l044_13pca_map09.fits/scratch/adam_work/l048/l048_13pca_map09.fits/scratch/adam_work/l050/l050_13pca_map09.fits/scratch/adam_work/l054/l054_13pca_map09.fits/scratch/adam_work/l057/l057_13pca_map09.fits
&lt;/pre&gt;
&lt;p&gt;Things I've learned so far:
There is an observation (a master?) in L003 that should be the galactic
center master.
L018 has some really bad noise that needs fixing.
The wackiness I saw in L024 seems to be gone now.
L044 has the same noise stripes as L357.&lt;/p&gt;
&lt;pre class="literal-block"&gt;
/scratch/adam_work/l018/l018_13pca took 1118.3684 sec./scratch/adam_work/l018/l018_13pca_nooffs took 1106.6423 sec./scratch/adam_work/l021/l021_13pca took 1703.7266 sec./scratch/adam_work/l021/l021_13pca_nooffs took 1716.7393 sec./scratch/adam_work/l024/l024_13pca took 1622.3164 sec./scratch/adam_work/l024/l024_13pca_nooffs took 1672.3263 sec./scratch/adam_work/l027/l027_13pca took 1376.1939 sec./scratch/adam_work/l027/l027_13pca_nooffs took 1383.4335 sec./scratch/adam_work/l030/l030_13pca took 2487.1311 sec./scratch/adam_work/l030/l030_13pca_nooffs took 2543.1740 sec./scratch/adam_work/l036/l036_13pca took 549.76983 sec./scratch/adam_work/l036/l036_13pca_nooffs took 548.84132 sec./scratch/adam_work/l039/l039_13pca took 299.96889 sec./scratch/adam_work/l039/l039_13pca_nooffs took 299.16787 sec./scratch/adam_work/l042/l042_13pca took 366.34139 sec./scratch/adam_work/l042/l042_13pca_nooffs took 364.31475 sec./scratch/adam_work/l044/l044_13pca took 427.26923 sec./scratch/adam_work/l044/l044_13pca_nooffs took 424.42403 sec./scratch/adam_work/l048/l048_13pca took 313.86412 sec./scratch/adam_work/l048/l048_13pca_nooffs took 303.52545 sec./scratch/adam_work/l050/l050_13pca took 421.22899 sec./scratch/adam_work/l050/l050_13pca_nooffs took 477.16070 sec./scratch/adam_work/l054/l054_13pca took 315.14965 sec./scratch/adam_work/l054/l054_13pca_nooffs took 342.69137 sec.
&lt;/pre&gt;
</content><category term="bgps"></category><category term="googlepost"></category><category term="mapping"></category></entry><entry><title>Scripting the Whole Survey</title><link href="https://keflavich.github.io/blog/scripting-the-whole-survey.html" rel="alternate"></link><published>2008-09-16T00:43:00-06:00</published><updated>2008-09-16T00:43:00-06:00</updated><author><name>Adam (adam.g.ginsburg@gmail.com)</name></author><id>tag:keflavich.github.io,2008-09-16:/blog/scripting-the-whole-survey.html</id><summary type="html">&lt;p&gt;First, discovered more fields with some sort of failure:&lt;/p&gt;
&lt;pre class="literal-block"&gt;
ls -d l[0-3][0-9][0-9] | sed 's:\(.*\):ls \1/*_map01.fits &amp;gt; \1/\1_infile.txt:' | bashls: l004/*_map01.fits: No such file or directoryls: l017/*_map01.fits: No such file or directoryls: l025/*_map01.fits: No such file or directoryls …&lt;/pre&gt;</summary><content type="html">&lt;p&gt;First, discovered more fields with some sort of failure:&lt;/p&gt;
&lt;pre class="literal-block"&gt;
ls -d l[0-3][0-9][0-9] | sed 's:\(.*\):ls \1/*_map01.fits &amp;gt; \1/\1_infile.txt:' | bashls: l004/*_map01.fits: No such file or directoryls: l017/*_map01.fits: No such file or directoryls: l025/*_map01.fits: No such file or directoryls: l108/*_map01.fits: No such file or directoryls: l135/*_map01.fits: No such file or directoryls: l136/*_map01.fits: No such file or directoryls: l137/*_map01.fits: No such file or directoryls: l138/*_map01.fits: No such file or directoryls: l192/*_map01.fits: No such file or directory
&lt;/pre&gt;
&lt;p&gt;Also, that command was a total screwup.&lt;/p&gt;
&lt;pre class="literal-block"&gt;
ls -d l[0-3][0-9][0-9] | sed 's:\(.*\):ls /scratch/adam_work/\1/*_map01.fits &amp;gt; \1/\1_fitslist.txt:' | bashls: /scratch/adam_work/l004/*_map01.fits: No such file or directoryls: /scratch/adam_work/l017/*_map01.fits: No such file or directorybash: line 12: l020/l020_fitslist.txt: Permission deniedls: /scratch/adam_work/l025/*_map01.fits: No such file or directoryls: /scratch/adam_work/l108/*_map01.fits: No such file or directoryls: /scratch/adam_work/l135/*_map01.fits: No such file or directoryls: /scratch/adam_work/l136/*_map01.fits: No such file or directoryls: /scratch/adam_work/l137/*_map01.fits: No such file or directoryls: /scratch/adam_work/l138/*_map01.fits: No such file or directoryls: /scratch/adam_work/l192/*_map01.fits: No such file or directory
&lt;/pre&gt;
&lt;p&gt;Now that those files exist, it should be possible to run a set of
super-scripts like this:
coalign_field,'l057','070719_o29',sliced_dir='sliced_polychrome',premap=0
coalign_field,'l351','070725_ob3'
coalign_field,'l354','070724_o10'
coalign_field,'l357','070724_ob3'
coalign_field,'l000','070719_o14'
coalign_field,'l003','070718_o16'
coalign_field,'l006','070715_ob5'
coalign_field,'l009','070717_ob5'
coalign_field,'l012','070715_o10'
coalign_field,'l015','070714_o36'
coalign_field,'l018','070717_o10'
coalign_field,'l021','070715_o15'
coalign_field,'l024','070717_o15'
coalign_field,'l027','070715_o20'
coalign_field,'l030','070717_o20'
coalign_field,'l033','070718_ob5',sliced_dir='sliced_polychrome'
coalign_field,'l036','070715_o25',sliced_dir='sliced_polychrome'
coalign_field,'l039','070717_o25',sliced_dir='sliced_polychrome'
coalign_field,'l042','070715_o30',sliced_dir='sliced_polychrome'
coalign_field,'l044','070718_o24',sliced_dir='sliced_polychrome'
coalign_field,'l048','070717_o30',sliced_dir='sliced_polychrome'
coalign_field,'l050','070718_o29',sliced_dir='sliced_polychrome'
coalign_field,'l054','070724_o28',sliced_dir='sliced_polychrome'
coalign_field,'l057','070719_o29',sliced_dir='sliced_polychrome'
where premap=0 means I'm not re-mapping the whole field, the
sliced_dir='slice_polychrome' keyword is for those fields that do not
have a regular sliced directory.
This kind of thing ought to be really, really helpful when mapping the
fields whose masters are not in the field: I'll have to modify the
'coalign_field' code to search in a different directory, though.
Yearghhh.... last command was bad too.&lt;/p&gt;
&lt;pre class="literal-block"&gt;
ls -d l[0-3][0-9][0-9] | sed 's:\(.*\):ls /scratch/adam_work/\1/0*_map01.fits &amp;gt; \1/\1_fitslist.txt:' | bashls: /scratch/adam_work/l004/0*_map01.fits: No such file or directoryls: /scratch/adam_work/l017/0*_map01.fits: No such file or directorybash: line 12: l020/l020_fitslist.txt: Permission deniedls: /scratch/adam_work/l025/0*_map01.fits: No such file or directoryls: /scratch/adam_work/l108/0*_map01.fits: No such file or directoryls: /scratch/adam_work/l135/0*_map01.fits: No such file or directoryls: /scratch/adam_work/l136/0*_map01.fits: No such file or directoryls: /scratch/adam_work/l137/0*_map01.fits: No such file or directoryls: /scratch/adam_work/l138/0*_map01.fits: No such file or directoryls: /scratch/adam_work/l192/0*_map01.fits: No such file or directory
&lt;/pre&gt;
</content><category term="bgps"></category><category term="googlepost"></category><category term="alignment"></category><category term="mapping"></category><category term="pipeline"></category></entry><entry><title>Alignment success stories</title><link href="https://keflavich.github.io/blog/alignment-success-stories.html" rel="alternate"></link><published>2008-09-15T04:33:00-06:00</published><updated>2008-09-15T04:33:00-06:00</updated><author><name>Adam (adam.g.ginsburg@gmail.com)</name></author><id>tag:keflavich.github.io,2008-09-15:/blog/alignment-success-stories.html</id><content type="html">&lt;img alt="" src="http://2.bp.blogspot.com/_lsgW26mWZnU/SM3ki00LXOI/AAAAAAAADYA/5izD0hrve40/s400/l111_align_success.jpg" /&gt;
&lt;img alt="" src="http://4.bp.blogspot.com/_lsgW26mWZnU/SM3krUz_JTI/AAAAAAAADYI/uzayPOqbiss/s400/l024_align_success.jpg" /&gt;
&lt;img alt="" src="http://1.bp.blogspot.com/_lsgW26mWZnU/SM3krkSjAGI/AAAAAAAADYQ/ZOoWxknrDDA/s400/l024_align_failure.jpg" /&gt;
&lt;p&gt;Two success stories, one failure story.&lt;/p&gt;
&lt;p&gt;Successes: L111, L024. On the left is the aligned map, on the right the
unaligned map.&lt;/p&gt;
&lt;p&gt;Failure: L024. What's going on here? Is it an issue of that noisy
observation, or the fact that we're using a 5x1 (I think?) as a
reference?&lt;/p&gt;
</content><category term="bgps"></category><category term="googlepost"></category><category term="alignment"></category></entry><entry><title>Progress on alignment, ideas for the next few steps</title><link href="https://keflavich.github.io/blog/progress-on-alignment-ideas-for-the-next-few-steps.html" rel="alternate"></link><published>2008-09-15T02:19:00-06:00</published><updated>2008-09-15T02:19:00-06:00</updated><author><name>Adam (adam.g.ginsburg@gmail.com)</name></author><id>tag:keflavich.github.io,2008-09-15:/blog/progress-on-alignment-ideas-for-the-next-few-steps.html</id><summary type="html">&lt;p&gt;Alignment: I did a more thorough test of the aligner, and found an error
that was getting me the wrong results. I'm still getting distinctly
different results than I got with imalign, but I'm not convinced they're
wrong. One problem I have to deal with is the ambiguity between pointing …&lt;/p&gt;</summary><content type="html">&lt;p&gt;Alignment: I did a more thorough test of the aligner, and found an error
that was getting me the wrong results. I'm still getting distinctly
different results than I got with imalign, but I'm not convinced they're
wrong. One problem I have to deal with is the ambiguity between pointing
model applied / no pointing model applied. In retrospect, I should have
done ALL of the maps with no pointing model: it would be simpler to
maintain a self-consistent set of alignment corrections.
However, since that isn't what I did - and there isn't enough memory to
host both data sets at the moment - I've dealt with the problem by
adding all of the offsets to the header. Hopefully now it will be
obvious if and what offsets have been applied, both pointing model and
'manual', from header keywords. Sadly, it was a pain to get that to work
- IDL's _extra does not work the same way as normal keyword passing,
which is disappointing and frustrating because it made me rename a lot
of variables that should not have been renamed.
IF this alignment fails to produce perfect results (which I don't really
expect to happen - it will just take time to debug), it is still a good
first step, and all we'd really need to do is use bolocat to pull out
sources from the reference image and then match those in the others,
doing the same thing imalign does. It wouldn't be difficult but it would
be time consuming to program.
Had a bunch of ideas during my insomnia last night, but I'm afraid I
forgot most of them...
One idea was related to the use of MAD as opposed to STDDEV: it may
allow for a more robust sigma-rejection for automated flagging. But
that's difficult.
Another thought was using the maps to auto-identify glitches. To do
this, I'd make a combined map and an individual map, hastrom them, and
subtract the combined from the individual. We could then probably pretty
easily spot any glitches; they should be the only outliers left, in
principle. I'll test that idea, but it actually looks less promising
than I'd hoped. Things are not coming out right in preliminary tests -
huge residuals.&lt;/p&gt;
</content><category term="bgps"></category><category term="googlepost"></category><category term="pipeline"></category></entry><entry><title>Failed fields</title><link href="https://keflavich.github.io/blog/failed-fields.html" rel="alternate"></link><published>2008-09-13T21:00:00-06:00</published><updated>2008-09-13T21:00:00-06:00</updated><author><name>Adam (adam.g.ginsburg@gmail.com)</name></author><id>tag:keflavich.github.io,2008-09-13:/blog/failed-fields.html</id><summary type="html">&lt;ul class="simple"&gt;
&lt;li&gt;l030 - comments were in the form ;; instead of # in the infile&lt;/li&gt;
&lt;li&gt;l055 - no such folder&lt;/li&gt;
&lt;li&gt;l026 - no infile existed; made one&lt;/li&gt;
&lt;li&gt;l028 - /scratch/sliced_polychrome/l028/060605_o[**]_raw_ds5.nc
are bad&lt;/li&gt;
&lt;li&gt;l031 - Downsampling seems to have failed for most of this directory.
Need to downsample all files and …&lt;/li&gt;&lt;/ul&gt;</summary><content type="html">&lt;ul class="simple"&gt;
&lt;li&gt;l030 - comments were in the form ;; instead of # in the infile&lt;/li&gt;
&lt;li&gt;l055 - no such folder&lt;/li&gt;
&lt;li&gt;l026 - no infile existed; made one&lt;/li&gt;
&lt;li&gt;l028 - /scratch/sliced_polychrome/l028/060605_o[**]_raw_ds5.nc
are bad&lt;/li&gt;
&lt;li&gt;l031 - Downsampling seems to have failed for most of this directory.
Need to downsample all files and create a new infile&lt;/li&gt;
&lt;li&gt;l035 - /scratch/sliced_polychrome/l035/060605_o[**]_raw_ds5.nc
are bad - that's all 060605 observations of l035.&lt;/li&gt;
&lt;li&gt;l036 - /scratch/sliced_polychrome/l036/070702_o25_raw_ds5.nc,
/scratch/sliced_polychrome/l036/070705_o21_raw_ds5.nc are bad&lt;/li&gt;
&lt;li&gt;l038 - /scratch/sliced_polychrome/l038/060627_ob3_raw_ds5.nc,
/scratch/sliced_polychrome/l038/060627_ob[3567]_raw.nc are bad -
had to re-preprocess&lt;/li&gt;
&lt;li&gt;l054 - /scratch/sliced_polychrome/l054/070724_o25_raw_ds5.nc is
bad&lt;/li&gt;
&lt;li&gt;l057 - /scratch/sliced_polychrome/l057/070907_o16_raw_ds5.nc is
bad&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Except for l057, there is no guarantee that the whole observation is
bad, BUT the code failed on ncdf_open, so it possible the observation
turned bad during downsampling/preprocessing.
fixed: 30, 26, 55, 35, 28, 31, 38, 54, 57
so far all observations on 060605 are bad.&lt;/p&gt;
</content><category term="bgps"></category><category term="googlepost"></category><category term="mapping"></category></entry><entry><title>Disagreement over definition of l,b coordinates</title><link href="https://keflavich.github.io/blog/disagreement-over-definition-of-lb-coordinates.html" rel="alternate"></link><published>2008-09-10T22:43:00-06:00</published><updated>2008-09-10T22:43:00-06:00</updated><author><name>Adam (adam.g.ginsburg@gmail.com)</name></author><id>tag:keflavich.github.io,2008-09-10:/blog/disagreement-over-definition-of-lb-coordinates.html</id><summary type="html">&lt;p&gt;DS9 does something intuitive: cd0_0 and cd1_1 multiplied by the x,y
pixel difference gets you the new l,b coordinate. I think this is very
likely to be correct on the galactic plane. IDL does something
different. I don't know why different, or really how - it's buried …&lt;/p&gt;</summary><content type="html">&lt;p&gt;DS9 does something intuitive: cd0_0 and cd1_1 multiplied by the x,y
pixel difference gets you the new l,b coordinate. I think this is very
likely to be correct on the galactic plane. IDL does something
different. I don't know why different, or really how - it's buried
somewhere in wcsxy2sph - but it's definitely different. Which is right?&lt;/p&gt;
</content><category term="bgps"></category><category term="googlepost"></category><category term="projection"></category></entry><entry><title>Broken rotation</title><link href="https://keflavich.github.io/blog/broken-rotation.html" rel="alternate"></link><published>2008-09-09T01:34:00-06:00</published><updated>2008-09-09T01:34:00-06:00</updated><author><name>Adam (adam.g.ginsburg@gmail.com)</name></author><id>tag:keflavich.github.io,2008-09-09:/blog/broken-rotation.html</id><summary type="html">&lt;p&gt;I have to echo James in saying how remarkable it is than anything I ever
did worked at all! I'm growing more and more certain that I've been
double-correcting rotation for the past 2 months, and my maps don't look
all that bad!
.. image:: &lt;a class="reference external" href="http://4.bp.blogspot.com/_lsgW26mWZnU/SMW4oOPcLaI/AAAAAAAADXw/1ARG8iyVXDQ/s400/070717_o15_rotations.png"&gt;http://4.bp.blogspot.com/_lsgW26mWZnU …&lt;/a&gt;&lt;/p&gt;</summary><content type="html">&lt;p&gt;I have to echo James in saying how remarkable it is than anything I ever
did worked at all! I'm growing more and more certain that I've been
double-correcting rotation for the past 2 months, and my maps don't look
all that bad!
.. image:: &lt;a class="reference external" href="http://4.bp.blogspot.com/_lsgW26mWZnU/SMW4oOPcLaI/AAAAAAAADXw/1ARG8iyVXDQ/s400/070717_o15_rotations.png"&gt;http://4.bp.blogspot.com/_lsgW26mWZnU/SMW4oOPcLaI/AAAAAAAADXw/1ARG8iyVXDQ/s400/070717_o15_rotations.png&lt;/a&gt;
Image caption:
Top left - both PA and rotang
Top right - neither
Bottom left - rotang only
Bottom right - PA only
I'm running the same sort of comparison on all of the GC and L=24 data.
Check out /scratch/adam_work/ROT_TEST for the results. I'll be
updating this when I've completed that analysis.
Update 6:35 PM: !&amp;#64;#$, etc. New problem child:
.. image:: &lt;a class="reference external" href="http://1.bp.blogspot.com/_lsgW26mWZnU/SMXFUjLjRGI/AAAAAAAADX4/aynvuycRzGM/s400/060603_o16_rotations.png"&gt;http://1.bp.blogspot.com/_lsgW26mWZnU/SMXFUjLjRGI/AAAAAAAADX4/aynvuycRzGM/s400/060603_o16_rotations.png&lt;/a&gt;
Image caption (same as above, luckily):
Top left - both PA and rotang
Top right - neither
Bottom left - rotang only
Bottom right - PA only
So, can anyone tell me which one of THESE is right? Because I can't. Top
left is 'correct' except that it's not.
Update 7:10 PM: I compared adding/subtracting PA and RA, and I can say
this: subtracting PA never works. Adding/subtracting RA works variably.
I think I'm done testing parameter space. I haven't had very good luck
doing parameter space tests in the past; it usually is more beneficial
to take a step back and try to think through the problem.
Update 7:30 PM: Fixed. Much as this looks like a short-lived, easily
solved problem, it was one of the most subtle and insidious errors I've
made. I got extremely lucky that plotting PA and ROTANGLE happened to
spark off warning sirens in my mind about the positioning of the
variable names. I wouldn't normally look for that.&lt;/p&gt;
</content><category term="bgps"></category><category term="googlepost"></category><category term="mapping"></category></entry><entry><title>fresh blood</title><link href="https://keflavich.github.io/blog/fresh-blood.html" rel="alternate"></link><published>2008-09-08T23:34:00-06:00</published><updated>2008-09-08T23:34:00-06:00</updated><author><name>Adam (adam.g.ginsburg@gmail.com)</name></author><id>tag:keflavich.github.io,2008-09-08:/blog/fresh-blood.html</id><content type="html">&lt;p&gt;hate to put it this way, but probably true - bolocam will eat us all.
Cara and Marc have both agreed to help out with alignment work. This is
good news! Next post will be bad news, just to compensate.&lt;/p&gt;
</content><category term="bgps"></category><category term="googlepost"></category><category term="team"></category></entry><entry><title>Alignment</title><link href="https://keflavich.github.io/blog/alignment.html" rel="alternate"></link><published>2008-09-06T18:32:00-06:00</published><updated>2008-09-06T18:32:00-06:00</updated><author><name>Adam (adam.g.ginsburg@gmail.com)</name></author><id>tag:keflavich.github.io,2008-09-06:/blog/alignment.html</id><summary type="html">&lt;p&gt;a few items...&lt;/p&gt;
&lt;ol class="arabic simple"&gt;
&lt;li&gt;I requested that pyraf be installed on milkyway. I don't really want
to deal with xgterm/xterm issues when remotely logging in.&lt;/li&gt;
&lt;li&gt;I'm writing up a 'script' on
&lt;a class="reference external" href="http://sites.google.com/site/bolocam/pipeline/alignment"&gt;http://sites.google.com/site/bolocam/pipeline/alignment&lt;/a&gt;. I believe
IRAF is capable of interacting with DS9 even if …&lt;/li&gt;&lt;/ol&gt;</summary><content type="html">&lt;p&gt;a few items...&lt;/p&gt;
&lt;ol class="arabic simple"&gt;
&lt;li&gt;I requested that pyraf be installed on milkyway. I don't really want
to deal with xgterm/xterm issues when remotely logging in.&lt;/li&gt;
&lt;li&gt;I'm writing up a 'script' on
&lt;a class="reference external" href="http://sites.google.com/site/bolocam/pipeline/alignment"&gt;http://sites.google.com/site/bolocam/pipeline/alignment&lt;/a&gt;. I believe
IRAF is capable of interacting with DS9 even if images are not opened
from IRAF, which should allow you to circumvent the 9-frame limit.&lt;/li&gt;
&lt;li&gt;Most of the individual image fields are done now. There may be a few
stragglers, but those are ones that either didn't have an
_infile.txt or only had single observations. What do we do about
those fields? They'll be undersampled!&lt;/li&gt;
&lt;/ol&gt;
</content><category term="bgps"></category><category term="googlepost"></category><category term="mapping"></category></entry><entry><title>New code</title><link href="https://keflavich.github.io/blog/new-code.html" rel="alternate"></link><published>2008-09-05T21:00:00-06:00</published><updated>2008-09-05T21:00:00-06:00</updated><author><name>Adam (adam.g.ginsburg@gmail.com)</name></author><id>tag:keflavich.github.io,2008-09-05:/blog/new-code.html</id><summary type="html">&lt;p&gt;Done for the day after this (observing tonight)
two new procedures:&lt;/p&gt;
&lt;pre class="literal-block"&gt;
alignment_offsets_to_ncdf.pro
calcoeffs_to_ncdf.pro
&lt;/pre&gt;
&lt;p&gt;they're really easy, very nearly one-liners. Once they've been used
once, you can just use ncdf_varput_scale
Modified keyword parameters in do_the_pointing: offsets will always be
applied …&lt;/p&gt;</summary><content type="html">&lt;p&gt;Done for the day after this (observing tonight)
two new procedures:&lt;/p&gt;
&lt;pre class="literal-block"&gt;
alignment_offsets_to_ncdf.pro
calcoeffs_to_ncdf.pro
&lt;/pre&gt;
&lt;p&gt;they're really easy, very nearly one-liners. Once they've been used
once, you can just use ncdf_varput_scale
Modified keyword parameters in do_the_pointing: offsets will always be
applied unless the keyword 'no_offsets' is passed into the code (or the
top-level wrapper). Since offsets default to zero, this should be OK.&lt;/p&gt;
</content><category term="bgps"></category><category term="googlepost"></category><category term="pipeline"></category></entry><entry><title>Non-greedy vim</title><link href="https://keflavich.github.io/blog/non-greedy-vim.html" rel="alternate"></link><published>2008-09-05T01:12:00-06:00</published><updated>2008-09-05T01:12:00-06:00</updated><author><name>Adam</name></author><id>tag:keflavich.github.io,2008-09-05:/blog/non-greedy-vim.html</id><content type="html">&lt;p&gt;To make .* in VIM be non-greedy (i.e. match just &lt;tt class="docutils literal"&gt;&amp;lt;a href=x&amp;gt;&lt;/tt&gt; out of &lt;tt class="docutils literal"&gt;&amp;quot;&amp;lt;a href=x&amp;gt; &amp;lt;/a&amp;gt;&amp;quot;&lt;/tt&gt;), use:&lt;/p&gt;
&lt;pre class="literal-block"&gt;
.\{-}
&lt;/pre&gt;
</content><category term="misc"></category><category term="googlepost"></category></entry><entry><title>Pointing model success</title><link href="https://keflavich.github.io/blog/pointing-model-success.html" rel="alternate"></link><published>2008-09-02T15:11:00-06:00</published><updated>2008-09-02T15:11:00-06:00</updated><author><name>Adam (adam.g.ginsburg@gmail.com)</name></author><id>tag:keflavich.github.io,2008-09-02:/blog/pointing-model-success.html</id><summary type="html">&lt;p&gt;/scratch/adam_work/plots/models_myptgmdl_0707.ps
Look at the left plots in #1 and #4, and ignore the red lines. The RMS
is 4.87 in alt, 3.51 in az, using all pointing observations in 0707
(i.e. not splitting it into part1/part2 or refining heavily …&lt;/p&gt;</summary><content type="html">&lt;p&gt;/scratch/adam_work/plots/models_myptgmdl_0707.ps
Look at the left plots in #1 and #4, and ignore the red lines. The RMS
is 4.87 in alt, 3.51 in az, using all pointing observations in 0707
(i.e. not splitting it into part1/part2 or refining heavily). Total is
6.003&amp;quot;, not bad.
I'm calling it quits on pointing refinement for the moment; I'm
satisfied using Meredith's pointing models to get science maps
co-aligned, then we'll use my model on the PPSes to get the pointing to
maximum precision.
Also, in the galactic center, the mapping works happily now. No more
silly problems with that.
It's time for a real Next Step. I think that means mapping nearly
everything. Well, here goes!&lt;/p&gt;
</content><category term="bgps"></category><category term="googlepost"></category><category term="pointing"></category><category term="mapping"></category><category term="pipeline"></category></entry><entry><title>prepare_map issues</title><link href="https://keflavich.github.io/blog/prepare_map-issues.html" rel="alternate"></link><published>2008-09-01T16:31:00-06:00</published><updated>2008-09-01T16:31:00-06:00</updated><author><name>Adam (adam.g.ginsburg@gmail.com)</name></author><id>tag:keflavich.github.io,2008-09-01:/blog/prepare_map-issues.html</id><summary type="html">&lt;p&gt;The problem: There is a bulk offset that can range from small to ~22'
(largest observed so far) in the combined maps that is not present in
the individual maps.
Observations: I THINK the offset between ra/dec and l/b is most
pronounced when the map boundaries are most …&lt;/p&gt;</summary><content type="html">&lt;p&gt;The problem: There is a bulk offset that can range from small to ~22'
(largest observed so far) in the combined maps that is not present in
the individual maps.
Observations: I THINK the offset between ra/dec and l/b is most
pronounced when the map boundaries are most different.
We have been putting CRPIX in the middle of the map (i.e. number of x/y
elements divided by 2), which is not the same position as the median
ra/dec or l/b. I figured this might be a problem, but there's not really
a way around it - if you just set CRPIX to be 0,0, it doesn't change
anything. xy2ad and ad2xy produce self-consistent results, but that
doesn't mean anything either.
I think the problem is that AD2XY is largely ignorant of CRPIX: it
calculates x/y offsets from the CRVAL assuming that the CRVAL is at
CRPIX.... but I don't know why that should be wrong. Ideas? More to come
if I figure anything out.
Update: from doing the individual maps in l/b vs ra/dec, I don't think
the offset is between l/b and ra/dec.... something less fundamental.
Update 2: still no clues after reading ad2xy and trying to plow through
parts of wcssph2xy. gotta be rect_pix_tstream, but I think it's
right....
Update 3: I think I have figured out the problem, currently testing. My
idea has to do with the fact that all x,y positions in
rect_pix_tstream are positive, but ad2xy is not constrained to return
positive values. In principle, the two-iteration ad2xy should take care
of this, but in the case where the middle of the map in pixels is not
the middle of the map in the WCS coordinate system, it is still possible
to get negative pixel mappings out of the 2nd iteration. I'm still
confused about whether this is really possible - makes my head fuzzy -
but I tried implementing a solution where I simply shift the crpix
rather than recalculating with AD2XY.
Update 4: Based on L111, my test in update 3 fixed the problem. Scuba
contours are correct, and reasonably consistent across the field - still
need to do the more complete test, e.g. Cygnus
Update 5: Cygnus tests still await completion, but a very close
inspection of single L111 maps reveals a ~2 pixel difference that could
go a long way to explaining my high-RMS pointing calculations. Still
doesn't explain the sine curve, but anything helps...
Update 6: My correction definitely fixed the problem, EXCEPT there's
still an ambiguity at the .5 pixel level. Specifically, is AD2XY
treating the pixel center as .5,.5 or 0,0? Ditto IDL. I believe (from my
simulated data) that this ambiguity is still causing a problem.
Update 7: New correction fixed problem to better than 1&amp;quot; (checked by
making a simulated map with 1&amp;quot; pixels) - probably 'perfect' now. Read
prepare_map.pro for details. The issue was a difference in pixel
centers.&lt;/p&gt;
</content><category term="bgps"></category><category term="googlepost"></category><category term="mapping"></category></entry><entry><title>Confirmed error in L/B mapping</title><link href="https://keflavich.github.io/blog/confirmed-error-in-lb-mapping.html" rel="alternate"></link><published>2008-08-28T01:32:00-06:00</published><updated>2008-08-28T01:32:00-06:00</updated><author><name>Adam (adam.g.ginsburg@gmail.com)</name></author><id>tag:keflavich.github.io,2008-08-28:/blog/confirmed-error-in-lb-mapping.html</id><content type="html">&lt;p&gt;I've used my simulated data and confirmed that there is in fact an error
in the l/b mapping, but I haven't tracked it down yet. Stay tuned.
Update: Something is not self-consistent in prepare_map. I've tried a
variety of different things without success yet.&lt;/p&gt;
</content><category term="bgps"></category><category term="googlepost"></category><category term="pointing"></category><category term="mapping"></category></entry><entry><title>Updates today</title><link href="https://keflavich.github.io/blog/updates-today.html" rel="alternate"></link><published>2008-08-25T23:35:00-06:00</published><updated>2008-08-25T23:35:00-06:00</updated><author><name>Adam (adam.g.ginsburg@gmail.com)</name></author><id>tag:keflavich.github.io,2008-08-25:/blog/updates-today.html</id><summary type="html">&lt;p&gt;I updated the FITS header writing pieces of the software today, we
should now have:
N_PCA
ITERNUM
PPBEAM
in all new maps.
I'm mapping all of Cygnus degree-by-degree in RA/Dec and Galactic to try
to measure offsets... possibly offsets as a function of l/b or ra/dec …&lt;/p&gt;</summary><content type="html">&lt;p&gt;I updated the FITS header writing pieces of the software today, we
should now have:
N_PCA
ITERNUM
PPBEAM
in all new maps.
I'm mapping all of Cygnus degree-by-degree in RA/Dec and Galactic to try
to measure offsets... possibly offsets as a function of l/b or ra/dec. I
should really be doing this with PPSes, though.
My priority list:&lt;/p&gt;
&lt;ol class="arabic simple"&gt;
&lt;li&gt;find out what's causing bulk offsets&lt;/li&gt;
&lt;li&gt;beat down noise in my pointing models by rejecting bad sources/points
[has to be done from campus]&lt;/li&gt;
&lt;li&gt;test my personal special pointing models&lt;/li&gt;
&lt;li&gt;make maps!&lt;/li&gt;
&lt;li&gt;figure out the rest of pointing&lt;/li&gt;
&lt;/ol&gt;
</content><category term="bgps"></category><category term="googlepost"></category><category term="pointing"></category><category term="pipeline"></category></entry><entry><title>Iterating to Convergence</title><link href="https://keflavich.github.io/blog/iterating-to-convergence.html" rel="alternate"></link><published>2008-08-25T17:42:00-06:00</published><updated>2008-08-25T17:42:00-06:00</updated><author><name>Adam (adam.g.ginsburg@gmail.com)</name></author><id>tag:keflavich.github.io,2008-08-25:/blog/iterating-to-convergence.html</id><summary type="html">&lt;img alt="" src="http://4.bp.blogspot.com/_lsgW26mWZnU/SLLufcweELI/AAAAAAAADOs/5LV8RF28aUk/s400/iteratetoconvergence-0.png" /&gt;
&lt;p&gt;Some sample plots of flux-vs-iteration number in the Galactic Center.
The above is for a 13-pca-component map, and the plot is of the
northeast peak of SGR B2. The other plots (available in postscript
below) are of two other points in the GC, and the last one is of the …&lt;/p&gt;</summary><content type="html">&lt;img alt="" src="http://4.bp.blogspot.com/_lsgW26mWZnU/SLLufcweELI/AAAAAAAADOs/5LV8RF28aUk/s400/iteratetoconvergence-0.png" /&gt;
&lt;p&gt;Some sample plots of flux-vs-iteration number in the Galactic Center.
The above is for a 13-pca-component map, and the plot is of the
northeast peak of SGR B2. The other plots (available in postscript
below) are of two other points in the GC, and the last one is of the
whole of SGR B2 (it's a very large aperture).
ps version here:
&lt;a class="reference external" href="http://sites.google.com/site/bolocam/pipeline/mapping/iteratetoconvergence.ps?attredirects=0"&gt;http://sites.google.com/site/bolocam/pipeline/mapping/iteratetoconvergence.ps?attredirects=0&lt;/a&gt;
or /scratch/adam_work/plots/iteratetoconvergence.ps&lt;/p&gt;
</content><category term="bgps"></category><category term="googlepost"></category><category term="iterating"></category><category term="mapping"></category></entry><entry><title>G34.3 PCA subtraction comparison</title><link href="https://keflavich.github.io/blog/g343-pca-subtraction-comparison.html" rel="alternate"></link><published>2008-08-24T20:30:00-06:00</published><updated>2008-08-24T20:30:00-06:00</updated><author><name>Adam (adam.g.ginsburg@gmail.com)</name></author><id>tag:keflavich.github.io,2008-08-24:/blog/g343-pca-subtraction-comparison.html</id><summary type="html">&lt;img alt="" src="http://3.bp.blogspot.com/_lsgW26mWZnU/SLHDrcGWxqI/AAAAAAAADOM/mVp0tqm6qjI/s400/g34.3_pca_compare.png" /&gt;
&lt;p&gt;From top-left to the blue highlighted box, the 20th iteration of N pca
components subtracted is shown. N goes from 1 to 19. The other plots are
'ascending' and 0-pca components with median and baseline subtraction -
ask if you want more details on those.
19 iterations recovers a LOT of …&lt;/p&gt;</summary><content type="html">&lt;img alt="" src="http://3.bp.blogspot.com/_lsgW26mWZnU/SLHDrcGWxqI/AAAAAAAADOM/mVp0tqm6qjI/s400/g34.3_pca_compare.png" /&gt;
&lt;p&gt;From top-left to the blue highlighted box, the 20th iteration of N pca
components subtracted is shown. N goes from 1 to 19. The other plots are
'ascending' and 0-pca components with median and baseline subtraction -
ask if you want more details on those.
19 iterations recovers a LOT of flux. I haven't generated the plots for
flux as a function of iteration, but I have software to do that
available.
Things to note: at 10 iterations and higher, you start to generate
negative bowls.
One observation is probably independently responsible for the chunks of
glitchy data present even in the 19 PCA component subtraction. While the
bowls do worsen with higher number of PCA components, we also find
fainter structure (e.g. those tongues to the southeast and northwest).&lt;/p&gt;
</content><category term="bgps"></category><category term="googlepost"></category><category term="maps"></category><category term="mapping"></category></entry><entry><title>Some good news, some.... not news.</title><link href="https://keflavich.github.io/blog/some-good-news-some-not-news.html" rel="alternate"></link><published>2008-08-24T20:09:00-06:00</published><updated>2008-08-24T20:09:00-06:00</updated><author><name>Adam (adam.g.ginsburg@gmail.com)</name></author><id>tag:keflavich.github.io,2008-08-24:/blog/some-good-news-some-not-news.html</id><summary type="html">&lt;p&gt;I've been mapping all weekend. It turns out that if you do 25 mapping
runs that take ~1hr apiece, that takes ~25 hours. Who knew?
Whole observation took 3965.3506 sec.
Whole observation took 3071.1403 sec.
Whole observation took 4205.3337 sec.
Whole observation took 7362.5490 sec.
Whole …&lt;/p&gt;</summary><content type="html">&lt;p&gt;I've been mapping all weekend. It turns out that if you do 25 mapping
runs that take ~1hr apiece, that takes ~25 hours. Who knew?
Whole observation took 3965.3506 sec.
Whole observation took 3071.1403 sec.
Whole observation took 4205.3337 sec.
Whole observation took 7362.5490 sec.
Whole observation took 9313.6064 sec.
Whole observation took 3755.2383 sec.
Whole observation took 3755.8278 sec.
Whole observation took 3760.7032 sec.
Whole observation took 3758.5719 sec.
Whole observation took 3763.1436 sec.
Whole observation took 3766.0066 sec.
Whole observation took 3789.5806 sec.
Whole observation took 3760.9774 sec.
Whole observation took 3762.7124 sec.
Whole observation took 3763.1120 sec.
Whole observation took 3767.1255 sec.
Whole observation took 3766.9085 sec.
Whole observation took 3758.5867 sec.
Whole observation took 3760.2131 sec.
Whole observation took 3755.8963 sec.
Whole observation took 3759.9199 sec.
Whole observation took 3764.4494 sec.
Whole observation took 3766.9686 sec.
Whole observation took 3756.5876 sec.
The good news is that I haven't encountered any crashes. Smooth sailing
so far.&lt;/p&gt;
</content><category term="bgps"></category><category term="googlepost"></category><category term="mapping"></category><category term="pipeline"></category></entry><entry><title>Re: Convergence Tests</title><link href="https://keflavich.github.io/blog/re-convergence-tests.html" rel="alternate"></link><published>2008-08-23T17:03:00-06:00</published><updated>2008-08-23T17:03:00-06:00</updated><author><name>Adam (adam.g.ginsburg@gmail.com)</name></author><id>tag:keflavich.github.io,2008-08-23:/blog/re-convergence-tests.html</id><summary type="html">&lt;p&gt;Made a little code to check out convergence, but frankly it's pretty
easy to just build a mapcube and plot lines in the iteration axis. The
code is in bgps_pipeline/postproc/compareiters.pro, and it is not a
single program.
Comparing deconvolution to no deconvolution, deconvolution is a lot …&lt;/p&gt;</summary><content type="html">&lt;p&gt;Made a little code to check out convergence, but frankly it's pretty
easy to just build a mapcube and plot lines in the iteration axis. The
code is in bgps_pipeline/postproc/compareiters.pro, and it is not a
single program.
Comparing deconvolution to no deconvolution, deconvolution is a lot
better. Without it, there are much more substantial negative regions. In
the GC, my test region, the noise-dominated areas were about the same,
though the no-deconvolve map had a little bit more large scale
structure. The signal-dominated regions were very nearly uniformly
brighter. The deconvolved map was ~3 Jy brighter in SGR B2, or 4%.&lt;/p&gt;
</content><category term="bgps"></category><category term="googlepost"></category><category term="mapping"></category></entry><entry><title>On the list for today....</title><link href="https://keflavich.github.io/blog/on-the-list-for-today.html" rel="alternate"></link><published>2008-08-23T13:42:00-06:00</published><updated>2008-08-23T13:42:00-06:00</updated><author><name>Adam (adam.g.ginsburg@gmail.com)</name></author><id>tag:keflavich.github.io,2008-08-23:/blog/on-the-list-for-today.html</id><summary type="html">&lt;p&gt;Since my gigantic mapping run is still going, I'm going to work
primarily on developing code for testing the maps, and determining
important information about the mapper.
The data paper will require an iteration-to-convergence figure, or at
least an estimate of degree of convergence.&lt;/p&gt;
&lt;ol class="arabic simple"&gt;
&lt;li&gt;Need to develop code to show …&lt;/li&gt;&lt;/ol&gt;</summary><content type="html">&lt;p&gt;Since my gigantic mapping run is still going, I'm going to work
primarily on developing code for testing the maps, and determining
important information about the mapper.
The data paper will require an iteration-to-convergence figure, or at
least an estimate of degree of convergence.&lt;/p&gt;
&lt;ol class="arabic simple"&gt;
&lt;li&gt;Need to develop code to show iteration-to-convergence&lt;ol class="arabic"&gt;
&lt;li&gt;need it for both NxNpca and ascending/descending&lt;/li&gt;
&lt;li&gt;have to use region files? make some sort of region reader?&lt;/li&gt;
&lt;li&gt;pick demonstration sources&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;li&gt;Compare N&lt;sub&gt;pca&lt;/sub&gt; results for bright, faint sources&lt;/li&gt;
&lt;li&gt;Compare iterating with/without deconvolution&lt;/li&gt;
&lt;li&gt;Compare median/average/baseline sky subtraction&lt;/li&gt;
&lt;li&gt;Analyze efficiency...&lt;/li&gt;
&lt;li&gt;Try to figure out what's causing huge offsets. Is it Galactic
Coordinate mapping?&lt;/li&gt;
&lt;/ol&gt;
&lt;pre class="literal-block"&gt;
-bash-3.00$ less /scratch/adam_work/logs/log_082208_domemiter.log | grep WholeWhole observation took 5122.6795 sec.Whole observation took 4774.3424 sec.Whole observation took 2687.7761 sec.Whole observation took 2102.5577 sec.Whole observation took 3247.5344 sec.Whole observation took 5515.2907 sec.Whole observation took 2877.6389 sec.Whole observation took 2757.0235 sec.Whole observation took 1453.0918 sec.Whole observation took 1459.7892 sec.Whole observation took 1381.3762 sec.Whole observation took 1443.1440 sec.Whole observation took 614.39645 sec.Whole observation took 2001.6709 sec.Whole observation took 1817.1512 sec.Whole observation took 1879.1385 sec.
&lt;/pre&gt;
&lt;p&gt;Note that the longest set there - 5515s = 1.53 hours - was 40
iterations!&lt;/p&gt;
</content><category term="bgps"></category><category term="googlepost"></category><category term="pipeline"></category></entry><entry><title>TEN!?!</title><link href="https://keflavich.github.io/blog/ten.html" rel="alternate"></link><published>2008-08-23T00:47:00-06:00</published><updated>2008-08-23T00:47:00-06:00</updated><author><name>Adam (adam.g.ginsburg@gmail.com)</name></author><id>tag:keflavich.github.io,2008-08-23:/blog/ten.html</id><content type="html">&lt;img alt="" src="http://3.bp.blogspot.com/_lsgW26mWZnU/SK9Pe1q6PaI/AAAAAAAADOE/yd0bxUMCDB4/s400/EIGHT.png" /&gt;
&lt;p&gt;Look at that. Seriously? a 10' offset? That's ridiculous! There is no
WAY our pointing models could be off by that much! Even if I got the
signs entirely wrong, that's just not possible.
What's going on? First theory: Galactic coordinates fail. Any other
suggestions?&lt;/p&gt;
</content><category term="bgps"></category><category term="googlepost"></category><category term="pointing"></category><category term="mapping"></category></entry><entry><title>Task List</title><link href="https://keflavich.github.io/blog/task-list.html" rel="alternate"></link><published>2008-08-22T00:29:00-06:00</published><updated>2008-08-22T00:29:00-06:00</updated><author><name>Adam (adam.g.ginsburg@gmail.com)</name></author><id>tag:keflavich.github.io,2008-08-22:/blog/task-list.html</id><summary type="html">&lt;p&gt;For the moment, I'm going to leave the pointing alone. This leaves us
(me) with a very long list of things to do before the data release:&lt;/p&gt;
&lt;ol class="arabic simple"&gt;
&lt;li&gt;Determine ideal iterative mapping strategy for low-flux fields&lt;/li&gt;
&lt;li&gt;Determine ideal iterative mapping strategy for fields with bright
sources&lt;/li&gt;
&lt;li&gt;Optimize at least the following …&lt;/li&gt;&lt;/ol&gt;</summary><content type="html">&lt;p&gt;For the moment, I'm going to leave the pointing alone. This leaves us
(me) with a very long list of things to do before the data release:&lt;/p&gt;
&lt;ol class="arabic simple"&gt;
&lt;li&gt;Determine ideal iterative mapping strategy for low-flux fields&lt;/li&gt;
&lt;li&gt;Determine ideal iterative mapping strategy for fields with bright
sources&lt;/li&gt;
&lt;li&gt;Optimize at least the following:&lt;ol class="arabic"&gt;
&lt;li&gt;scan flatting (polynomial subtraction)&lt;/li&gt;
&lt;li&gt;PCA subtraction&lt;/li&gt;
&lt;li&gt;Pre-PCA sky subtraction (necessary?)&lt;/li&gt;
&lt;li&gt;Deconvolution/No deconvolution&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;li&gt;GENERATE MAPS [top priority, but it can't really happen til after the
above]&lt;/li&gt;
&lt;li&gt;Assure consistency with catalogs - e.g. Motte, SCUBA, etc.&lt;/li&gt;
&lt;li&gt;Figure out what needs to go into fits header&lt;/li&gt;
&lt;li&gt;Survive semester before comps [lowest priority]&lt;/li&gt;
&lt;li&gt;sleep [oh, right, real lowest priority]&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;Sarcasm helps me survive. Almost as much as beer.&lt;/p&gt;
</content><category term="bgps"></category><category term="googlepost"></category><category term="data release"></category><category term="mapping"></category><category term="pipeline"></category></entry><entry><title>New pointing models</title><link href="https://keflavich.github.io/blog/new-pointing-models.html" rel="alternate"></link><published>2008-08-21T20:45:00-06:00</published><updated>2008-08-21T20:45:00-06:00</updated><author><name>Adam (adam.g.ginsburg@gmail.com)</name></author><id>tag:keflavich.github.io,2008-08-21:/blog/new-pointing-models.html</id><summary type="html">&lt;p&gt;I decided to try to fit the pointing model as a full alt/az or ra/dec
dependent thing using mpfitfun and a 12 (or 16) parameter model. It
didn't work very well.
I could fit out the alt dependence, then independently fit out the az
dependence, and see how …&lt;/p&gt;</summary><content type="html">&lt;p&gt;I decided to try to fit the pointing model as a full alt/az or ra/dec
dependent thing using mpfitfun and a 12 (or 16) parameter model. It
didn't work very well.
I could fit out the alt dependence, then independently fit out the az
dependence, and see how that goes. I think it will work brilliantly.&lt;/p&gt;
</content><category term="bgps"></category><category term="googlepost"></category><category term="pointing"></category></entry><entry><title>Got a sign wrong again</title><link href="https://keflavich.github.io/blog/got-a-sign-wrong-again.html" rel="alternate"></link><published>2008-08-21T20:40:00-06:00</published><updated>2008-08-21T20:40:00-06:00</updated><author><name>Adam (adam.g.ginsburg@gmail.com)</name></author><id>tag:keflavich.github.io,2008-08-21:/blog/got-a-sign-wrong-again.html</id><content type="html">&lt;p&gt;Last night's run failed because I had a wrong sign in the pointing
model. Do over time!&lt;/p&gt;
</content><category term="bgps"></category><category term="googlepost"></category><category term="mapping"></category></entry><entry><title>Notice anything different?</title><link href="https://keflavich.github.io/blog/notice-anything-different.html" rel="alternate"></link><published>2008-08-21T01:08:00-06:00</published><updated>2008-08-21T01:08:00-06:00</updated><author><name>Adam (adam.g.ginsburg@gmail.com)</name></author><id>tag:keflavich.github.io,2008-08-21:/blog/notice-anything-different.html</id><summary type="html">&lt;p&gt;About milkyway? This post is a red herring, but:
I decided to go ahead and run the mapper on Cygnus, L33, L111, and the
Galactic Center again. The pointing has gotten to the stage where I'm
certain I can't do anything more without a stroke of pure brilliance or
a …&lt;/p&gt;</summary><content type="html">&lt;p&gt;About milkyway? This post is a red herring, but:
I decided to go ahead and run the mapper on Cygnus, L33, L111, and the
Galactic Center again. The pointing has gotten to the stage where I'm
certain I can't do anything more without a stroke of pure brilliance or
a conversation with someone who hasn't touched a thing - e.g. Jason -
that suddenly enlightens me.
In order to fully reproduce Meredith's results, I'd probably have to go
back through and follow her 'pipeline' process step by step as well, and
I suspect that, if I had used her method on her RA/Dec maps, I would
have come up with exactly the same problem I currently see. Therefore, I
won't do anything about it.
I think the most appropriate response at this point MAY be to just fit a
damned polynomial/sine curve in az and include that as part of the
pointing model, but I can't justify where that comes from. All I know is
that it's present in Meredith's data as well as my own.
What's that next step with the PPSes? We need to do that.
More important, though, is getting some image optimization ready FAST. I
need to be running this stuff before September! Tonight's run will be a
test of numbers of PCA components. At the very least, the v0.5 should
have a consistent set of images even if we cut out the high-flux ones.
We'll deal with that later.
For the high flux objects, e.g. g34.3, since we have so much overlapping
data, a simple average/magical baseline subtraction might be just as if
not more effective than PCA subtraction, so that's one way around it.&lt;/p&gt;
</content><category term="bgps"></category><category term="googlepost"></category><category term="pointing"></category><category term="pipeline"></category></entry><entry><title>Modifications</title><link href="https://keflavich.github.io/blog/modifications.html" rel="alternate"></link><published>2008-08-19T18:07:00-06:00</published><updated>2008-08-19T18:07:00-06:00</updated><author><name>Adam (adam.g.ginsburg@gmail.com)</name></author><id>tag:keflavich.github.io,2008-08-19:/blog/modifications.html</id><summary type="html">&lt;p&gt;Things that have been changed in the past 24 hours that are very
significant:&lt;/p&gt;
&lt;ol class="arabic simple"&gt;
&lt;li&gt;In apply_pointing_model, the signs of FAZO and FZAO have been
swapped. I BELIEVE this is correct but somehow things aren't working
out still.&lt;/li&gt;
&lt;li&gt;In do_the_pointing I have changed from &amp;quot;eq2hor&amp;quot; and &amp;quot;hor2eq …&lt;/li&gt;&lt;/ol&gt;</summary><content type="html">&lt;p&gt;Things that have been changed in the past 24 hours that are very
significant:&lt;/p&gt;
&lt;ol class="arabic simple"&gt;
&lt;li&gt;In apply_pointing_model, the signs of FAZO and FZAO have been
swapped. I BELIEVE this is correct but somehow things aren't working
out still.&lt;/li&gt;
&lt;li&gt;In do_the_pointing I have changed from &amp;quot;eq2hor&amp;quot; and &amp;quot;hor2eq&amp;quot; to
&amp;quot;my_eq2hor&amp;quot; and &amp;quot;my_hor2eq&amp;quot;. These implement two major changes:&lt;ol class="arabic"&gt;
&lt;li&gt;The LST is passed as a parameter rather than calculated within the
ASTROLIB code&lt;/li&gt;
&lt;li&gt;The conversion is calculated with BOTH hadec2altaz and getaltaz
(and similar for the opposite transformation) and compared for
error checking purposes. If they differ by more than one
arcsecond, the code will spit out an error message and use
getaltaz.&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;/ol&gt;
</content><category term="bgps"></category><category term="googlepost"></category><category term="pipeline"></category></entry><entry><title>Inconsistent</title><link href="https://keflavich.github.io/blog/inconsistent.html" rel="alternate"></link><published>2008-08-17T18:56:00-06:00</published><updated>2008-08-17T18:56:00-06:00</updated><author><name>Adam (adam.g.ginsburg@gmail.com)</name></author><id>tag:keflavich.github.io,2008-08-17:/blog/inconsistent.html</id><summary type="html">&lt;p&gt;James: &amp;quot;I think it's fair to say, though, that there is some problem
with the simultaneous assumption that CSO coords are geo and that we are
applying the ab/nut correction correctly.&amp;quot;
Yep. The relevant files are in /scratch/adam_work/plots/:
models_noabnut_radec_0707.ps
models_noabnut_rawcsoptg …&lt;/p&gt;</summary><content type="html">&lt;p&gt;James: &amp;quot;I think it's fair to say, though, that there is some problem
with the simultaneous assumption that CSO coords are geo and that we are
applying the ab/nut correction correctly.&amp;quot;
Yep. The relevant files are in /scratch/adam_work/plots/:
models_noabnut_radec_0707.ps
models_noabnut_rawcsoptg_radec_0707.ps
models_oppositeabnut_radec_0707.ps
models_oppositeabnut_rawcso_radec_0707.ps
I'm afraid they're pretty confusing.
'noabnut' means no aberration/nutation correction was applied during the
mapping process.
'oppositeabnut' means that an aberration/nutation correction that,
according to the eq2hor and hor2eq texts, should actually convert
heliocentric to geocentric, is being used on data that we believe is
starting in a geocentric frame. There are two possibilities: 1. We are
wrong 2. eq2hor/hor2eq are wrong.
The 'rawcso' files have FAZO/FZAO &amp;quot;subtracted out&amp;quot; (removed) in pages 1
and 3, and FAZO/FZAO added back in on pages 2 and 4. 'rawcso' means that
we're looking at the ra/dec the CSO gave without the users' FAZO/FZAO
corrections.
The non-rawcso have the NCDF ra/dec vectors, with precession correction
applied (and some form of ab/nut correction), but the FAZO/FZAO are
still present. THESE should be equivalent to Meredith's plots, e.g.
where FAZO_SET/FZAO_SET are on the y axis. However, that's only true
for pages 1 and 3. Pages 2 and 4 have FAZO/FZAO essentially
double-subtracted, so they should be ignored. Pages 1 and 3 of the
non-rawcso files should be equivalent to pages 2 and 4 of the rawcso
files with the exception that the sigma-rejection used to choose the
yellow points is different.
So what's in each page? On pages 1 and 2, the red lines are my best fit
to the yellow data, which is the black data with an iterative sigma
rejection applied (i.e. reject at 1 sigma, recalculate sigma from good
data, reject at 2 sigma). The blue lines are Meredith's models. The
right side includes only the yellow data points with the red line
subtracted. On pages 3 and 4, the same is pretty much true except that
ONLY the altitude-dependent line has been subtracted: there is no fit to
azimuth.
Also, the 'sourcecompare' files are similar. I'd check those out too.
I still don't have the extremely low RMS that Meredith saw. I'm going to
go through and try to reject bad data points by hand to see if I can get
to that level. We'll see.&lt;/p&gt;
</content><category term="bgps"></category><category term="googlepost"></category><category term="pointing"></category></entry><entry><title>Direct comparison with Meredith's pointing calculations</title><link href="https://keflavich.github.io/blog/direct-comparison-with-merediths-pointing-calculations.html" rel="alternate"></link><published>2008-08-14T04:11:00-06:00</published><updated>2008-08-14T04:11:00-06:00</updated><author><name>Adam (adam.g.ginsburg@gmail.com)</name></author><id>tag:keflavich.github.io,2008-08-14:/blog/direct-comparison-with-merediths-pointing-calculations.html</id><summary type="html">&lt;p&gt;I've gotten to the point that I'm directly comparing my pointing
calculations to Merediths. So far, it looks like:
1. I can very nearly reproduce Meredith's results on her maps, though
there are a few differences in centroids and I missed the source a few
times where she didn't.
2 …&lt;/p&gt;</summary><content type="html">&lt;p&gt;I've gotten to the point that I'm directly comparing my pointing
calculations to Merediths. So far, it looks like:
1. I can very nearly reproduce Meredith's results on her maps, though
there are a few differences in centroids and I missed the source a few
times where she didn't.
2. There is still a spread between my map centroids and hers.
The code I've written to enable this comparison:
publish/debug_testing/compare_me_meredith.pro
I'm still a bit stumped, but I think I have a path to the answer mapped
out.&lt;/p&gt;
</content><category term="bgps"></category><category term="googlepost"></category><category term="pointing"></category></entry><entry><title>Centroiding and Meredith's files</title><link href="https://keflavich.github.io/blog/centroiding-and-merediths-files.html" rel="alternate"></link><published>2008-08-13T03:54:00-06:00</published><updated>2008-08-13T03:54:00-06:00</updated><author><name>Adam (adam.g.ginsburg@gmail.com)</name></author><id>tag:keflavich.github.io,2008-08-13:/blog/centroiding-and-merediths-files.html</id><content type="html">&lt;p&gt;I tried the pointing offset calculations on Meredith's maps and I still
get an RMS of ~9&amp;quot; in both RA and DEC. Check out the files:
/scratch/adam_work/plots/models_meredith*
So... what?&lt;/p&gt;
</content><category term="bgps"></category><category term="googlepost"></category><category term="pointing"></category></entry><entry><title>Searching for more offsets</title><link href="https://keflavich.github.io/blog/searching-for-more-offsets.html" rel="alternate"></link><published>2008-08-12T21:35:00-06:00</published><updated>2008-08-12T21:35:00-06:00</updated><author><name>Adam (adam.g.ginsburg@gmail.com)</name></author><id>tag:keflavich.github.io,2008-08-12:/blog/searching-for-more-offsets.html</id><summary type="html">&lt;p&gt;The defining feature of my pointing calculations - and their
inconsistency - is that the spread for individual sources is bad, which
means that there's still something wrong in the way the bulk ra/dec are
being calculated.&lt;/p&gt;
&lt;p&gt;I checked apply_distortion_map_radec to see if it might have inserted
some …&lt;/p&gt;</summary><content type="html">&lt;p&gt;The defining feature of my pointing calculations - and their
inconsistency - is that the spread for individual sources is bad, which
means that there's still something wrong in the way the bulk ra/dec are
being calculated.&lt;/p&gt;
&lt;p&gt;I checked apply_distortion_map_radec to see if it might have inserted
some bulk offset, but it only changes the average position by &amp;lt;2&amp;quot;. That
might be an issue, but the boresight isn't necessarily aligned with the
mean location of the bolometers. It should be shifted by at least .3&amp;quot;
according to a simple average of sin/cos of the bolo_params angles.
Comparing my pointing code to map_ncdf_reading directly:&lt;/p&gt;
&lt;p&gt;readstruct=map_ncdf_reading(filename,/nopixoff)
offsets are small (e.g. -0.050665803 -0.0029540043 arcseconds ra/dec) if
I don't subtract fazo/fzao
offsets in ra/dec are remarkably close to fazo/fzao if I subtract them:&lt;/p&gt;
&lt;pre class="literal-block"&gt;
92.830656 -126.12773
95.000000 -120.00000
&lt;/pre&gt;
&lt;p&gt;which is because ra/dec are pretty closely aligned to az/el.
So, any difference comes from at least one of the keyword parameters.
Therefore I AM missing something, and that something is one of the
keywords to map_ncdf_reading&lt;/p&gt;
</content><category term="bgps"></category><category term="googlepost"></category><category term="pointing"></category></entry><entry><title>FFTs and unlucky primes</title><link href="https://keflavich.github.io/blog/ffts-and-unlucky-primes.html" rel="alternate"></link><published>2008-08-12T17:04:00-06:00</published><updated>2008-08-12T17:04:00-06:00</updated><author><name>Adam (adam.g.ginsburg@gmail.com)</name></author><id>tag:keflavich.github.io,2008-08-12:/blog/ffts-and-unlucky-primes.html</id><summary type="html">&lt;p&gt;I've encountered a lot (!) of unlucky prime numbers that I'm trying to
FFT in too many places, and it basically stops the code.
211151 was impossibly bad, 5827 is pretty bad too.
I solved the first by splitting into by-scan delining, which is better
anyway. But the second is a …&lt;/p&gt;</summary><content type="html">&lt;p&gt;I've encountered a lot (!) of unlucky prime numbers that I'm trying to
FFT in too many places, and it basically stops the code.
211151 was impossibly bad, 5827 is pretty bad too.
I solved the first by splitting into by-scan delining, which is better
anyway. But the second is a map, in which I KNOW zero padding is OK.
So... are there any functions that find the nearest reasonably efficient
map size?&lt;/p&gt;
</content><category term="bgps"></category><category term="googlepost"></category><category term="mapping"></category></entry><entry><title>More cleaning modifications</title><link href="https://keflavich.github.io/blog/more-cleaning-modifications.html" rel="alternate"></link><published>2008-08-12T17:01:00-06:00</published><updated>2008-08-12T17:01:00-06:00</updated><author><name>Adam (adam.g.ginsburg@gmail.com)</name></author><id>tag:keflavich.github.io,2008-08-12:/blog/more-cleaning-modifications.html</id><summary type="html">&lt;p&gt;I had removed sigmadeglitch from deline, now it's permanently gone. I
think it might be worth exploring re-inserting sigmadeglitch somewhere.
My higher-order polynomial fit is creating deeper bowls around sources,
so that's a big problem, but if I use a lower order I get the bad
streaks. What's the best …&lt;/p&gt;</summary><content type="html">&lt;p&gt;I had removed sigmadeglitch from deline, now it's permanently gone. I
think it might be worth exploring re-inserting sigmadeglitch somewhere.
My higher-order polynomial fit is creating deeper bowls around sources,
so that's a big problem, but if I use a lower order I get the bad
streaks. What's the best way to deal with this? I'm thinking perhaps
only doing the polysub on the second iteration (i.e. after a source
model has been subtracted).
Delining runs into some issues now, though, because not all frequencies
are sampled (?).&lt;/p&gt;
</content><category term="bgps"></category><category term="googlepost"></category><category term="pipeline"></category></entry><entry><title>Wow - FFT failure</title><link href="https://keflavich.github.io/blog/wow-fft-failure.html" rel="alternate"></link><published>2008-08-12T15:11:00-06:00</published><updated>2008-08-12T15:11:00-06:00</updated><author><name>Adam (adam.g.ginsburg@gmail.com)</name></author><id>tag:keflavich.github.io,2008-08-12:/blog/wow-fft-failure.html</id><summary type="html">&lt;p&gt;On my huge Cygnus run, the fft keeps failing in the deline code. It's
actually pretty impressive, but there are 844604 points in the
timestream. The prime factorization of 844604 is 2^2 * 211151. This is
just damned bad luck, because I think an FFT is extremely inefficient
when it …&lt;/p&gt;</summary><content type="html">&lt;p&gt;On my huge Cygnus run, the fft keeps failing in the deline code. It's
actually pretty impressive, but there are 844604 points in the
timestream. The prime factorization of 844604 is 2^2 * 211151. This is
just damned bad luck, because I think an FFT is extremely inefficient
when it can't factorize. What's the best workaround? ....
9 AM update: I've rewritten the deliner to work on a scan-by-scan basis.
It's possible that the delining failed in the past because it was
essentially removing a constant amplitude at the line frequencies across
the observation (or combined observations!) which is not likely to be
true.&lt;/p&gt;
</content><category term="bgps"></category><category term="googlepost"></category><category term="pipeline"></category></entry><entry><title>RMS fails to shrink</title><link href="https://keflavich.github.io/blog/rms-fails-to-shrink.html" rel="alternate"></link><published>2008-08-12T13:51:00-06:00</published><updated>2008-08-12T13:51:00-06:00</updated><author><name>Adam (adam.g.ginsburg@gmail.com)</name></author><id>tag:keflavich.github.io,2008-08-12:/blog/rms-fails-to-shrink.html</id><summary type="html">&lt;p&gt;Spent a while today working on these plots after rejecting every obvious
bad point:
/scratch/adam_work/plots/sourcecompare_0_rawcsoptg_0707.ps
/scratch/adam_work/plots/sourcecompare_10_rawcsoptg_0707.ps
/scratch/adam_work/plots/sourcecompare_1_rawcsoptg_0707.ps
/scratch/adam_work/plots/sourcecompare_2_rawcsoptg_0707.ps …&lt;/p&gt;</summary><content type="html">&lt;p&gt;Spent a while today working on these plots after rejecting every obvious
bad point:
/scratch/adam_work/plots/sourcecompare_0_rawcsoptg_0707.ps
/scratch/adam_work/plots/sourcecompare_10_rawcsoptg_0707.ps
/scratch/adam_work/plots/sourcecompare_1_rawcsoptg_0707.ps
/scratch/adam_work/plots/sourcecompare_2_rawcsoptg_0707.ps
/scratch/adam_work/plots/sourcecompare_3_rawcsoptg_0707.ps
/scratch/adam_work/plots/sourcecompare_4_rawcsoptg_0707.ps
/scratch/adam_work/plots/sourcecompare_5_rawcsoptg_0707.ps
/scratch/adam_work/plots/sourcecompare_6_rawcsoptg_0707.ps
/scratch/adam_work/plots/sourcecompare_7_rawcsoptg_0707.ps
/scratch/adam_work/plots/sourcecompare_8_rawcsoptg_0707.ps
/scratch/adam_work/plots/sourcecompare_9_rawcsoptg_0707.ps
/scratch/adam_work/plots/models_rawcsoptg_0707.ps
The net result is, I still don't have a nice small RMS offset
Update 8/12/08: using RA/DEC mapping doesn't help.&lt;/p&gt;
</content><category term="bgps"></category><category term="googlepost"></category><category term="pointing"></category></entry><entry><title>Cleaning ideas</title><link href="https://keflavich.github.io/blog/cleaning-ideas.html" rel="alternate"></link><published>2008-08-11T15:20:00-06:00</published><updated>2008-08-11T15:20:00-06:00</updated><author><name>Adam (adam.g.ginsburg@gmail.com)</name></author><id>tag:keflavich.github.io,2008-08-11:/blog/cleaning-ideas.html</id><summary type="html">&lt;p&gt;It's proving very difficult to get rid of glitches, so here are some
more ideas:&lt;/p&gt;
&lt;p&gt;Median filter the whole timestream (downsampled) at a resolution that
will pull down the glitch peak. Subtract out the median-filtered
timestream from the original, and look for outliers in that
distribution: in principle, those should …&lt;/p&gt;</summary><content type="html">&lt;p&gt;It's proving very difficult to get rid of glitches, so here are some
more ideas:&lt;/p&gt;
&lt;p&gt;Median filter the whole timestream (downsampled) at a resolution that
will pull down the glitch peak. Subtract out the median-filtered
timestream from the original, and look for outliers in that
distribution: in principle, those should be glitches.&lt;/p&gt;
&lt;p&gt;Another option: subtract out the noise map AND the best-model map from
the original timestream before trying to pull out additional astro model
stuff. The map-to-timestream astro model can't include glitches because
they're averaged over, but the sky-subtracted timestream DOES include
glitches (no matter how many PCA components are removed) because
glitches are NOT correlated across detectors. The weird thing is that
this is effectively subtracting out exactly what was calculated from the
sky subtraction - the question is whether subtracting it out BEFORE sky
subtracting again gets you any benefit. If it was just noise,
subtracting noise from noise is fine, but the &amp;quot;noise&amp;quot; does include some
residual signal.&lt;/p&gt;
</content><category term="bgps"></category><category term="googlepost"></category></entry><entry><title>Glitches and errors</title><link href="https://keflavich.github.io/blog/glitches-and-errors.html" rel="alternate"></link><published>2008-08-11T04:24:00-06:00</published><updated>2008-08-11T04:24:00-06:00</updated><author><name>Adam (adam.g.ginsburg@gmail.com)</name></author><id>tag:keflavich.github.io,2008-08-11:/blog/glitches-and-errors.html</id><summary type="html">&lt;p&gt;It's definitely important to get rid of the spikes and, more
importantly, the exponential decay. The current function is pretty good,
but possibly not good enough because there are some situations in which
the turnaround decay is obviously not well-enough dealt with and results
in high/low streaks.
The glitches …&lt;/p&gt;</summary><content type="html">&lt;p&gt;It's definitely important to get rid of the spikes and, more
importantly, the exponential decay. The current function is pretty good,
but possibly not good enough because there are some situations in which
the turnaround decay is obviously not well-enough dealt with and results
in high/low streaks.
The glitches can be ~20 Jy. The problem is that they sometimes show up
in the middle of sources (e.g. in 060609_o26). That will badly distort
fluxes.
My ideal is still to use a median instead of mean combination of data
points into image points, but that seems to be impractical to implement.
Other ideas...&lt;/p&gt;
</content><category term="bgps"></category><category term="googlepost"></category></entry><entry><title>Big run this weekend...</title><link href="https://keflavich.github.io/blog/big-run-this-weekend.html" rel="alternate"></link><published>2008-08-09T17:22:00-06:00</published><updated>2008-08-09T17:22:00-06:00</updated><author><name>Adam (adam.g.ginsburg@gmail.com)</name></author><id>tag:keflavich.github.io,2008-08-09:/blog/big-run-this-weekend.html</id><summary type="html">&lt;p&gt;In case anyone is wondering why Milkyway is going really slowly, I'm
mapping a 69-observation set of Cygnus. It ought to prove to be an
interesting test of Milkyway's swap capacity, but other than that I
doubt it will be useful. While the pointing is reasonably good at this
point …&lt;/p&gt;</summary><content type="html">&lt;p&gt;In case anyone is wondering why Milkyway is going really slowly, I'm
mapping a 69-observation set of Cygnus. It ought to prove to be an
interesting test of Milkyway's swap capacity, but other than that I
doubt it will be useful. While the pointing is reasonably good at this
point (30&amp;quot; still, but whatever), I haven't done ANY work on filtering
out bad observations / flagging stuff in Cyg. Data massaging is going to
be a long process, it would be great if I could do that instead of
pointing stuff. Argh.
One thing to note is that this file:
/scratch/sliced/l078/070702_o33_raw_ds5.nc
is a &amp;quot;_ds5.nc&amp;quot; but is NOT downsampled!
Update:
Mapped the individual files successfully, picked out noisy ones. The
overall map failed - just not enough memory to do a field that large. I
split it up in to two sets of 25 observations, plus I'll be mapping each
L 70-L 90 field separately (I didn't get ride of noisy observations for
this). I'm also remapping the individual observations with PSD flagging
enabled to see how that works.
For notes on the P Cyg observations, see the file
/scratch/adam_work/texts/cygnus_for_pat.in&lt;/p&gt;
</content><category term="bgps"></category><category term="googlepost"></category><category term="mapping"></category></entry><entry><title>Images with artifacts</title><link href="https://keflavich.github.io/blog/images-with-artifacts.html" rel="alternate"></link><published>2008-08-07T23:42:00-06:00</published><updated>2008-08-07T23:42:00-06:00</updated><author><name>Adam (adam.g.ginsburg@gmail.com)</name></author><id>tag:keflavich.github.io,2008-08-07:/blog/images-with-artifacts.html</id><summary type="html">&lt;p&gt;Here's the list from 0507:
Streaky offsets:
/scratch/adam_work/g34.3/rawcsoptg050706_o47_raw_ds1.nc_indiv3pca_map00.fits
.. image:: &lt;a class="reference external" href="http://3.bp.blogspot.com/_lsgW26mWZnU/SJtP9wKu4_I/AAAAAAAADNo/gmMEFkzCX-A/s320/050706_o47.png"&gt;http://3.bp.blogspot.com/_lsgW26mWZnU/SJtP9wKu4_I/AAAAAAAADNo/gmMEFkzCX-A/s320/050706_o47.png&lt;/a&gt;
Totally messed up (two sets of images many degrees apart):
/scratch/adam_work/g34.3 …&lt;/p&gt;</summary><content type="html">&lt;p&gt;Here's the list from 0507:
Streaky offsets:
/scratch/adam_work/g34.3/rawcsoptg050706_o47_raw_ds1.nc_indiv3pca_map00.fits
.. image:: &lt;a class="reference external" href="http://3.bp.blogspot.com/_lsgW26mWZnU/SJtP9wKu4_I/AAAAAAAADNo/gmMEFkzCX-A/s320/050706_o47.png"&gt;http://3.bp.blogspot.com/_lsgW26mWZnU/SJtP9wKu4_I/AAAAAAAADNo/gmMEFkzCX-A/s320/050706_o47.png&lt;/a&gt;
Totally messed up (two sets of images many degrees apart):
/scratch/adam_work/g34.3/rawcsoptg050713_o40_raw_ds1.nc_indiv3pca_map00.fits
070709_ob7 :
.. image:: &lt;a class="reference external" href="http://4.bp.blogspot.com/_lsgW26mWZnU/SJuIDL161GI/AAAAAAAADN4/D4mxFyx1Fr0/s320/070709_ob7_1730m130_peanut.png"&gt;http://4.bp.blogspot.com/_lsgW26mWZnU/SJuIDL161GI/AAAAAAAADN4/D4mxFyx1Fr0/s320/070709_ob7_1730m130_peanut.png&lt;/a&gt;
070703_o48 :
.. image:: &lt;a class="reference external" href="http://4.bp.blogspot.com/_lsgW26mWZnU/SJuICzavE_I/AAAAAAAADNw/70Hl5930eU8/s320/070703_o48_3c454.3.png"&gt;http://4.bp.blogspot.com/_lsgW26mWZnU/SJuICzavE_I/AAAAAAAADNw/70Hl5930eU8/s320/070703_o48_3c454.3.png&lt;/a&gt;&lt;/p&gt;
</content><category term="bgps"></category><category term="googlepost"></category><category term="mapping"></category></entry><entry><title>Looking back at the old pipeline</title><link href="https://keflavich.github.io/blog/looking-back-at-the-old-pipeline.html" rel="alternate"></link><published>2008-08-07T16:33:00-06:00</published><updated>2008-08-07T16:33:00-06:00</updated><author><name>Adam (adam.g.ginsburg@gmail.com)</name></author><id>tag:keflavich.github.io,2008-08-07:/blog/looking-back-at-the-old-pipeline.html</id><summary type="html">&lt;p&gt;I've obviously missed something. So to try to figure out what it is, I'm
going back to the old pipeline... again...
in map_ncdf_reading, lines 441-448, there is something curious that
goes back to a definition-of-variables problem: ddec and dra are ADDED
to ra and dec to get the …&lt;/p&gt;</summary><content type="html">&lt;p&gt;I've obviously missed something. So to try to figure out what it is, I'm
going back to the old pipeline... again...
in map_ncdf_reading, lines 441-448, there is something curious that
goes back to a definition-of-variables problem: ddec and dra are ADDED
to ra and dec to get the new &amp;quot;ra_all&amp;quot; and &amp;quot;dec_all&amp;quot; variables. ddec
and dra are calculated from eaz and eel: ERROR OFFSETS in Az and El.
Why? What?!
I added a new piece of code, correct_eaz_eel.pro. It is extremely
short, but extremely necessary.&lt;/p&gt;
&lt;pre class="literal-block"&gt;
pro correct_eaz_eel,ra,dec,el,az,eel,eaz,pa    dra=-eaz*cos(!dtor*pa)*cos(!dtor*el)+eel*sin(!dtor*pa)    ddec=eaz*sin(!dtor*pa)*cos(!dtor*el)+eel*cos(!dtor*pa)    dec += ddec/3600.    ra  += dra/3600. / cos(!dtor*dec) / 15.end
&lt;/pre&gt;
&lt;p&gt;This comes back to the fact that I don't know what ANY of the variables
in the NCDF header are supposed to be. Why are &amp;quot;error&amp;quot; variables
actually OFFSET variables, and why didn't anyone know about them?&lt;/p&gt;
</content><category term="bgps"></category><category term="googlepost"></category><category term="pipeline"></category></entry><entry><title>something is wrong in 0507....</title><link href="https://keflavich.github.io/blog/something-is-wrong-in-0507.html" rel="alternate"></link><published>2008-08-07T00:01:00-06:00</published><updated>2008-08-07T00:01:00-06:00</updated><author><name>Adam (adam.g.ginsburg@gmail.com)</name></author><id>tag:keflavich.github.io,2008-08-07:/blog/something-is-wrong-in-0507.html</id><summary type="html">&lt;img alt="" src="http://picasaweb.google.com/keflavich/Bolocam/photo?authkey=OyC8l5sv3gI#5231555630189235762" /&gt;
&lt;img alt="" src="http://4.bp.blogspot.com/_lsgW26mWZnU/SJousnsJDjI/AAAAAAAADMY/-hhiIoQ171A/s320/g34.3_zoo.jpg" /&gt;
&lt;p&gt;Look at that zoomed in. Note that the first 20ish are from 0507. I don't
know what's causing the double source. Maybe a 90 degree rotation would
do it, I don't know. I do know that I'm applying an array angle of 76.2
degrees for those July observations and …&lt;/p&gt;</summary><content type="html">&lt;img alt="" src="http://picasaweb.google.com/keflavich/Bolocam/photo?authkey=OyC8l5sv3gI#5231555630189235762" /&gt;
&lt;img alt="" src="http://4.bp.blogspot.com/_lsgW26mWZnU/SJousnsJDjI/AAAAAAAADMY/-hhiIoQ171A/s320/g34.3_zoo.jpg" /&gt;
&lt;p&gt;Look at that zoomed in. Note that the first 20ish are from 0507. I don't
know what's causing the double source. Maybe a 90 degree rotation would
do it, I don't know. I do know that I'm applying an array angle of 76.2
degrees for those July observations and 113.6 degrees for the June 05
observations. Maybe that got swapped or something....
It looks like Meredith ran into the same problems when mapping 0506, but
not 0507.&lt;/p&gt;
&lt;img alt="" src="http://3.bp.blogspot.com/_lsgW26mWZnU/SJo7MpPYjDI/AAAAAAAADNg/6_pSjjeKjLM/s320/g34_0507_compare.jpg" /&gt;
&lt;p&gt;comparing mine to hers (I even used the same downsampled/cleand file),
it is obvious that something went wrong with the mapping. I tested a
number of different fiducial array angles and none of them generated
real maps, so the mapping is correct except for offsets in the scan
direction, as usual. What the heck.&lt;/p&gt;
</content><category term="bgps"></category><category term="googlepost"></category><category term="mapping"></category></entry><entry><title>Distortion (not distortion maps)</title><link href="https://keflavich.github.io/blog/distortion-not-distortion-maps.html" rel="alternate"></link><published>2008-08-06T20:40:00-06:00</published><updated>2008-08-06T20:40:00-06:00</updated><author><name>Adam (adam.g.ginsburg@gmail.com)</name></author><id>tag:keflavich.github.io,2008-08-06:/blog/distortion-not-distortion-maps.html</id><content type="html">&lt;p&gt;I still see distortion in a lot of maps, but not all. I think there is a
correlation with altitude ~70+/-2 degrees. So far it's most obvious in
the 0606 pointing sources.&lt;/p&gt;
</content><category term="bgps"></category><category term="googlepost"></category><category term="pointing"></category></entry><entry><title>Occasional bad centroid</title><link href="https://keflavich.github.io/blog/occasional-bad-centroid.html" rel="alternate"></link><published>2008-08-06T20:04:00-06:00</published><updated>2008-08-06T20:04:00-06:00</updated><author><name>Adam (adam.g.ginsburg@gmail.com)</name></author><id>tag:keflavich.github.io,2008-08-06:/blog/occasional-bad-centroid.html</id><content type="html">&lt;img alt="" src="http://4.bp.blogspot.com/_lsgW26mWZnU/SJoDqKsjWsI/AAAAAAAADMQ/89W6FBUZmvQ/s320/badcentroid.jpg" /&gt;
&lt;p&gt;I've gotten some bad centroids for 3c273 that don't make sense.&lt;/p&gt;
</content><category term="bgps"></category><category term="googlepost"></category><category term="pointing"></category></entry><entry><title>0507 mapping</title><link href="https://keflavich.github.io/blog/0507-mapping.html" rel="alternate"></link><published>2008-08-06T17:56:00-06:00</published><updated>2008-08-06T17:56:00-06:00</updated><author><name>Adam (adam.g.ginsburg@gmail.com)</name></author><id>tag:keflavich.github.io,2008-08-06:/blog/0507-mapping.html</id><summary type="html">&lt;p&gt;Most of the 0507 pointing source maps seem to have failed. Some of them
look like rotator and position angle problems, others have multiple
copies of sources mapped to different locations. I don't know what's up,
but my first bet would be to change the fiducial array angle. After
that …&lt;/p&gt;</summary><content type="html">&lt;p&gt;Most of the 0507 pointing source maps seem to have failed. Some of them
look like rotator and position angle problems, others have multiple
copies of sources mapped to different locations. I don't know what's up,
but my first bet would be to change the fiducial array angle. After
that, I'd check on rotang and then, if desperate, see what the PA is
doing.&lt;/p&gt;
</content><category term="bgps"></category><category term="googlepost"></category><category term="mapping"></category></entry><entry><title>Mapped, but no dice</title><link href="https://keflavich.github.io/blog/mapped-but-no-dice.html" rel="alternate"></link><published>2008-08-06T15:22:00-06:00</published><updated>2008-08-06T15:22:00-06:00</updated><author><name>Adam (adam.g.ginsburg@gmail.com)</name></author><id>tag:keflavich.github.io,2008-08-06:/blog/mapped-but-no-dice.html</id><summary type="html">&lt;p&gt;Finished mapping what I think are all of the pointing sources. However,
the RMS of the centroids has not gone down. Now I need to go through
each individual source and image and try to get rid of the baddies.
There are presumably some sources with bulk offsets that can …&lt;/p&gt;</summary><content type="html">&lt;p&gt;Finished mapping what I think are all of the pointing sources. However,
the RMS of the centroids has not gone down. Now I need to go through
each individual source and image and try to get rid of the baddies.
There are presumably some sources with bulk offsets that can be removed
to improve the fits. I just have to find them.&lt;/p&gt;
</content><category term="bgps"></category><category term="googlepost"></category><category term="pointing"></category></entry><entry><title>Nothing</title><link href="https://keflavich.github.io/blog/nothing.html" rel="alternate"></link><published>2008-08-06T00:32:00-06:00</published><updated>2008-08-06T00:32:00-06:00</updated><author><name>Adam (adam.g.ginsburg@gmail.com)</name></author><id>tag:keflavich.github.io,2008-08-06:/blog/nothing.html</id><summary type="html">&lt;p&gt;No progress today. Spent the whole day re-mapping pointing sources and
figuring out which observations ARE pointing sources. Mapping STILL not
done - it takes a long time when there are hundreds of separate
observations. Also, finding some corrupt files and noting them in
/scratch/adam_work/texts/toolarge.txt . A …&lt;/p&gt;</summary><content type="html">&lt;p&gt;No progress today. Spent the whole day re-mapping pointing sources and
figuring out which observations ARE pointing sources. Mapping STILL not
done - it takes a long time when there are hundreds of separate
observations. Also, finding some corrupt files and noting them in
/scratch/adam_work/texts/toolarge.txt . A lot more of that work to be
done.&lt;/p&gt;
</content><category term="bgps"></category><category term="googlepost"></category><category term="pipeline"></category></entry><entry><title>Observation distribution</title><link href="https://keflavich.github.io/blog/observation-distribution.html" rel="alternate"></link><published>2008-08-04T21:57:00-06:00</published><updated>2008-08-04T21:57:00-06:00</updated><author><name>Adam (adam.g.ginsburg@gmail.com)</name></author><id>tag:keflavich.github.io,2008-08-04:/blog/observation-distribution.html</id><summary type="html">&lt;pre class="literal-block"&gt;
-bash-3.00$ wc texts/all_*_observations.txt                                                                                                     0      0      0 texts/all_0505_observations.txt    0      0      0 texts/all_0506_observations.txt  151    151   6039 texts/all_0507_observations.txt   33     33   1377 texts/all_0509_observations.txt   16     16    633 texts/all_0605_observations.txt  135    135   5309 …&lt;/pre&gt;</summary><content type="html">&lt;pre class="literal-block"&gt;
-bash-3.00$ wc texts/all_*_observations.txt                                                                                                     0      0      0 texts/all_0505_observations.txt    0      0      0 texts/all_0506_observations.txt  151    151   6039 texts/all_0507_observations.txt   33     33   1377 texts/all_0509_observations.txt   16     16    633 texts/all_0605_observations.txt  135    135   5309 texts/all_0606_observations.txt    0      0      0 texts/all_0607_observations.txt   94     94   3780 texts/all_0609_observations.txt   34     34   1386 texts/all_0705_observations.txt   26     26   1028 texts/all_0706_observations.txt  201    201   7989 texts/all_0707_observations.txt   73     73   2907 texts/all_0709_observations.txt    0      0      0 texts/all_polychrome_0505_observations.txt  222    222  11898 texts/all_polychrome_0506_observations.txt  471    471  24861 texts/all_polychrome_0507_observations.txt  196    196  10346 texts/all_polychrome_0509_observations.txt   43     43   2200 texts/all_polychrome_0605_observations.txt  730    730  38040 texts/all_polychrome_0606_observations.txt   22     22   1195 texts/all_polychrome_0607_observations.txt  471    471  24751 texts/all_polychrome_0609_observations.txt   66     66   3399 texts/all_polychrome_0705_observations.txt  145    145   7533 texts/all_polychrome_0706_observations.txt 1051   1051  54801 texts/all_polychrome_0707_observations.txt  511    511  27049 texts/all_polychrome_0709_observations.txt 4691   4691 236521 total
&lt;/pre&gt;
</content><category term="bgps"></category><category term="googlepost"></category><category term="documentation"></category></entry><entry><title>News, modifications</title><link href="https://keflavich.github.io/blog/news-modifications.html" rel="alternate"></link><published>2008-08-03T07:19:00-06:00</published><updated>2008-08-03T07:19:00-06:00</updated><author><name>Adam (adam.g.ginsburg@gmail.com)</name></author><id>tag:keflavich.github.io,2008-08-03:/blog/news-modifications.html</id><summary type="html">&lt;p&gt;RA / Dec mapping did change centroid locations, but not really for the
better. A deeper analysis is probably necessary, but nevertheless I'm
not convinced mapping type is the problem. The list of possible answers
to the question of why my pointing models don't match Meredith's:&lt;/p&gt;
&lt;ol class="arabic simple"&gt;
&lt;li&gt;The new mapping is shifting …&lt;/li&gt;&lt;/ol&gt;</summary><content type="html">&lt;p&gt;RA / Dec mapping did change centroid locations, but not really for the
better. A deeper analysis is probably necessary, but nevertheless I'm
not convinced mapping type is the problem. The list of possible answers
to the question of why my pointing models don't match Meredith's:&lt;/p&gt;
&lt;ol class="arabic simple"&gt;
&lt;li&gt;The new mapping is shifting the centroid&lt;/li&gt;
&lt;li&gt;The centroiding method I'm using is different / incorrect&lt;/li&gt;
&lt;li&gt;There is still something in the pointing we haven't caught&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;The lack of systematics suggests that the third option is not correct.
The first seems the most likely, but also the most difficult to track
down. I don't know where to go with #2.
I've updated the code so that the pointing model correction offsets in
RA/Dec are written to the FITS header. This will be the standard in all
future runs for individual observations. The calculation of this offset
post-mapping is straightforward but it's nice to have a redundant error
check.
The report for Monday will be kind of empty, sadly. However, I think I
can say that I'll now move on to testing the previous problems we faced,
in particular that we could not match the pointing across whole fields
(L111). If THAT is fixed, then at least we know that whatever my
pipeline is doing differently (e.g. PA at all times...) is useful if not
100% correct.
I'll need to be in the office to test the field mappings, though,
because ds9 display doesn't work well over wireless. I'll do a remote
run of the individual L111 and W5 maps to compare to previous ones.&lt;/p&gt;
</content><category term="bgps"></category><category term="googlepost"></category><category term="pointing"></category></entry><entry><title>Pointing update</title><link href="https://keflavich.github.io/blog/pointing-update.html" rel="alternate"></link><published>2008-08-01T22:30:00-06:00</published><updated>2008-08-01T22:30:00-06:00</updated><author><name>Adam (adam.g.ginsburg@gmail.com)</name></author><id>tag:keflavich.github.io,2008-08-01:/blog/pointing-update.html</id><summary type="html">&lt;p&gt;I believe I've completely dealt with the projection issues. There are a
lot of new plots available now, pretty much everything for Jun/Jul 05
and July 07. Low on my to-do list is the rest of the pointing model
tests.
My conclusion now is that I can't match the …&lt;/p&gt;</summary><content type="html">&lt;p&gt;I believe I've completely dealt with the projection issues. There are a
lot of new plots available now, pretty much everything for Jun/Jul 05
and July 07. Low on my to-do list is the rest of the pointing model
tests.
My conclusion now is that I can't match the 3-4&amp;quot; RMS in dAlt and dAz.
Even with aggressive sigma-rejection of outliers, I only get down to
~10&amp;quot; RMS (which adds to ~15&amp;quot; RMS). My calculated pointing models differ
significantly from Meredith's, but not extremely so for 0707.
The code I've used to generate the plots is centroid_plots.pro under
plotting/. Using that code, I am able to essentially reproduce each
change made in do_the_pointing besides the distortion mapping. Because
of the weak dependence of the pointing model on altitude, even errors on
the scale of precession won't really hurt the pointing model
calculations. The only unanswered question I think may be responsible
for some errors - but not enough, I think - is whether eq2hor/hor2eq
could be double-correcting for aberration and nutation, but this
wouldn't affect the actual data reduction. It WOULD affect my plotting!
I think my next test is to try to coadd different epochal data for
particular fields, e.g. l001, l033. Not l000 because of the galactic
coordinate issue.&lt;/p&gt;
</content><category term="bgps"></category><category term="googlepost"></category><category term="pointing"></category></entry><entry><title>Update - Pointing Model</title><link href="https://keflavich.github.io/blog/update-pointing-model.html" rel="alternate"></link><published>2008-08-01T16:43:00-06:00</published><updated>2008-08-01T16:43:00-06:00</updated><author><name>Adam (adam.g.ginsburg@gmail.com)</name></author><id>tag:keflavich.github.io,2008-08-01:/blog/update-pointing-model.html</id><summary type="html">&lt;p&gt;Update - Pointing Model 7/31/08
The pointing model application &amp;quot;works&amp;quot; now, but I have a problem with
our model. We don't get down to the &amp;lt;10&amp;quot; RMS offset we're looking for.
The mean offsets are all zero, but the spread is more like 20&amp;quot;.
Example plots on milkyway: [see …&lt;/p&gt;</summary><content type="html">&lt;p&gt;Update - Pointing Model 7/31/08
The pointing model application &amp;quot;works&amp;quot; now, but I have a problem with
our model. We don't get down to the &amp;lt;10&amp;quot; RMS offset we're looking for.
The mean offsets are all zero, but the spread is more like 20&amp;quot;.
Example plots on milkyway: [see attached PDFs too]&lt;/p&gt;
&lt;dl class="docutils"&gt;
&lt;dt&gt;::&lt;/dt&gt;
&lt;dd&gt;/scratch/adam_work/plots/models_ptgmdl_0506.ps
/scratch/adam_work/plots/models_ptgmdl_0707.ps
/scratch/adam_work/plots/models_rawcsoptg_0506.ps
/scratch/adam_work/plots/models_rawcsoptg_0707.ps&lt;/dd&gt;
&lt;/dl&gt;
&lt;p&gt;On the left side are plotted &amp;quot;all&amp;quot; of the data points, on the right I've
used a two-iteration 3-sigma rejection to eliminate outliers to a small
degree.&lt;/p&gt;
&lt;p&gt;Top of these plots - as labeled - is altoff vs. alt, bottom is azoff vs.
alt.&lt;/p&gt;
&lt;p&gt;The red lines are a 2nd order polynomial fit to the data.&lt;/p&gt;
&lt;p&gt;The cyan lines are the pointing model corrections calculated by
Meredith.&lt;/p&gt;
&lt;p&gt;The 'ptgmdl' files have had the pointing model corrections applied. Note
that they are centered around offsets of zero.&lt;/p&gt;
&lt;p&gt;The 'rawcsoptg' files DO NOT have pointing model corrections applied,
and FZAO/FAZO have been REMOVED from the original pointing. Hence, these
are RAW CSO TELESCOPE POINTING plots.&lt;/p&gt;
&lt;p&gt;Things to note:&lt;/p&gt;
&lt;blockquote&gt;
&lt;ul class="simple"&gt;
&lt;li&gt;In the 0707 'ptgmdl' set, the az is not quite centered at zero&lt;/li&gt;
&lt;li&gt;the 0506 'ptgmdl' set still has bulk offsets&lt;/li&gt;
&lt;li&gt;the ALTOFF and AZOFF are in delta-coordinate: this means that azoff&lt;/li&gt;
&lt;/ul&gt;
&lt;/blockquote&gt;
&lt;p&gt;should be scaled by dividing by cos(alt) to put the y-axis in consistent
units. In most cases, this means that the already large spread at higher
altitudes is going to INCREASE. That means the problem is going to get
worse...
Questions:&lt;/p&gt;
&lt;blockquote&gt;
&lt;ol class="arabic simple"&gt;
&lt;li&gt;What is the main difference between my plots and Meredith's? i.e.  why is
my RMS ~an order of magnitude larger?&lt;/li&gt;
&lt;li&gt;Does more outlier rejection make sense? Is there any reason not to trust
certain observations if they visible turn out right?  PPSes are supposed to
be &amp;quot;absolute references&amp;quot; for the 1x1, 3x1 maps OLD PROBLEM: PPS and large
maps mapped with same 'pointing model' but ended up with different
coordinates&lt;/li&gt;
&lt;/ol&gt;
&lt;/blockquote&gt;
</content><category term="bgps"></category><category term="googlepost"></category><category term="pointing"></category></entry><entry><title>Milkyway /scratch disk usage</title><link href="https://keflavich.github.io/blog/milkyway-scratch-disk-usage.html" rel="alternate"></link><published>2008-07-31T22:40:00-06:00</published><updated>2008-07-31T22:40:00-06:00</updated><author><name>Adam (adam.g.ginsburg@gmail.com)</name></author><id>tag:keflavich.github.io,2008-07-31:/blog/milkyway-scratch-disk-usage.html</id><summary type="html">&lt;pre class="literal-block"&gt;
-bash-3.00$ du -h --max-depth=1 ../16K     ../lost+found80G     ../sliced1.3G    ../elatov70G     ../cleaned58G     ../mapped179G    ../sliced_polychrome4.0K    ../ironsides49G     ../coadd_mapped2.1G    ../pca_coadd2.8G    ../3pca_3iterations11M     ../centroid17M     ../lost34M     ../ptg_maps3.8G    ../montage31G     ../maps_from_polychrome93M     ../ptg_mmd32G     ../backup_from_kilauea31G     ../sharc1.8M    ../distortion6.9G    ../fake138G    ../adam_work136G    ../bgps_dir_from …&lt;/pre&gt;</summary><content type="html">&lt;pre class="literal-block"&gt;
-bash-3.00$ du -h --max-depth=1 ../16K     ../lost+found80G     ../sliced1.3G    ../elatov70G     ../cleaned58G     ../mapped179G    ../sliced_polychrome4.0K    ../ironsides49G     ../coadd_mapped2.1G    ../pca_coadd2.8G    ../3pca_3iterations11M     ../centroid17M     ../lost34M     ../ptg_maps3.8G    ../montage31G     ../maps_from_polychrome93M     ../ptg_mmd32G     ../backup_from_kilauea31G     ../sharc1.8M    ../distortion6.9G    ../fake138G    ../adam_work136G    ../bgps_dir_from_polychrome815G    ../
&lt;/pre&gt;
</content><category term="bgps"></category><category term="googlepost"></category><category term="administrative"></category></entry><entry><title>Galactic vs. RA mapping</title><link href="https://keflavich.github.io/blog/galactic-vs-ra-mapping.html" rel="alternate"></link><published>2008-07-31T20:57:00-06:00</published><updated>2008-07-31T20:57:00-06:00</updated><author><name>Adam (adam.g.ginsburg@gmail.com)</name></author><id>tag:keflavich.github.io,2008-07-31:/blog/galactic-vs-ra-mapping.html</id><content type="html">&lt;p&gt;They don't match up. This is a serious problem.
I think it's only a problem for the GC: ad2xy refuses to map things
right around that transition. I think it's OK elsewhere.&lt;/p&gt;
</content><category term="bgps"></category><category term="googlepost"></category><category term="pipeline"></category></entry><entry><title>Defining Pointing Terminology</title><link href="https://keflavich.github.io/blog/defining-pointing-terminology.html" rel="alternate"></link><published>2008-07-30T21:50:00-06:00</published><updated>2008-07-30T21:50:00-06:00</updated><author><name>Adam (adam.g.ginsburg@gmail.com)</name></author><id>tag:keflavich.github.io,2008-07-30:/blog/defining-pointing-terminology.html</id><summary type="html">&lt;p&gt;There has been a lot of confusion about pointing terminology.&lt;/p&gt;
&lt;p&gt;CSO pointing model: the telescope pointing model used and written as a
black box&lt;/p&gt;
&lt;ul class="simple"&gt;
&lt;li&gt;has already been corrected for aberration/nutation&lt;/li&gt;
&lt;li&gt;is in current epoch coordinates (e.g. J2007.34)&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Instrument-specific correction to pointing model&lt;/p&gt;
&lt;ul class="simple"&gt;
&lt;li&gt;??? also referred to as 't …&lt;/li&gt;&lt;/ul&gt;</summary><content type="html">&lt;p&gt;There has been a lot of confusion about pointing terminology.&lt;/p&gt;
&lt;p&gt;CSO pointing model: the telescope pointing model used and written as a
black box&lt;/p&gt;
&lt;ul class="simple"&gt;
&lt;li&gt;has already been corrected for aberration/nutation&lt;/li&gt;
&lt;li&gt;is in current epoch coordinates (e.g. J2007.34)&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Instrument-specific correction to pointing model&lt;/p&gt;
&lt;ul class="simple"&gt;
&lt;li&gt;??? also referred to as 't terms'&lt;/li&gt;
&lt;li&gt;is offset between CSO pointing model and real locations&lt;/li&gt;
&lt;li&gt;should be a function of alt (and maybe az)&lt;/li&gt;
&lt;li&gt;is recorded in &amp;quot;RPC&amp;quot; files&lt;/li&gt;
&lt;li&gt;is in units of distance on the sky: delta-RA and delta-DEC, or
delta-ALT and delta-AZ will be in the same units, while if they were
in coordinate units delta-RA and delta-AZ would have to be scaled by
1/cos(DEC) or 1/cos(ALT) respectively&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;FAZO and FZAO: Fixed Azimuth Offset and Fixed Zenith Angle Offset&lt;/p&gt;
&lt;ul class="simple"&gt;
&lt;li&gt;these are ambiguously defined in the pipeline code&lt;/li&gt;
&lt;li&gt;???? FAZO/FZAO include both the functional instrument specific
pointing offset and any manual changes made at the telescope [manual
only relevant to 2007 observations]&lt;/li&gt;
&lt;li&gt;???? or are these JUST fixed offsets, and the instrument specific
corrections are not included? Either way, how can I separate out
manually-applied fixed offsets from fitted-model offsets?&lt;/li&gt;
&lt;/ul&gt;
</content><category term="bgps"></category><category term="googlepost"></category><category term="documentation"></category><category term="pointing"></category></entry><entry><title>New Pipeline to CVS</title><link href="https://keflavich.github.io/blog/new-pipeline-to-cvs.html" rel="alternate"></link><published>2008-07-30T21:36:00-06:00</published><updated>2008-07-30T21:36:00-06:00</updated><author><name>Adam (adam.g.ginsburg@gmail.com)</name></author><id>tag:keflavich.github.io,2008-07-30:/blog/new-pipeline-to-cvs.html</id><summary type="html">&lt;p&gt;Open topic - what needs to be done to put the new pipeline on the CVS?&lt;/p&gt;
&lt;ol class="arabic simple"&gt;
&lt;li&gt;Under the assumption that it will be used by others, the
documentation needs to be complete.&lt;/li&gt;
&lt;li&gt;Needs to be compatible with current pipeline (no name overlap)&lt;/li&gt;
&lt;li&gt;Have to fix / update some Goddard astrolib routines that …&lt;/li&gt;&lt;/ol&gt;</summary><content type="html">&lt;p&gt;Open topic - what needs to be done to put the new pipeline on the CVS?&lt;/p&gt;
&lt;ol class="arabic simple"&gt;
&lt;li&gt;Under the assumption that it will be used by others, the
documentation needs to be complete.&lt;/li&gt;
&lt;li&gt;Needs to be compatible with current pipeline (no name overlap)&lt;/li&gt;
&lt;li&gt;Have to fix / update some Goddard astrolib routines that have short
integer for loops and need long integer for loops
Which ones?&lt;/li&gt;
&lt;li&gt;Probably need to add instrument specific pointing model corrections
for non-BGPS observations&lt;/li&gt;
&lt;/ol&gt;
</content><category term="bgps"></category><category term="googlepost"></category><category term="cvs"></category><category term="pipeline"></category></entry><entry><title>BOLOCAM PIPELINE BLOG</title><link href="https://keflavich.github.io/blog/bolocam-pipeline-blog.html" rel="alternate"></link><published>2008-07-30T21:30:00-06:00</published><updated>2008-07-30T21:30:00-06:00</updated><author><name>Adam (adam.g.ginsburg@gmail.com)</name></author><id>tag:keflavich.github.io,2008-07-30:/blog/bolocam-pipeline-blog.html</id><summary type="html">&lt;p&gt;Guy pointed out in the CU meeting today that we need a better way to
keep track of changes / problems / etc. The wiki's kind of a pain, and
this will serve as something of a replacement for the e-mail-only
conversations that have been going on with the Software Power Team …&lt;/p&gt;</summary><content type="html">&lt;p&gt;Guy pointed out in the CU meeting today that we need a better way to
keep track of changes / problems / etc. The wiki's kind of a pain, and
this will serve as something of a replacement for the e-mail-only
conversations that have been going on with the Software Power Team.&lt;/p&gt;
</content><category term="bgps"></category><category term="googlepost"></category><category term="administrative"></category></entry><entry><title>Galactic Center Photo Contest</title><link href="https://keflavich.github.io/blog/galactic-center-photo-contest.html" rel="alternate"></link><published>2008-01-01T00:00:00-07:00</published><updated>2008-01-01T00:00:00-07:00</updated><author><name>Adam (keflavich@gmail.com)</name></author><id>tag:keflavich.github.io,2008-01-01:/blog/galactic-center-photo-contest.html</id><summary type="html">&lt;img alt="" src="http://casa.colorado.edu/%7Eginsbura/images/gc/gc_winner_800x800.jpg" /&gt;
&lt;p&gt;&lt;a class="reference external" href="http://www.nrao.edu/index.php/learn/gallery/imagecontest"&gt;The NRAO Photo Contest&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;The Galactic Center and the surrounding Central Molecular Zone comprise
the most active star formation region in the Milky Way. This 2 x 1
degree field was imaged at 20 cm (purple) with the NRAO Very Large
Array, tracing H II regions that are illuminated by …&lt;/p&gt;</summary><content type="html">&lt;img alt="" src="http://casa.colorado.edu/%7Eginsbura/images/gc/gc_winner_800x800.jpg" /&gt;
&lt;p&gt;&lt;a class="reference external" href="http://www.nrao.edu/index.php/learn/gallery/imagecontest"&gt;The NRAO Photo Contest&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;The Galactic Center and the surrounding Central Molecular Zone comprise
the most active star formation region in the Milky Way. This 2 x 1
degree field was imaged at 20 cm (purple) with the NRAO Very Large
Array, tracing H II regions that are illuminated by hot, massive stars,
supernova remnants, and synchrotron emission. Emission at 1.1 mm
(orange) was observed with the Caltech Submillimeter Observatory and
highlights cold (20-30 K) dust associated with molecular gas. Some of
this material will form stars within in the next few million years; the
remainder will be blown away. The diffuse cyan and colored star images
are from the Spitzer Space Observatory's Infrared Array Camera. The cyan
is primarily emission from stars, the point sources, and from polycyclic
aromatic hydrocarbons (PAHs), the diffuse component.&lt;/p&gt;
&lt;p&gt;My view of the Galactic Center is the winner of this year's NRAO photo
contest. It displays a multiwavelength view of the galactic center. The
caption at the NRAO photo contest (reproduced above) describes it well,
but I will go into further depth here.&lt;/p&gt;
&lt;p&gt;The 'arches' are the large purple filamentary structures seen near the
brightest point in the map, Sgr A*, the center of our galaxy. They are
thought to be large scale magnetic fields &lt;a class="reference external" href="http://cdsads.u-strasbg.fr/abs/2007ASPC..367..651Y"&gt;possibly generated by winds
from hot stars&lt;/a&gt;. &lt;a class="reference external" href="http://www.physics.northwestern.edu/research/zadeh.html"&gt;Farhad Yusef-Zadeh&lt;/a&gt;, my collaborator on the photo,
leads the study of radio emission from the Galactic Center.
The orange color is 1.1mm emission, which means that we're seeing
something completely different. This light actually comes from dust. We
usually see &lt;a class="reference external" href="http://apod.nasa.gov/apod/ap051130.html"&gt;dust in absorption&lt;/a&gt; because in the optical, it blocks
light. There is so much dust between us and the Galactic Center that we
can't see it at all at optical wavelengths.&lt;/p&gt;
&lt;p&gt;Sagittarius B2 is the bright blob just to the left of center. It is the
most massive collection of gas and dust in our galaxy. It is full of
different types of molecules including complex organic molecules. A new
generation of massive stars is thought to be forming there.
Spitzer's 8 micron view is presented in cyan. Mostly this comes from
PAH, Polycyclic Aromatic Hydrocarbon, emission. PAHs are big molecules
with lots of Carbon and Hydrogen chained together. Stars are visible at
these wavelengths because the dust isn't as effective at blocking out
infrared light - but look closely at the orange regions on the right
side of the image. You might notice that not only is there dust there,
but there's also less PAH emission visible. This is because on the right
side of the Galactic Center, the spiral arm is behind the dust, and on
the left side it is in front. When dust blocks out infrared light, the
object we see is called an 'infrared dark cloud'. These clouds are
usually places where star formation has not yet started, but will soon.
This image was created using GIMP, the Gnu Image Manipulation Program,
using a variety of layers, opacities, etc.&lt;/p&gt;
</content><category term="misc"></category><category term="googlepost"></category><category term="photo"></category><category term="millimeter"></category><category term="galactic center"></category></entry></feed>