<!DOCTYPE html>
<html lang="en">
<link rel="stylesheet" type="text/css" href="https://keflavich.github.io/blog/theme/css/style.css" />
<link rel="icon" type="image/gif" href="https://keflavich.github.io/blog/theme/favicon8.ico">
<head>
    <base href="https://keflavich.github.io/blog">
        <title>Adam Ginsburg's blog</title>
        <meta charset="utf-8" />
        <link href="https://keflavich.github.io/blog/feeds/all.atom.xml" type="application/atom+xml" rel="alternate" title="Adam Ginsburg's blog Full Atom Feed" />
<!-- Using MathJax, with the delimiters $ -->
<!-- Conflict with pygments for the .mo and .mi -->
<script type="text/x-mathjax-config">
    MathJax.Hub.Config({
    "HTML-CSS": {
    styles: {
    ".MathJax .mo, .MathJax .mi": {color: "inherit !important"}},
    'div.typeset': { 'text-align': 'left'}
    },
    tex2jax: {inlineMath: [['$','$'], ['\\(','\\)']],processEscapes: true}
    });
    TeX: {
        extensions: ["AMSmath.js", "AMSsymbols.js"]
    }
    MathJax.Hub.Register.StartupHook("HTML-CSS Jax Ready",function () {
    var VARIANT = MathJax.OutputJax["HTML-CSS"].FONTDATA.VARIANT;
    VARIANT["normal"].fonts.unshift("MathJax_SansSerif");
    VARIANT["bold"].fonts.unshift("MathJax_SansSerif-bold");
    VARIANT["italic"].fonts.unshift("MathJax_SansSerif-italic");
    VARIANT["-tex-mathit"].fonts.unshift("MathJax_SansSerif-italic");
    });
    MathJax.Hub.Register.StartupHook("SVG Jax Ready",function () {
    var VARIANT = MathJax.OutputJax.SVG.FONTDATA.VARIANT;
    VARIANT["normal"].fonts.unshift("MathJax_SansSerif");
    VARIANT["bold"].fonts.unshift("MathJax_SansSerif-bold");
    VARIANT["italic"].fonts.unshift("MathJax_SansSerif-italic");
    VARIANT["-tex-mathit"].fonts.unshift("MathJax_SansSerif-italic");
    });
</script>

<script type="text/javascript"
src="http://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS_HTML">
</script>
        
</head>

<body id="base" class="home">


    <header id="banner" class="body" >
        <div id="header" style='background-image: url("https://keflavich.github.io/blog/images/GC_4096sq_bolo.png"); background-position:left; min-heigt: 200px;  background-repeat: no-repeat; max-width: 80%;'>
            <h1 style="color: #C4C4C4;"><a class="header" href="https://keflavich.github.io/blog">Adam Ginsburg's blog <strong></strong></a></h1>

            <nav id="menu"><ul id="menulist">
                <li><a href="https://www.adamgginsburg.com">Homepage</a></li>
                <li><a href="/index.html">Blog Index</a></li>
                <li><a href="/category/bgps.html">BGPS Blog</a></li>
                <li><a href="/category/publications.html">Publications</a></li>
                <li><a href="/archives.html">Archives</a></li>
                <li><a href="/tags.html">Tags</a></li>
            </ul></nav><!-- /#menu -->
        </div>
    </header><!-- /#banner -->

  <div id="sidebar">
    <ul>
      <li>
        <h3 id='recent_header'>Recent Posts</h3>
        <ul>
              <li class="post">
                  2025/03/15
                  <br>
                  <a href="https://keflavich.github.io/blog/pushing-to-a-pull-request.html">Pushing to a pull request</a>
              </li>
              <li class="post">
                  2023/08/11
                  <br>
                  <a href="https://keflavich.github.io/blog/editing-metadata-in-measurement-sets.html">Editing metadata in measurement sets</a>
              </li>
              <li class="post">
                  2022/05/06
                  <br>
                  <a href="https://keflavich.github.io/blog/casa-mpi-debugging-contd.html">CASA MPI debugging cont'd</a>
              </li>
              <li class="post">
                  2022/05/01
                  <br>
                  <a href="https://keflavich.github.io/blog/co2-monitoring-at-conferences-update-in-2022.html">CO2 Monitoring at Conferences: Update in 2022</a>
              </li>
              <li class="post">
                  2022/04/14
                  <br>
                  <a href="https://keflavich.github.io/blog/alma-cycle-9-corrupted-zip-fix.html">ALMA Cycle 9 corrupted zip fix</a>
              </li>
        </ul>
      </li>
    
    </ul>
  </div><!-- end #sidebar -->

  <div id="content">
<section id="content">

<ul id="post-list">
    <li><article class="hentry">
        <header> 
            <h2 class="entry-title">
                <a href="https://keflavich.github.io/blog/galactic-formaldehyde-densitometry-project.html" rel="bookmark" title="Permalink to Galactic Formaldehyde Densitometry Project">
                    Galactic Formaldehyde Densitometry Project</a>
            </h2> 
        </header>
        <footer class="post-info">
            <abbr class="published" title="2012-09-20T20:02:00-06:00"> 2012/09/20 </abbr>
            <!--<address class="vcard author"><a class="url fn" href="https://keflavich.github.io/blog/author/adam-keflavichgmailcom.html">Adam (keflavich@gmail.com)</a></address>-->
        </footer><!-- /.post-info -->
        <div class="entry-content"> <p>The Galactic Formaldehyde Densitometry Project is finally official and
on its way. I am PI of a joint Arecibo / Green Bank Telescope project to
survey formaldehyde, H2CO, in a sample of ~400 &quot;dust clumps&quot; in the
Galactic Plane. The clumps represent condensations within larger
molecular clouds that are likely to be forming stars, particularly
massive stars and star clusters.
Formaldehyde is uniquely useful for measuring densities of these gas
clumps. Because of a collisional selection effect, the low-lying
K-doublet transitions of H2CO undergo &quot;anti-inversion&quot;, which means
their lower-energy states are overpopulated relative to the higher
states, and it can therefore be seen in absorption against the cosmic
microwave background. This unique property removes a key bias present in
emission line studies in which variable excitation conditions can
dominate the observability of a line.
For the next few posts, I will include calibration and data reduction
information from the observations in this survey. The Green Bank
observations are well underway, with nearly half of the sources observed
(though many at poor sensitivity) and the Arecibo observations have been
approved.</p>
 </div>
        <!-- /.entry-content   not article.summary--> 
    </article></li>
    <hr width=100%>
    <li><article class="hentry">
        <header> 
            <h2 class="entry-title">
                <a href="https://keflavich.github.io/blog/galaxy-map.html" rel="bookmark" title="Permalink to Galaxy Map">
                    Galaxy Map</a>
            </h2> 
        </header>
        <footer class="post-info">
            <abbr class="published" title="2012-09-20T20:02:00-06:00"> 2012/09/20 </abbr>
            <!--<address class="vcard author"><a class="url fn" href="https://keflavich.github.io/blog/author/adam-keflavichgmailcom.html">Adam (keflavich@gmail.com)</a></address>-->
        </footer><!-- /.post-info -->
        <div class="entry-content"> <p>If you're ever interested in seeing a face-on view of the Milky Way,
check out the <a class="reference external" href="http://www.spitzer.caltech.edu/Media/releases/ssc2008-10/index.shtml">Spitzer press release</a>. This link is very surprisingly
hard to find on google.</p>
 </div>
        <!-- /.entry-content   not article.summary--> 
    </article></li>
    <hr width=100%>
    <li><article class="hentry">
        <header> 
            <h2 class="entry-title">
                <a href="https://keflavich.github.io/blog/ghostscript-error.html" rel="bookmark" title="Permalink to Ghostscript error?">
                    Ghostscript error?</a>
            </h2> 
        </header>
        <footer class="post-info">
            <abbr class="published" title="2012-09-20T20:02:00-06:00"> 2012/09/20 </abbr>
            <!--<address class="vcard author"><a class="url fn" href="https://keflavich.github.io/blog/author/adam-keflavichgmailcom.html">Adam (keflavich@gmail.com)</a></address>-->
        </footer><!-- /.post-info -->
        <div class="entry-content"> <p><p>I've been receiving the following error when attempting to compile
(ps2pdf) my w5 outflows paper:</p>
<pre class="literal-block">
Error: /rangecheck in --get--Operand stack:   pdfmark   --dict:20/25(ro)(L)--   --nostringval--   50Execution stack:   %interp_exit   .runexec2   --nostringval--   --nostringval--   --nostringval--   2   %stopped_push   --nostringval--   --nostringval--   --nostringval--   false   1   %stopped_push   1878   1   3   %oparray_pop   1877   1   3   %oparray_pop   1861   1   3   %oparray_pop   1755   1   3   %oparray_pop   --nostringval--   %errorexec_pop   .runexec2   --nostringval--   --nostringval--   --nostringval--   2   %stopped_push   --nostringval--   %finish_show   --nostringval--   --nostringval--   8   6   1   --nostringval--   (pdf_text_enum_t)   %op_show_continue   --nostringval--Dictionary stack:   --dict:1153/1684(ro)(G)--   --dict:0/20(G)--   --dict:71/200(L)--   --dict:125/300(L)--   --dict:44/200(L)--   --dict:138/224(L)--Current allocation mode is localLast OS error: 2Current file position is 267478928GPL Ghostscript 8.71: Unrecoverable error, exit code 1
</pre>
<p>I get the same error with Ghostscript 8.64, but on my laptop, using the
fink version, it works. Similarly, there are errors with the postscript,
so I'm led to believe it's an error in latex:</p>
<pre class="literal-block">
$ latex --versionpdfTeX 3.1415926-1.40.10-2.2 (TeX Live 2009)kpathsea version 5.0.0Copyright 2009 Peter Breitenlohner (eTeX)/Han The Thanh (pdfTeX).There is NO warranty.  Redistribution of this software iscovered by the terms of both the pdfTeX copyright andthe Lesser GNU General Public License.For more information about these matters, see the filenamed COPYING and the pdfTeX source.Primary author of pdfTeX: Peter Breitenlohner (eTeX)/Han The Thanh (pdfTeX).Compiled with libpng 1.2.39; using libpng 1.2.39Compiled with zlib 1.2.3; using zlib 1.2.3Compiled with xpdf version 3.02pl3
</pre>
<p>No idea what the cause is but it's time to start documenting steps and
looking for a workaround. Compiling on the lappy isn't a good option.</p>
</p> </div>
        <!-- /.entry-content   not article.summary--> 
    </article></li>
    <hr width=100%>
    <li><article class="hentry">
        <header> 
            <h2 class="entry-title">
                <a href="https://keflavich.github.io/blog/gildas-class.html" rel="bookmark" title="Permalink to Gildas CLASS">
                    Gildas CLASS</a>
            </h2> 
        </header>
        <footer class="post-info">
            <abbr class="published" title="2012-09-20T20:02:00-06:00"> 2012/09/20 </abbr>
            <!--<address class="vcard author"><a class="url fn" href="https://keflavich.github.io/blog/author/adam-keflavichgmailcom.html">Adam (keflavich@gmail.com)</a></address>-->
        </footer><!-- /.post-info -->
        <div class="entry-content"> <p>It's absurdly difficult to find help on GILDAS Class, probably because
you can't google &quot;class&quot; and most people probably don't label every
piece of code with &quot;GILDAS class&quot;.
Anyway, here are some scripts that I refer back to often:
<tt class="docutils literal">file in August2009BGPS.datfile out August2009fits.dat multipleon error &quot;file out August2009fits.dat&quot;say &quot;READ IN FILES&quot;define character sourcelist*10[300]accept sourcelist /column observed_sources.txton error &quot;continue&quot;get 1001set window <span class="pre">-100</span> 160set mask <span class="pre">-400</span> <span class="pre">-100</span> 160 400set mode x <span class="pre">-400</span> 400set align velocityfor i 1 to 161&nbsp;&nbsp;&nbsp; say &quot;Working on SOURCE &quot;'i'&nbsp;&nbsp;&nbsp; find /source 'sourcelist[i]' /telescope &quot;CSO 4GHZ IF1&quot; /offset 0 0 /quality 5&nbsp;&nbsp;&nbsp; average&nbsp;&nbsp;&nbsp; on error &quot;&#64;avplot2 'sourcelist[i]' 'i'; next&quot;&nbsp;&nbsp;&nbsp; base 3&nbsp;&nbsp;&nbsp; line 0&nbsp;&nbsp;&nbsp; min&nbsp;&nbsp;&nbsp; plot&nbsp;&nbsp;&nbsp; vis&nbsp;&nbsp;&nbsp; write i!&nbsp;&nbsp;&nbsp; on error &quot;continue&quot;next</tt>
and
<tt class="docutils literal">file in <span class="pre">araya-2004.clsfinddefine</span> character filename*20for i 1 to 20&nbsp;&nbsp;&nbsp;&nbsp; say &quot;Working on source &quot;'i'&nbsp;&nbsp;&nbsp; get next&nbsp;&nbsp;&nbsp; let filename <span class="pre">&quot;araya-2004_&quot;'i'&quot;.fits&quot;</span>&nbsp;&nbsp;&nbsp;&nbsp; say &quot;fits write &quot;'filename'&quot; /mode spectrum&quot;&nbsp;&nbsp;&nbsp; fits write 'filename' /mode spectrumnext!file in <span class="pre">araya-2002.cls!find!define</span> character filename*20!for i 1 to 42 !&nbsp;&nbsp;&nbsp; say &quot;Working on source &quot;'i'!&nbsp;&nbsp;&nbsp; get i!&nbsp;&nbsp;&nbsp; let filename <span class="pre">&quot;araya-2002_&quot;'i'&quot;.fits&quot;</span> !&nbsp;&nbsp;&nbsp; say &quot;fits write &quot;'filename'&quot; /mode spectrum&quot;!&nbsp;&nbsp;&nbsp; fits write 'filename' /mode spectrum!next</tt></p>
 </div>
        <!-- /.entry-content   not article.summary--> 
    </article></li>
    <hr width=100%>
    <li><article class="hentry">
        <header> 
            <h2 class="entry-title">
                <a href="https://keflavich.github.io/blog/histogram-in-google-spreadsheet.html" rel="bookmark" title="Permalink to Histogram in Google Spreadsheet">
                    Histogram in Google Spreadsheet</a>
            </h2> 
        </header>
        <footer class="post-info">
            <abbr class="published" title="2012-09-20T20:02:00-06:00"> 2012/09/20 </abbr>
            <!--<address class="vcard author"><a class="url fn" href="https://keflavich.github.io/blog/author/adam-keflavichgmailcom.html">Adam (keflavich@gmail.com)</a></address>-->
        </footer><!-- /.post-info -->
        <div class="entry-content"> <p>It's not easy to make a histogram in google spreadsheets without
replicating data. The &quot;countif&quot; function would be great, except it only
allows very simple criteria. However, there's a workaround:
=count(Filter('Grades'!V2:V30,'Grades'!V2:V30&gt;0.9))
=count(Filter('Grades'!V2:V30,'Grades'!V2:V30&lt;0.9,'Grades'!V2:V30&gt;0.8))
The Filter() function returns an array, which can be operated on like
any other set of cells.
It's still not easy to make a nice-looking histogram, but the output of
this process is at least usable.</p>
 </div>
        <!-- /.entry-content   not article.summary--> 
    </article></li>
    <hr width=100%>
    <li><article class="hentry">
        <header> 
            <h2 class="entry-title">
                <a href="https://keflavich.github.io/blog/hosting-on-my-mac.html" rel="bookmark" title="Permalink to Hosting on my mac">
                    Hosting on my mac</a>
            </h2> 
        </header>
        <footer class="post-info">
            <abbr class="published" title="2012-09-20T20:02:00-06:00"> 2012/09/20 </abbr>
            <!--<address class="vcard author"><a class="url fn" href="https://keflavich.github.io/blog/author/adam-keflavichgmailcom.html">Adam (keflavich@gmail.com)</a></address>-->
        </footer><!-- /.post-info -->
        <div class="entry-content"> <p>I'm hosting my website off my mac; it should be accessible to the
outside world now: <a class="reference external" href="http://eta.colorado.edu/">eta.colorado.edu</a>.
A few things went into this....</p>
<ol class="arabic simple">
<li>Don't install the fink version. The two versions clash and depending
on how you access your computer you could end up looking at entirely
different directories (e.g. localhost and eta.colorado.edu referred
to different sites for a while)</li>
<li>The configuration file is /private/etc/apache2/httpd.conf</li>
<li>I needed to change DirectoryIndex to index.htm (from index.html)</li>
<li>uncommmented &quot;LoadModule php5_module libexec/apache2/libphp5.so&quot;</li>
<li>had to allow override so that .htaccess files would work.</li>
</ol>
</p> </div>
        <!-- /.entry-content   not article.summary--> 
    </article></li>
    <hr width=100%>
    <li><article class="hentry">
        <header> 
            <h2 class="entry-title">
                <a href="https://keflavich.github.io/blog/how-do-i-print-a-multi-page-postscript.html" rel="bookmark" title="Permalink to How do I print a multi-page postscript?">
                    How do I print a multi-page postscript?</a>
            </h2> 
        </header>
        <footer class="post-info">
            <abbr class="published" title="2012-09-20T20:02:00-06:00"> 2012/09/20 </abbr>
            <!--<address class="vcard author"><a class="url fn" href="https://keflavich.github.io/blog/author/adam-keflavichgmailcom.html">Adam (keflavich@gmail.com)</a></address>-->
        </footer><!-- /.post-info -->
        <div class="entry-content"> <p>I want to print a multi-page postscript duplexed and, if possible, two
per page. pstopng, pstopdf, and the variants failed me horribly by
making postscripts that don't fit the bounding box at all. Any ideas?
So far the best I've come up with is switching gnuplot's output to pdf,
which is a workaround rather than a solution, but is useful nonetheless:
<tt class="docutils literal">set terminal pdf enhanced dashed</tt></p>
 </div>
        <!-- /.entry-content   not article.summary--> 
    </article></li>
    <hr width=100%>
    <li><article class="hentry">
        <header> 
            <h2 class="entry-title">
                <a href="https://keflavich.github.io/blog/how-to-make-a-pretty-image.html" rel="bookmark" title="Permalink to How to make a pretty image">
                    How to make a pretty image</a>
            </h2> 
        </header>
        <footer class="post-info">
            <abbr class="published" title="2012-09-20T20:02:00-06:00"> 2012/09/20 </abbr>
            <!--<address class="vcard author"><a class="url fn" href="https://keflavich.github.io/blog/author/adam-keflavichgmailcom.html">Adam (keflavich@gmail.com)</a></address>-->
        </footer><!-- /.post-info -->
        <div class="entry-content"> <p>The most difficult requirement to satisfy is WCS matching. Each image
has to be in exactly the same pixel space in order to overlay them
successfully in an image program. The process is generally to use
Montage's mProject to project the images into the same plane, then mAdd
with a blank map of a given size so that the dimensions in pixels are
identical.
Once that's done, I load the images into GIMP. However, GIMP reads .fits
files as 256 bit data - which is essentially useless because most
(interesting) images have a dynamical range &gt;~1000. So I usually make
images emphasizing the faint emission in log scale with the high and low
ends cut off (I use DS9 to determine high/low). I make a second copy
showing the details of the very bright regions, again in logscale but it
ends up being a different log scale - essentially, my transfer function
becomes a broken power law.
The tricks in GIMP are numerous, but primarily two:
1. Rotate the color table ~60 degrees
2. Use images as &quot;Layer Masks&quot; (aka alpha layers) on a solid color
background
There's also the nice trick when using radio data of using optical or
some other wavelength to provide the high-resolution details, while the
radio emission provides the intensity.</p>
 </div>
        <!-- /.entry-content   not article.summary--> 
    </article></li>
    <hr width=100%>
    <li><article class="hentry">
        <header> 
            <h2 class="entry-title">
                <a href="https://keflavich.github.io/blog/idl-array-indexing.html" rel="bookmark" title="Permalink to IDL array indexing">
                    IDL array indexing</a>
            </h2> 
        </header>
        <footer class="post-info">
            <abbr class="published" title="2012-09-20T20:02:00-06:00"> 2012/09/20 </abbr>
            <!--<address class="vcard author"><a class="url fn" href="https://keflavich.github.io/blog/author/adam-keflavichgmailcom.html">Adam (keflavich@gmail.com)</a></address>-->
        </footer><!-- /.post-info -->
        <div class="entry-content"> <p><tt class="docutils literal">array_indices(array, location)</tt>
instead of that x mod n_e(), y / n_e() crap</p>
 </div>
        <!-- /.entry-content   not article.summary--> 
    </article></li>
    <hr width=100%>
    <li><article class="hentry">
        <header> 
            <h2 class="entry-title">
                <a href="https://keflavich.github.io/blog/idl-colors.html" rel="bookmark" title="Permalink to IDL colors">
                    IDL colors</a>
            </h2> 
        </header>
        <footer class="post-info">
            <abbr class="published" title="2012-09-20T20:02:00-06:00"> 2012/09/20 </abbr>
            <!--<address class="vcard author"><a class="url fn" href="https://keflavich.github.io/blog/author/adam-keflavichgmailcom.html">Adam (keflavich@gmail.com)</a></address>-->
        </footer><!-- /.post-info -->
        <div class="entry-content"> <p><p>To get IDL colors to 'work right' (i.e. a colortable has 255 colors
etc), put this in a startup file:</p>
<pre class="literal-block">
device, true_color = 24, retain = 2, decompose = 0red = [0,1,1,0,0,1]green = [0,1,0,1,0,1]blue = [0,1,0,0,1,0]if not strcmp(getenv('DISPLAY'),'') then $   tvlct, 255*red, 255*green, 255*blue
</pre>
</p> </div>
        <!-- /.entry-content   not article.summary--> 
    </article></li>
    <hr width=100%>
</ul><!-- /#posts-list -->
<p class="paginator">
            <a href="https://keflavich.github.io/blog/index19.html">&laquo;</a>
    Page 20 / 51
        <a href="https://keflavich.github.io/blog/index21.html">&raquo;</a>
</p>
</section><!-- /#content -->
  </div>

    <script type="text/javascript">
    var _gaq = _gaq || [];
    _gaq.push(['_setAccount', 'UA-37306139-1']);
    _gaq.push(['_trackPageview']);
    (function() {
        var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
        ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
        var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
    })();

    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
    (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
    m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-37306139-1');
    ga('send', 'pageview');
</script>
<script type="text/javascript">
  var disqus_shortname = 'adamginsburgsblog';
  (function() {
        var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
        dsq.src = 'http://' + disqus_shortname + '.disqus.com/embed.js';
        (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
   })();
</script>
</body>
</html>
