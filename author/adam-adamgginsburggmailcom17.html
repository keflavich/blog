<!DOCTYPE html>
<html lang="en">
<link rel="stylesheet" type="text/css" href="https://keflavich.github.io/blog/theme/css/style.css" />
<link rel="icon" type="image/gif" href="https://keflavich.github.io/blog/theme/favicon8.ico">
<head>
    <base href="https://keflavich.github.io/blog">
        <title>Adam Ginsburg's blog - Articles by Adam (adam.g.ginsburg@gmail.com)</title>
        <meta charset="utf-8" />
        <link href="https://keflavich.github.io/blog/feeds/all.atom.xml" type="application/atom+xml" rel="alternate" title="Adam Ginsburg's blog Full Atom Feed" />
<!-- Using MathJax, with the delimiters $ -->
<!-- Conflict with pygments for the .mo and .mi -->
<script type="text/x-mathjax-config">
    MathJax.Hub.Config({
    "HTML-CSS": {
    styles: {
    ".MathJax .mo, .MathJax .mi": {color: "inherit !important"}},
    'div.typeset': { 'text-align': 'left'}
    },
    tex2jax: {inlineMath: [['$','$'], ['\\(','\\)']],processEscapes: true}
    });
    TeX: {
        extensions: ["AMSmath.js", "AMSsymbols.js"]
    }
    MathJax.Hub.Register.StartupHook("HTML-CSS Jax Ready",function () {
    var VARIANT = MathJax.OutputJax["HTML-CSS"].FONTDATA.VARIANT;
    VARIANT["normal"].fonts.unshift("MathJax_SansSerif");
    VARIANT["bold"].fonts.unshift("MathJax_SansSerif-bold");
    VARIANT["italic"].fonts.unshift("MathJax_SansSerif-italic");
    VARIANT["-tex-mathit"].fonts.unshift("MathJax_SansSerif-italic");
    });
    MathJax.Hub.Register.StartupHook("SVG Jax Ready",function () {
    var VARIANT = MathJax.OutputJax.SVG.FONTDATA.VARIANT;
    VARIANT["normal"].fonts.unshift("MathJax_SansSerif");
    VARIANT["bold"].fonts.unshift("MathJax_SansSerif-bold");
    VARIANT["italic"].fonts.unshift("MathJax_SansSerif-italic");
    VARIANT["-tex-mathit"].fonts.unshift("MathJax_SansSerif-italic");
    });
</script>

<script type="text/javascript"
src="http://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS_HTML">
</script>
        
</head>

<body id="base" class="home">


    <header id="banner" class="body" >
        <div id="header" style='background-image: url("https://keflavich.github.io/blog/images/GC_4096sq_bolo.png"); background-position:left; min-heigt: 200px;  background-repeat: no-repeat; max-width: 80%;'>
            <h1 style="color: #C4C4C4;"><a class="header" href="https://keflavich.github.io/blog">Adam Ginsburg's blog <strong></strong></a></h1>

            <nav id="menu"><ul id="menulist">
                <li><a href="https://www.adamgginsburg.com">Homepage</a></li>
                <li><a href="/index.html">Blog Index</a></li>
                <li><a href="/category/bgps.html">BGPS Blog</a></li>
                <li><a href="/category/publications.html">Publications</a></li>
                <li><a href="/archives.html">Archives</a></li>
                <li><a href="/tags.html">Tags</a></li>
            </ul></nav><!-- /#menu -->
        </div>
    </header><!-- /#banner -->

  <div id="sidebar">
    <ul>
      <li>
        <h3 id='recent_header'>Recent Posts</h3>
        <ul>
              <li class="post">
                  2015/05/07
                  <br>
                  <a href="https://keflavich.github.io/blog/my-python-ipython-vim-debugging-workflow.html">My python + ipython + vim debugging workflow</a>
              </li>
              <li class="post">
                  2012/12/26
                  <br>
                  <a href="https://keflavich.github.io/blog/catalog-vs-image-shift-a-possible-solution-to-the-atlasgal-issue.html">Catalog vs Image shift? A possible solution to the ATLASGAL issue</a>
              </li>
              <li class="post">
                  2012/12/22
                  <br>
                  <a href="https://keflavich.github.io/blog/idea-multispectral-eigenimage-decomposition.html">Idea: Multispectral Eigenimage decomposition...</a>
              </li>
              <li class="post">
                  2012/12/15
                  <br>
                  <a href="https://keflavich.github.io/blog/pointing-cross-correlation-yet-again.html">Pointing & Cross-Correlation yet again</a>
              </li>
              <li class="post">
                  2012/09/08
                  <br>
                  <a href="https://keflavich.github.io/blog/cross-correlation-offsets-revisited.html">Cross-Correlation Offsets Revisited</a>
              </li>
        </ul>
      </li>
    
    </ul>
  </div><!-- end #sidebar -->

  <div id="content">
<section id="content">
<h2>Articles by Adam (adam.g.ginsburg@gmail.com)</h2>

<ul id="post-list">
    <li><article class="hentry">
        <header> 
            <h2 class="entry-title">
                <a href="https://keflavich.github.io/blog/task-list.html" rel="bookmark" title="Permalink to Task List">
                    Task List</a>
            </h2> 
        </header>
        <footer class="post-info">
            <abbr class="published" title="2008-08-22T00:29:00-06:00"> 2008/08/22 </abbr>
            <!--<address class="vcard author"><a class="url fn" href="https://keflavich.github.io/blog/author/adam-adamgginsburggmailcom.html">Adam (adam.g.ginsburg@gmail.com)</a></address>-->
        </footer><!-- /.post-info -->
        <div class="entry-content"> <p>For the moment, I'm going to leave the pointing alone. This leaves us
(me) with a very long list of things to do before the data release:</p>
<ol class="arabic simple">
<li>Determine ideal iterative mapping strategy for low-flux fields</li>
<li>Determine ideal iterative mapping strategy for fields with bright
sources</li>
<li>Optimize at least the following:<ol class="arabic">
<li>scan flatting (polynomial subtraction)</li>
<li>PCA subtraction</li>
<li>Pre-PCA sky subtraction (necessary?)</li>
<li>Deconvolution/No deconvolution</li>
</ol>
</li>
<li>GENERATE MAPS [top priority, but it can't really happen til after the
above]</li>
<li>Assure consistency with catalogs - e.g. Motte, SCUBA, etc.</li>
<li>Figure out what needs to go into fits header</li>
<li>Survive semester before comps [lowest priority]</li>
<li>sleep [oh, right, real lowest priority]</li>
</ol>
<p>Sarcasm helps me survive. Almost as much as beer.</p>
 </div>
        <!-- /.entry-content   not article.summary--> 
    </article></li>
    <hr width=100%>
    <li><article class="hentry">
        <header> 
            <h2 class="entry-title">
                <a href="https://keflavich.github.io/blog/new-pointing-models.html" rel="bookmark" title="Permalink to New pointing models">
                    New pointing models</a>
            </h2> 
        </header>
        <footer class="post-info">
            <abbr class="published" title="2008-08-21T20:45:00-06:00"> 2008/08/21 </abbr>
            <!--<address class="vcard author"><a class="url fn" href="https://keflavich.github.io/blog/author/adam-adamgginsburggmailcom.html">Adam (adam.g.ginsburg@gmail.com)</a></address>-->
        </footer><!-- /.post-info -->
        <div class="entry-content"> <p>I decided to try to fit the pointing model as a full alt/az or ra/dec
dependent thing using mpfitfun and a 12 (or 16) parameter model. It
didn't work very well.
I could fit out the alt dependence, then independently fit out the az
dependence, and see how that goes. I think it will work brilliantly.</p>
 </div>
        <!-- /.entry-content   not article.summary--> 
    </article></li>
    <hr width=100%>
    <li><article class="hentry">
        <header> 
            <h2 class="entry-title">
                <a href="https://keflavich.github.io/blog/got-a-sign-wrong-again.html" rel="bookmark" title="Permalink to Got a sign wrong again">
                    Got a sign wrong again</a>
            </h2> 
        </header>
        <footer class="post-info">
            <abbr class="published" title="2008-08-21T20:40:00-06:00"> 2008/08/21 </abbr>
            <!--<address class="vcard author"><a class="url fn" href="https://keflavich.github.io/blog/author/adam-adamgginsburggmailcom.html">Adam (adam.g.ginsburg@gmail.com)</a></address>-->
        </footer><!-- /.post-info -->
        <div class="entry-content"> <p>Last night's run failed because I had a wrong sign in the pointing
model. Do over time!</p>
 </div>
        <!-- /.entry-content   not article.summary--> 
    </article></li>
    <hr width=100%>
    <li><article class="hentry">
        <header> 
            <h2 class="entry-title">
                <a href="https://keflavich.github.io/blog/notice-anything-different.html" rel="bookmark" title="Permalink to Notice anything different?">
                    Notice anything different?</a>
            </h2> 
        </header>
        <footer class="post-info">
            <abbr class="published" title="2008-08-21T01:08:00-06:00"> 2008/08/21 </abbr>
            <!--<address class="vcard author"><a class="url fn" href="https://keflavich.github.io/blog/author/adam-adamgginsburggmailcom.html">Adam (adam.g.ginsburg@gmail.com)</a></address>-->
        </footer><!-- /.post-info -->
        <div class="entry-content"> <p>About milkyway? This post is a red herring, but:
I decided to go ahead and run the mapper on Cygnus, L33, L111, and the
Galactic Center again. The pointing has gotten to the stage where I'm
certain I can't do anything more without a stroke of pure brilliance or
a conversation with someone who hasn't touched a thing - e.g. Jason -
that suddenly enlightens me.
In order to fully reproduce Meredith's results, I'd probably have to go
back through and follow her 'pipeline' process step by step as well, and
I suspect that, if I had used her method on her RA/Dec maps, I would
have come up with exactly the same problem I currently see. Therefore, I
won't do anything about it.
I think the most appropriate response at this point MAY be to just fit a
damned polynomial/sine curve in az and include that as part of the
pointing model, but I can't justify where that comes from. All I know is
that it's present in Meredith's data as well as my own.
What's that next step with the PPSes? We need to do that.
More important, though, is getting some image optimization ready FAST. I
need to be running this stuff before September! Tonight's run will be a
test of numbers of PCA components. At the very least, the v0.5 should
have a consistent set of images even if we cut out the high-flux ones.
We'll deal with that later.
For the high flux objects, e.g. g34.3, since we have so much overlapping
data, a simple average/magical baseline subtraction might be just as if
not more effective than PCA subtraction, so that's one way around it.</p>
 </div>
        <!-- /.entry-content   not article.summary--> 
    </article></li>
    <hr width=100%>
    <li><article class="hentry">
        <header> 
            <h2 class="entry-title">
                <a href="https://keflavich.github.io/blog/modifications.html" rel="bookmark" title="Permalink to Modifications">
                    Modifications</a>
            </h2> 
        </header>
        <footer class="post-info">
            <abbr class="published" title="2008-08-19T18:07:00-06:00"> 2008/08/19 </abbr>
            <!--<address class="vcard author"><a class="url fn" href="https://keflavich.github.io/blog/author/adam-adamgginsburggmailcom.html">Adam (adam.g.ginsburg@gmail.com)</a></address>-->
        </footer><!-- /.post-info -->
        <div class="entry-content"> <p>Things that have been changed in the past 24 hours that are very
significant:</p>
<ol class="arabic simple">
<li>In apply_pointing_model, the signs of FAZO and FZAO have been
swapped. I BELIEVE this is correct but somehow things aren't working
out still.</li>
<li>In do_the_pointing I have changed from &quot;eq2hor&quot; and &quot;hor2eq&quot; to
&quot;my_eq2hor&quot; and &quot;my_hor2eq&quot;. These implement two major changes:<ol class="arabic">
<li>The LST is passed as a parameter rather than calculated within the
ASTROLIB code</li>
<li>The conversion is calculated with BOTH hadec2altaz and getaltaz
(and similar for the opposite transformation) and compared for
error checking purposes. If they differ by more than one
arcsecond, the code will spit out an error message and use
getaltaz.</li>
</ol>
</li>
</ol>
 </div>
        <!-- /.entry-content   not article.summary--> 
    </article></li>
    <hr width=100%>
    <li><article class="hentry">
        <header> 
            <h2 class="entry-title">
                <a href="https://keflavich.github.io/blog/inconsistent.html" rel="bookmark" title="Permalink to Inconsistent">
                    Inconsistent</a>
            </h2> 
        </header>
        <footer class="post-info">
            <abbr class="published" title="2008-08-17T18:56:00-06:00"> 2008/08/17 </abbr>
            <!--<address class="vcard author"><a class="url fn" href="https://keflavich.github.io/blog/author/adam-adamgginsburggmailcom.html">Adam (adam.g.ginsburg@gmail.com)</a></address>-->
        </footer><!-- /.post-info -->
        <div class="entry-content"> <p>James: &quot;I think it's fair to say, though, that there is some problem
with the simultaneous assumption that CSO coords are geo and that we are
applying the ab/nut correction correctly.&quot;
Yep. The relevant files are in /scratch/adam_work/plots/:
models_noabnut_radec_0707.ps
models_noabnut_rawcsoptg_radec_0707.ps
models_oppositeabnut_radec_0707.ps
models_oppositeabnut_rawcso_radec_0707.ps
I'm afraid they're pretty confusing.
'noabnut' means no aberration/nutation correction was applied during the
mapping process.
'oppositeabnut' means that an aberration/nutation correction that,
according to the eq2hor and hor2eq texts, should actually convert
heliocentric to geocentric, is being used on data that we believe is
starting in a geocentric frame. There are two possibilities: 1. We are
wrong 2. eq2hor/hor2eq are wrong.
The 'rawcso' files have FAZO/FZAO &quot;subtracted out&quot; (removed) in pages 1
and 3, and FAZO/FZAO added back in on pages 2 and 4. 'rawcso' means that
we're looking at the ra/dec the CSO gave without the users' FAZO/FZAO
corrections.
The non-rawcso have the NCDF ra/dec vectors, with precession correction
applied (and some form of ab/nut correction), but the FAZO/FZAO are
still present. THESE should be equivalent to Meredith's plots, e.g.
where FAZO_SET/FZAO_SET are on the y axis. However, that's only true
for pages 1 and 3. Pages 2 and 4 have FAZO/FZAO essentially
double-subtracted, so they should be ignored. Pages 1 and 3 of the
non-rawcso files should be equivalent to pages 2 and 4 of the rawcso
files with the exception that the sigma-rejection used to choose the
yellow points is different.
So what's in each page? On pages 1 and 2, the red lines are my best fit
to the yellow data, which is the black data with an iterative sigma
rejection applied (i.e. reject at 1 sigma, recalculate sigma from good
data, reject at 2 sigma). The blue lines are Meredith's models. The
right side includes only the yellow data points with the red line
subtracted. On pages 3 and 4, the same is pretty much true except that
ONLY the altitude-dependent line has been subtracted: there is no fit to
azimuth.
Also, the 'sourcecompare' files are similar. I'd check those out too.
I still don't have the extremely low RMS that Meredith saw. I'm going to
go through and try to reject bad data points by hand to see if I can get
to that level. We'll see.</p>
 </div>
        <!-- /.entry-content   not article.summary--> 
    </article></li>
    <hr width=100%>
    <li><article class="hentry">
        <header> 
            <h2 class="entry-title">
                <a href="https://keflavich.github.io/blog/direct-comparison-with-merediths-pointing-calculations.html" rel="bookmark" title="Permalink to Direct comparison with Meredith's pointing calculations">
                    Direct comparison with Meredith's pointing calculations</a>
            </h2> 
        </header>
        <footer class="post-info">
            <abbr class="published" title="2008-08-14T04:11:00-06:00"> 2008/08/14 </abbr>
            <!--<address class="vcard author"><a class="url fn" href="https://keflavich.github.io/blog/author/adam-adamgginsburggmailcom.html">Adam (adam.g.ginsburg@gmail.com)</a></address>-->
        </footer><!-- /.post-info -->
        <div class="entry-content"> <p>I've gotten to the point that I'm directly comparing my pointing
calculations to Merediths. So far, it looks like:
1. I can very nearly reproduce Meredith's results on her maps, though
there are a few differences in centroids and I missed the source a few
times where she didn't.
2. There is still a spread between my map centroids and hers.
The code I've written to enable this comparison:
publish/debug_testing/compare_me_meredith.pro
I'm still a bit stumped, but I think I have a path to the answer mapped
out.</p>
 </div>
        <!-- /.entry-content   not article.summary--> 
    </article></li>
    <hr width=100%>
    <li><article class="hentry">
        <header> 
            <h2 class="entry-title">
                <a href="https://keflavich.github.io/blog/centroiding-and-merediths-files.html" rel="bookmark" title="Permalink to Centroiding and Meredith's files">
                    Centroiding and Meredith's files</a>
            </h2> 
        </header>
        <footer class="post-info">
            <abbr class="published" title="2008-08-13T03:54:00-06:00"> 2008/08/13 </abbr>
            <!--<address class="vcard author"><a class="url fn" href="https://keflavich.github.io/blog/author/adam-adamgginsburggmailcom.html">Adam (adam.g.ginsburg@gmail.com)</a></address>-->
        </footer><!-- /.post-info -->
        <div class="entry-content"> <p>I tried the pointing offset calculations on Meredith's maps and I still
get an RMS of ~9&quot; in both RA and DEC. Check out the files:
/scratch/adam_work/plots/models_meredith*
So... what?</p>
 </div>
        <!-- /.entry-content   not article.summary--> 
    </article></li>
    <hr width=100%>
    <li><article class="hentry">
        <header> 
            <h2 class="entry-title">
                <a href="https://keflavich.github.io/blog/searching-for-more-offsets.html" rel="bookmark" title="Permalink to Searching for more offsets">
                    Searching for more offsets</a>
            </h2> 
        </header>
        <footer class="post-info">
            <abbr class="published" title="2008-08-12T21:35:00-06:00"> 2008/08/12 </abbr>
            <!--<address class="vcard author"><a class="url fn" href="https://keflavich.github.io/blog/author/adam-adamgginsburggmailcom.html">Adam (adam.g.ginsburg@gmail.com)</a></address>-->
        </footer><!-- /.post-info -->
        <div class="entry-content"> <p>The defining feature of my pointing calculations - and their
inconsistency - is that the spread for individual sources is bad, which
means that there's still something wrong in the way the bulk ra/dec are
being calculated.</p>
<p>I checked apply_distortion_map_radec to see if it might have inserted
some bulk offset, but it only changes the average position by &lt;2&quot;. That
might be an issue, but the boresight isn't necessarily aligned with the
mean location of the bolometers. It should be shifted by at least .3&quot;
according to a simple average of sin/cos of the bolo_params angles.
Comparing my pointing code to map_ncdf_reading directly:</p>
<p>readstruct=map_ncdf_reading(filename,/nopixoff)
offsets are small (e.g. -0.050665803 -0.0029540043 arcseconds ra/dec) if
I don't subtract fazo/fzao
offsets in ra/dec are remarkably close to fazo/fzao if I subtract them:</p>
<pre class="literal-block">
92.830656 -126.12773
95.000000 -120.00000
</pre>
<p>which is because ra/dec are pretty closely aligned to az/el.
So, any difference comes from at least one of the keyword parameters.
Therefore I AM missing something, and that something is one of the
keywords to map_ncdf_reading</p>
 </div>
        <!-- /.entry-content   not article.summary--> 
    </article></li>
    <hr width=100%>
    <li><article class="hentry">
        <header> 
            <h2 class="entry-title">
                <a href="https://keflavich.github.io/blog/ffts-and-unlucky-primes.html" rel="bookmark" title="Permalink to FFTs and unlucky primes">
                    FFTs and unlucky primes</a>
            </h2> 
        </header>
        <footer class="post-info">
            <abbr class="published" title="2008-08-12T17:04:00-06:00"> 2008/08/12 </abbr>
            <!--<address class="vcard author"><a class="url fn" href="https://keflavich.github.io/blog/author/adam-adamgginsburggmailcom.html">Adam (adam.g.ginsburg@gmail.com)</a></address>-->
        </footer><!-- /.post-info -->
        <div class="entry-content"> <p>I've encountered a lot (!) of unlucky prime numbers that I'm trying to
FFT in too many places, and it basically stops the code.
211151 was impossibly bad, 5827 is pretty bad too.
I solved the first by splitting into by-scan delining, which is better
anyway. But the second is a map, in which I KNOW zero padding is OK.
So... are there any functions that find the nearest reasonably efficient
map size?</p>
 </div>
        <!-- /.entry-content   not article.summary--> 
    </article></li>
    <hr width=100%>
</ul><!-- /#posts-list -->
<p class="paginator">
            <a href="https://keflavich.github.io/blog/author/adam-adamgginsburggmailcom16.html">&laquo;</a>
    Page 17 / 20
        <a href="https://keflavich.github.io/blog/author/adam-adamgginsburggmailcom18.html">&raquo;</a>
</p>
</section><!-- /#content -->
  </div>

    <script type="text/javascript">
    var _gaq = _gaq || [];
    _gaq.push(['_setAccount', 'UA-37306139-1']);
    _gaq.push(['_trackPageview']);
    (function() {
        var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
        ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
        var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
    })();

    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
    (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
    m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-37306139-1');
    ga('send', 'pageview');
</script>
<script type="text/javascript">
  var disqus_shortname = 'adamginsburgsblog';
  (function() {
        var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
        dsq.src = 'http://' + disqus_shortname + '.disqus.com/embed.js';
        (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
   })();
</script>
</body>
</html>
