<!DOCTYPE html>
<html lang="en">
<link rel="stylesheet" type="text/css" href="https://keflavich.github.io/blog/theme/css/style.css" />
<link rel="icon" type="image/gif" href="https://keflavich.github.io/blog/theme/favicon8.ico">
<head>
    <base href="https://keflavich.github.io/blog">
        <title>Adam Ginsburg's blog</title>
        <meta charset="utf-8" />
        <link href="https://keflavich.github.io/blog/feeds/all.atom.xml" type="application/atom+xml" rel="alternate" title="Adam Ginsburg's blog Full Atom Feed" />
<!-- Using MathJax, with the delimiters $ -->
<!-- Conflict with pygments for the .mo and .mi -->
<script type="text/x-mathjax-config">
    MathJax.Hub.Config({
    "HTML-CSS": {
    styles: {
    ".MathJax .mo, .MathJax .mi": {color: "inherit !important"}},
    'div.typeset': { 'text-align': 'left'}
    },
    tex2jax: {inlineMath: [['$','$'], ['\\(','\\)']],processEscapes: true}
    });
    TeX: {
        extensions: ["AMSmath.js", "AMSsymbols.js"]
    }
    MathJax.Hub.Register.StartupHook("HTML-CSS Jax Ready",function () {
    var VARIANT = MathJax.OutputJax["HTML-CSS"].FONTDATA.VARIANT;
    VARIANT["normal"].fonts.unshift("MathJax_SansSerif");
    VARIANT["bold"].fonts.unshift("MathJax_SansSerif-bold");
    VARIANT["italic"].fonts.unshift("MathJax_SansSerif-italic");
    VARIANT["-tex-mathit"].fonts.unshift("MathJax_SansSerif-italic");
    });
    MathJax.Hub.Register.StartupHook("SVG Jax Ready",function () {
    var VARIANT = MathJax.OutputJax.SVG.FONTDATA.VARIANT;
    VARIANT["normal"].fonts.unshift("MathJax_SansSerif");
    VARIANT["bold"].fonts.unshift("MathJax_SansSerif-bold");
    VARIANT["italic"].fonts.unshift("MathJax_SansSerif-italic");
    VARIANT["-tex-mathit"].fonts.unshift("MathJax_SansSerif-italic");
    });
</script>

<script type="text/javascript"
src="http://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS_HTML">
</script>
        
</head>

<body id="base" class="home">


    <header id="banner" class="body" >
        <div id="header" style='background-image: url("https://keflavich.github.io/blog/images/GC_4096sq_bolo.png"); background-position:left; min-heigt: 200px;  background-repeat: no-repeat; max-width: 80%;'>
            <h1 style="color: #C4C4C4;"><a class="header" href="https://keflavich.github.io/blog">Adam Ginsburg's blog <strong></strong></a></h1>

            <nav id="menu"><ul id="menulist">
                <li><a href="https://www.adamgginsburg.com">Homepage</a></li>
                <li><a href="/index.html">Blog Index</a></li>
                <li><a href="/category/bgps.html">BGPS Blog</a></li>
                <li><a href="/category/publications.html">Publications</a></li>
                <li><a href="/archives.html">Archives</a></li>
                <li><a href="/tags.html">Tags</a></li>
            </ul></nav><!-- /#menu -->
        </div>
    </header><!-- /#banner -->

  <div id="sidebar">
    <ul>
      <li>
        <h3 id='recent_header'>Recent Posts</h3>
        <ul>
              <li class="post">
                  2025/03/15
                  <br>
                  <a href="https://keflavich.github.io/blog/pushing-to-a-pull-request.html">Pushing to a pull request</a>
              </li>
              <li class="post">
                  2023/08/11
                  <br>
                  <a href="https://keflavich.github.io/blog/editing-metadata-in-measurement-sets.html">Editing metadata in measurement sets</a>
              </li>
              <li class="post">
                  2022/05/06
                  <br>
                  <a href="https://keflavich.github.io/blog/casa-mpi-debugging-contd.html">CASA MPI debugging cont'd</a>
              </li>
              <li class="post">
                  2022/05/01
                  <br>
                  <a href="https://keflavich.github.io/blog/co2-monitoring-at-conferences-update-in-2022.html">CO2 Monitoring at Conferences: Update in 2022</a>
              </li>
              <li class="post">
                  2022/04/14
                  <br>
                  <a href="https://keflavich.github.io/blog/alma-cycle-9-corrupted-zip-fix.html">ALMA Cycle 9 corrupted zip fix</a>
              </li>
        </ul>
      </li>
    
    </ul>
  </div><!-- end #sidebar -->

  <div id="content">
<section id="content">

<ul id="post-list">
    <li><article class="hentry">
        <header> 
            <h2 class="entry-title">
                <a href="https://keflavich.github.io/blog/naomi-mcclure-griffiths-hi-outflows-from-the-galactic-center-20-5-minutes.html" rel="bookmark" title="Permalink to Naomi McClure Griffiths: HI Outflows from the Galactic Center (20 + 5 minutes)">
                    Naomi McClure Griffiths: HI Outflows from the Galactic Center (20 + 5 minutes)</a>
            </h2> 
        </header>
        <footer class="post-info">
            <abbr class="published" title="2013-09-30T14:00:00-06:00"> 2013/09/30 </abbr>
            <!--<address class="vcard author"><a class="url fn" href="https://keflavich.github.io/blog/author/adam-ginsburg.html">Adam Ginsburg</a></address>-->
        </footer><!-- /.post-info -->
        <div class="entry-content"> <img alt="" src="https://keflavich.github.io/blog/iau303/images/mccluregriffiths.jpg" style="width: 800px;" />
<p>Outflows - M82 example</p>
<p>Our Galaxy</p>
<blockquote>
<ul class="simple">
<li>8.3um correlated with radio continuum</li>
<li>Fermi bubbles</li>
<li>Radio polarization - magnetized bubble</li>
<li>ATCA + Parkes HI survey</li>
<li>HI data publicly available: <a class="reference external" href="http://arxiv.org/abs/1201.2438">http://arxiv.org/abs/1201.2438</a>, <a class="reference external" href="http://www.atnf.csiro.au/research/HI/sgps/queryForm.html">http://www.atnf.csiro.au/research/HI/sgps/queryForm.html</a>
+ 86 high latitude clouds that are completely distinct from the rest
+ Â± 200 km/s
+ negative velocities at the bottom
+ size ~15 pc, ~few hundred Msun
+ 4000K clouds
+ n~1cm^-3
+ not in circular orbits</li>
</ul>
</blockquote>
<dl class="docutils">
<dt>Lockman &quot;very dumb simulation&quot;</dt>
<dd><ul class="first last simple">
<li>model as outflowing clouds</li>
<li>wind velocity, outflow angle</li>
<li>min/max velocity plots: look for clouds beyond the min/max vel
+ wind velocities 150-270 km/s can reproduce population</li>
</ul>
</dd>
<dt>Cooper 2008, Melioli 2013</dt>
<dd><ul class="first last simple">
<li>simulations predict entrainment of dense gas</li>
<li>cold wind is responsible</li>
<li>2 Myr to get clouds to observed height</li>
</ul>
</dd>
<dt>Wind dynamics</dt>
<dd><ul class="first last simple">
<li>cold clumps entrained in hot outflow
total mass ~4x10^4, but completeness loss -&gt; 10^5 msun</li>
<li>energy total ~10^52 erg</li>
<li>easily supplied by present SFR</li>
</ul>
</dd>
<dt>Future</dt>
<dd><ul class="first last simple">
<li>can look further in both lat &amp; long
+ determine lifetime
+ constrain opening angle</li>
</ul>
</dd>
</dl>
<div class="section" id="questions">
<h2>Questions</h2>
<blockquote>
<ul class="simple">
<li>Q: Where does the mass come from?  Is it hard to resupply?  Where does it go?</li>
<li>Q: Do you see any warm gas (H-alpha)?</li>
<li>A: looked at WHAM, but resolution too poor.  Not clear yet.</li>
<li><dl class="first docutils">
<dt>Q Mitch: 600 km/s.  Injected explosively or must go through a sonic point</dt>
<dd>with a grav. potential, which would imply that it's coming from a black hole</dd>
</dl>
</li>
<li>A: OK, great, someone else give me the theoretical explanation</li>
<li><dl class="first docutils">
<dt>Q Stocke: Warm component has been detected in absorption against AGN; velocities consistent.</dt>
<dd>Gas goes up to 12 kpc on either side and does not escape.
Hot wind requires Chandra, not yet successful.</dd>
</dl>
</li>
<li>Q: for Stocke - How much gas in hot wind?</li>
<li>A: Not detected</li>
<li>Q: Could this be inflow?</li>
<li>A: We don't see this around other parts of the galaxy except around superbubbles.
No conspiracy accreting towards CMZ</li>
<li>Q Farhad: We've looked at RRLs in inner degree.   Don't see any
high-velocity ionized gas.  Must be accelerated away from disk.</li>
<li>Q Namir Kassim: High energy emission from cosmic rays impacting these clouds?</li>
<li>A: Possibly, we'd like to look at that more</li>
</ul>
</blockquote>
</div>
 </div>
        <!-- /.entry-content   not article.summary--> 
    </article></li>
    <hr width=100%>
    <li><article class="hentry">
        <header> 
            <h2 class="entry-title">
                <a href="https://keflavich.github.io/blog/mathieu-de-naurois-tev-observations-of-gc-and-starburst-systems.html" rel="bookmark" title="Permalink to Mathieu de Naurois: TeV Observations of GC and Starburst Systems">
                    Mathieu de Naurois: TeV Observations of GC and Starburst Systems</a>
            </h2> 
        </header>
        <footer class="post-info">
            <abbr class="published" title="2013-09-30T11:30:00-06:00"> 2013/09/30 </abbr>
            <!--<address class="vcard author"><a class="url fn" href="https://keflavich.github.io/blog/author/adam-ginsburg.html">Adam Ginsburg</a></address>-->
        </footer><!-- /.post-info -->
        <div class="entry-content"> <img alt="" src="https://keflavich.github.io/blog/iau303/images/naurois.jpg" style="width: 800px;" />
<dl class="docutils">
<dt>TeV observations</dt>
<dd><ul class="first last simple">
<li>scintillation in air (Cherenkov)</li>
<li>Hadron detection</li>
<li>watching for light showers</li>
<li>HESS camera is huge: 1.5m across (fast photometers)</li>
<li>HESS, VERITAS, MAGIC dominate</li>
</ul>
</dd>
<dt>Galactic Center</dt>
<dd><ul class="first last simple">
<li>high energy density (100 eV cm^-3)</li>
<li>dense GMCs &amp; starburst activity</li>
<li>HESS CMZ good...</li>
<li>VERITAS CMZ 18-sigma in 46h</li>
<li>HESS, mol clds trace similar areas</li>
<li>Local excess of 10 TeV -&gt; requires local source of CRs</li>
<li>Correlation between mol clds great in Sgr B, Sgr A, but poor in Sgr D
+ no TeV emission at |l|&gt;1 degree
+ Propagation from central source? not enough propagation time
+ Maybe CRs directly accelerated?</li>
</ul>
</dd>
<dt>Central Source</dt>
<dd><ul class="first last simple">
<li>Could be Sgr A*, Sgr A East SNR, or other</li>
<li>best fit position is 6&quot;rms around Sgr A*
+ Sgr A East ruled out with CCD-guiding based observations</li>
<li>No variability detected</li>
<li>in general, only middle part of SED variable</li>
<li>Pulsar Wind Nebula ruled out with Chandra?</li>
</ul>
</dd>
<dt>Dark Matter search</dt>
<dd><ul class="first last simple">
<li>exclude central region with diffuse CR-driven emission</li>
<li>search at |b|&gt;0.5</li>
<li>no positive detection; see Friday talks</li>
</ul>
</dd>
<dt>Testing SFR</dt>
<dd><ul class="first last simple">
<li>TeV detections of M82 (Veritas), NGC 253 (HESS)</li>
<li>NGC 253 approximately pointlike
+ 0.5% crab
+ Linear from gamma ray to TeV
+ hard spectrum
+ 3 orders of magnitude more luminous than CMZ
+ 2x10^38 vs 10^35</li>
<li>M82 VERITAS
+ 0.9% crab
+ more luminous: 2x10^39 ergs</li>
<li>Why brighter?
+ Higher B-field?  Higher CR density?</li>
<li>Starburst could be calorimetric; Sgr A cannot be
+ [Unclear - does that mean CRs escape in the Galaxy?]</li>
</ul>
</dd>
<dt>HESS II</dt>
<dd><ul class="first last simple">
<li>bigger telescopes</li>
<li>lower energy threshold</li>
<li>better res &amp; sens</li>
<li>10m+ optical dish</li>
</ul>
</dd>
<dt>Sgr A* with HESS II</dt>
<dd><ul class="first last simple">
<li>3 hrs so far...</li>
<li>lines up with Fermi spectrum</li>
</ul>
</dd>
<dt>Questions</dt>
<dd><ul class="first last simple">
<li>Can you model with no pulsar wind nebula (all emission in black hole)?</li>
<li>A: PWN can explain GeV but not TeV.  PWN not needed for TeV.  But, PWN could
still account for some GeV emission.</li>
<li>GeV and TeV could be different.  Which has worse resolution?</li>
<li>Similar resolution.  Fermi around 200 MeV ~ HESS 100 GeV.  Both have better
resolution at higher energy.</li>
<li>Consistent with Sgr A*...</li>
<li>Fermi problem is the diffuse background; HESS doesn't have that problem</li>
<li>Q Farhad: What is the energy density of CRs for diffuse TeV emission?</li>
<li>about 100 eV cm^-3, maybe</li>
<li>Q Stocke: How much loss is there between us and CMZ due to electron/positron?  For TeV rays?</li>
<li>&lt;10%.  Main absorber is CMB?</li>
<li>Maybe more photons from CMZ -&gt; greater absorption than CMZ</li>
<li>~5% loss at highest energy only</li>
</ul>
</dd>
</dl>
 </div>
        <!-- /.entry-content   not article.summary--> 
    </article></li>
    <hr width=100%>
    <li><article class="hentry">
        <header> 
            <h2 class="entry-title">
                <a href="https://keflavich.github.io/blog/fred-baganoff-x-ray-visionary-project-sgra.html" rel="bookmark" title="Permalink to Fred Baganoff: X-ray Visionary Project: SgrA*">
                    Fred Baganoff: X-ray Visionary Project: SgrA*</a>
            </h2> 
        </header>
        <footer class="post-info">
            <abbr class="published" title="2013-09-30T11:00:00-06:00"> 2013/09/30 </abbr>
            <!--<address class="vcard author"><a class="url fn" href="https://keflavich.github.io/blog/author/adam-ginsburg.html">Adam Ginsburg</a></address>-->
        </footer><!-- /.post-info -->
        <div class="entry-content"> <img alt="" src="https://keflavich.github.io/blog/iau303/images/baganoff.jpg" style="width: 800px;" />
<dl class="docutils">
<dt>High-res x-ray spectra of Sgr A* &amp; surrounding emission</dt>
<dd><ul class="first last simple">
<li>Radio pol obs: most accreting matter doesn't reach event horizon</li>
<li>3 Ms exposure</li>
<li>specific roll-angles required because Chandra has no slit</li>
<li>detected 6.67 keV Helium-like Fe K-alpha
+ hi-res rules out 6.4 keV emission model</li>
</ul>
</dd>
<dt>What mechanism drives Sgr A* flares?</dt>
<dd><ul class="first last simple">
<li>what x-ray emission mechanism?  Thermal?  Compton? Synchro?   etc.</li>
<li>X-ray/NIR variable</li>
<li>mm/radio events weaker, longer timescale, optically thick</li>
<li>do mm/radio lead or lag?</li>
<li>What determines flare cycle?</li>
<li>What triggers flares?</li>
</ul>
</dd>
<dt>Observations</dt>
<dd><ul class="first last simple">
<li>Backgrounds are a big problem</li>
<li>Details about order sorting,  etc.</li>
</ul>
</dd>
</dl>
<p>Questions</p>
<blockquote>
<ul class="simple">
<li>Farhad: Discovered a lot of X-ray binaries.  Find any sources within 1'?</li>
<li>Found the old recurrent ones.  Magnetar is new.  No new bright ones,
searching for faint ones.  Vast population of faint variables.</li>
<li>Q: Underlying physical mechanism still unknown.  Where are we going?  How do
we figure it out?</li>
<li>A: NuStar will help. Very narrow window; can't see optical or UV.   This campaign
gives more examples.</li>
<li>Cornelia: Is anyone working on the diffuse?  Nonthermal filament sticks out brightly</li>
<li>Yes.  Sgr E &amp; F sources.  Studying with NuStar team.</li>
<li>Q: Can you create images with 3Ms spectra?</li>
<li>A: Not much better; the grating reduces raw sensitivity.</li>
<li>Q: Dismissed possibility of periodicity.  Have you carefully looked?
Lomb-Scargle?</li>
<li>A: Lots of times with no flaring obvious.  But, maybe a lot missed below the
noise of the DC signal.  Brightest peaks are not periodic.  Peaks put into
Lomb-Scargle, but not enough data for that.  Will look at power spectrum
though.</li>
</ul>
</blockquote>
 </div>
        <!-- /.entry-content   not article.summary--> 
    </article></li>
    <hr width=100%>
    <li><article class="hentry">
        <header> 
            <h2 class="entry-title">
                <a href="https://keflavich.github.io/blog/woong-tae-kim-star-formation-in-nuclear-rings.html" rel="bookmark" title="Permalink to Woong-Tae Kim: Star Formation in Nuclear Rings">
                    Woong-Tae Kim: Star Formation in Nuclear Rings</a>
            </h2> 
        </header>
        <footer class="post-info">
            <abbr class="published" title="2013-09-30T11:00:00-06:00"> 2013/09/30 </abbr>
            <!--<address class="vcard author"><a class="url fn" href="https://keflavich.github.io/blog/author/adam-ginsburg.html">Adam Ginsburg</a></address>-->
        </footer><!-- /.post-info -->
        <div class="entry-content"> <img alt="" src="https://keflavich.github.io/blog/iau303/images/kim.jpg" style="width: 800px;" />
<p>Nuclear Rings</p>
<blockquote>
<ul class="simple">
<li>Form by resonant interactions with barred potentials
+ but bar torque is low near inner lindbland resonances
+ resonance is very long timescale</li>
<li>claim that bar strength controls bar substructure</li>
<li>bar potential modeled by &quot;Ferrers Prolates&quot;</li>
<li>Q_B is the &quot;controlling parameter&quot;
+ Q_B = 0.23 yields really cool looking models</li>
<li>stronger bar leads to smaller radius ring
+ pushes more gas inward</li>
<li>range of SFR
+ age gradient within nuclear rings</li>
</ul>
</blockquote>
<p>Two models of ring SF</p>
<blockquote>
<ul class="simple">
<li>popcorn model
+ randomly distributed
+ no age gradient</li>
<li>pearls-on-a-string model
+ SF at contact point
+ age gradient</li>
<li>age gradient &lt;-&gt; lower SFR</li>
<li>simulation generating 10^5 msun clusters</li>
</ul>
</blockquote>
<p>Sim results</p>
<blockquote>
<ul class="simple">
<li>presence or absence of age gradient depends on SFR
+ no age gradient if SFR &gt; 1 Myr
+ corresponds to maximum SFR at a contact point</li>
<li>prolonged SF requires prolonged feeding
+ HVCs (accretion of primordial gas)
+ ang mom dissipation by spiral arms
+ Galactic fountains</li>
<li>If corotation radius at large R, can feed spiral arms into ring</li>
</ul>
</blockquote>
<div class="section" id="questions">
<h2>Questions</h2>
<blockquote>
<ul class="simple">
<li>Q: Sims are pure hydro.  Speculate on B-fields.  Chuckle.</li>
<li>A: Ring would be smaller</li>
<li>Q: Typical velocity of gas along bar in model?</li>
<li>A: 50-100 km/s</li>
<li>Q: Do you mean no need for x2 orbit?</li>
<li>A: no, need X2 to form ring.  Formation mechanism of ring is not related to resonance.</li>
<li>Q: Ring on x2 orbit?</li>
<li>A: yes</li>
<li>Q: is there observation evidence of age gradients in nuclear rings?</li>
<li>A: Yes, Mazzuca '08 shows gradient in H-alpha EQW</li>
<li>Q Farhad:  Can you form the circumnuclear disk (2pc) with the same mechanism?</li>
<li>A: Can't answer now.  Need to run the simulation with the right size-scale</li>
<li>Q: Would the bar be unstable to bending instabilities in 3D?</li>
<li>A: We ran 3D, and didn't see any difference.  But, with different initial
conditions, may see dynamical difference..</li>
<li>Q: Have you modeled where the bar meets the arm?</li>
<li>A: No, couldn't do that, only treated stellar.</li>
</ul>
</blockquote>
</div>
 </div>
        <!-- /.entry-content   not article.summary--> 
    </article></li>
    <hr width=100%>
    <li><article class="hentry">
        <header> 
            <h2 class="entry-title">
                <a href="https://keflavich.github.io/blog/fiona-harrison-nustar-results-from-the-galactic-center-to-local-starbursts.html" rel="bookmark" title="Permalink to Fiona Harrison: NuSTAR Results: From the Galactic Center to Local Starbursts">
                    Fiona Harrison: NuSTAR Results: From the Galactic Center to Local Starbursts</a>
            </h2> 
        </header>
        <footer class="post-info">
            <abbr class="published" title="2013-09-30T10:00:00-06:00"> 2013/09/30 </abbr>
            <!--<address class="vcard author"><a class="url fn" href="https://keflavich.github.io/blog/author/adam-ginsburg.html">Adam Ginsburg</a></address>-->
        </footer><!-- /.post-info -->
        <div class="entry-content"> <img alt="" src="https://keflavich.github.io/blog/iau303/images/harrison.png" style="width: 800px;" />
<dl class="docutils">
<dt>NuStar</dt>
<dd><ul class="first last simple">
<li>Explorer class</li>
<li>PI-led</li>
<li>Will have guest investigator program</li>
<li>First focusing telescope in high-energy X-ray band</li>
<li>100x improvement in 3-79 keV</li>
<li>Previous telescopes: detector was larger than collecting area of telescope</li>
<li>~18&quot; resolution, 12.5' fov</li>
</ul>
</dd>
<dt>Our CMZ: Multicolor cmz vs INTEGRAL</dt>
<dd><ul class="first last simple">
<li>NUstar FOV = Integral resolution</li>
<li>Survey Muno field (CMZ surey covering negative longitudes)</li>
</ul>
</dd>
<dt>Sgr A*</dt>
<dd><ul class="first last simple">
<li>Flares show it obviously</li>
<li>~1hr/day</li>
<li>detection of flare at &gt;10 keV</li>
</ul>
</dd>
<dt>Gamma ray pulse in Galactic Center</dt>
<dd><ul class="first last simple">
<li>enhanced X-ray emission</li>
<li>pulsations detected</li>
<li>3.7 second pulsations</li>
<li>3&quot; distant magnetar: SGR J1745-29</li>
<li>Associated with disk of massive stars near Sgr A*?</li>
</ul>
</dd>
<dt>HESS J1640-465</dt>
<dd><ul class="first last simple">
<li>being observed right now</li>
<li>TeV source</li>
<li>possible evidence from NuStar for a pulsar</li>
</ul>
</dd>
<dt>Nearby Starburst Galaxies</dt>
<dd><ul class="first last simple">
<li>Observations coordinated with Chandra</li>
<li>NGC 253, Arp 299, M82, NGC 3310, NGC 3256</li>
<li>AGN may only be visible at high energies b/c of absorption at lower energies</li>
<li>sampling range in mass, sfr</li>
</ul>
</dd>
<dt>NGC 253</dt>
<dd><ul class="first last simple">
<li>Lehmer et al 2013</li>
<li>Where is the nucleus?  Crowded core, hard to determine</li>
<li>Chandra obscured X-ray source &quot;off-center&quot; compared to Radio</li>
<li>dynamical center determined; Chandra sees one source near it
+ variability driven by that source
+ nustar spectrum by assuming all variability associated with it
+ classical ULX source: binary star + BH
+ Either IMBH or super-eddington accretion</li>
<li>nuclear emission overestimated due to ULXs</li>
</ul>
</dd>
<dt>Arp 299</dt>
<dd><ul class="first last simple">
<li>Only &quot;B&quot; nucleus visible at high X-ray energies</li>
<li>Only one nucleus currently active</li>
</ul>
</dd>
</dl>
<p>Questions:</p>
<blockquote>
<ul class="simple">
<li>Farhad: Will Nu-Star look at gamma-ray bubble?</li>
<li>A: Two problems: 1. too extended, too much time, can't contribute much</li>
<li>Is there a possibility of other magnetars not yet detected?</li>
<li>A: Various types of magnetars.  Undetectable in quiescence.  Difficult to
constrain overall population.
Raises questions: unlikely by chance; do we not understand magnetar population</li>
<li>What is the diffuse emission detected with INTEGRAL?  In Sgr E?</li>
<li>A: We don't see hard x-ray emission coincident with INTEGRAL source.
Centroid of INTEGRAL source offset from diffuse emission</li>
</ul>
</blockquote>
 </div>
        <!-- /.entry-content   not article.summary--> 
    </article></li>
    <hr width=100%>
    <li><article class="hentry">
        <header> 
            <h2 class="entry-title">
                <a href="https://keflavich.github.io/blog/susanne-aalto-physical-conditions-and-chemistry-of-molecular-gas-in-galactic-centers.html" rel="bookmark" title="Permalink to Susanne Aalto: Physical Conditions and Chemistry of Molecular Gas in Galactic Centers">
                    Susanne Aalto: Physical Conditions and Chemistry of Molecular Gas in Galactic Centers</a>
            </h2> 
        </header>
        <footer class="post-info">
            <abbr class="published" title="2013-09-30T09:30:00-06:00"> 2013/09/30 </abbr>
            <!--<address class="vcard author"><a class="url fn" href="https://keflavich.github.io/blog/author/adam-ginsburg.html">Adam Ginsburg</a></address>-->
        </footer><!-- /.post-info -->
        <div class="entry-content"> <p>Physical conditions &amp; chemistry</p>
<dl class="docutils">
<dt>Astrochemistry as a diagnostic...</dt>
<dd><ul class="first last simple">
<li>50+ molecules detected exgalactically</li>
<li>CO n&gt;10^2, HCN n&gt;10^4</li>
<li>temperature NH3, H2CO</li>
<li>Only works if molecules excited by collisions</li>
<li>12CO/13CO increases towards GC because more diffuse gas [my q: integrated?]</li>
</ul>
</dd>
<dt>&quot;Raisin Roll&quot; view:</dt>
<dd><ul class="first last simple">
<li>Mol massin dense clumps, HI diffuse throughout</li>
<li>HCO+, H3O+, HNC, HC3N, CN, SiO, H2O</li>
</ul>
</dd>
<dt>General Trends</dt>
<dd><ul class="first last simple">
<li>HNC 1-0 anticorrelated with HCN+ 1-0</li>
<li>C2H ubiquitous</li>
</ul>
</dd>
<dt>&quot;Hot Cores&quot;</dt>
<dd><ul class="first last simple">
<li>Arp 220</li>
<li>Drive outflows</li>
<li>&quot;Boring&quot; NGC 1377 (optically)
+ has very deep SiO absorption
+ molecular outflow M~10^7 Msun
+ 860um optically thick core</li>
<li>NGC 4418 &quot;Ugly Duckling&quot; galaxy
+ optically thick &quot;atmosphere&quot; dust core surrounded by molecular disk
+ N~10^25 cm^-2
+ inner temp ~200-300K
+ molecular &quot;disk&quot; ~50K</li>
<li>unclear how common optically thick cores are
+ can be studied with vibrationally excited molecules</li>
<li>NGC 4418
+ Global spectrum dominated by vibrationally excited HC3N</li>
<li>Mrk231
+ HCN outflow, 1000 km/s
+ vibrationally excited HCN in core</li>
<li>vibrationally excited lines trace warped disk</li>
<li>Arp 220W: amplified IR-pumped HNC</li>
</ul>
</dd>
<dt>ALMA NGC 4418 &quot;spectral scan&quot;</dt>
<dd><ul class="first last simple">
<li>dominated by vibrational lines</li>
</ul>
</dd>
<dt>SMA spectral scanning in Arp 220</dt>
<dd><ul class="first last simple">
<li>problematic: wide lines</li>
<li>vibrational lines are the new standard</li>
</ul>
</dd>
<dt>Less obscured galaxies</dt>
<dd><ul class="first last simple">
<li>NGC 253, IC 342, Maffei 2, NGC 1068...</li>
<li>same chemistry can trace outflows or star formation</li>
<li>HNC, HCN, HCO+ correlated with 3mm continuum: trace SF</li>
<li>HNCO, CH3OH, SiO anti-correlated with SF: probably trace outflows</li>
<li>N2H+ - &quot;warm gas&quot; and &quot;warm dust&quot;.  Not the same in our galaxy &amp; others</li>
</ul>
</dd>
<dt>NGC 1068</dt>
<dd><ul class="first last simple">
<li>PdBI Spirals around center</li>
<li>ALMA bar + spirals
+ central cirumnuclear disk</li>
<li>complicated chemistry towards true center</li>
<li>noncircular motions</li>
</ul>
</dd>
<dt>More results:</dt>
<dd><ul class="first last simple">
<li>ALMA + ATCA towards Cen A</li>
<li>NGC 1097</li>
<li>HC3N in Mrk 231</li>
<li>HCN in wind... extreme hcn abundance</li>
</ul>
</dd>
</dl>
<p>Questions:</p>
<blockquote>
<ul class="simple">
<li>Inner NGC 1068 ring - what resolution can you get with ALMA?  Can you see kinematics?</li>
<li>A: Yes, can see kinematics.  0.1&quot;, can do ~10x better eventually.  400 km/s</li>
<li>Draw attention to MOPRA MALT-90: good comparison survey for galaxies</li>
<li>Thanks</li>
</ul>
</blockquote>
 </div>
        <!-- /.entry-content   not article.summary--> 
    </article></li>
    <hr width=100%>
    <li><article class="hentry">
        <header> 
            <h2 class="entry-title">
                <a href="https://keflavich.github.io/blog/john-bally-hi-gal-cmz.html" rel="bookmark" title="Permalink to John Bally - Hi-Gal CMZ">
                    John Bally - Hi-Gal CMZ</a>
            </h2> 
        </header>
        <footer class="post-info">
            <abbr class="published" title="2013-09-30T09:00:00-06:00"> 2013/09/30 </abbr>
            <!--<address class="vcard author"><a class="url fn" href="https://keflavich.github.io/blog/author/adam-ginsburg.html">Adam Ginsburg</a></address>-->
        </footer><!-- /.post-info -->
        <div class="entry-content"> <img alt="" src="https://keflavich.github.io/blog/iau303/images/bally.png" style="width: 800px;" />
<dl class="docutils">
<dt>Summary of Hi-Gal:</dt>
<dd><ul class="first last simple">
<li>900hrs,</li>
<li>inner Â±60 deg, then outer Â±60 deg, then full 360 deg.</li>
<li>Release scheduled late in 2013.</li>
<li>0.5 million band-merged sources</li>
</ul>
</dd>
</dl>
<p>The CMZ:</p>
<blockquote>
<ul class="simple">
<li>we live in a mildly barred galaxy</li>
<li>NGC 1097 as an analog</li>
<li>our CMZ less symmetric</li>
</ul>
</blockquote>
<p>Multiwave comparison:</p>
<blockquote>
<ul class="simple">
<li>asymmetry: 24, 70 right; gas left</li>
<li>snrs, evolved stars, nonthermal filaments, arched filaments...</li>
</ul>
</blockquote>
<p>The Gas:</p>
<blockquote>
<ul>
<li><p class="first">10^7 Msun</p>
</li>
<li><p class="first">CMZ clouds more massive, more turbulent</p>
</li>
<li><p class="first">Cold gas to the left of Sgr B2, warmer to the right</p>
</li>
<li><p class="first">Column density somewhat flat from l=1.5 to l=0
+ &quot;Optically thick as a brick&quot;</p>
</li>
<li><p class="first">Molinari &quot;ring&quot; - column density, some evidence from velocities
+ vertical oscillation = 2x circular speed
+ offset...
+ predicts Sgr B2 at tangent of ring</p>
<blockquote>
<ul class="simple">
<li>velocity of Sgr B2 too slow</li>
<li>Sgr B2 has significant proper motion: 80 km/s</li>
</ul>
</blockquote>
<ul class="simple">
<li>Molinari ring falsified: must extend to larger long</li>
</ul>
</li>
<li><p class="first">Few point sources in the Arched Filaments</p>
</li>
</ul>
</blockquote>
<dl class="docutils">
<dt>Sofue-Handa ('84) lobe:</dt>
<dd><ul class="first last simple">
<li>brightest super-bubble in galaxy</li>
<li>powered by AGN or starburst?</li>
<li>Warning: Lots of foreground towards CMZ.
+ Sco-Cen group
+ radio emission associated with wall of scocen</li>
</ul>
</dd>
<dt>Sgr B2 spectroscopy:</dt>
<dd><ul class="first last simple">
<li>Two temperature components in Sgr B2</li>
<li>PACS sees 300K CO</li>
</ul>
</dd>
</dl>
<p>Sgr C mention</p>
<dl class="docutils">
<dt>Bania's clump</dt>
<dd><ul class="first last simple">
<li>200 km/s linewidth</li>
</ul>
</dd>
<dt>The Brick</dt>
<dd><ul class="first last simple">
<li>most extreme IRDC</li>
<li>24, 70 opaque</li>
<li>HCO+ cubes</li>
</ul>
</dd>
<dt>Dust</dt>
<dd><ul class="first last simple">
<li>Are dust grains different?</li>
<li>Temperature differs between gas and dust</li>
</ul>
</dd>
<dt>Questions:</dt>
<dd><ul class="first last simple">
<li>COMMENT: NGC 1068 has 100 pc molecular ring, will mention later in discussion</li>
<li>Lang: Sources in arched filaments - are they aligned with filament?</li>
<li>A: Yes, 50-60 in filament.  SEDs look like protostars.</li>
<li>Jerry (?): Note - hard to avoid conical wind from Sgr A* dynamically.</li>
<li>Bally: Yes.  High-latitude CO gas off-plane: entrained.  Starburst likely, AGN
unlikely to entrain it.</li>
<li>Jay Gallagher: M82 energy density ~100x higher than in MW, driving wind out of
smaller potential.  Galaxy requires huge pressure change.</li>
<li>Bally: Yes, wimpy nucleus</li>
<li>Michael: Evidence for bar from cobe &amp; spitzer.  Is it related to gas bar?</li>
<li>Bally: Related.  Gas bar 20 Â±3 from line of sight, but infrared stellar bar
more like 45 degrees.  Why offset? controversial.  Generically related.</li>
</ul>
</dd>
</dl>
 </div>
        <!-- /.entry-content   not article.summary--> 
    </article></li>
    <hr width=100%>
    <li><article class="hentry">
        <header> 
            <h2 class="entry-title">
                <a href="https://keflavich.github.io/blog/position-velocity-diagrams.html" rel="bookmark" title="Permalink to Position-Velocity Diagrams">
                    Position-Velocity Diagrams</a>
            </h2> 
        </header>
        <footer class="post-info">
            <abbr class="published" title="2013-09-24T00:00:00-06:00"> 2013/09/24 </abbr>
            <!--<address class="vcard author"><a class="url fn" href="https://keflavich.github.io/blog/author/adam-ginsburg-adamgginsburggmailcom.html">Adam Ginsburg (adam.g.ginsburg@gmail.com)</a></address>-->
        </footer><!-- /.post-info -->
        <div class="entry-content"> <p>tl;dr version: IPython notebook <a class="reference external" href="http://keflavich.github.io/pvextractor/examples/IRAS05358Slicing.html">here</a>, code <a class="reference external" href="http://keflavich.github.io/pvextractor/">available on github</a></p>
<div class="section" id="current-state-of-affairs">
<h2>Current state of affairs</h2>
<p>Position-velocity diagrams with arbitrary position axes have been a common tool
for studying spectra for a long time, probably because the &quot;native&quot; format of
long-slit spectra on CCDs is effectively a position-velocity diagram.</p>
<p>It's becoming more common now to have data cubes (PPV) than 1D or 2D spectra.
But PV diagrams still have utility.  Unfortunately, there aren't very good
tools to produce them.</p>
<p>There are plenty of tools that can slice along any of the native axes of a data
cube.  If you take your data cube in RA/Dec space, extracting along lines of
constant RA or Dec is trivial (<a class="reference external" href="http://star-www.dur.ac.uk/~pdraper/gaia/gaia.html">GAIA</a> can do it natively, but it's easy to
slice a cube in IDL or python).</p>
<p>However, if you wanted to slice along lines of constant GLON or GLAT, you'd
have to reproject the cube to use this approach.  There are nice tools that
implement cube rotation: CASA has an <a class="reference external" href="http://star-www.dur.ac.uk/~pdraper/gaia/gaia.html">imrebin recipe</a> and STARLINK has a
rotation tool (though I can't find it now...).</p>
<p>However, this approach is terribly inefficient if you want slices at multiple
different angles, and it's outright awful if you want to track a filament.</p>
</div>
<div class="section" id="an-alternative-approach">
<h2>An alternative approach</h2>
<p>The alternative is to interpolate between pixels along a specified axis.  This
can be done very efficiently in python using scipy's <a class="reference external" href="http://docs.scipy.org/doc/scipy/reference/generated/scipy.ndimage.interpolation.map_coordinates.html">map_coordinates</a>, which
by default does a cubic-spline interpolation at the specified points.</p>
<p>I've started to build a tool to extract position-velocity diagrams on this
basis.  It's fully functional, but doesn't do anything interactive just yet.
<a class="reference external" href="https://github.com/keflavich/pvextractor">pvextractor</a> is <a class="reference external" href="http://keflavich.github.io/pvextractor/">available on github</a>.</p>
<p>There is a complete example demonstrating its use <a class="reference external" href="http://keflavich.github.io/pvextractor/examples/IRAS05358Slicing.html">here</a>.</p>
<p>In short, though, it allows you to describe paths like this:</p>
<img alt="" src="https://keflavich.github.io/blog/images/paths_i05358.png" style="width: 800px;" />
<p>and extract them into position-velocity diagrams like this:</p>
<img alt="" src="https://keflavich.github.io/blog/images/pv_i05358.png" style="width: 800px;" />
</div>
<div class="section" id="postscript-figshare">
<h2>Postscript: Figshare</h2>
<p>(note: postscript as in &quot;P.S.&quot;, not &quot;.ps&quot;)</p>
<p>In order to create the example document (<a class="reference external" href="http://keflavich.github.io/pvextractor/examples/IRAS05358Slicing.html">here</a>), I needed a small data cube
that could easily be downloaded. <a class="reference external" href="theastrodata.org">Dataverse</a> hosts the <a class="reference external" href="http://www.cfa.harvard.edu/COMPLETE/">COMPLETE</a> survey, but
they make you jump through a javascript hoop to download their data, which
means that it is not possible to write an easily reproducible script.  Too bad,
since I would have used them except for this minor interface issue.</p>
<p>Instead, I've found that <a class="reference external" href="http://figshare.com">figshare</a> has fixed up their interface since I last
used them.  It was easy enough that I decided to upload my <a class="reference external" href="http://figshare.com/articles/IRAS_05358_3543_Data_Cubes/806315">IRAS 05358+3543
data cubes</a> and had no trouble at all.  I also posted an update to the <a class="reference external" href="http://arxiv.org/abs/0910.2990">arxiv</a>
page for the article indictating that the data are freely shared.  I'll do my
best to share the data for the rest of my papers too, though it will take some
time and I'll hit data limits for W5 pretty quickly.</p>
</div>
 </div>
        <!-- /.entry-content   not article.summary--> 
    </article></li>
    <hr width=100%>
    <li><article class="hentry">
        <header> 
            <h2 class="entry-title">
                <a href="https://keflavich.github.io/blog/blogging-from-ipython.html" rel="bookmark" title="Permalink to Blogging from IPython">
                    Blogging from IPython</a>
            </h2> 
        </header>
        <footer class="post-info">
            <abbr class="published" title="2013-09-22T00:00:00-06:00"> 2013/09/22 </abbr>
            <!--<address class="vcard author"><a class="url fn" href="https://keflavich.github.io/blog/author/adam.html">Adam <keflavich@gmail.com></a></address>-->
        </footer><!-- /.post-info -->
        <div class="entry-content"> <p>[ <a class="reference external" href="http://nbviewer.ipython.org/urls/raw.github.com/keflavich/blog/master/content/BloggingFromIPython.ipynb">Notebook Form of this
post</a>
]</p>
<p>There have been
<a class="reference external" href="http://jmcarp.github.io/blog/2013/07/07/hello-world/">many</a>
<a class="reference external" href="http://danielfrg.github.io/blog/2013/02/16/blogging-pelican-ipython-notebook/">other</a>
<a class="reference external" href="http://danielfrg.github.io/blog/2013/03/08/pelican-ipython-notebook-plugin/">posts</a>
about blogging in ipython, but they all included more overhead than I
really wanted to deal with.</p>
<p>Instead, I've gone directly to <a class="reference external" href="http://nbviewer.ipython.org/urls/raw.github.com/Carreau/posts/master/06-NBconvert-Doc-Draft.ipynb">the
source</a>
and used nbconvert in ipython 2.0 to convert my notebooks to rst, then
put them through pelican.</p>
<p>This post outlines my workflow.</p>
<p>First, and most inconvenient, it is necessary to head any blog post with
metadata. I don't have any convenient workflow to deal with that, I just
write it in by hand in a raw text box (ctrl-m, t) as you can see above.
<a class="reference external" href="http://danielfrg.github.io/">Daniel Rodriguez</a> took a <a class="reference external" href="http://danielfrg.github.io/blog/2013/03/08/pelican-ipython-notebook-plugin/">different
approach</a>
using the ipython metadata directly and an ipython plugin, but I didn't
want to have to worry about installing plugins and I am definitely
worried about breaking notebooks by messing with the
<a class="reference external" href="https://github.com/ipython/ipython/wiki/IPEP-20%3A-Informal-structure-of-cell-metadata">metadata</a>
as the ipy devs give some fairly <a class="reference external" href="https://gist.github.com/Carreau/4437348">strict
warnings</a>.</p>
<p>Next, the ipynb -&gt; rst step is fairly straightforward. I modified the
rst template because I don't want to see the <tt class="docutils literal"><span class="pre">In[#]:</span></tt> and <tt class="docutils literal"><span class="pre">Out[#]:</span></tt>
prefixes around my code. I also use <tt class="docutils literal">.. <span class="pre">code-block::</span></tt> rather than
<tt class="docutils literal">.. code::</tt>.</p>
<p>This very simple function below makes sure that my local <tt class="docutils literal">rst.tbl</tt>
file is seen before ipython's. Their templates are in
<tt class="docutils literal">IPython/nbconvert/templates</tt>. Note that you could normally use Jinja2
templating and &quot;Extend&quot; their template, but I wanted to remove rather
than extend.</p>
<p>[
<a class="reference external" href="https://github.com/keflavich/blog/blob/master/nbconverter.py">Source</a>
]</p>
<div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">IPython.nbconvert.exporters</span> <span class="kn">import</span> <span class="n">RSTExporter</span>

<span class="k">def</span> <span class="nf">export</span><span class="p">(</span><span class="n">nbname</span><span class="p">,</span> <span class="n">outfilename</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
    <span class="n">exportRST</span> <span class="o">=</span> <span class="n">RSTExporter</span><span class="p">()</span>
    <span class="c1"># exclude default paths</span>
    <span class="n">exportRST</span><span class="o">.</span><span class="n">template_path</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;.&#39;</span><span class="p">,</span><span class="s1">&#39;/Users/adam/repos/blog&#39;</span><span class="p">]</span>

    <span class="p">(</span><span class="n">body</span><span class="p">,</span><span class="n">resources</span><span class="p">)</span> <span class="o">=</span> <span class="n">exportRST</span><span class="o">.</span><span class="n">from_filename</span><span class="p">(</span><span class="n">nbname</span><span class="p">)</span>

    <span class="k">if</span> <span class="n">outfilename</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
        <span class="n">outfilename</span> <span class="o">=</span> <span class="n">nbname</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s2">&quot;ipynb&quot;</span><span class="p">,</span><span class="s2">&quot;rst&quot;</span><span class="p">)</span>

    <span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="n">outfilename</span><span class="p">,</span><span class="s1">&#39;w&#39;</span><span class="p">)</span> <span class="k">as</span> <span class="n">f</span><span class="p">:</span>
        <span class="n">f</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="n">body</span><span class="p">)</span>

    <span class="k">return</span> <span class="n">body</span><span class="p">,</span><span class="n">resources</span>
</pre></div>
<p>I then run the script from the command line:
<tt class="docutils literal"><span class="pre">~/virtual-ipydev/bin/ipython</span> ./nbconverter.py content/GenerateCVExample.ipynb</tt></p>
<p>I'm using a virtual environment with ipython 2 installed because I'm not
yet ready to make the jump to the dev version of ipython (though these
days, with Travis and Jenkins around, it's probably safe to assume the
dev version won't break anything).</p>
<p>With this rst file generated, the only remaining step is
<a class="reference external" href="http://blog.getpelican.com/">pelican</a>, which only requires a
<tt class="docutils literal">make github</tt> command in the blog directory. Installing &amp; setting up
pelican is reasonably easy, but not the topic of this post.</p>
<p>I've made my own <a class="reference external" href="https://github.com/keflavich/pelican-themes/tree/master/mine">custom pelican
theme</a>,
so I generally need to update the theme before building:</p>
<p><tt class="docutils literal"><span class="pre">pelican-themes</span> <span class="pre">--upgrade</span> <span class="pre">/Users/adam/repos/pelican-themes/mine</span> &amp;&amp; make github</tt></p>
 </div>
        <!-- /.entry-content   not article.summary--> 
    </article></li>
    <hr width=100%>
    <li><article class="hentry">
        <header> 
            <h2 class="entry-title">
                <a href="https://keflavich.github.io/blog/generating-a-cv-using-the-ads-labs-api.html" rel="bookmark" title="Permalink to Generating a CV using the ADS Labs API">
                    Generating a CV using the ADS Labs API</a>
            </h2> 
        </header>
        <footer class="post-info">
            <abbr class="published" title="2013-09-21T00:00:00-06:00"> 2013/09/21 </abbr>
            <!--<address class="vcard author"><a class="url fn" href="https://keflavich.github.io/blog/author/adam-keflavichgmailcom.html">Adam (keflavich@gmail.com)</a></address>-->
        </footer><!-- /.post-info -->
        <div class="entry-content"> <ul class="simple">
<li>[ <a class="reference external" href="https://github.com/keflavich/generate_cv">Source code related to this
post</a> ]</li>
<li>[ <a class="reference external" href="http://nbviewer.ipython.org/urls/raw.github.com/keflavich/generate_cv/master/examples/GenerateCVExample.ipynb">Notebook
form</a>
]</li>
<li>[ <a class="reference external" href="http://www.adamgginsburg.com/cv.htm">CV partly generated from this
post</a> ]</li>
</ul>
<p>At <a class="reference external" href="http://dotastronomy.com/">.astronomy</a> this past week, the keynote
speaker was <a class="reference external" href="https://www.cfa.harvard.edu/~alberto/">Alberto
Accomazzi</a>, introducing ADS
Labs and <a class="reference external" href="http://labs.adsabs.harvard.edu/adsabs/">ADS 2.0</a>, which are
really quite impressive.</p>
<p>I was inspired to use ADS Labs to help me auto-generate a nicely
formatted CV for myself. I used <a class="reference external" href="https://twitter.com/astrowizicist">Andy
Casey's</a>
<a class="reference external" href="https://github.com/andycasey/ads-python">ADS-python</a> as a starting
point: he introduces a useful convention of storing your <a class="reference external" href="https://github.com/adsabs/adsabs-dev-api#signup--access">ADS API
Key</a>:</p>
<div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">os</span>

<span class="k">def</span> <span class="nf">get_dev_key</span><span class="p">():</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot; A convenience function for accessing a system-wide ADS Developer&#39;s Key &quot;&quot;&quot;</span>

    <span class="n">ads_dev_key_filename</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">abspath</span><span class="p">(</span><span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">expanduser</span><span class="p">(</span><span class="s1">&#39;~/.ads/dev_key&#39;</span><span class="p">))</span>

    <span class="k">if</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">exists</span><span class="p">(</span><span class="n">ads_dev_key_filename</span><span class="p">):</span>
        <span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="n">ads_dev_key_filename</span><span class="p">,</span> <span class="s1">&#39;r&#39;</span><span class="p">)</span> <span class="k">as</span> <span class="n">fp</span><span class="p">:</span>
            <span class="n">dev_key</span> <span class="o">=</span> <span class="n">fp</span><span class="o">.</span><span class="n">readline</span><span class="p">()</span><span class="o">.</span><span class="n">rstrip</span><span class="p">()</span>

        <span class="k">return</span> <span class="n">dev_key</span>

    <span class="k">if</span> <span class="s1">&#39;ADS_DEV_KEY&#39;</span> <span class="ow">in</span> <span class="n">os</span><span class="o">.</span><span class="n">environ</span><span class="p">:</span>
        <span class="k">return</span> <span class="n">os</span><span class="o">.</span><span class="n">environ</span><span class="p">[</span><span class="s1">&#39;ADS_DEV_KEY&#39;</span><span class="p">]</span>

    <span class="k">raise</span> <span class="ne">IOError</span><span class="p">(</span><span class="s2">&quot;no ADS API key found in ~/.ads/dev_key&quot;</span><span class="p">)</span>
</pre></div>
<p>We'll use <tt class="docutils literal">requests</tt> to send the request to ADS, then <tt class="docutils literal">json</tt> to
parse the data.</p>
<div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">requests</span>
<span class="kn">import</span> <span class="nn">json</span>
</pre></div>
<p>We then query the database using a keyword query (parameter <tt class="docutils literal">q</tt>)
specifying the author. Other required parameters are the API key
(<tt class="docutils literal">dev_key</tt>) and a filter to select only astronomy articles. The
maximum number of rows returned in the API is 200 right now, which I
have set (the default is 10 or 20).</p>
<div class="highlight"><pre><span></span><span class="n">response</span> <span class="o">=</span> <span class="n">requests</span><span class="o">.</span><span class="n">post</span><span class="p">(</span><span class="s1">&#39;http://adslabs.org/adsabs/api/search/&#39;</span><span class="p">,</span>
                         <span class="n">params</span><span class="o">=</span><span class="p">{</span><span class="s1">&#39;q&#39;</span><span class="p">:</span><span class="s1">&#39;author:ginsburg, a&#39;</span><span class="p">,</span>
                                 <span class="s1">&#39;dev_key&#39;</span><span class="p">:</span><span class="n">get_dev_key</span><span class="p">(),</span>
                                 <span class="s1">&#39;rows&#39;</span><span class="p">:</span><span class="mi">200</span><span class="p">,</span>
                                 <span class="s1">&#39;filter&#39;</span><span class="p">:</span><span class="s1">&#39;database:astronomy&#39;</span><span class="p">})</span>
</pre></div>
<div class="highlight"><pre><span></span><span class="n">J</span> <span class="o">=</span> <span class="n">response</span><span class="o">.</span><span class="n">json</span><span class="p">()</span>
<span class="n">J</span><span class="o">.</span><span class="n">keys</span><span class="p">()</span>
</pre></div>
<pre class="literal-block">
[u'meta', u'results']
</pre>
<p>The JSON 'meta' key is just metadata about the query, include the number
of matches and execution time.</p>
<div class="highlight"><pre><span></span><span class="n">J</span><span class="p">[</span><span class="s1">&#39;meta&#39;</span><span class="p">]</span>
</pre></div>
<pre class="literal-block">
{u'api-version': u'0.1',
 u'count': 54,
 u'hits': 54,
 u'qtime': 7,
 u'query': u'author:ginsburg, a'}
</pre>
<p>The 'results' key includes what we're actually interested in, under
another key 'docs'.</p>
<div class="highlight"><pre><span></span><span class="n">J</span><span class="p">[</span><span class="s1">&#39;results&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">keys</span><span class="p">()</span>
</pre></div>
<pre class="literal-block">
[u'docs']
</pre>
<div class="highlight"><pre><span></span><span class="n">datalist</span> <span class="o">=</span> <span class="n">J</span><span class="p">[</span><span class="s1">&#39;results&#39;</span><span class="p">][</span><span class="s1">&#39;docs&#39;</span><span class="p">]</span>
<span class="nb">type</span><span class="p">(</span><span class="n">datalist</span><span class="p">),</span> <span class="nb">len</span><span class="p">(</span><span class="n">datalist</span><span class="p">)</span>
</pre></div>
<pre class="literal-block">
(list, 54)
</pre>
<p><tt class="docutils literal">datalist</tt> is a list of the retrieved bibliographic entries.</p>
<div class="highlight"><pre><span></span><span class="n">datalist</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">keys</span><span class="p">()</span>
</pre></div>
<pre class="literal-block">
[u'bibcode',
 u'keyword',
 u'pubdate',
 u'bibstem',
 u'property',
 u'aff',
 u'author',
 u'citation_count',
 u'pub',
 u'page',
 u'volume',
 u'database',
 u'doi',
 u'year',
 u'abstract',
 u'title',
 u'identifier',
 u'issue',
 u'id']
</pre>
<p>At this point, most of the remaining work is building up a nicely
formatted output. We'll start with a web-specific example, using HTML
unordered lists.</p>
<p>In this example, we'll make a list item that creates a hyperlink for the
author names and uses a reasonably standard bibliographic format:</p>
<pre class="literal-block">
Authors Month, Year, Journal
Title
</pre>
<div class="highlight"><pre><span></span><span class="n">fmt</span> <span class="o">=</span> <span class="p">(</span><span class="sa">u</span><span class="s1">&#39;                &#39;</span>
<span class="sa">u</span><span class="s1">&#39;&lt;li&gt;&lt;a class=&quot;norm&quot; href=&quot;http://adsabs.harvard.edu/abs/</span><span class="si">{adsbibid}</span><span class="s1">&quot;&gt;</span><span class="si">{creator}</span><span class="s1">&lt;/a&gt;&#39;</span>
<span class="sa">u</span><span class="s1">&#39; </span><span class="si">{month}</span><span class="s1">, &lt;b&gt;</span><span class="si">{year}</span><span class="s1">&lt;/b&gt; </span><span class="si">{journal}</span><span class="se">\n</span><span class="s1">&#39;</span>
<span class="sa">u</span><span class="s1">&#39;                &lt;br&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;</span><span class="si">{titlestring}</span><span class="s1">&#39;</span><span class="p">)</span>
</pre></div>
<p>We need to do a little data wrangling to get the individual JSON entries
into the appropriate format:</p>
<div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">wrangle</span><span class="p">(</span><span class="n">data</span><span class="p">,</span> <span class="n">authorname</span><span class="o">=</span><span class="s1">&#39;Ginsburg&#39;</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot; Create new fields from the input data to insert into the format string &quot;&quot;&quot;</span>
    <span class="n">data</span><span class="p">[</span><span class="s1">&#39;month&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">data</span><span class="p">[</span><span class="s1">&#39;pubdate&#39;</span><span class="p">][</span><span class="mi">5</span><span class="p">:</span><span class="mi">7</span><span class="p">]</span>
    <span class="c1"># Generally, the last identifier is the published version,</span>
    <span class="c1"># while the first is an arXiv identifier</span>
    <span class="c1"># (data[&#39;identifier&#39;] is a list)</span>
    <span class="n">data</span><span class="p">[</span><span class="s1">&#39;adsbibid&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">data</span><span class="p">[</span><span class="s1">&#39;identifier&#39;</span><span class="p">][</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span>
    <span class="c1"># data[&#39;title&#39;] &amp; [&#39;pub&#39;] are also lists</span>
    <span class="n">data</span><span class="p">[</span><span class="s1">&#39;titlestring&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">data</span><span class="p">[</span><span class="s1">&#39;title&#39;</span><span class="p">][</span><span class="mi">0</span><span class="p">]</span>
    <span class="n">data</span><span class="p">[</span><span class="s1">&#39;journal&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">data</span><span class="p">[</span><span class="s1">&#39;bibstem&#39;</span><span class="p">][</span><span class="mi">0</span><span class="p">]</span>
    <span class="c1"># This trick bolds my name in the list of authors</span>
    <span class="n">data</span><span class="p">[</span><span class="s1">&#39;authors&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;&lt;b&gt;</span><span class="si">{}</span><span class="s1">&lt;/b&gt;&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">x</span><span class="p">)</span> <span class="k">if</span> <span class="n">authorname</span> <span class="ow">in</span> <span class="n">x</span> <span class="k">else</span> <span class="n">x</span> <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="n">data</span><span class="p">[</span><span class="s1">&#39;author&#39;</span><span class="p">]]</span>
    <span class="c1"># Separate names by semicolons</span>
    <span class="n">data</span><span class="p">[</span><span class="s1">&#39;creator&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="sa">u</span><span class="s2">&quot;; &quot;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">data</span><span class="p">[</span><span class="s1">&#39;authors&#39;</span><span class="p">])</span>
    <span class="k">return</span> <span class="n">data</span>
</pre></div>
<p>The return from <tt class="docutils literal">wrangle</tt> is a dict with new keys that match the
keywords in the format string. The python <tt class="docutils literal">string.format</tt> method will
nicely ignore any extra keywords that we're uninterested in.</p>
<div class="highlight"><pre><span></span><span class="n">fmt</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="o">**</span><span class="n">wrangle</span><span class="p">(</span><span class="n">datalist</span><span class="p">[</span><span class="mi">0</span><span class="p">]))</span>
</pre></div>
<pre class="literal-block">
u'                &lt;li&gt;&lt;a class=&quot;norm&quot; href=&quot;<a class="reference external" href="http://adsabs.harvard.edu/abs/2013ApJ...773..102F">http://adsabs.harvard.edu/abs/2013ApJ...773..102F</a>&quot;&gt;Fallscheer, C.; Reid, M. A.; Di Francesco, J.; Martin, P. G.; Hill, T.; Hennemann, M.; Nguyen-Luong, Q.; Motte, F.; Men'shchikov, A.; Andrxe9, Ph.; Ward-Thompson, D.; Griffin, M.; Kirk, J.; Konyves, V.; Rygl, K. L. J.; Sadavoy, S.; Sauvage, M.; Schneider, N.; Anderson, L. D.; Benedettini, M.; Bernard, J. -P.; Bontemps, S.; &lt;b&gt;Ginsburg, A.&lt;/b&gt;; Molinari, S.; Polychroni, D.; Rivera-Ingraham, A.; Roussel, H.; Testi, L.; White, G.; Williams, J. P.; Wilson, C. D.; Wong, M.; Zavagno, A.&lt;/a&gt; 08, &lt;b&gt;2013&lt;/b&gt; ApJn                &lt;br&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;Herschel Reveals Massive Cold Clumps in NGCxa07538'
</pre>
<p>Now to show it in the notebook...</p>
<div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">IPython.display</span>
<span class="n">IPython</span><span class="o">.</span><span class="n">display</span><span class="o">.</span><span class="n">HTML</span><span class="p">(</span><span class="n">fmt</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="o">**</span><span class="n">wrangle</span><span class="p">(</span><span class="n">datalist</span><span class="p">[</span><span class="mi">0</span><span class="p">])))</span>
</pre></div>
<p>You can make a complete bibliography by looping over a few entries. The
ordered list (<tt class="docutils literal">&lt;ol&gt;</tt>) tag makes a numbered list.</p>
<div class="highlight"><pre><span></span><span class="n">html</span> <span class="o">=</span> <span class="s2">&quot;&lt;ol&gt;&quot;</span> <span class="o">+</span> <span class="s2">&quot;</span><span class="se">\n</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">fmt</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="o">**</span><span class="n">wrangle</span><span class="p">(</span><span class="n">datalist</span><span class="p">[</span><span class="n">ii</span><span class="p">]))</span> <span class="k">for</span> <span class="n">ii</span> <span class="ow">in</span> <span class="n">xrange</span><span class="p">(</span><span class="mi">3</span><span class="p">))</span> <span class="o">+</span> <span class="s2">&quot;&lt;/ol&gt;&quot;</span>
<span class="n">IPython</span><span class="o">.</span><span class="n">display</span><span class="o">.</span><span class="n">HTML</span><span class="p">(</span><span class="n">html</span><span class="p">)</span>
</pre></div>
<p>If you want to make sure you only include refereed articles, use the
'property' tag.</p>
<div class="highlight"><pre><span></span><span class="nb">print</span> <span class="p">[</span><span class="s1">&#39;REFEREED&#39;</span> <span class="ow">in</span> <span class="n">d</span><span class="p">[</span><span class="s1">&#39;property&#39;</span><span class="p">]</span> <span class="k">for</span> <span class="n">d</span> <span class="ow">in</span> <span class="n">datalist</span><span class="p">]</span>
</pre></div>
<pre class="literal-block">
[True, False, True, False, False, False, True, True, False, False, False, False, True, True, True, False, False, True, True, False, False, True, True, True, False, False, False, False, True, False, False, True, True, True, True, True, True, False, False, False, False, False, False, True, True, False, False, False, False, False, True, False, False, True]
</pre>
<p>And don't forget that you can also include the citation count:</p>
<div class="highlight"><pre><span></span><span class="nb">print</span> <span class="s2">&quot;</span><span class="se">\n</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">join</span><span class="p">([</span><span class="s2">&quot;</span><span class="si">{}</span><span class="s2"> </span><span class="si">{}</span><span class="s2">: </span><span class="si">{}</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">d</span><span class="p">[</span><span class="s1">&#39;author&#39;</span><span class="p">][</span><span class="mi">0</span><span class="p">],</span><span class="n">d</span><span class="p">[</span><span class="s1">&#39;year&#39;</span><span class="p">],</span><span class="n">d</span><span class="p">[</span><span class="s1">&#39;citation_count&#39;</span><span class="p">])</span>
                <span class="k">for</span> <span class="n">d</span> <span class="ow">in</span> <span class="n">datalist</span>
                <span class="k">if</span> <span class="s1">&#39;citation_count&#39;</span> <span class="ow">in</span> <span class="n">d</span> <span class="ow">and</span> <span class="s1">&#39;REFEREED&#39;</span> <span class="ow">in</span> <span class="n">d</span><span class="p">[</span><span class="s1">&#39;property&#39;</span><span class="p">]])</span>
</pre></div>
<pre class="literal-block">
Fallscheer, C. 2013: 0
Ellsworth-Bowers, Timothy P. 2013: 2
Smith, Nathan 2013: 0
Harvey, Paul M. 2013: 2
Bressert, E. 2012: 10
Ginsburg, A. 2012: 11
Bally, John 2012: 0
Ginsburg, Adam 2011: 5
Battersby, C. 2011: 22
Schlingman, Wayne M. 2011: 17
Ginsburg, Adam 2011: 6
van Aarle, E. 2011: 12
Aguirre, James E. 2011: 72
Bally, John 2010: 36
Battersby, Cara 2010: 30
Yan, Chi-Hung 2010: 5
Bally, J. 2010: 20
Dunham, Miranda K. 2010: 27
Rosolowsky, Erik 2010: 80
Ginsburg, Adam G. 2009: 10
Rubin, D. 2009: 23
van de Steene, G. C. 2008: 4
Golitsyn, G. S. 1985: 4
</pre>
<div class="section" id="wishlist">
<h2>Wishlist</h2>
<p>There are a few other features that would be nice to add to the CV, but
some are not yet well-supported.</p>
<ol class="arabic simple">
<li>You can get the full name, but right now not the short name
('bibstem'), of the journal</li>
<li>The bibtex entry is important for generating tex versions of CVs.
Currently, it is not possible to completely reproduce one, largely
because of point #1.</li>
</ol>
<p>However, the ADS folks will certainly change this soon. You can find out
if they have by querying their API settings. If the query below returns
&quot;True&quot;, then you can access the bibstem.</p>
<p>UPDATE 9/23/2013: Jay Luker &#64;ADS <a class="reference external" href="https://twitter.com/lbjay/status/382138570632204291">added 'bibstem' to the allowed return
entries</a></p>
<div class="highlight"><pre><span></span><span class="n">permissions_response</span> <span class="o">=</span> <span class="n">requests</span><span class="o">.</span><span class="n">post</span><span class="p">(</span><span class="s1">&#39;http://adslabs.org/adsabs/api/settings/&#39;</span><span class="p">,</span><span class="n">params</span><span class="o">=</span><span class="p">{</span><span class="s1">&#39;dev_key&#39;</span><span class="p">:</span><span class="n">get_dev_key</span><span class="p">()})</span>
<span class="n">permissions</span> <span class="o">=</span> <span class="n">permissions_response</span><span class="o">.</span><span class="n">json</span><span class="p">()</span>
<span class="s1">&#39;bibstem&#39;</span> <span class="ow">in</span> <span class="n">permissions</span><span class="p">[</span><span class="s1">&#39;allowed_fields&#39;</span><span class="p">]</span>
</pre></div>
<pre class="literal-block">
True
</pre>
<p>In the meantime, you can get most of the way there. We'll create
&quot;Article&quot; entries for any articles or eprints and ignore abstracts
(e.g., conference abstracts). I don't have any books, but for others
that might be useful.</p>
<p>The approach we'll use is also a good way to reject unwanted articles in
the HTML bibliography above.</p>
<div class="highlight"><pre><span></span><span class="n">bibfmt</span> <span class="o">=</span> <span class="sa">u</span><span class="s2">&quot;&quot;&quot;@article{{</span><span class="si">{tagname}</span><span class="s2">,</span>
<span class="s2">abstract={{</span><span class="si">{abstract}</span><span class="s2">}},</span>
<span class="s2">author={{</span><span class="si">{bibtexauthors}</span><span class="s2">}},</span>
<span class="s2">month={{</span><span class="si">{month}</span><span class="s2">}},</span>
<span class="s2">pages={{</span><span class="si">{page}</span><span class="s2">}},</span>
<span class="s2">title={{</span><span class="si">{titlestring}</span><span class="s2">}},</span>
<span class="s2">year={{</span><span class="si">{year}</span><span class="s2">}},</span>
<span class="s2">volume={{</span><span class="si">{volume}</span><span class="s2">}},</span>
<span class="s2">journal={{</span><span class="se">\\</span><span class="si">{lowercasejournal}</span><span class="s2">}}</span>
<span class="s2">}}&quot;&quot;&quot;</span>
</pre></div>
<p>Of course, it's necessary to wrangle the data again for the appropriate
author list formatting for bibtex:</p>
<div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">wrangleauthors</span><span class="p">(</span><span class="n">authorlist</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot; Fit the author list into a bibtex-friendly format.</span>
<span class="sd">    Not the cleanest hack, since we need to allow for single-name</span>
<span class="sd">    authors (e.g., astropy collaboration, Planck collaboration, etc.)</span>
<span class="sd">    The triple braces are needed because TeX uses them&quot;&quot;&quot;</span>
    <span class="n">splita</span> <span class="o">=</span> <span class="p">[[</span><span class="n">b</span><span class="o">.</span><span class="n">strip</span><span class="p">()</span> <span class="k">for</span> <span class="n">b</span> <span class="ow">in</span> <span class="n">a</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s2">&quot;,&quot;</span><span class="p">)]</span> <span class="k">for</span> <span class="n">a</span> <span class="ow">in</span> <span class="n">authorlist</span><span class="p">]</span>
    <span class="n">bracketed</span> <span class="o">=</span> <span class="p">[</span><span class="sa">u</span><span class="s1">&#39;{{</span><span class="si">{}</span><span class="s1">}}, </span><span class="si">{}</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">a</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="n">a</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s2">&quot; &quot;</span><span class="p">,</span><span class="s2">&quot;~&quot;</span><span class="p">))</span>
                 <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">a</span><span class="p">)</span> <span class="o">&gt;</span> <span class="mi">1</span>
                 <span class="k">else</span> <span class="sa">u</span><span class="s1">&#39;{{</span><span class="si">{}</span><span class="s1">}}&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">a</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span>
                 <span class="k">for</span> <span class="n">a</span> <span class="ow">in</span> <span class="n">splita</span><span class="p">]</span>
    <span class="k">return</span> <span class="sa">u</span><span class="s2">&quot; and &quot;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">bracketed</span><span class="p">)</span>
</pre></div>
<div class="highlight"><pre><span></span><span class="n">wrangleauthors</span><span class="p">(</span><span class="n">datalist</span><span class="p">[</span><span class="mi">0</span><span class="p">][</span><span class="s1">&#39;author&#39;</span><span class="p">])</span>
</pre></div>
<pre class="literal-block">
u&quot;{Fallscheer}, C. and {Reid}, M.~A. and {Di Francesco}, J. and {Martin}, P.~G. and {Hill}, T. and {Hennemann}, M. and {Nguyen-Luong}, Q. and {Motte}, F. and {Men'shchikov}, A. and {Andrxe9}, Ph. and {Ward-Thompson}, D. and {Griffin}, M. and {Kirk}, J. and {Konyves}, V. and {Rygl}, K.~L.~J. and {Sadavoy}, S. and {Sauvage}, M. and {Schneider}, N. and {Anderson}, L.~D. and {Benedettini}, M. and {Bernard}, J.~-P. and {Bontemps}, S. and {Ginsburg}, A. and {Molinari}, S. and {Polychroni}, D. and {Rivera-Ingraham}, A. and {Roussel}, H. and {Testi}, L. and {White}, G. and {Williams}, J.~P. and {Wilson}, C.~D. and {Wong}, M. and {Zavagno}, A.&quot;
</pre>
<p>Now we can start looping through, performing checks for article status,
and making bibentries. We'll use python's <tt class="docutils literal">dateutils.parse</tt> to turn
month numbers into names</p>
<div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">dateutil.parser</span>
</pre></div>
<div class="highlight"><pre><span></span><span class="k">for</span> <span class="n">d</span> <span class="ow">in</span> <span class="n">datalist</span><span class="p">:</span>
    <span class="n">d</span><span class="p">[</span><span class="s1">&#39;bibtexauthors&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">wrangleauthors</span><span class="p">(</span><span class="n">d</span><span class="p">[</span><span class="s1">&#39;author&#39;</span><span class="p">])</span>

    <span class="c1"># pubdates don&#39;t include days, and sometimes don&#39;t include months,</span>
    <span class="c1"># so we have to be careful</span>
    <span class="n">d</span><span class="p">[</span><span class="s1">&#39;month&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="p">(</span><span class="n">dateutil</span><span class="o">.</span><span class="n">parser</span><span class="o">.</span><span class="n">parse</span><span class="p">(</span><span class="n">d</span><span class="p">[</span><span class="s1">&#39;pubdate&#39;</span><span class="p">][:</span><span class="o">-</span><span class="mi">3</span><span class="p">])</span><span class="o">.</span><span class="n">strftime</span><span class="p">(</span><span class="s2">&quot;%B&quot;</span><span class="p">)</span>
                  <span class="k">if</span> <span class="n">d</span><span class="p">[</span><span class="s1">&#39;pubdate&#39;</span><span class="p">][</span><span class="mi">5</span><span class="p">:</span><span class="mi">7</span><span class="p">]</span> <span class="o">!=</span> <span class="s1">&#39;00&#39;</span>
                  <span class="k">else</span> <span class="s2">&quot;&quot;</span><span class="p">)</span>

    <span class="c1"># To make the standard macros, e.g. \apj, \aa</span>
    <span class="n">d</span><span class="p">[</span><span class="s1">&#39;lowercasejournal&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">d</span><span class="p">[</span><span class="s1">&#39;bibstem&#39;</span><span class="p">][</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">lower</span><span class="p">()</span>
    <span class="c1"># list -&gt; string</span>
    <span class="n">d</span><span class="p">[</span><span class="s1">&#39;titlestring&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">d</span><span class="p">[</span><span class="s1">&#39;title&#39;</span><span class="p">][</span><span class="mi">0</span><span class="p">]</span>

    <span class="c1"># need to make sure there is something to put in the volume field</span>
    <span class="n">d</span><span class="p">[</span><span class="s1">&#39;volume&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">d</span><span class="p">[</span><span class="s1">&#39;volume&#39;</span><span class="p">]</span> <span class="k">if</span> <span class="s1">&#39;volume&#39;</span> <span class="ow">in</span> <span class="n">d</span> <span class="k">else</span> <span class="s1">&#39;&#39;</span>

    <span class="c1"># tagname is [First author&#39;s last name][year]</span>
    <span class="n">d</span><span class="p">[</span><span class="s1">&#39;tagname&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">d</span><span class="p">[</span><span class="s1">&#39;author&#39;</span><span class="p">][</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">split</span><span class="p">()[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">strip</span><span class="p">(</span><span class="s2">&quot;,&quot;</span><span class="p">)</span> <span class="o">+</span> <span class="n">d</span><span class="p">[</span><span class="s1">&#39;year&#39;</span><span class="p">]</span>
</pre></div>
<div class="highlight"><pre><span></span><span class="n">bibdata</span> <span class="o">=</span> <span class="s2">&quot;&quot;</span>
<span class="k">for</span> <span class="n">d</span> <span class="ow">in</span> <span class="n">datalist</span><span class="p">:</span>
    <span class="k">if</span> <span class="s1">&#39;ARTICLE&#39;</span> <span class="ow">in</span> <span class="n">d</span><span class="p">[</span><span class="s1">&#39;property&#39;</span><span class="p">]</span> <span class="ow">or</span> <span class="s1">&#39;EPRINT&#39;</span> <span class="ow">in</span> <span class="n">d</span><span class="p">[</span><span class="s1">&#39;property&#39;</span><span class="p">]:</span>
        <span class="n">bibdata</span> <span class="o">+=</span> <span class="n">bibfmt</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="o">**</span><span class="n">d</span><span class="p">)</span> <span class="o">+</span> <span class="s2">&quot;</span><span class="se">\n\n</span><span class="s2">&quot;</span>
</pre></div>
<p>Now this data can be saved to a bibliography file and parsed by LaTeX.</p>
<div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">codecs</span> <span class="c1"># for writing unicode</span>

<span class="k">with</span> <span class="n">codecs</span><span class="o">.</span><span class="n">open</span><span class="p">(</span><span class="s1">&#39;mypapers.bib&#39;</span><span class="p">,</span><span class="s1">&#39;w&#39;</span><span class="p">,</span><span class="n">encoding</span><span class="o">=</span><span class="s1">&#39;utf8&#39;</span><span class="p">)</span> <span class="k">as</span> <span class="n">f</span><span class="p">:</span>
    <span class="n">f</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="n">bibdata</span><span class="p">)</span>
</pre></div>
<p>Future work:</p>
<ul class="simple">
<li>Verify the bibtex</li>
<li>Generate the CV LaTeX and compile it</li>
</ul>
</div>
 </div>
        <!-- /.entry-content   not article.summary--> 
    </article></li>
    <hr width=100%>
</ul><!-- /#posts-list -->
<p class="paginator">
            <a href="https://keflavich.github.io/blog/index10.html">&laquo;</a>
    Page 11 / 51
        <a href="https://keflavich.github.io/blog/index12.html">&raquo;</a>
</p>
</section><!-- /#content -->
  </div>

    <script type="text/javascript">
    var _gaq = _gaq || [];
    _gaq.push(['_setAccount', 'UA-37306139-1']);
    _gaq.push(['_trackPageview']);
    (function() {
        var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
        ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
        var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
    })();

    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
    (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
    m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-37306139-1');
    ga('send', 'pageview');
</script>
<script type="text/javascript">
  var disqus_shortname = 'adamginsburgsblog';
  (function() {
        var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
        dsq.src = 'http://' + disqus_shortname + '.disqus.com/embed.js';
        (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
   })();
</script>
</body>
</html>
