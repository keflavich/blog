---
layout: post
title: "Python 64-bit on Mac OS X 10.6 Snow Leopard"
date: 2010-02-15T08:57:00-08:00
categories:
 - python
---

<div class='post'>
After <a href="http://buffalothedestroyer.blogspot.com/2010/02/installing-snow-leopard.html">yesterday's disastrous attempt</a> to install various python packages, I started from scratch.  First, I got rid of all of my python frameworks (backed up but removed from the path).  Then, I compiled python 2.7 from scratch:<br /><br />I got some help from <a href="http://blog.mahmoudimus.com/2009/12/python-2-6-4-and-twisted-9-on-os-x-10-6-snow-leopard/">http://blog.mahmoudimus.com/2009/12/python-2-6-4-and-twisted-9-on-os-x-10-6-snow-leopard/</a><br /><br /><code>./configure --enable-framework --enable-universalsdk=/Developer/SDKs/MacOSX10.6.sdk MACOSX_DEPLOYMENT_TARGET=10.6 --with-universal-archs=intel -with-readline-dir=/usr/local<br />make -j 17<br />make -j 17 test </code><br /><br /><code> make </code> results:<br /><pre>Python build finished, but the necessary bits to build these modules were not found:<br />_bsddb             dl                 gdbm            <br />imageop            linuxaudiodev      ossaudiodev     <br />spwd               sunaudiodev                        <br />To find the necessary bits, look in setup.py in detect_modules() for the module's name.<br /></pre><br /><br />I'm not concerned about these - I don't use any of them and I assume I need to install some other packages to get them to work.<br /><br />During make test, I had two failures that resulted in "python crash" pop-up boxes:<br /><pre>test_subprocess<br />.<br />    this bit of output is from a test of stdout in a different process ...<br />.<br />    this bit of output is from a test of stdout in a different process ...<br />test_sunaudiodev</pre><br /><br />Then, I got some malloc errors:<br /><pre>test_io<br /><br />Testing large file ops skipped on darwin.<br />It requires 2147483648 bytes and a long time.<br />Use 'regrtest.py -u largefile test_io' to run it.<br /><br />Testing large file ops skipped on darwin.<br />It requires 2147483648 bytes and a long time.<br />Use 'regrtest.py -u largefile test_io' to run it.<br />python.exe(22914,0x7fff70d3ebe0) malloc: *** mmap(size=9223372036854775808) failed (error code=12)<br />*** error: can't allocate region<br />*** set a breakpoint in malloc_error_break to debug<br />python.exe(22914,0x7fff70d3ebe0) malloc: *** mmap(size=9223372036854775808) failed (error code=12)<br />*** error: can't allocate region<br />*** set a breakpoint in malloc_error_break to debug<br />python.exe(22914,0x7fff70d3ebe0) malloc: *** mmap(size=9223372036854775808) failed (error code=12)<br />*** error: can't allocate region<br />*** set a breakpoint in malloc_error_break to debug<br />test_ioctl</pre></div>
