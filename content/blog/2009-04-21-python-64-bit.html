---
layout: post
title: "Python 64 bit!"
date: 2009-04-21T10:41:00-07:00
categories:
 - computer
---

<div class='post'>
I got python 64 bit to compile, but it required a number of tricky steps.<br /><br />First, this guy has the instructions I followed:<br /><a href="http://blog.captnswing.net/2009/04/19/python-mod_wsgi-64bit-mac-os-x-105/">captnswing</a><br /><br />However, it didn't work entirely as advertised.  I ran the configure as advertised:<br /><code><br />./configure --enable-framework=/Library/Frameworks \<br />--enable-universalsdk=/ \<br />MACOSX_DEPLOYMENT_TARGET=10.5 \<br />--with-universal-archs=all \<br />--with-readline-dir=/usr/local<br /></code><br /><br />then the make install, but /usr/local/bin/python pointed to the wrong place, so I replaced the symbolic link in my python path with the correct one:<br /><code><br />sudo rm /Library/Frameworks/Python.framework/Versions/2.6/bin/python <br />sudo ln -s /Library/Frameworks/Python.framework/Versions/2.6/bin/python-64 /Library/Frameworks/Python.framework/Versions/2.6/bin/python<br /></code><br /><br />Now python is 64 bit:<br /><code><br />eta ~$ python -c "import sys; print sys.maxint"<br />9223372036854775807<br /></code><br /><br />I haven't checked whether it works yet though...<br /><br />Update:  Had to reinstall with gnu readline installed.  Also have to install PyQt4 and might have to recompile numpy...<br /><br />numpy won't compile with python 2.6.2:<br /><code>C compiler: gcc -arch i386 -arch ppc -arch ppc64 -arch x86_64 -isysroot / -fno-strict-aliasing -fno-common -dynamic -DNDEBUG -g -fwrapv -O3 -Wall -Wstrict-prototypes<br /><br />compile options: '-Inumpy/core/include -Ibuild/src.macosx-10.5-universal-2.6/numpy/core/include/numpy -Inumpy/core/src -Inumpy/core/include -I/Library/Frameworks/Python.framework/Versions/2.6/include/python2.6 -c'<br />gcc: build/src.macosx-10.5-universal-2.6/numpy/core/src/_sortmodule.c<br />In file included from numpy/core/include/numpy/ndarrayobject.h:26,<br />                 from numpy/core/include/numpy/noprefix.h:7,<br />                 from numpy/core/src/_sortmodule.c.src:29:<br />numpy/core/include/numpy/npy_endian.h:33:10: error: #error Unknown CPU: can not set endianness<br />lipo: can't figure out the architecture type of: /var/folders/ni/ni+DtdqFGMeSMH13AvkNkU+++TI/-Tmp-//cceaWIvZ.out<br />In file included from numpy/core/include/numpy/ndarrayobject.h:26,<br />                 from numpy/core/include/numpy/noprefix.h:7,<br />                 from numpy/core/src/_sortmodule.c.src:29:<br />numpy/core/include/numpy/npy_endian.h:33:10: error: #error Unknown CPU: can not set endianness<br />lipo: can't figure out the architecture type of: /var/folders/ni/ni+DtdqFGMeSMH13AvkNkU+++TI/-Tmp-//cceaWIvZ.out<br />error: Command "gcc -arch i386 -arch ppc -arch ppc64 -arch x86_64 -isysroot / -fno-strict-aliasing -fno-common -dynamic -DNDEBUG -g -fwrapv -O3 -Wall -Wstrict-prototypes -Inumpy/core/include -Ibuild/src.macosx-10.5-universal-2.6/numpy/core/include/numpy -Inumpy/core/src -Inumpy/core/include -I/Library/Frameworks/Python.framework/Versions/2.6/include/python2.6 -c build/src.macosx-10.5-universal-2.6/numpy/core/src/_sortmodule.c -o build/temp.macosx-10.5-universal-2.6/build/src.macosx-10.5-universal-2.6/numpy/core/src/_sortmodule.o" failed with exit status 1<br /></code><br /><br />That sucks.</div>
