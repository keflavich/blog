---
layout: post
title: "Compiling vim..."
date: 2012-01-26T19:13:00-08:00
categories:
 - install
 - vim
---

<div class='post'>
Figured I had to post this...<br /><br /><br />I've been trying to compile command-line vim 7.3 on Mac OS X 10.7.  I have the latest `hg clone`d version of vim.  I'm stuck on ncurses.<br /><br />If I `./configure` with no options, I get the following error:<br /><br />checking --with-tlib argument... empty: automatic terminal library selection<br />checking for tgetent in -ltinfo... no<br />checking for tgetent in -lncurses... no<br />checking for tgetent in -ltermlib... no<br />checking for tgetent in -ltermcap... no<br />checking for tgetent in -lcurses... no<br />no terminal library found<br />checking for tgetent()... configure: error: NOT FOUND!<br />You need to install a terminal library; for example ncurses.<br />Or specify the name of the library with --with-tlib.<br /><br />If instead I try `./configure --with-tlib=ncurses`<br /><br />checking --with-tlib argument... ncurses<br />checking for linking with ncurses library... configure: error: FAILED<br /><br />I have Xcode 4.1.  As far as I can tell, ncurses is available:<br /><br />$ file /usr/lib/libncurses.*<br />/usr/lib/libncurses.5.4.dylib: Mach-O universal binary with 2 architectures<br />/usr/lib/libncurses.5.4.dylib (for architecture x86_64): Mach-O 64-bit dynamically linked shared library x86_64<br />/usr/lib/libncurses.5.4.dylib (for architecture i386): Mach-O dynamically linked shared library i386<br />/usr/lib/libncurses.5.dylib:   Mach-O dynamically linked shared library i386<br />/usr/lib/libncurses.dylib:     Mach-O universal binary with 2 architectures<br />/usr/lib/libncurses.dylib (for architecture x86_64): Mach-O 64-bit dynamically linked shared library x86_64<br />/usr/lib/libncurses.dylib (for architecture i386): Mach-O dynamically linked shared library i386<br /><br /><br />Then I changed my PATH from /usr/local/bin... to /usr/bin.....<br /><br />The problem was trying to use my /usr/local/bin/gcc instead of the mac default /usr/bin/gcc.  Something about my locally installed gcc (4.6.1) caused major problems.<br /><br /><br />I also eventually had to do this command:<br /><br />LDFLAGS=-L/usr/lib CFLAGS='-arch i386 -arch x86_64' CCFLAGS='-arch i386 -arch x86_64' CXXFLAGS='-arch i386 -arch x86_64' ./configure --enable-perlinterp --enable-pythoninterp --enable-cscope  --with-features=huge <br /><br />and then had to make sure my default python was NOT pointing to enthought!</div>
