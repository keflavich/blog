---
layout: post
title: "Sampling causes problems"
date: 2011-04-18T16:39:00-07:00
categories:
 - downsampling
 - pipeline
---

<div class='post'>
One of the simplest experiments that can be run is a point-source observed in point-scan mode, i.e. with smaller step-sizes.  I've done this for an Airy disk with noise added in the image plan but not atmosphere (some noise is necessary to avoid bizarre artifacts with weighting when you have truly zero signal and zero noise).  At a S/N of 500, the noise is pretty minimal, though.<br /><br />It turns out for the 'noiseless' images, the PCA cleaning is the issue... curiously, it varies significantly with iteration.  Is it worth trying to debug the PCA cleaning for noiseless timestreams?  I mean... they really shouldn't have any correlated information anyway.<br /><br />There is still an outstanding issue where one bolometer gets scaled to be higher than the rest without any apparent reason for doing so.<br /><br />It is also clear that we do not nyquist-sample the pixels with the timestream.  However, that doesn't explain a deficiency observed in the ds1 images.  Also note that the sidelobes are not picked up at this S/N, but that's not too surprising.<br /><br />And here is the explanation:  The peak is missed by about 10% because of finite sampling?  Somehow the sampled gaussian nearly uniformly underestimates the gaussian... I think this violates theory a bit.....<div class="separator" style="clear: both; text-align: center;"><a href="http://3.bp.blogspot.com/-L2CMkehyV2g/TazJvpj2jjI/AAAAAAAAGGg/_BM0_GgC_x4/s1600/airy_test_ds1_reconv_arrang45_atmotest_amp1.0E-01timestream011_plots_20_bolo07.png" imageanchor="1" style="margin-left:1em; margin-right:1em"><img border="0" height="229" width="320" src="http://3.bp.blogspot.com/-L2CMkehyV2g/TazJvpj2jjI/AAAAAAAAGGg/_BM0_GgC_x4/s320/airy_test_ds1_reconv_arrang45_atmotest_amp1.0E-01timestream011_plots_20_bolo07.png" /></a></div><br />Here's the problem shown again:<br /><div class="separator" style="clear: both; text-align: center;"><a href="http://2.bp.blogspot.com/-vvY-1uleKmk/TazKE4Osm_I/AAAAAAAAGGo/n6Nadxi8UM4/s1600/airy_test_ds1_reconv_arrang45_atmotest_amp1.0E-01_compare.png" imageanchor="1" style="margin-left:1em; margin-right:1em"><img border="0" height="320" width="320" src="http://2.bp.blogspot.com/-vvY-1uleKmk/TazKE4Osm_I/AAAAAAAAGGo/n6Nadxi8UM4/s320/airy_test_ds1_reconv_arrang45_atmotest_amp1.0E-01_compare.png" /></a></div>This is a comparison between the input image and a ds1-sampled image with perfectly correlated atmospheric noise.  So there is something in the pipeline that is preventing the peaks from achieving the necessary heights.... I wonder if resampling the deconvolved image onto a higher-resolution grid, then downsampling afterwards, would fix this?<br /><br />Also note that the flux loss increases from 7% to 20% from ds1 to ds5:<br /><div class="separator" style="clear: both; text-align: center;"><a href="http://4.bp.blogspot.com/-hHQBTMME8Ow/TazKuf0gkuI/AAAAAAAAGGw/uQdJw4kc2U8/s1600/airy_test_ds5_reconv_arrang45_atmotest_amp1.0E-01_compare.png" imageanchor="1" style="margin-left:1em; margin-right:1em"><img border="0" height="320" width="320" src="http://4.bp.blogspot.com/-hHQBTMME8Ow/TazKuf0gkuI/AAAAAAAAGGw/uQdJw4kc2U8/s320/airy_test_ds5_reconv_arrang45_atmotest_amp1.0E-01_compare.png" /></a></div></div>
