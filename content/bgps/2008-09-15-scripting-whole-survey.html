---
layout: post
title: "Scripting the Whole Survey"
date: 2008-09-15T16:59:00-07:00
categories:
 - alignment
 - mapping
 - pipeline
---

<div class='post'>
First, discovered more fields with some sort of failure:<br /><pre>ls -d l[0-3][0-9][0-9] | sed 's:\(.*\):ls \1/*_map01.fits > \1/\1_infile.txt:' | bash<br />ls: l004/*_map01.fits: No such file or directory<br />ls: l017/*_map01.fits: No such file or directory<br />ls: l025/*_map01.fits: No such file or directory<br />ls: l108/*_map01.fits: No such file or directory<br />ls: l135/*_map01.fits: No such file or directory<br />ls: l136/*_map01.fits: No such file or directory<br />ls: l137/*_map01.fits: No such file or directory<br />ls: l138/*_map01.fits: No such file or directory<br />ls: l192/*_map01.fits: No such file or directory</pre>Also, that command was a total screwup.<br /><pre>ls -d l[0-3][0-9][0-9] | sed 's:\(.*\):ls /scratch/adam_work/\1/*_map01.fits > \1/\1_fitslist.txt:' | bash<br />ls: /scratch/adam_work/l004/*_map01.fits: No such file or directory<br />ls: /scratch/adam_work/l017/*_map01.fits: No such file or directory<br />bash: line 12: l020/l020_fitslist.txt: Permission denied<br />ls: /scratch/adam_work/l025/*_map01.fits: No such file or directory<br />ls: /scratch/adam_work/l108/*_map01.fits: No such file or directory<br />ls: /scratch/adam_work/l135/*_map01.fits: No such file or directory<br />ls: /scratch/adam_work/l136/*_map01.fits: No such file or directory<br />ls: /scratch/adam_work/l137/*_map01.fits: No such file or directory<br />ls: /scratch/adam_work/l138/*_map01.fits: No such file or directory<br />ls: /scratch/adam_work/l192/*_map01.fits: No such file or directory</pre><br /><br /><br />Now that those files exist, it should be possible to run a set of super-scripts like this:<br />coalign_field,'l057','070719_o29',sliced_dir='sliced_polychrome',premap=0<br />coalign_field,'l351','070725_ob3'<br />coalign_field,'l354','070724_o10'<br />coalign_field,'l357','070724_ob3'<br />coalign_field,'l000','070719_o14'<br />coalign_field,'l003','070718_o16'<br />coalign_field,'l006','070715_ob5'<br />coalign_field,'l009','070717_ob5'<br />coalign_field,'l012','070715_o10'<br />coalign_field,'l015','070714_o36'<br />coalign_field,'l018','070717_o10'<br />coalign_field,'l021','070715_o15'<br />coalign_field,'l024','070717_o15'<br />coalign_field,'l027','070715_o20'<br />coalign_field,'l030','070717_o20'<br />coalign_field,'l033','070718_ob5',sliced_dir='sliced_polychrome'<br />coalign_field,'l036','070715_o25',sliced_dir='sliced_polychrome'<br />coalign_field,'l039','070717_o25',sliced_dir='sliced_polychrome'<br />coalign_field,'l042','070715_o30',sliced_dir='sliced_polychrome'<br />coalign_field,'l044','070718_o24',sliced_dir='sliced_polychrome'<br />coalign_field,'l048','070717_o30',sliced_dir='sliced_polychrome'<br />coalign_field,'l050','070718_o29',sliced_dir='sliced_polychrome'<br />coalign_field,'l054','070724_o28',sliced_dir='sliced_polychrome'<br />coalign_field,'l057','070719_o29',sliced_dir='sliced_polychrome'<br /><br />where premap=0 means I'm not re-mapping the whole field, the sliced_dir='slice_polychrome' keyword is for those fields that do not have a regular sliced directory.<br /><br />This kind of thing ought to be really, really helpful when mapping the fields whose masters are not in the field: I'll have to modify the 'coalign_field' code to search in a different directory, though.<br /><br /><br />Yearghhh.... last command was bad too.<br /><pre>ls -d l[0-3][0-9][0-9] | sed 's:\(.*\):ls /scratch/adam_work/\1/0*_map01.fits > \1/\1_fitslist.txt:' | bash<br />ls: /scratch/adam_work/l004/0*_map01.fits: No such file or directory<br />ls: /scratch/adam_work/l017/0*_map01.fits: No such file or directory<br />bash: line 12: l020/l020_fitslist.txt: Permission denied<br />ls: /scratch/adam_work/l025/0*_map01.fits: No such file or directory<br />ls: /scratch/adam_work/l108/0*_map01.fits: No such file or directory<br />ls: /scratch/adam_work/l135/0*_map01.fits: No such file or directory<br />ls: /scratch/adam_work/l136/0*_map01.fits: No such file or directory<br />ls: /scratch/adam_work/l137/0*_map01.fits: No such file or directory<br />ls: /scratch/adam_work/l138/0*_map01.fits: No such file or directory<br />ls: /scratch/adam_work/l192/0*_map01.fits: No such file or directory</pre></div>
