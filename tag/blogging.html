<!DOCTYPE html>
<html lang="en">
<link rel="stylesheet" type="text/css" href="https://keflavich.github.io/blog/theme/css/style.css" />
<link rel="icon" type="image/gif" href="https://keflavich.github.io/blog/theme/favicon8.ico">
<head>
    <base href="https://keflavich.github.io/blog">
        <title>Adam Ginsburg's blog - blogging</title>
        <meta charset="utf-8" />
        <link href="https://keflavich.github.io/blog/feeds/all.atom.xml" type="application/atom+xml" rel="alternate" title="Adam Ginsburg's blog Full Atom Feed" />
<!-- Using MathJax, with the delimiters $ -->
<!-- Conflict with pygments for the .mo and .mi -->
<script type="text/x-mathjax-config">
    MathJax.Hub.Config({
    "HTML-CSS": {
    styles: {
    ".MathJax .mo, .MathJax .mi": {color: "inherit !important"}},
    'div.typeset': { 'text-align': 'left'}
    },
    tex2jax: {inlineMath: [['$','$'], ['\\(','\\)']],processEscapes: true}
    });
    TeX: {
        extensions: ["AMSmath.js", "AMSsymbols.js"]
    }
    MathJax.Hub.Register.StartupHook("HTML-CSS Jax Ready",function () {
    var VARIANT = MathJax.OutputJax["HTML-CSS"].FONTDATA.VARIANT;
    VARIANT["normal"].fonts.unshift("MathJax_SansSerif");
    VARIANT["bold"].fonts.unshift("MathJax_SansSerif-bold");
    VARIANT["italic"].fonts.unshift("MathJax_SansSerif-italic");
    VARIANT["-tex-mathit"].fonts.unshift("MathJax_SansSerif-italic");
    });
    MathJax.Hub.Register.StartupHook("SVG Jax Ready",function () {
    var VARIANT = MathJax.OutputJax.SVG.FONTDATA.VARIANT;
    VARIANT["normal"].fonts.unshift("MathJax_SansSerif");
    VARIANT["bold"].fonts.unshift("MathJax_SansSerif-bold");
    VARIANT["italic"].fonts.unshift("MathJax_SansSerif-italic");
    VARIANT["-tex-mathit"].fonts.unshift("MathJax_SansSerif-italic");
    });
</script>

<script type="text/javascript"
src="http://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS_HTML">
</script>
        
</head>

<body id="base" class="home">


    <header id="banner" class="body" >
        <div id="header" style='background-image: url("https://keflavich.github.io/blog/images/GC_4096sq_bolo.png"); background-position:left; min-heigt: 200px;  background-repeat: no-repeat; max-width: 80%;'>
            <h1 style="color: #C4C4C4;"><a class="header" href="https://keflavich.github.io/blog">Adam Ginsburg's blog <strong></strong></a></h1>

            <nav id="menu"><ul id="menulist">
                <li><a href="https://www.adamgginsburg.com">Homepage</a></li>
                <li><a href="/index.html">Blog Index</a></li>
                <li><a href="/category/bgps.html">BGPS Blog</a></li>
                <li><a href="/category/publications.html">Publications</a></li>
                <li><a href="/archives.html">Archives</a></li>
                <li><a href="/tags.html">Tags</a></li>
            </ul></nav><!-- /#menu -->
        </div>
    </header><!-- /#banner -->

  <div id="sidebar">
    <ul>
      <li>
        <h3 id='recent_header'>Recent Posts</h3>
        <ul>
              <li class="post">
                  2013/12/13
                  <br>
                  <a href="https://keflavich.github.io/blog/there-is-a-gap-in-the-dust-around-sgr-b2.html">There is a "gap" in the dust around Sgr B2</a>
              </li>
              <li class="post">
                  2013/09/22
                  <br>
                  <a href="https://keflavich.github.io/blog/blogging-from-ipython.html">Blogging from IPython</a>
              </li>
        </ul>
      </li>
    
    </ul>
  </div><!-- end #sidebar -->

  <div id="content">
<section id="content">

<ul id="post-list">
    <li><article class="hentry">
        <header> 
            <h2 class="entry-title">
                <a href="https://keflavich.github.io/blog/there-is-a-gap-in-the-dust-around-sgr-b2.html" rel="bookmark" title="Permalink to There is a "gap" in the dust around Sgr B2">
                    There is a &quot;gap&quot; in the dust around Sgr B2</a>
            </h2> 
        </header>
        <footer class="post-info">
            <abbr class="published" title="2013-12-13T00:00:00-07:00"> 2013/12/13 </abbr>
            <!--<address class="vcard author"><a class="url fn" href="https://keflavich.github.io/blog/author/adam.html">Adam <keflavich@gmail.com></a></address>-->
        </footer><!-- /.post-info -->
        <div class="entry-content"> <p>Sgr B2 is the most massive gas clump in our Galaxy.  It's about 100 pc away
from Sgr A*, the black hole at the center of the Galaxy.  It is forming stars
prodigiously, and has extreme properties in many regards.</p>
<p>In many physical aspects - mass, luminosity, velocity dispersion, temperature -
the Sgr B2 region is similar to &quot;proto-cluster clumps&quot; seen in other galaxies,
e.g. the Antennae galaxies.</p>
<p>There are plenty of mysteries about Sgr B2, including its extraordinarily
diverse chemistry and its peculiar kinematics.</p>
<p>I'm raising a sort of new one.  There appears to be a hole next to Sgr B2,
towards the southeast in Galactic coordinates.  It appears as a relatively
empty spot in the dust continuum bands.  It doesn't seem to be filled in
with anything in particular.</p>
<html>
<div class="output_html rendered_html">

    <script type="text/javascript">

      var image_dir='blog/images/sgrb2/'

      var images=new Array(
                   "TheGap_GLM_00000+0000_mosaic_I2.png",
                   "TheGap_GLM_00000+0000_mosaic_I4.png",
                   "TheGap_gcmosaic_24um.png",
                   "TheGap_igls_l000_blue_cnr_hh.png",
                   "TheGap_igls_l000_red_cnr_hh.png",
                   "TheGap_igls_l000_psw_deglitch_hh.png",
                   "TheGap_igls_l000_pmw_deglitch_hh.png",
                   "TheGap_SgrB2_350um_gal.png",
                   "TheGap_gc450_gal.png",
                   "TheGap_igls_l000_plw_deglitch_hh.png",
                   "TheGap_gc850_gal.png",
                   "TheGap_ATLASGAL.1.5_reprojectoverlap9.png",
                   "TheGap_v2.0_ds2_l001_13pca_map20.png",
                   //"TheGap_sgrb2_nh311_sum.png",
                   "TheGap_sgrb2_20cm_12as_gal.png",
                   "TheGap_20cm_0.png"
                   )
      var titles=new Array(
                   "4.5um",
                   "8um",
                   "24um",
                   "70um",
                   "160um",
                   "250um",
                   "350um Herschel",
                   "350um SHARC",
                   "450um",
                   "500um",
                   "850um SCUBA",
                   "870um ATLASGAL",
                   "1100um",
                   //"1.3cm NH3",
                   "20cm",
                   "20cm (poor resolution)"
                   )

      function interactUpdate(div){
         var outputs = div.getElementsByTagName("img");
         var divoutputs = div.getElementsByTagName("div");
         var controls = div.getElementsByTagName("input");

         var value = "";
         for(i=0; i<controls.length; i++){
           if((controls[i].type == "range") || controls[i].checked){
             //value = value + controls[i].getAttribute("name") + controls[i].value;
             value = controls[i].value;
           }
         }

         for(i=0; i<outputs.length; i++){
           var name = outputs[i].getAttribute("name");
           if(name=="figure"){
                 outputs[i].src = image_dir+images[value]
           }
         }

         for(i=0; i<divoutputs.length; i++){
           var name = divoutputs[i].getAttribute("name");
           if(name=="caption"){
                 divoutputs[i].innerHTML = titles[value];
           }
         }

         //for(i=0; i<images.length; i++){
         //  var name = outputs[i].getAttribute("name");
         //  if(name == value){
         //     outputs[i].style.display = 'block';
         //  } else if(name != "controls"){
         //     outputs[i].style.display = 'none';
         //  }
         //}
      }
    </script>
    
    <div>
      
    <div name="figure" style="display:block">
        <div name="caption">
            20cm
        </div>
        <img name="figure" src="blog/images/sgrb2/TheGap_20cm_0.png" height=600px>
    </div>

<input type="range" name="figure" min="0" max="14" step="1" value="0" style="width:350px" onchange="interactUpdate(this.parentNode);">
</html>
<p>Note the slider here: you can view Sgr B2 at any wavelength where I have data.
The green circle highlights the major deficiency that is evident in all
dust-containing bands.  There are other &quot;minor&quot; deficiencies elsewhere.</p>
<p>It is tricky to interpret this: I don't think the absolute flux densities in
any of the millimeter observations are perfectly trustworthy because of their
proximity to the extremely bright Sgr B2 point sources.</p>
<p>Additionally, this gap is not perfectly evident in NH3 or CO.  In the HOPS NH3
maps, there is a relative lack of emission at ~56 km/s - relative to
neighboring regions; this is actually the peak of the line profile extracted
from the ellipse!</p>
<p>This is in contrast to the central &quot;Gas Hole&quot; which has been noted by others;
it exists in CO and NH3.  There is almost certainly some NH3 self-absorption
involved.  The &quot;Gas Hole&quot; coincides with the peak in other gas species and the
peak in the dust emission, so it really seems to be a different phenomenon,
having to do with line-of-sight confusion and excitation conditions.</p>
<p>The one feature of the &quot;dust gap&quot; that distinguishes this part of Sgr B2 from
the other regions surrounding it is that 8 micron emission can readily be
observed here.  A little 24 micron emission is in the gap as well, but not as
much as the 8 micron.  The 70 micron emission is quite weak, but not really
deficient.  Perhaps in this region, very small grains are more common than in
its surroundings?</p>
<p>There's a lot more hypothesizing to be done here.</p>
 </div>
        <!-- /.entry-content   not article.summary--> 
    </article></li>
    <hr width=100%>
    <li><article class="hentry">
        <header> 
            <h2 class="entry-title">
                <a href="https://keflavich.github.io/blog/blogging-from-ipython.html" rel="bookmark" title="Permalink to Blogging from IPython">
                    Blogging from IPython</a>
            </h2> 
        </header>
        <footer class="post-info">
            <abbr class="published" title="2013-09-22T00:00:00-06:00"> 2013/09/22 </abbr>
            <!--<address class="vcard author"><a class="url fn" href="https://keflavich.github.io/blog/author/adam.html">Adam <keflavich@gmail.com></a></address>-->
        </footer><!-- /.post-info -->
        <div class="entry-content"> <p>[ <a class="reference external" href="http://nbviewer.ipython.org/urls/raw.github.com/keflavich/blog/master/content/BloggingFromIPython.ipynb">Notebook Form of this
post</a>
]</p>
<p>There have been
<a class="reference external" href="http://jmcarp.github.io/blog/2013/07/07/hello-world/">many</a>
<a class="reference external" href="http://danielfrg.github.io/blog/2013/02/16/blogging-pelican-ipython-notebook/">other</a>
<a class="reference external" href="http://danielfrg.github.io/blog/2013/03/08/pelican-ipython-notebook-plugin/">posts</a>
about blogging in ipython, but they all included more overhead than I
really wanted to deal with.</p>
<p>Instead, I've gone directly to <a class="reference external" href="http://nbviewer.ipython.org/urls/raw.github.com/Carreau/posts/master/06-NBconvert-Doc-Draft.ipynb">the
source</a>
and used nbconvert in ipython 2.0 to convert my notebooks to rst, then
put them through pelican.</p>
<p>This post outlines my workflow.</p>
<p>First, and most inconvenient, it is necessary to head any blog post with
metadata. I don't have any convenient workflow to deal with that, I just
write it in by hand in a raw text box (ctrl-m, t) as you can see above.
<a class="reference external" href="http://danielfrg.github.io/">Daniel Rodriguez</a> took a <a class="reference external" href="http://danielfrg.github.io/blog/2013/03/08/pelican-ipython-notebook-plugin/">different
approach</a>
using the ipython metadata directly and an ipython plugin, but I didn't
want to have to worry about installing plugins and I am definitely
worried about breaking notebooks by messing with the
<a class="reference external" href="https://github.com/ipython/ipython/wiki/IPEP-20%3A-Informal-structure-of-cell-metadata">metadata</a>
as the ipy devs give some fairly <a class="reference external" href="https://gist.github.com/Carreau/4437348">strict
warnings</a>.</p>
<p>Next, the ipynb -&gt; rst step is fairly straightforward. I modified the
rst template because I don't want to see the <tt class="docutils literal"><span class="pre">In[#]:</span></tt> and <tt class="docutils literal"><span class="pre">Out[#]:</span></tt>
prefixes around my code. I also use <tt class="docutils literal">.. <span class="pre">code-block::</span></tt> rather than
<tt class="docutils literal">.. code::</tt>.</p>
<p>This very simple function below makes sure that my local <tt class="docutils literal">rst.tbl</tt>
file is seen before ipython's. Their templates are in
<tt class="docutils literal">IPython/nbconvert/templates</tt>. Note that you could normally use Jinja2
templating and &quot;Extend&quot; their template, but I wanted to remove rather
than extend.</p>
<p>[
<a class="reference external" href="https://github.com/keflavich/blog/blob/master/nbconverter.py">Source</a>
]</p>
<div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">IPython.nbconvert.exporters</span> <span class="kn">import</span> <span class="n">RSTExporter</span>

<span class="k">def</span> <span class="nf">export</span><span class="p">(</span><span class="n">nbname</span><span class="p">,</span> <span class="n">outfilename</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
    <span class="n">exportRST</span> <span class="o">=</span> <span class="n">RSTExporter</span><span class="p">()</span>
    <span class="c1"># exclude default paths</span>
    <span class="n">exportRST</span><span class="o">.</span><span class="n">template_path</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;.&#39;</span><span class="p">,</span><span class="s1">&#39;/Users/adam/repos/blog&#39;</span><span class="p">]</span>

    <span class="p">(</span><span class="n">body</span><span class="p">,</span><span class="n">resources</span><span class="p">)</span> <span class="o">=</span> <span class="n">exportRST</span><span class="o">.</span><span class="n">from_filename</span><span class="p">(</span><span class="n">nbname</span><span class="p">)</span>

    <span class="k">if</span> <span class="n">outfilename</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
        <span class="n">outfilename</span> <span class="o">=</span> <span class="n">nbname</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s2">&quot;ipynb&quot;</span><span class="p">,</span><span class="s2">&quot;rst&quot;</span><span class="p">)</span>

    <span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="n">outfilename</span><span class="p">,</span><span class="s1">&#39;w&#39;</span><span class="p">)</span> <span class="k">as</span> <span class="n">f</span><span class="p">:</span>
        <span class="n">f</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="n">body</span><span class="p">)</span>

    <span class="k">return</span> <span class="n">body</span><span class="p">,</span><span class="n">resources</span>
</pre></div>
<p>I then run the script from the command line:
<tt class="docutils literal"><span class="pre">~/virtual-ipydev/bin/ipython</span> ./nbconverter.py content/GenerateCVExample.ipynb</tt></p>
<p>I'm using a virtual environment with ipython 2 installed because I'm not
yet ready to make the jump to the dev version of ipython (though these
days, with Travis and Jenkins around, it's probably safe to assume the
dev version won't break anything).</p>
<p>With this rst file generated, the only remaining step is
<a class="reference external" href="http://blog.getpelican.com/">pelican</a>, which only requires a
<tt class="docutils literal">make github</tt> command in the blog directory. Installing &amp; setting up
pelican is reasonably easy, but not the topic of this post.</p>
<p>I've made my own <a class="reference external" href="https://github.com/keflavich/pelican-themes/tree/master/mine">custom pelican
theme</a>,
so I generally need to update the theme before building:</p>
<p><tt class="docutils literal"><span class="pre">pelican-themes</span> <span class="pre">--upgrade</span> <span class="pre">/Users/adam/repos/pelican-themes/mine</span> &amp;&amp; make github</tt></p>
 </div>
        <!-- /.entry-content   not article.summary--> 
    </article></li>
    <hr width=100%>
</ul><!-- /#posts-list -->
<p class="paginator">
    Page 1 / 1
</p>
</section><!-- /#content -->
  </div>

    <script type="text/javascript">
    var _gaq = _gaq || [];
    _gaq.push(['_setAccount', 'UA-37306139-1']);
    _gaq.push(['_trackPageview']);
    (function() {
        var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
        ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
        var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
    })();

    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
    (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
    m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-37306139-1');
    ga('send', 'pageview');
</script>
<script type="text/javascript">
  var disqus_shortname = 'adamginsburgsblog';
  (function() {
        var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
        dsq.src = 'http://' + disqus_shortname + '.disqus.com/embed.js';
        (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
   })();
</script>
</body>
</html>
