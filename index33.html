<!DOCTYPE html>
<html lang="en">
<link rel="stylesheet" type="text/css" href="https://keflavich.github.io/blog/theme/css/style.css" />
<link rel="icon" type="image/gif" href="https://keflavich.github.io/blog/theme/favicon8.ico">
<head>
    <base href="https://keflavich.github.io/blog">
        <title>Adam Ginsburg's blog</title>
        <meta charset="utf-8" />
        <link href="https://keflavich.github.io/blog/feeds/all.atom.xml" type="application/atom+xml" rel="alternate" title="Adam Ginsburg's blog Full Atom Feed" />
<!-- Using MathJax, with the delimiters $ -->
<!-- Conflict with pygments for the .mo and .mi -->
<script type="text/x-mathjax-config">
    MathJax.Hub.Config({
    "HTML-CSS": {
    styles: {
    ".MathJax .mo, .MathJax .mi": {color: "inherit !important"}},
    'div.typeset': { 'text-align': 'left'}
    },
    tex2jax: {inlineMath: [['$','$'], ['\\(','\\)']],processEscapes: true}
    });
    TeX: {
        extensions: ["AMSmath.js", "AMSsymbols.js"]
    }
    MathJax.Hub.Register.StartupHook("HTML-CSS Jax Ready",function () {
    var VARIANT = MathJax.OutputJax["HTML-CSS"].FONTDATA.VARIANT;
    VARIANT["normal"].fonts.unshift("MathJax_SansSerif");
    VARIANT["bold"].fonts.unshift("MathJax_SansSerif-bold");
    VARIANT["italic"].fonts.unshift("MathJax_SansSerif-italic");
    VARIANT["-tex-mathit"].fonts.unshift("MathJax_SansSerif-italic");
    });
    MathJax.Hub.Register.StartupHook("SVG Jax Ready",function () {
    var VARIANT = MathJax.OutputJax.SVG.FONTDATA.VARIANT;
    VARIANT["normal"].fonts.unshift("MathJax_SansSerif");
    VARIANT["bold"].fonts.unshift("MathJax_SansSerif-bold");
    VARIANT["italic"].fonts.unshift("MathJax_SansSerif-italic");
    VARIANT["-tex-mathit"].fonts.unshift("MathJax_SansSerif-italic");
    });
</script>

<script type="text/javascript"
src="http://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS_HTML">
</script>
        
</head>

<body id="base" class="home">


    <header id="banner" class="body" >
        <div id="header" style='background-image: url("https://keflavich.github.io/blog/images/GC_4096sq_bolo.png"); background-position:left; min-heigt: 200px;  background-repeat: no-repeat; max-width: 80%;'>
            <h1 style="color: #C4C4C4;"><a class="header" href="https://keflavich.github.io/blog">Adam Ginsburg's blog <strong></strong></a></h1>

            <nav id="menu"><ul id="menulist">
                <li><a href="https://www.adamgginsburg.com">Homepage</a></li>
                <li><a href="/index.html">Blog Index</a></li>
                <li><a href="/category/bgps.html">BGPS Blog</a></li>
                <li><a href="/category/publications.html">Publications</a></li>
                <li><a href="/archives.html">Archives</a></li>
                <li><a href="/tags.html">Tags</a></li>
            </ul></nav><!-- /#menu -->
        </div>
    </header><!-- /#banner -->

  <div id="sidebar">
    <ul>
      <li>
        <h3 id='recent_header'>Recent Posts</h3>
        <ul>
              <li class="post">
                  2025/03/15
                  <br>
                  <a href="https://keflavich.github.io/blog/pushing-to-a-pull-request.html">Pushing to a pull request</a>
              </li>
              <li class="post">
                  2023/08/11
                  <br>
                  <a href="https://keflavich.github.io/blog/editing-metadata-in-measurement-sets.html">Editing metadata in measurement sets</a>
              </li>
              <li class="post">
                  2022/05/06
                  <br>
                  <a href="https://keflavich.github.io/blog/casa-mpi-debugging-contd.html">CASA MPI debugging cont'd</a>
              </li>
              <li class="post">
                  2022/05/01
                  <br>
                  <a href="https://keflavich.github.io/blog/co2-monitoring-at-conferences-update-in-2022.html">CO2 Monitoring at Conferences: Update in 2022</a>
              </li>
              <li class="post">
                  2022/04/14
                  <br>
                  <a href="https://keflavich.github.io/blog/alma-cycle-9-corrupted-zip-fix.html">ALMA Cycle 9 corrupted zip fix</a>
              </li>
        </ul>
      </li>
    
    </ul>
  </div><!-- end #sidebar -->

  <div id="content">
<section id="content">

<ul id="post-list">
    <li><article class="hentry">
        <header> 
            <h2 class="entry-title">
                <a href="https://keflavich.github.io/blog/spatial-transfer-function-vs-npca.html" rel="bookmark" title="Permalink to Spatial Transfer Function vs. nPCA">
                    Spatial Transfer Function vs. nPCA</a>
            </h2> 
        </header>
        <footer class="post-info">
            <abbr class="published" title="2011-08-10T16:29:00-06:00"> 2011/08/10 </abbr>
            <!--<address class="vcard author"><a class="url fn" href="https://keflavich.github.io/blog/author/adam-adamgginsburggmailcom.html">Adam (adam.g.ginsburg@gmail.com)</a></address>-->
        </footer><!-- /.post-info -->
        <div class="entry-content"> <p>A demonstration that the spatial transfer function can be improved to
~80% at ~300 arcseconds by reducing the number of PCA components
subtracted. However, image fidelity and noise backgrounds suffer, so
these sorts of maps are probably less ideal for point source extraction.
Below:</p>
<pre class="literal-block">
0 PCA
3 PCA
10 PCA
15 PCA
</pre>
<img alt="" src="http://1.bp.blogspot.com/-CPZck7lZils/TkKxcMIgsoI/AAAAAAAAGZg/HeZJfzaSewk/s320/exp15_ds2_astrosky_arrang45_atmotest_amp5.0E%252B02_sky00_seed00_peak050.00_smooth_00pca_median_psds.png" />
<img alt="" src="http://1.bp.blogspot.com/-ew7CSdNfc3M/TkKxcZb3qDI/AAAAAAAAGZo/_mSPtt6TgG4/s320/exp15_ds2_astrosky_arrang45_atmotest_amp5.0E%252B02_sky00_seed00_peak050.00_smooth_03pca_psds.png" />
<img alt="" src="http://4.bp.blogspot.com/-NG2yqqzPucM/TkKxcxoM6pI/AAAAAAAAGZw/zocHKlKAO3Q/s320/exp15_ds2_astrosky_arrang45_atmotest_amp5.0E%252B02_sky00_seed00_peak050.00_smooth_10pca_psds.png" />
<img alt="" src="http://1.bp.blogspot.com/-Y_rIZ33S8QE/TkKxdOlcTAI/AAAAAAAAGZ4/J6kkz5PDasA/s320/exp15_ds2_astrosky_arrang45_atmotest_amp5.0E%252B02_sky00_seed00_peak050.00_smooth_15pca_psds.png" />
 </div>
        <!-- /.entry-content   not article.summary--> 
    </article></li>
    <hr width=100%>
    <li><article class="hentry">
        <header> 
            <h2 class="entry-title">
                <a href="https://keflavich.github.io/blog/spatial-transfer-functions-revisit-4.html" rel="bookmark" title="Permalink to Spatial Transfer Functions, revisit 4">
                    Spatial Transfer Functions, revisit 4</a>
            </h2> 
        </header>
        <footer class="post-info">
            <abbr class="published" title="2011-08-05T18:56:00-06:00"> 2011/08/05 </abbr>
            <!--<address class="vcard author"><a class="url fn" href="https://keflavich.github.io/blog/author/adam-adamgginsburggmailcom.html">Adam (adam.g.ginsburg@gmail.com)</a></address>-->
        </footer><!-- /.post-info -->
        <div class="entry-content"> <p>Last report was a bit of a fiasco. There were problems all over the
place I didn't understand. I still don't but I've fixed them. My best
guess at this point is that a pass-by-reference led to an unacceptable
modification of an image. That doesn't even make sense - there was no
place it could have happened - but, there you have it.
So, going through the process step by step.
This is the effect of smoothing an image:</p>
<img alt="" src="http://1.bp.blogspot.com/-3TabjiWVKm4/Tjs03gqxkxI/AAAAAAAAGXk/BQOH5FvG3CM/s320/exp10_ds2_astrosky_arrang45_atmotest_amp1.0E%252B01_sky02_seed00_peak010.00_SMvsNOSM_input_psds.png" />
<img alt="" src="http://1.bp.blogspot.com/-AWglr2CHB-0/Tjs04fniKDI/AAAAAAAAGXs/MM3RCNu6x10/s320/exp10_ds2_astrosky_arrang45_atmotest_amp1.0E%252B01_sky02_seed00_peak010.00_SMvsNOSM_input_compare.png" />
<img alt="" src="http://2.bp.blogspot.com/-5yFhvF1iOeY/Tjs1ES7HeuI/AAAAAAAAGX0/T44kJArWn2o/s320/exp10_ds2_astrosky_arrang45_atmotest_amp1.0E%252B01_sky02_seed00_peak010.00_SMvsNOSM_input_stf.png" />
<p>Note from the 3rd figure that 100% recovery isn't reached until ~700
arcseconds.
Next question: What is happening at large spatial scales in the
flat-spectrum simulations?</p>
<img alt="" src="http://1.bp.blogspot.com/-Fi2EBFsPFK4/TjtLzkxRxRI/AAAAAAAAGX8/4GoYEwSaaKc/s320/exp10_ds2_astrosky_arrang45_atmotest_amp1.0E%252B01_sky07_seed00_peak100.00_smooth_compare.png" />
<img alt="" src="http://2.bp.blogspot.com/-P3TEAHevkEY/TjtL0BG8BbI/AAAAAAAAGYE/oC71ZTFTz3k/s320/exp10_ds2_astrosky_arrang45_atmotest_amp1.0E%252B01_sky06_seed00_peak100.00_smooth_compare.png" />
<img alt="" src="http://4.bp.blogspot.com/-g0m5hEHx8QY/TjtL00D3USI/AAAAAAAAGYM/687cgIORovk/s320/exp10_ds2_astrosky_arrang45_atmotest_amp1.0E%252B01_sky05_seed00_peak100.00_smooth_compare.png" />
<p>No obvious problems there.</p>
<img alt="" src="http://3.bp.blogspot.com/-DwXSkiyw2kE/TjtNt7XadiI/AAAAAAAAGYU/trzLma37DgM/s320/exp10_ds2_astrosky_arrang45_atmotest_amp1.0E%252B01_sky05_seed00_peak100.00_smooth_psds.png" />
<img alt="" src="http://1.bp.blogspot.com/-Q9ItTP7uQDs/TjtNuILPfLI/AAAAAAAAGYc/w67japCoUpo/s320/exp10_ds2_astrosky_arrang45_atmotest_amp1.0E%252B01_sky06_seed00_peak100.00_smooth_psds.png" />
<img alt="" src="http://3.bp.blogspot.com/-mgWHY8CT3tQ/TjtNuv1jZ-I/AAAAAAAAGYk/Iddg_I2UKjo/s320/exp10_ds2_astrosky_arrang45_atmotest_amp1.0E%252B01_sky07_seed00_peak100.00_smooth_psds.png" />
<p>Hmm, no apparent problem here either, though one might ask why the two
curves approach each other in sky05 (alpha=-0.5).
So it appears that the reason for the bump up at low frequencies (long
wavelengths) must be because of edge effects. After much hassle, I've
addressed that by cropping images.
Finally, the averaged results:</p>
<img alt="" src="http://3.bp.blogspot.com/-26KmVHKU_QY/Tjw8VVYnkkI/AAAAAAAAGY4/-R-e3mwVwZc/s320/stfs_bestmodel_fits.png" />
<img alt="" src="http://2.bp.blogspot.com/-lPtvV465aLg/Tjw8VhQZXXI/AAAAAAAAGZA/Rib4AX6z75E/s320/stfs_bestmodels.png" />
<p>So we've got an Official Spatial Transfer Function.
However, of course, we must note that there is a dependence on the
atmosphere amplitude to source amplitude ratio: it appears that
large-scale structure is *easier* to recover when the atmosphere is at
higher amplitude. This makes sense: it is easier to distinguish faint
astrophysical signal from bright atmosphere in this case. The reason I
didn't run simulations to test this more is that the S/N ratio on small
scales becomes poor for the low astrophysical amplitudes.</p>
 </div>
        <!-- /.entry-content   not article.summary--> 
    </article></li>
    <hr width=100%>
    <li><article class="hentry">
        <header> 
            <h2 class="entry-title">
                <a href="https://keflavich.github.io/blog/stf-measurement-attempts-round-3.html" rel="bookmark" title="Permalink to STF measurement attempts, round 3?">
                    STF measurement attempts, round 3?</a>
            </h2> 
        </header>
        <footer class="post-info">
            <abbr class="published" title="2011-08-03T02:51:00-06:00"> 2011/08/03 </abbr>
            <!--<address class="vcard author"><a class="url fn" href="https://keflavich.github.io/blog/author/adam-adamgginsburggmailcom.html">Adam (adam.g.ginsburg@gmail.com)</a></address>-->
        </footer><!-- /.post-info -->
        <div class="entry-content"> <p>Below are plots of the spatial transfer function for a variety of
simulation parameters. Each line represents the median (i.e., mean of
the center 2 of 4) spatial transfer function of 4 realizations of the
listed parameters.</p>
<img alt="alt" src="http://3.bp.blogspot.com/-qAq4e3xotf8/TjJCwJb6knI/AAAAAAAAGXA/mv7hs-uKudI/s320/stfs_atmo01_peak010_smooth.png" />
<img alt="alt" src="http://2.bp.blogspot.com/-lTKFbV1Zxno/TjJCwluvOXI/AAAAAAAAGXI/fK7qPWDF0Qw/s320/stfs_atmo10_peak010_smooth.png" />
<img alt="alt" src="http://1.bp.blogspot.com/-HNLrsuXSrvA/TjJCwx9xEBI/AAAAAAAAGXQ/a0l3Qljyp04/s320/stfs_atmo10_peak100_smooth.png" />
<p>A few unfortunate details are apparent:</p>
<ol class="arabic simple">
<li>The STF is background dependent, though not strongly</li>
<li>The STF appears to never exceed 85%, and be more typically 75%. If
this is not matched by point-source PSDs, an explanation for the flux
discrepancy becomes possible</li>
<li>The 50% recovery point is much closer in than previously stated, at
closer to 150&quot; than 300&quot;.</li>
</ol>
<p>Note for comparison that the recovery fraction for point sources is much
more nearly 1, at least in the calibrator type maps. We need to wait for
Jared's simulations with point sources in a full size map to confirm
this, but it seems pretty likely that the STF is different for point
sources and extended structures.</p>
<img alt="alt" src="http://4.bp.blogspot.com/-n0mH8DTSc80/Tji3c0tOffI/AAAAAAAAGXc/_Xd-AQMo4QU/s320/psf_ds1_reconv_arrang45_atmotest_noise%252B6.3E-04varyrelscale_amp1.0E%252B00_psds.png" />
 </div>
        <!-- /.entry-content   not article.summary--> 
    </article></li>
    <hr width=100%>
    <li><article class="hentry">
        <header> 
            <h2 class="entry-title">
                <a href="https://keflavich.github.io/blog/examining-bolocat.html" rel="bookmark" title="Permalink to Examining bolocat">
                    Examining bolocat</a>
            </h2> 
        </header>
        <footer class="post-info">
            <abbr class="published" title="2011-07-27T22:51:00-06:00"> 2011/07/27 </abbr>
            <!--<address class="vcard author"><a class="url fn" href="https://keflavich.github.io/blog/author/adam-adamgginsburggmailcom.html">Adam (adam.g.ginsburg@gmail.com)</a></address>-->
        </footer><!-- /.post-info -->
        <div class="entry-content"> <p>Just in case we were wondering, the V1 bolocat is completely
inconsistent with a lognormal distribution, but is perfectly consistent
(or... at least reasonably consistent...) with a power law distribution.</p>
<img alt="" src="http://2.bp.blogspot.com/-kKaOXdf9hW4/TjBRmgiNmqI/AAAAAAAAGUI/4H0KJk70F_o/s320/bolocat_flux_cdf.png" />
<img alt="" src="http://1.bp.blogspot.com/-3T9mrt5U39E/TjBRm5p7inI/AAAAAAAAGUQ/ARP6EKQDYo0/s320/bolocat_flux40_cdf.png" />
<img alt="" src="http://4.bp.blogspot.com/-ytrgQo5XYEg/TjBRndOQqOI/AAAAAAAAGUY/9g--hpa5X0Y/s320/bolocat_flux80_cdf.png" />
<img alt="" src="http://3.bp.blogspot.com/-TqVY1B1uGLw/TjBRnt6uLEI/AAAAAAAAGUg/FhXct0wpEio/s320/bolocat_flux120_cdf.png" />
<p>These plots show power-law fits (red) and lognormal fits (blue) to the
data (black). It's pretty obvious that the lognormal is a bad fit, but
in case you're unconvinced, the ks test for the &quot;source flux&quot; has a
probability 1.6e-7, and it is the highest likelihood by 17 orders of
magnitude out of the 4 flux types.
By contrast, the simulations are on average (though not uniformly) more
consistent with lognormal than powerlaw distributions:</p>
<img alt="" src="http://2.bp.blogspot.com/-lpOaHHV3e3Q/TjCTzm9RwFI/AAAAAAAAGWI/o57oH5SfdqE/s320/simulations_ksvalues_lognormvspowerlaw.png" />
<p>Even in those examples where the KS test is slightly more favorable for
the powerlaw distribution, the lognormal is a pretty good fit, and the
failure points for the two distributions are in about the same place.
The smoothness of the lognormal distribution is required to reproduce
the observed distribution.</p>
<img alt="" src="http://1.bp.blogspot.com/-8_WCGM_8AjM/TjB2tW_JZeI/AAAAAAAAGU4/SDR1guNcNq0/s320/exp10_ds2_astrosky_arrang45_atmotest_amp1.0E%252B01_sky07_seed00_peak100.00_smooth_bolocat_cdf.png" />
<p>Note that the first 4 plots are for the whole BGPS survey. What about an
individual field? For obvious reasons, I choose l30 again.</p>
<img alt="" src="http://1.bp.blogspot.com/-vHQoJtAe-vU/TjCIiVcRHsI/AAAAAAAAGVo/04fA4WSCnlA/s320/bolocat_flux40_L30_cdf.png" />
<img alt="" src="http://1.bp.blogspot.com/-kIpe2v9_YpQ/TjCIimC8K2I/AAAAAAAAGVw/-o5GZ7DoLOw/s320/bolocat_flux80_L30_cdf.png" />
<img alt="" src="http://2.bp.blogspot.com/-Shg66Vp6sUI/TjCIi2HEe4I/AAAAAAAAGV4/na0n21atNsI/s320/bolocat_flux120_L30_cdf.png" />
<img alt="" src="http://1.bp.blogspot.com/-R2zq58aXXyI/TjCIjeTdjHI/AAAAAAAAGWA/D3xEDRAgY7M/s320/bolocat_flux_L30_cdf.png" />
<p>This gets to be a little more interesting - apparently the &quot;source flux&quot;
has a tendency to pick up the power-law distributed background
structure, since it is consistent with a lognormal (but note that it is
also consistent with a powerlaw! The ks test doesn't really say
definitively which is better). Although the fits look bad at high flux,
note that this is a log-log plot and therefore the difference in
probability is rather small.
What does this all indicate? It's not entirely clear whether individual
fields are genuinely more lognormally-distributed or whether the number
statistics are just worse. However, even the source flux is consistent
with a power-law, while many realizations of the simulations are not.
Therefore, we should perform the next logical test - add point sources
drawn from a power-law distribution (and a log-normal distribution?) and
see what bolocat retrieves. We can at least say now that the point
source contribution cannot be ignored, since there is no power-law
distribution that can reproduce the observed bolocat flux distribution.</p>
 </div>
        <!-- /.entry-content   not article.summary--> 
    </article></li>
    <hr width=100%>
    <li><article class="hentry">
        <header> 
            <h2 class="entry-title">
                <a href="https://keflavich.github.io/blog/bolocat-examination-part-1.html" rel="bookmark" title="Permalink to Bolocat examination part 1">
                    Bolocat examination part 1</a>
            </h2> 
        </header>
        <footer class="post-info">
            <abbr class="published" title="2011-07-18T22:59:00-06:00"> 2011/07/18 </abbr>
            <!--<address class="vcard author"><a class="url fn" href="https://keflavich.github.io/blog/author/adam-adamgginsburggmailcom.html">Adam (adam.g.ginsburg@gmail.com)</a></address>-->
        </footer><!-- /.post-info -->
        <div class="entry-content"> <img alt="" src="http://2.bp.blogspot.com/-RTBSwnk-CX0/TiS6VA5P39I/AAAAAAAAGT0/kB4v_Krbkm0/s320/bolocatrecovery_inputfiltered.png" />
<p>This figure shows the flux recovery of bolocat. The Y axis shows the
Input flux (green) and the Filtered flux (blue/cyan/purple) with a few
different large-scale filters. The red line is the 1-1 line. Obviously,
bolocat doesn't recover everything that was there - we removed a lot of
flux, so recovery fractions are in the few % range. However, bolocat
does a much better job than the simple filter at recovering positive
fluxes. Therefore, the filter function still isn't good enough.</p>
 </div>
        <!-- /.entry-content   not article.summary--> 
    </article></li>
    <hr width=100%>
    <li><article class="hentry">
        <header> 
            <h2 class="entry-title">
                <a href="https://keflavich.github.io/blog/star-forming-region-sh-2-233ir-i-deep-near-infrared-observations-toward-the-embedded-stellar-clusters.html" rel="bookmark" title="Permalink to Star-forming Region Sh 2-233IR. I. Deep Near-infrared Observations toward the Embedded Stellar Clusters">
                    Star-forming Region Sh 2-233IR. I. Deep Near-infrared Observations toward the Embedded Stellar Clusters</a>
            </h2> 
        </header>
        <footer class="post-info">
            <abbr class="published" title="2011-07-18T15:15:00-06:00"> 2011/07/18 </abbr>
            <!--<address class="vcard author"><a class="url fn" href="https://keflavich.github.io/blog/author/adam-keflavichgmailcom.html">Adam (keflavich@gmail.com)</a></address>-->
        </footer><!-- /.post-info -->
        <div class="entry-content"> <p>[ <a class="reference external" href="http://adsabs.harvard.edu/abs/2010ApJ...720....1Y">ADS</a> ] [ <a class="reference external" href="http://arxiv.org/abs/1107.2943">arXiv</a> ]</p>
<hr class="docutils" />
<p>My contributions to this paper were minor. Analysis of luminosity
functions in the IRAS 05358+3543 region have identified different aged
groups. The paper contributes to the picture of sequential (triggered?)
star formation in the S233-235 region in Auriga.</p>
 </div>
        <!-- /.entry-content   not article.summary--> 
    </article></li>
    <hr width=100%>
    <li><article class="hentry">
        <header> 
            <h2 class="entry-title">
                <a href="https://keflavich.github.io/blog/when-things-go-really-really-bad.html" rel="bookmark" title="Permalink to when things go really really bad">
                    when things go really really bad</a>
            </h2> 
        </header>
        <footer class="post-info">
            <abbr class="published" title="2011-07-17T23:30:00-06:00"> 2011/07/17 </abbr>
            <!--<address class="vcard author"><a class="url fn" href="https://keflavich.github.io/blog/author/adam-adamgginsburggmailcom.html">Adam (adam.g.ginsburg@gmail.com)</a></address>-->
        </footer><!-- /.post-info -->
        <div class="entry-content"> <img alt="" src="http://4.bp.blogspot.com/-YX2VAOPAHso/TiNwkZ3l1MI/AAAAAAAAGTs/JsOe6JIxpuQ/s320/whoatrippy.png" />
<p>that's all.</p>
 </div>
        <!-- /.entry-content   not article.summary--> 
    </article></li>
    <hr width=100%>
    <li><article class="hentry">
        <header> 
            <h2 class="entry-title">
                <a href="https://keflavich.github.io/blog/open-questions-im-trying-to-answer.html" rel="bookmark" title="Permalink to Open Questions I'm trying to answer">
                    Open Questions I'm trying to answer</a>
            </h2> 
        </header>
        <footer class="post-info">
            <abbr class="published" title="2011-07-17T22:58:00-06:00"> 2011/07/17 </abbr>
            <!--<address class="vcard author"><a class="url fn" href="https://keflavich.github.io/blog/author/adam-adamgginsburggmailcom.html">Adam (adam.g.ginsburg@gmail.com)</a></address>-->
        </footer><!-- /.post-info -->
        <div class="entry-content"> <p>I still haven't dealt with
<a class="reference external" href="http://bolocam.blogspot.com/2011/07/additional-problems.html">http://bolocam.blogspot.com/2011/07/additional-problems.html</a>, or
essentiall any of
<a class="reference external" href="http://bolocam.blogspot.com/2011/07/minor-ongoing-problems.html">http://bolocam.blogspot.com/2011/07/minor-ongoing-problems.html</a>.
However, they're probably related to this problem:
<tt class="docutils literal">% CLEAN_ITER_STRUCT: There were&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 1 bolometers with high weights:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 13.5047 indices:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 142 or flagged indices&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 142</tt>
which indicates that in a simulation in which there can be no outliers
(in terms of weight/scale), there is one being rejected as an outlier.
That indicates that weights are being computed incorrectly, despite the
fact that scales look right (so far):
<tt class="docutils literal">Relsens calibration: Scaled to bolometer #&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 0% RELSENS_CAL_PCA: There were&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 0 NAN scales and&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 0 very low scales% RELSENS_CAL_PCA: Scale Median/Mad:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span class="pre">1.0005510+/-</span>&nbsp;&nbsp;&nbsp;&nbsp; 0.010990833 led to&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 0 scales set to zero for a total of&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 0 bad bolos% RELSENS_CAL_PCA: Scales <span class="pre">avg+/-std</span> =&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span class="pre">1.0007304355062783+/-</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 0.0103252880998329Relsens calibration: Scaled to bolometer #&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 0% RELSENS_CAL_PCA: There were&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 0 NAN scales and&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 0 very low scales% RELSENS_CAL_PCA: Scale Median/Mad:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span class="pre">0.99955294+/-</span>&nbsp;&nbsp;&nbsp; 0.0093122063 led to&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 0 scales set to zero for a total of&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 0 bad bolos% RELSENS_CAL_PCA: Scales <span class="pre">avg+/-std</span> =&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span class="pre">0.9990063123041220+/-</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 0.0096663438876613</tt></p>
 </div>
        <!-- /.entry-content   not article.summary--> 
    </article></li>
    <hr width=100%>
    <li><article class="hentry">
        <header> 
            <h2 class="entry-title">
                <a href="https://keflavich.github.io/blog/fourier-transforms-are-not-commutative-or-distributive.html" rel="bookmark" title="Permalink to Fourier transforms are not commutative or distributive">
                    Fourier transforms are not commutative or distributive</a>
            </h2> 
        </header>
        <footer class="post-info">
            <abbr class="published" title="2011-07-15T20:09:00-06:00"> 2011/07/15 </abbr>
            <!--<address class="vcard author"><a class="url fn" href="https://keflavich.github.io/blog/author/adam-adamgginsburggmailcom.html">Adam (adam.g.ginsburg@gmail.com)</a></address>-->
        </footer><!-- /.post-info -->
        <div class="entry-content"> <p>Problem with yesterday's work:</p>
<pre class="literal-block">
A*B = IFT(FT(A)*FT(B))A*B - A*C != IFT(FT(A)*(FT(B)-FT(C)))
</pre>
<p>If instead of yesterday's &quot;bandpass filter&quot; you use the convolution -
convolution 'filter', the agreement in real space and most of fourier
space is much better:</p>
<img alt="" src="http://1.bp.blogspot.com/-dXT8RIHG6iI/TiCeMHu2bBI/AAAAAAAAGTc/NjQaTyJb4cc/s320/exp12_ds2_astrosky_arrang45_atmotest_amp5.0E%252B02_sky00_seed00_peak050.00_nosmooth_map20filtercompare.png" />
<img alt="" src="http://1.bp.blogspot.com/-m0DeYyvE0Xg/TiCeM6b_LOI/AAAAAAAAGTk/MwwIbLjhY4Q/s320/exp12_ds2_astrosky_arrang45_atmotest_amp5.0E%252B02_sky00_seed00_peak050.00_nosmooth_map20filterpsds.png" />
<p>though map20 clearly reproduces some structures better (higher) but is
overall less powerful than the filtered map.</p>
 </div>
        <!-- /.entry-content   not article.summary--> 
    </article></li>
    <hr width=100%>
    <li><article class="hentry">
        <header> 
            <h2 class="entry-title">
                <a href="https://keflavich.github.io/blog/testing-out-analytic-filter-functions.html" rel="bookmark" title="Permalink to Testing out analytic filter functions">
                    Testing out analytic filter functions</a>
            </h2> 
        </header>
        <footer class="post-info">
            <abbr class="published" title="2011-07-15T03:03:00-06:00"> 2011/07/15 </abbr>
            <!--<address class="vcard author"><a class="url fn" href="https://keflavich.github.io/blog/author/adam-adamgginsburggmailcom.html">Adam (adam.g.ginsburg@gmail.com)</a></address>-->
        </footer><!-- /.post-info -->
        <div class="entry-content"> <p>I've attempted to model the spatial filter function as a gaussian (or
PSF) plus an inverse gaussian. i.e., the high-spatial-frequency
components are smoothed with the PSF, and the low spatial frequency
components are convolved with a (1-gaussian) high-pass filter.
First, the mildly good news: With a 300&quot; FWHM large-scale cutoff, the
filter PSD reasonably resembles the iterative map PSD:</p>
<img alt="" src="http://3.bp.blogspot.com/-udANxY5rM98/Th-i7hx3qnI/AAAAAAAAGS0/kwoR30ZO5OI/s320/exp12_ds2_astrosky_arrang45_atmotest_amp5.0E%252B02_sky00_seed00_peak050.00_nosmooth_map20filterpsds.png" />
<p>Luckily, the double-filter goes a very long way in explaining the
scale-free flux loss. In the following diagram, I show the effect of the
filter compared to the input map.</p>
<img alt="" src="http://3.bp.blogspot.com/-iZtSoQjlzJY/Th-jf6oatlI/AAAAAAAAGS8/p8ZcznsKGpI/s320/exp12_ds2_astrosky_arrang45_atmotest_amp5.0E%252B02_sky00_seed00_peak050.00_nosmooth_filterpsds.png" />
<p>The filter only recovers about 75% of the flux at ANY wavenumber. The
map does slightly worse at high frequencies, which I can't explain yet.
These show the recovery fraction of the iterative maps, a gaussian
smoothing function with FWHM=33&quot;, and the mid-pass-filter. Map20 (no
smooth) has a lot of additional &quot;noise power&quot; at high spatial
frequencies; if it wasn't for the telescope filter function, we would
apparently have pretty good high-frequency recovery. Hmph.
Note that map20 is higher than the filter at some intermediate
frequencies, but quite a bit lower at higher frequencies. Also note the
moderately poor agreement between the 'smoothed' and 'smoothed (theory)'
lines.</p>
<img alt="" src="http://4.bp.blogspot.com/-zhxfyI_XDNY/Th-qZmsMZaI/AAAAAAAAGTE/550ocw2kFx8/s320/filterfunctions_smoothedx2.png" />
<p>Finally, look at the comparison between map20 and fiiltered. The
agreement is not bad for positive points; filtered is apparently
slightly higher but that can be adjusted. The problem: the filter forces
some structures that are negative or zero to be positive. For example,
look at the feature at 210,300 that is negative in Map20 but positive in
Filtered. In the real (input) map, this feature is lower than its
surroundings - it is legitimately negative.</p>
<img alt="" src="http://4.bp.blogspot.com/-zH98yuBL7lo/Th-tQIoKYCI/AAAAAAAAGTM/QNqslST6b2c/s320/exp12_ds2_astrosky_arrang45_atmotest_amp5.0E%252B02_sky00_seed00_peak050.00_nosmooth_map20filtercompare.png" />
<img alt="" src="http://2.bp.blogspot.com/-bvlju06_ySU/Th-ttpCOuhI/AAAAAAAAGTU/3zoCyl5gCIY/s320/exp12_ds2_astrosky_arrang45_atmotest_amp5.0E%252B02_sky00_seed00_peak050.00_nosmooth_filtercompare.png" />
 </div>
        <!-- /.entry-content   not article.summary--> 
    </article></li>
    <hr width=100%>
</ul><!-- /#posts-list -->
<p class="paginator">
            <a href="https://keflavich.github.io/blog/index32.html">&laquo;</a>
    Page 33 / 51
        <a href="https://keflavich.github.io/blog/index34.html">&raquo;</a>
</p>
</section><!-- /#content -->
  </div>

    <script type="text/javascript">
    var _gaq = _gaq || [];
    _gaq.push(['_setAccount', 'UA-37306139-1']);
    _gaq.push(['_trackPageview']);
    (function() {
        var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
        ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
        var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
    })();

    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
    (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
    m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-37306139-1');
    ga('send', 'pageview');
</script>
<script type="text/javascript">
  var disqus_shortname = 'adamginsburgsblog';
  (function() {
        var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
        dsq.src = 'http://' + disqus_shortname + '.disqus.com/embed.js';
        (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
   })();
</script>
</body>
</html>
